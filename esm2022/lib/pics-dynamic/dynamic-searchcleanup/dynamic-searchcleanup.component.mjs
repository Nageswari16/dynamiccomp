import { Location } from '@angular/common';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Component, EventEmitter, HostListener, Inject, Input, Optional, Output, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { MAT_DIALOG_DATA, MatDialog, MatDialogConfig } from '@angular/material/dialog';
import { select } from '@ngrx/store';
import { DxDataGridComponent } from 'devextreme-angular';
import CustomStore from 'devextreme/data/custom_store';
import { exportDataGrid as exportDataGridToPdf } from 'devextreme/pdf_exporter';
import * as jsPDF from 'jspdf';
import moment from 'moment/moment';
import { MultiSelect } from 'primeng/multiselect';
import es6printJS from 'print-js';
import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
import { AppConstants } from '../@core/constants/app-constants';
import { AlertService } from '../@core/service/alert.service';
import { AttachmentsService } from '../@core/service/attachments.service';
import { AuthService } from '../@core/service/auth.service';
import { DataStoreService } from '../@core/service/data-store.service';
import { DynamicTabPageService } from '../@core/service/dynamic-tab-page-service';
import { DynamicsearchService } from '../@core/service/dynamicsearch.service';
import { LocalService } from '../@core/service/local.service';
import { PageBuilderService } from '../@core/service/page-builder.service';
import { DynamicSearchURL } from '../@core/urls/dynamic-search-url.config';
import { DeleteComponent } from '../@shared/delete/delete.component';
import { publishEvent } from '../@shared/master-view-state/master-view.actions';
import { selectComponentConfigById, selectEvent } from '../@shared/master-view-state/master-view.selectors';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/formio.service";
import * as i4 from "../@core/local-storage/local-storage.service";
import * as i5 from "@ngrx/store";
import * as i6 from "../@core/service/platform-data-store.service";
import * as i7 from "../@core/service/shared.service";
import * as i8 from "../@core/service/ConfigService";
import * as i9 from "@angular/common";
import * as i10 from "@formio/angular";
import * as i11 from "../@shared/alert/alert.component";
import * as i12 from "@angular/material/button";
import * as i13 from "@angular/material/icon";
import * as i14 from "@angular/material/input";
import * as i15 from "@angular/material/form-field";
import * as i16 from "@angular/material/menu";
import * as i17 from "@angular/material/tooltip";
import * as i18 from "@angular/material/dialog";
import * as i19 from "devextreme-angular";
import * as i20 from "devextreme-angular/ui/nested";
import * as i21 from "devextreme-angular/core";
import * as i22 from "ng-dynamic-component";
import * as i23 from "primeng/accordion";
import * as i24 from "primeng/api";
import * as i25 from "primeng/dropdown";
import * as i26 from "primeng/inputtextarea";
const LOCAL_STORAGE_KEY = 'target-tab-filter';
const PAGE_MODIFY_ROUTE = '/pages/dynamicpage/page/modify/';
const FILE_EXPORT_NAME_KEY = 'FILE EXPORT NAME';
const GRID_URL = '/solution/dynamicsearch/searchinput/';
const ROLE_CP_PUBLIC = 'role=CP_PUBLIC';
const STORAGE_KEY_DYNAMIC_TAB_PAGES = 'dynamic-tab-pages';
const POPUP_TYPE_OPEN = 'Open PopUp';
const FILTER_ID_KEY = 'horizantal-tab-filter';
export class DynamicSearchCleanupComponent {
    router;
    route;
    cdref;
    fb;
    _formIO;
    storageService;
    formBuilder;
    store;
    _PlatformStoreservice;
    sharedService;
    configService;
    searchcriteriamenutrigger;
    dataGrid;
    editPopUpDialogRef;
    formId;
    jsonForm;
    sourceid;
    fromTitle;
    submittedData;
    tableColumns;
    totalcount;
    pageId;
    inputFieldId;
    inputId;
    url;
    dataSource;
    popupPosition;
    pageType;
    searchCriteria;
    searchCriteriaArr;
    layouttype = 'vertical';
    id;
    searchparams;
    targetId;
    columns;
    updateGrid;
    totalCount;
    dublicateGridConfig;
    columnHeader;
    spliterSize = 0;
    gridspliterSize = 100;
    isOpen = true;
    icon = '';
    openclose = '';
    user;
    isAddButton = false;
    pageSaveID = '';
    showFilterRowPanel;
    popupData;
    callDialogPopup;
    popupDialogRef;
    showActionColumn;
    editId;
    isDialogPopup;
    item;
    showGridPage = true;
    manualPostApiUrl;
    // #check moduleid
    moduleid;
    purpose;
    isShowFormPage = false;
    outerRouting = new EventEmitter();
    userAction;
    rowData;
    checkBoxesMode;
    gridType;
    showExport = false;
    dropdownValues;
    gridOptions;
    filterOptions;
    selectedFilter;
    filterForm;
    gridConfig;
    tempaConfig;
    reorderColumns;
    storage;
    dataStoreService;
    alertService;
    dialog;
    http;
    screenWidth;
    currentPageId;
    displayMode;
    isResize;
    isUserPreferenceChange;
    formIO;
    dynamicSearchService;
    dynamicTabPageService;
    sequenceId;
    columnWidth;
    uploadedFile;
    imageData;
    attachmentService;
    paramvalue;
    paramfield;
    tablefield;
    toTabId;
    uniquedata;
    pageList;
    isViewEnable;
    iconClass;
    titletab;
    header;
    openTab = false;
    selectedRowIndex;
    selectedColumnIndex;
    selectedCaption;
    selectedRowData;
    httpService;
    authService;
    localstore;
    pageBuilderService;
    location;
    filterOptionsDropdown;
    registrationInfo;
    checkGridConfig;
    gridDynamicSearchForm;
    dynamicSearchArray;
    dynamicSearch;
    tableDropDown;
    columnDropDown;
    dynamicSearchResult;
    criteriaId = 0;
    saveButtonDisable = true;
    associatedId;
    isBGP;
    youthSearchJson;
    youthSearchBoolean = false;
    isInitialLoad = true;
    isDeleteRequire = false;
    isDeleteTime = 15;
    enteredReason = '';
    isDisabled = true;
    DeleteConfigURL;
    updateByIdAndPageIdWithReasonURL;
    deleteConfigData;
    DeleteRevertConfigURL;
    deletedReason = '';
    primary_column = '';
    adminAccessForDelete;
    isConditionalEditDelete;
    pagename;
    sourceKey;
    sourceValue;
    sourceType;
    currentPageSize = 5;
    componentId;
    selectedComponent;
    componentConfig$;
    eventSubscription;
    deletePopupText = '';
    isEditThresholdRequire = false;
    DeleteGridList;
    DeleteGridListWithoutReason;
    ApproveDeleteGridList;
    DefaultDeletePopupTextAftThresholdTime = `You are requesting to remove a Youth's physical description. A notification will be sent to your Security Coordinator to review this request and remove the description if appropriate.
  Enter the reason for the removal request. The reason cannot contain more than 4000 characters.`;
    environment;
    businessRuleMessage;
    gridActionParams;
    allUrlParams;
    showMoreText = {};
    truncateTextValue;
    constructor(injector, router, route, cdref, fb, _formIO, storageService, formBuilder, store, _PlatformStoreservice, sharedService, configService, data) {
        this.router = router;
        this.route = route;
        this.cdref = cdref;
        this.fb = fb;
        this._formIO = _formIO;
        this.storageService = storageService;
        this.formBuilder = formBuilder;
        this.store = store;
        this._PlatformStoreservice = _PlatformStoreservice;
        this.sharedService = sharedService;
        this.configService = configService;
        this._PlatformStoreservice.currentStore.subscribe((res) => {
            if (res) {
                this.environment = res['RBACORG'];
                this.httpService = res['HTTPSERVICE'];
            }
        });
        this.pageBuilderService = injector.get(PageBuilderService);
        this.location = injector.get(Location);
        this.localstore = injector.get(LocalService);
        this.storage = injector.get(LocalService);
        this.dataStoreService = injector.get(DataStoreService);
        this.attachmentService = injector.get(AttachmentsService);
        this.alertService = injector.get(AlertService);
        this.dialog = injector.get(MatDialog);
        this.http = injector.get(HttpClient);
        this.dynamicSearchService = injector.get(DynamicsearchService);
        this.authService = injector.get(AuthService);
        this.user = this.storage.getObj('user');
        this.userAction = this.dataStoreService.getData('userAction');
        this.manualPostApiUrl = '';
        this.dynamicTabPageService = injector.get(DynamicTabPageService);
        this.isViewEnable = this.localstore.getObj('isViewEnable');
        if (data) {
            this.pageId = data.pageId ? data.pageId : this.pageId;
            this.inputFieldId = data.inputFieldId ? data.inputFieldId : this.inputFieldId;
            this.inputId = data.inputId ? data.inputId : this.inputId;
        }
        this.checkBoxesMode = 'always';
        this.gridOptions = [
            { label: 'Sorting', value: 'sort', code: '' },
            { label: 'Filtering', value: 'filter', code: '' },
            { label: 'Hide', value: 'hide', code: '' },
            { label: 'Fixed', value: 'fixed', code: '' },
            // { label: 'Default Columns', value: 'Choosable', code: '' },
            // { label: 'Visible', value: 'visible', code: '' },
            { label: 'Date', value: 'dateFormat', code: '' },
            { label: 'Mobile', value: 'mobileView', code: '' },
            { label: 'Tablet', value: 'tabView', code: '' }
        ];
        this.displayMode = 'compact';
        this.dataStoreService.setData('uploadFromGrid', false);
        this.titletab = JSON.parse(this.localstore.getItem('titletab'));
        this.header = JSON.parse(this.localstore.getItem(LOCAL_STORAGE_KEY));
        this.gridDynamicSearchForm = this.formBuilder.group({
            dynamicSearchArray: this.formBuilder.array([])
        });
    }
    ngAfterViewInit() {
        const observerConfig = { attributes: false, childList: true, subtree: true };
        function processNode(node, className, callback) {
            const elements = node.querySelectorAll(className);
            if (elements.length > 0) {
                elements.forEach(callback);
                return true;
            }
            return false;
        }
        const callback = (mutationsList, observer) => {
            for (const mutation of mutationsList) {
                if (mutation.type === 'childList' && mutation.addedNodes.length) {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1 && processNode(node, '.dx-checkbox-container', checkbox => {
                            checkbox.setAttribute('tabindex', '0');
                        })) {
                            observer.disconnect();
                        }
                    });
                }
            }
        };
        const observer = new MutationObserver(callback);
        observer.observe(document.body, observerConfig);
        const callback2 = (mutationsList, observer) => {
            mutationsList.forEach(mutation => {
                if (mutation.type === 'childList' && mutation.addedNodes.length) {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1) {
                            processNode(node, '.dx-checkbox-container', checkbox => {
                                checkbox.setAttribute('tabindex', '0');
                            });
                        }
                    });
                }
            });
        };
        const observer2 = new MutationObserver(callback2);
        observer2.observe(document.body, observerConfig);
        combineLatest([this.route.queryParams]).subscribe(([queryParams]) => {
            const responseId = queryParams['responseId'];
            if (this.route.snapshot.routeConfig.path.indexOf('view') > -1 && (this.route.snapshot.routeConfig.path.indexOf('master-view') === -1 || this.route.snapshot.routeConfig.path.indexOf('composite-page') === -1)) {
                this.gridType = 'view';
            }
            else {
                this.gridType = 'search';
            }
            this.tableColumns =
                this.tableColumns && typeof this.tableColumns === 'string' ? JSON.parse(this.tableColumns) : '';
            this.updateGrid = this.updateGrid && typeof this.updateGrid === 'string' ? JSON.parse(this.updateGrid) : '';
            this.formId = this.route.snapshot.paramMap.get('pageId')
                ? this.route.snapshot.paramMap.get('pageId')
                : this.pageId;
            this.inputFieldId = this.inputFieldId ? this.inputFieldId : null;
            this.dynamicSearchService.clickableData = this.inputFieldId;
            this.rowData = this.dynamicSearchService.rowData;
            if (this.route.snapshot.paramMap.get('pageSaveID')) {
                this.isAddButton = true;
            }
            else {
                this.isAddButton = false;
            }
            this.pageSaveID = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('pageSaveID'))?.snapshot.paramMap.get('pageSaveID');
            this.sourceKey = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceKey'))?.snapshot.paramMap.get('sourceKey');
            this.sourceValue = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceValue'))?.snapshot.paramMap.get('sourceValue');
            this.sourceType = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceType'))?.snapshot.paramMap.get('sourceType');
            this.moduleid = this.route.parent.parent.snapshot.paramMap.get('module');
            this.purpose = this.route.parent.parent.snapshot.paramMap.get('purpose');
            this.getTemplate(responseId);
            this.componentConfig$ = this.store.pipe(select(selectComponentConfigById(this.componentId)));
            this.componentConfig$.subscribe(data => this.selectedComponent = data);
            this.eventSubscription = this.store.pipe(select(selectEvent)).subscribe(event => {
                if (event && event.eventName === 'submit' && event.payload.settings.onSubmitRefresh
                    && event.payload.settings.onSubmitRefreshWidgets) {
                    event.payload.settings.onSubmitRefreshWidgets.forEach(x => {
                        if (x.pageType == 'BGP')
                            this.pageId = x.id;
                        this.getGrid();
                    });
                }
            });
        });
        /* Clear data while page navigation */
        this.dynamicSearchService.clickedRowData = null;
        this.screenWidth = window.innerWidth;
        const REGISTRATION = this.storageService.getItem('REGISTRATION');
        if (REGISTRATION) {
            this.registrationInfo = JSON.parse(REGISTRATION);
        }
        if (!Object.keys(this.allUrlParams)?.length) {
            this.route.pathFromRoot?.forEach(x => {
                x.params.subscribe(y => y && Object.keys(y).length ? Object.assign(this.allUrlParams, y) : null);
            });
        }
    }
    ngOnInit() {
        this.gridConfig = '';
        this.localstore.setItem('EditGridPageID', '');
        this.popupPosition = { of: window, at: 'top', my: 'top', offset: { y: 10 } };
        this.columns?.forEach(column => {
            if (column.visible === undefined || column.visible === "") {
                column.visible = true;
            }
        });
        if (this.dynamicSearchService?.clickedIdData === true) {
            this.dynamicSearchService.clickedIdData = false;
        }
        this.loadFilterForm();
        this.removeAllDynamicSearchCondtion();
        // this.localstore.removeItem(LOCAL_STORAGE_KEY)
        this.localstore.setItem('gridAction', '');
        this.truncateTextValue = this.configService.getValue(); // Get the value
    }
    loadFilterForm() {
        this.filterForm = this.fb.group({
            selectedFilter: ['']
        });
    }
    ngAfterContentChecked() {
        this.cdref.detectChanges();
    }
    redirect() {
        this.router.navigate([PAGE_MODIFY_ROUTE + this.pageSaveID]);
    }
    getTemplate(responseId) {
        this.removeAllDynamicSearchCondtion();
        this.dynamicSearchService.getTemplate(this.formId).subscribe(result => {
            if (result) {
                const gridPageInfo = {
                    id: this.formId,
                    name: result['data']['pagename']
                };
                this.isBGP = result['data']?.pageDetails?.pagetype;
                if (this.isBGP && this.isBGP == 'BGP') {
                    this.associatedId = result['data']?.pageid;
                }
                this.setTemplate(result['data']);
                this.isConditionalEditDelete = result['data']['isConditionalEditDelete'];
                this.currentPageId = result['data']['pageid'];
                this.sequenceId = result['data']['id'];
                this.storage.setItem('parentGridPage', JSON.stringify(gridPageInfo));
                this.getUserGridConfig();
                this.getGrid(responseId);
            }
        });
    }
    getPageTabs(_pageId, sourceType, sourceKey, sourceValue, _youthId, navigationState) {
        this.dynamicSearchService.getPageTabs(_pageId).subscribe((result) => {
            if (result) {
                const tabId = result.data[0].activeVersion.id;
                if (result.data[0].activeVersion.tabconfig) {
                    const parentGridPage = {
                        id: this.formId,
                        name: this.fromTitle
                    };
                    this.storage.setItem('backToGridPage', JSON.stringify(parentGridPage));
                    navigationState.isHideBack = true;
                    let url = '';
                    if (result.data[0].pagetype === 'RBTP') {
                        url = '/pages/dynamic-routing/tab/';
                    }
                    else {
                        url = '/pages/dynamicpage/tab/';
                    }
                    const dynamicTab = url + tabId + '/' + _youthId + '/' + sourceKey + '/' + sourceValue + '/' + sourceType;
                    this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
                }
                else {
                    this.routeToDynamicForms(result.data[0].pagetype, _pageId, _youthId, navigationState);
                }
            }
        });
    }
    routeToDynamicForms(type, _pageId, _youthId, navigationState) {
        if (type === 'ATPBDM') {
            if (window.location.href.indexOf('master-view') > 0 || window.location.href.indexOf('composite-page') > 0) {
                const dynamicTab = 'form/' + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
            else if (window.location.href.indexOf('tab') > 0) {
                const dynamicTab = '../../page/' + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
            else {
                const dynamicTab = PAGE_MODIFY_ROUTE + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
        }
    }
    setTemplate(result) {
        //Must Needed for Merge version of PICS
        this.searchparams = result;
        this.searchparams.gridconfig = typeof result?.gridconfig === 'string' ? JSON.parse(result?.gridconfig) : result?.gridconfig;
        this.searchparams.templatejson = typeof result?.templatejson === 'string' ? JSON.parse(result?.templatejson) : result?.templatejson;
        this.searchparams.tableschemaconfig = typeof result?.tableschemaconfig === 'string' ? JSON.parse(result?.tableschemaconfig) : result?.tableschemaconfig;
        this.setLayout(result);
        this.fromTitle = result.pagename;
        this.dataStoreService.setData('Tittle', this.fromTitle);
        this.pageType = result.pageDetails.pagetype ? result.pageDetails.pagetype.trim() : '';
        this.pageId = result && result.pageDetails ? result.pageDetails.id : null;
        if (this.pageType == 'DSP' || this.pageType == 'BUSP') {
            this.spliterSize = 30;
            this.gridspliterSize = 70;
        }
        this.setGrid(this.searchparams);
        this.targetId = this.searchparams?.gridconfig?.gridActionFormArray[0]?.link;
        this.tempaConfig = this.searchparams?.gridconfig;
        this.buildCriteria(result);
    }
    setGrid(result) {
        this.updateGrid = result.gridconfig;
        const filter = this.updateGrid?.gridConfigFormArray.filter(x => x.sort || x.filter);
        if (filter?.length > 0) {
            this.showFilterRowPanel = true;
        }
        if (this.updateGrid?.gridActionFormArray?.some(a => a.action != 'add')) {
            this.showActionColumn = true;
        }
        if (this.updateGrid?.isShowOnTop) {
            this.getOutsideGridAction(this.updateGrid?.gridActionFormArray?.find(a => a?.action?.toLowerCase() === 'add'));
        }
    }
    async getGrid(responseId) {
        this.storage.setObj(FILE_EXPORT_NAME_KEY, this.searchparams?.pagename);
        if (this.searchparams?.templatejson && !this.searchparams?.tableschemaconfig) {
            this.freeFormPageGrid(this.http, this.storage);
        }
        else {
            if (this.dynamicSearch && this.dynamicSearch.length > 0) {
                await this.getCriteriaByPageId();
                this.showGridPage = false;
            }
            else {
                this.showGridPage = true;
                this.removeAllDynamicSearchCondtion();
            }
            this.searchGrid(this.http, this.storage, responseId);
        }
    }
    setLayout(result) {
        if (result.templatejson) {
            this.jsonForm = typeof result.templatejson === 'string' ? JSON.parse(result.templatejson) : result.templatejson;
            this.fromTitle = this.jsonForm && this.jsonForm['page'] ? this.jsonForm['page'] : result.pagename;
            this.layouttype = 'left';
            this.layouttype = this.layouttype === 'left' ? 'horizontal' : 'vertical';
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_more';
                this.openclose = 'Close';
            }
            else {
                this.icon = 'arrow_left';
                this.openclose = 'Close';
            }
        }
    }
    onSubmit(submission) {
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        this.submittedData = submission;
        const data = {
            data: this.submittedData,
            pagedata: [this.searchparams]
        };
        const storagedata = this.storage;
        const http = this.http;
        const baseUrl = this.environment.apiHost;
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storagedata.getItem('jwt-token');
                const user = storagedata.getObj('user');
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'group'].forEach(function (i) {
                    if (i in loadOptions && isNotEmpty(loadOptions[i])) {
                        data[i] = loadOptions[i];
                    }
                    else {
                        delete data[i];
                    }
                });
                return http
                    .post(baseUrl + gridUrl, data, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user.userWorkInfo.organization.id}`,
                        rolekey: `${user.role.rolekey}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => ({
                    data: res.data,
                    totalCount: Number(res.totalCount.count)
                }))
                    .catch(_error => this.alertService.error('Data Loading Error'));
            }
        });
        function isNotEmpty(value) {
            return value !== undefined && value !== null && value !== '';
        }
    }
    afterSubmitted(_event) {
        this.showGridPage = true;
        this.getGrid();
        this.item = null;
        if (this.isShowFormPage) {
            this.getOutsideGridAction(this.updateGrid?.gridActionFormArray?.find(a => a?.action?.toLowerCase() === 'add'));
        }
    }
    saveSearchCriteria() {
        if (this.submittedData && this.submittedData.data) {
            this.submittedData.data['searchCriteria'] = this.searchCriteria;
            const body = {
                id: null,
                pageID: this.formId,
                sourceid: '',
                sourcetype: 'I',
                data: this.submittedData.data,
                metadata: this.submittedData.metadata,
                afterEntityName: '',
                afterRuleAppName: '',
                beforeEntityName: '',
                beforeRuleAppName: '',
                parentsourceid: null
            };
            this.dynamicSearchService.saveSearchCriteria(body).subscribe(result => {
                const response = result['data'];
                this.submittedData = response;
                this.id = response.id;
                this.alertService.success('Seach criteria Saved successfully');
            });
        }
        else {
            this.alertService.success('Please perform search in order to save your search criteria');
        }
    }
    setSearch(newd) {
        this.submittedData = { data: newd };
        this.onSubmit(this.submittedData);
    }
    reset(type) {
        this.submittedData = { data: {} };
        this.getExportData(this.submittedData, type);
    }
    getExportData(submission, type) {
        this.submittedData = submission;
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        const data = {
            inputFieldId: this.inputFieldId,
            pagedata: [this.searchparams],
            requireTotalCount: true,
            skip: 0,
            take: 5000
        };
        if (!data.inputFieldId) {
            data.inputFieldId = this.user?.userWorkInfo?.organization?.id;
        }
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        this.dynamicSearchService.exportData(data, gridUrl).subscribe(value => {
            if (value['data'].length) {
                this.downloadFile(type, value['data']);
            }
            else {
                this.alertService.error('No data available');
            }
        });
    }
    downloadFile(type, data) {
        const fileData = {
            data: data,
            totalcount: data.length,
            pagename: this.fromTitle,
            gridConfigFormArray: this.updateGrid?.gridConfigFormArray
        };
        const fileType = type === 'excel' ? true : false;
        this.dynamicSearchService.generateDocument(fileData, fileType).subscribe(result => {
            if (result) {
                const awsUrl = result['data'].awsUrl;
                this.alertService.success('Document Generated successfully.');
                if (type === 'print') {
                    // If type is print it will open browser print preview
                    es6printJS({ printable: awsUrl, type: 'pdf', showModal: true });
                    return;
                }
                window.open(awsUrl, '_blank');
            }
        }, error => {
            this.alertService.error(error.message);
        });
    }
    searchGrid(http, storage, responseId) {
        const outsideFormID = this.updateGrid?.gridActionFormArray
            ?.find(a => a?.action?.toLowerCase() === 'add')
            ?.link?.split('_sourceform')[0];
        const primary_table = this.searchparams.tableschemaconfig.tablefields.primary;
        const fallbackIdFromRoute = this.searchparams?.gridconfig?.fallbackIdFromRoute;
        console.log(primary_table.replace('_audit', '_id'), 'primary');
        let queryData;
        if (fallbackIdFromRoute) {
            const fallbackIdValue = this.router.url.split('/').pop();
            if (fallbackIdValue) {
                queryData = { data: {} };
                queryData.data[fallbackIdFromRoute] = Number(fallbackIdValue);
            }
        }
        else if (this.sourceKey && this.sourceValue && this.sourceType) {
            queryData = { data: {} };
            queryData.data[this.sourceKey] = (this.sourceType === 'number') ? Number(this.sourceValue) : this.sourceValue;
        }
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        const data = {
            data: this.submittedData,
            queryData: queryData,
            pagedata: [this.searchparams],
            inputFieldId: this.inputFieldId,
            inputId: this.inputId,
            requireTotalCount: true,
            restrict: true,
            associatedFormId: outsideFormID ? outsideFormID : this.associatedId.toString(),
            roleId: sessionStorage.getItem('role_id'),
            selectedValue: this.paramvalue,
            selectedField: this.paramfield,
            paginate: true,
            redirectFilterId: responseId
        };
        const baseUrl = this.environment.apiHost;
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        const ctrl = this;
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        const _this = this;
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storage.getItem('jwt-token');
                const user = storage.getObj('user');
                if (!user) {
                    // fix for user null immediately after login
                    return setTimeout(() => {
                        _this.searchGrid(http, storage);
                    }, 1000);
                }
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'pageconfig', 'group'].forEach(function (item) {
                    if (item in loadOptions && isNotEmpty(loadOptions[item])) {
                        data[item] = loadOptions[item];
                    }
                    else {
                        delete data[item];
                    }
                });
                data.requireTotalCount = true;
                return http
                    .post(baseUrl + gridUrl, data, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user?.userWorkInfo?.organization?.id ? user.userWorkInfo.organization.id : ''}`,
                        rolekey: `${user?.role?.rolekey ? user.role.rolekey : ''}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => {
                    this.primary_column = res.data?.result[0]?.primaryColumn;
                    for (let i = 0; i < res?.data?.data?.length; i++) {
                        for (const key in res?.data?.data[i]) {
                            if (res?.data?.data[i]?.[key]) {
                                const val = res?.data?.data[i]?.[key];
                                if ((typeof val === 'string' || val instanceof String) && val?.includes('[')) {
                                    res.data.data[i][key] = res.data.data[i][key].replace('[', '').replace(']', '').replaceAll('"', '');
                                }
                            }
                        }
                    }
                    ctrl.showGridPage = !((res?.data?.totalCount?.count === 0 || res?.data?.totalCount?.count === 1) &&
                        ctrl.updateGrid?.isInitialFormLoad);
                    this.isShowFormPage = ctrl.showGridPage;
                    if (!ctrl.showGridPage && ctrl.updateGrid?.gridActionFormArray && ctrl.updateGrid?.gridActionFormArray.length) {
                        const formInfo = ctrl.updateGrid?.gridActionFormArray.find(ele => ele.isOutsideGrid);
                        ctrl.item = {
                            component: DynamicSearchCleanupComponent,
                            pageId: formInfo?.link,
                            editId: res?.data?.data[0]?.id,
                            outputs: {
                                afterSubmit: event => ctrl.afterSubmitted(event)
                            },
                            isInitialFormLoad: ctrl.updateGrid?.isInitialFormLoad,
                            isShowOnTop: ctrl.updateGrid?.isShowOnTop
                        };
                    }
                    if (ctrl.showGridPage && ctrl.updateGrid?.isShowOnTop && ctrl.updateGrid?.gridActionFormArray && ctrl.updateGrid?.gridActionFormArray.length) {
                        const formInfo = ctrl.updateGrid?.gridActionFormArray.find(ele => ele.isOutsideGrid);
                        ctrl.item = {
                            component: DynamicSearchCleanupComponent,
                            pageId: formInfo?.link,
                            outputs: {
                                afterSubmit: event => ctrl.afterSubmitted(event)
                            },
                            isInitialFormLoad: ctrl.updateGrid?.isInitialFormLoad,
                            isShowOnTop: ctrl.updateGrid?.isShowOnTop
                        };
                    }
                    const dynamicSearchData = [];
                    const storedTabData = JSON.parse(JSON.parse(storage.getItem(STORAGE_KEY_DYNAMIC_TAB_PAGES)));
                    const arrresult = [];
                    const resultdata = res.data.result;
                    resultdata.map(n => {
                        n.row.map((c) => {
                            if (storedTabData != null) {
                                storedTabData.map((c1, index) => {
                                    if (index > 0 && c1.pfield == c.name) {
                                        const obj = Object.assign({}, c1);
                                        arrresult.push(obj);
                                    }
                                });
                            }
                        });
                    });
                    this.uniquedata = arrresult.filter((value, index, _array) => index == arrresult.findIndex(item => item.id == value.id));
                    res.data.result.map(n => {
                        const parentObj = {};
                        n.row.forEach((c) => {
                            let columnData = c.value;
                            const [tableName, columnName] = c.name.split('.');
                            columnData = typeof columnData === 'number' ? c.value.toString() : c.value;
                            if (parentObj[tableName]) {
                                parentObj[tableName][columnName] = columnData;
                            }
                            else {
                                parentObj[tableName] = {};
                                parentObj[tableName][columnName] = columnData;
                            }
                            parentObj['rbacConditions'] = n.rbacConditions;
                            parentObj['businessRules'] = n.businessRules ? n.businessRules : [];
                            parentObj['routedata'] = this.uniquedata;
                            parentObj['primaryColumn'] = n.primaryColumn;
                        });
                        dynamicSearchData.push(parentObj);
                    });
                    return {
                        data: dynamicSearchData,
                        totalCount: Number(res?.data.totalCount.count)
                    };
                })
                    .catch(_error => this.alertService.error('Failed to load data'));
            }
        });
        function isNotEmpty(value) {
            return value !== undefined && value !== null && value !== '';
        }
    }
    freeFormPageGrid(http, storage) {
        const data = {
            data: this.submittedData,
            pagedata: [this.searchparams],
            inputFieldId: this.inputFieldId,
            inputId: this.inputId,
            requireTotalCount: true,
            restrict: true,
            roleId: sessionStorage.getItem('role_id')
        };
        const gridActionFormArray = this.updateGrid.gridActionFormArray.map(a => ({
            ...a,
            link: String(this.searchparams.pageid)
        }));
        this.updateGrid = { ...this.updateGrid, gridActionFormArray };
        const baseUrl = this.environment.apiHost;
        const _this = this;
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storage.getItem('jwt-token');
                const user = storage.getObj('user');
                if (!user) {
                    return setTimeout(() => {
                        _this.freeFormPageGrid(http, storage);
                    }, 1000);
                }
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'pageconfig', 'group'].forEach(item => {
                    if (item in loadOptions && loadOptions[item].isNotEmpty()) {
                        data[item] = loadOptions[item];
                    }
                    else {
                        delete data[item];
                    }
                });
                const gridUrl = `/solution/formresponse/getByPageId/${_this.searchparams.pageid}`;
                return http
                    .get(baseUrl + gridUrl, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user?.userWorkInfo?.organization?.id ? user.userWorkInfo.organization.id : ''}`,
                        rolekey: `${user?.role?.rolekey ? user.role.rolekey : ''}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => {
                    const formResponses = res.data.pageResponses.map(a => ({
                        ...a.response,
                        id: a.id,
                        rbacConditions: a.rbacConditions
                    }));
                    const allowedResponseKeys = _this.searchparams.templatejson
                        .components.filter(a => a.key !== 'submit')
                        .map(b => b.key);
                    allowedResponseKeys.push('id', 'rbacConditions');
                    const filteredResponseKeys = formResponses.map(a => Object.keys(a)
                        .filter(key => allowedResponseKeys.includes(key))
                        .reduce((obj, key) => {
                        obj[key] = a[key];
                        return obj;
                    }, {}));
                    return {
                        data: filteredResponseKeys,
                        totalCount: Number(filteredResponseKeys.length)
                    };
                })
                    .catch(_error => this.alertService.error('Failed to load data'));
            }
        });
    }
    onClose() {
        if (this.isOpen) {
            this.spliterSize = 30;
            this.gridspliterSize = 70;
            this.isOpen = false;
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_more';
            }
            else {
                this.icon = 'arrow_left';
            }
            this.openclose = 'Close';
        }
        else {
            this.spliterSize = 0;
            this.gridspliterSize = 100;
            this.isOpen = true;
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_less';
            }
            else {
                this.icon = 'arrow_right';
            }
            this.openclose = 'Open';
        }
    }
    getRouter(data, _item) {
        this.selectedRowData = data;
        this.openTab = false;
        this.selectedRowIndex = data?.rowIndex;
        this.selectedColumnIndex = data?.columnIndex;
        this.selectedCaption = data?.column?.caption;
        const navigateState = {
            externalLink: true,
            isReadOnly: false,
            title: this.fromTitle
        };
        this.dataStoreService.setData('gridAction', null);
        this.dynamicSearchService.clickedIdData = null;
        this.dynamicSearchService.clickedRowData = null;
        let url;
        let datatype;
        this.updateGrid = typeof this.updateGrid === 'string' ? JSON.parse(this.updateGrid) : this.updateGrid;
        const gridArr = this.updateGrid?.gridConfigFormArray;
        const column = data.column.dataField;
        const tableschemaconfig = this.searchparams.tableschemaconfig;
        for (const key of gridArr) {
            if (key.columnDef === column) {
                url = key.link;
                const result = tableschemaconfig.fieldmapping.filter(x => (x.tablename + '.' + x.field) === key.columnDef);
                datatype = result[0].datatype;
                break;
            }
        }
        this.loadRouter(url, datatype, column, data, navigateState);
    }
    loadRouter(url, datatype, column, data, navigateState) {
        if (url) {
            this.dynamicSearchService.clickedRowData = data?.data;
            const URLSs = this.urlget(data, 'editUrl', '');
            this.dynamicSearchService.changePage(true);
            const dataKeys = Object.keys(data?.data);
            if (dataKeys.includes(URLSs)) {
                if (!data?.data[URLSs]) {
                    this.alertService.warn(data.displayValue + ' not generated properly!');
                }
                else {
                    const s3Url = data?.data[URLSs].includes('.com/') ? data?.data[URLSs].split('.com/')[1] : data?.data[URLSs];
                    this.downloadFileInternally(this.environment.s3BucketUrl + '/' + s3Url, data?.data['filename']);
                }
            }
            else {
                data.data.fromGrid = true;
                data.data.externalLink = true;
                this.dynamicSearchService.id.next(data.data[Object.keys(data.data)[0]].id);
                this.getPageTabs(url, datatype, column, data.data[column.split('.')[0]][column.split('.')[1]], data.data[Object.keys(data.data)[0]].id, navigateState);
            }
        }
    }
    editData(data) {
        const URLSs = this.urlget(data, 'editUrl', '');
        this.dynamicSearchService.id.next(data.data[Object.keys(data.data)[0]].id);
        this.router.navigateByUrl(URLSs);
    }
    viewData(data) {
        const URLSs = this.urlget(data, 'editUrl', '');
        this.router.navigateByUrl(URLSs);
    }
    deleteData(data) {
        const URLSs = this.urlget(data, 'deleteUrl', '');
        this.router.navigateByUrl(URLSs);
    }
    openLink(data) {
        const URLSs = this.urlget(data, 'externalLink', '');
        this.router.navigateByUrl(URLSs);
    }
    urlget(data, obj, pUrl) {
        let url = obj ? this.updateGrid[obj] : pUrl;
        if (url) {
            const urlparamArr = url.split('/');
            for (const key of urlparamArr) {
                if (key.indexOf('{') !== -1 && data.data) {
                    url = this.setURL(key, url, data);
                    url = this.setCurrentUrl(key, url);
                }
            }
            url = url.replace('/undefined', '');
            const urlparamArr1 = url.split('/');
            url = this.setUrlParam(urlparamArr1, url, data);
        }
        /* remove duplicate forward slashes from the URL */
        url = url.replace(/([^:]\/)\/+/g, '$1');
        return url;
    }
    setURL(key, url, data) {
        if (key === '{sourceId}') {
            const val = {
                sourceId: this.inputFieldId
            };
            return url.replace(key, val[key.substring(1, key.indexOf('}'))]);
        }
        else if (key === '{purpose}') {
            const val = {
                purpose: this.purpose
            };
            return url.replace(key, val[key.substring(1, key.indexOf('}'))]);
        }
        else {
            return url.replace(key, data.data[key.substring(1, key.indexOf('}'))]);
        }
    }
    setCurrentUrl(key, url) {
        if (this.router.url && key === '{pagepath}') {
            const currentURL = this.router.url.split('mergepage');
            if (currentURL?.length) {
                return url.replace('/pages/dynamicpage/', currentURL[0]);
            }
        }
    }
    setUrlParam(urlparamArr1, url, data) {
        for (const key of urlparamArr1) {
            if (key.indexOf('{') !== -1 && data.data) {
                return url.replace(key, data.data[key.substring(1, key.indexOf('}'))]);
            }
        }
    }
    // dynamic action link
    getInsideGridAction(data, item) {
        this.checkRulesBeforeActions(data, item).subscribe((allowed) => {
            if (!allowed) {
                return false;
            }
            this.getActionRoutes(data, item);
        });
    }
    getActionRoutes(data, item) {
        this.localstore.setItem('gridAction', item.action);
        /* Complexity-14*/
        if (item.action === 'search' || item.action === 'edit' || item.action === 'view' || item.action === 'select' || item.action === 'switch' || item.action === 'copy') {
            /* Complexity splitted function*/
            this.actionCheck(item, data);
        }
        else if (item.action === 'delete') {
            this.deleteConfirmation(data, item);
        }
        else if (item.action === 'complete') {
            this.completeConfirmation(data, item);
        }
        else if (item.action === 'narrative') {
            this.popup(data.data.narrative, item);
        }
        else if (item.action === 'history') {
            if (item.type === POPUP_TYPE_OPEN) {
                /* Complexity splitted function*/
                this.popupTypeCheck(item, data);
            }
        }
        else if (item.action === 'print') {
            /* Complexity splitted function*/
            this.actionPrintCheck(data);
        }
        else if (item.action === 'email') {
            /* Complexity splitted function*/
            this.actionEmailCheck(data);
        }
        else if (item.action === 'download') {
            /* Complexity splitted function*/
            this.actionDownloadCheck(item, data);
        }
        else if (item.action === 'TriggerScheduling') {
            this.startScheduling(data.data[Object.keys(data.data)[0]].id);
        }
        else if (item.action === 'Trigger') {
            this.startScheduling(data.data[Object.keys(data.data)[0]].id, item?.link);
        }
        else if (item.action === 'Survey') {
            this.actionSurveyCheck(data); /* Complexity splitted function*/
        }
        else if (item.action === 'info') {
            this.actionInfoCheck(data, item); /* Complexity splitted function*/
        }
        // else if (item.action === 'copy') {
        //   this.actionCheck(item, data); /* Complexity splitted function*/
        // }
    }
    actionCheck(item, data) {
        /* From getInsideGridAction() */
        const action = item.action;
        let editDataStatus = '';
        const gridConfig = this.searchparams?.gridconfig;
        const tableschemaconfig = this.searchparams?.tableschemaconfig;
        let viewPrimaryTable = '';
        if (tableschemaconfig.objectType == 'view') {
            const firstKey = Object.keys(data.data)[0];
            viewPrimaryTable = data.data[firstKey]['primary_object'];
        }
        if (this.isEditThresholdRequire || gridConfig?.isEditThresholdRequire) {
            this.isEditThresholdRequire = true;
        }
        if (item.action === 'edit') {
            this.localstore.setItem('EditGridPageID', this.pageId.toString());
        }
        if (item.action === 'edit' && this.isEditThresholdRequire) {
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.dynamicSearchService.checkEditStatus(this.pageId, primary_id).subscribe(result => {
                if (result['data'] && result['data'].length > 0 && result['data'][0]['status']) {
                    editDataStatus = result['data'][0]['status'];
                    this.editActionCheck(item, data, editDataStatus);
                }
                else {
                    this.alertService.error('Something went wrong');
                    this.getGrid();
                }
            }, _error => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
        else {
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                isReadOnly: false,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null,
                pageId: null
            };
            if (item.action === 'view') {
                navigateState.isReadOnly = true;
            }
            if (item.type === POPUP_TYPE_OPEN) {
                const dialogConfig = new MatDialogConfig();
                dialogConfig.disableClose = false;
                dialogConfig.height = '90%';
                dialogConfig.width = '100%';
                this.actionViewCheck(item, dialogConfig, data);
                const ref = this.dialog.open(DynamicSearchCleanupComponent, dialogConfig);
                ref.afterClosed().subscribe(() => {
                    this.getGrid();
                });
            }
            else {
                if (item.action === 'copytemp') {
                    const user = this.localstore.getObj('user');
                    console.log(data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                    console.log(Object.keys(data.data)[0]);
                    let pageId = '';
                    if (gridConfig?.gridActionFormArray.length) {
                        gridConfig?.gridActionFormArray.find(item => {
                            if (item?.action == 'add')
                                pageId = item?.link;
                        });
                    }
                    const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                        ? data.data?.[data.data.primaryColumn] || data.data?.ID
                        : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                    const requestData = {
                        // "id":data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn],
                        "id": respid,
                        "schema": tableschemaconfig.schema,
                        "tablename": tableschemaconfig.objectType !== 'view' ? Object.keys(data.data)[0] : viewPrimaryTable,
                        "currentUser": user?.id,
                        "pageId": pageId
                    };
                    this.dynamicSearchService.rowVersion(requestData).subscribe((res) => {
                        console.log(res);
                        const url = this.location.path();
                        this.router.navigate([url], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                        this.searchGrid(this.http, this.storage);
                        this.alertService.success('Row added successfully');
                        if (['master-view', 'composite-page'].includes(window.location.href))
                            if (this.selectedComponent) {
                                if ((this.selectedComponent?.loadedFromMasterView || this.selectedComponent?.loadedFromCompositePage) && this.selectedComponent.settings)
                                    this.store.dispatch(publishEvent({ eventName: 'submit', payload: this.selectedComponent }));
                            }
                    }, _error => {
                        this.alertService.error(_error.error.message);
                    });
                }
                //This Routes prioritzing composite-pages as first
                else if (this.router?.url.includes('master-view') || this.router?.url.includes('composite-page')) {
                    const url = this.router.url;
                    if (this.selectedComponent && (this.selectedComponent?.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                        this.selectedComponent.settings.mappingFormId)
                        this.store.dispatch(publishEvent({ eventName: item.action,
                            payload: { id: data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn], mappingFormId: this.selectedComponent.settings.mappingFormId } }));
                    else {
                        if (this.selectedComponent) {
                            this.localstore.setItem('compositeTitle', this.selectedComponent.settings.title);
                        }
                        this.localstore.setItem('setTabAction', item.action);
                        this.sharedService.sendMessage();
                        this.router.navigate([url + '/form/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                        //this.actionRouterConfig(data, item, navigateState);
                    }
                }
                //Below routing handles ribbon and single grid pages
                else if (this.router?.url.includes('dynamic-routing')) {
                    this.localstore.setItem('setTabAction', item.action);
                    this.sharedService.sendMessage();
                    let url;
                    if (item?.pageType == 'COMP') {
                        url = '../../../composite-page/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    else {
                        url = '../../../dynamicpage/page/modify/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                    // this.actionRouterConfig(data, item, navigateState);
                }
                else if (item.link.includes('pages/')) {
                    const link = item.link.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                    this.router.navigateByUrl('/' + link, { state: item });
                }
                else if (item.link.includes('mergepage')) {
                    let url = item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    if (item.link.includes('{sourceId}')) {
                        url = this.urlget(data, '', item.link);
                        url = url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
                else if (item.link.includes('sourceid')) {
                    const formId = item.link.split('_sourceid')[0];
                    const url = '/pages/dynamic-routing/' + data.data.sourceid + '/dynamicpage/page/modify/' + formId;
                    this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                else if (item.link.includes('_page')) {
                    // Transactions Page - edit routing changes
                    const formId = item.link.split('_page')[0];
                    const url = '/pages/dynamic-routing/' + data.data.clientaccountid + '/dynamicpage/page/modify/' + formId;
                    this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                else {
                    const pageid = item.link ? item.link : this.pageId;
                    const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                        ? data.data?.[data.data.primaryColumn] || data.data?.ID
                        : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                    const url = '/pages/dynamicpage/page/modify/' + pageid + '/' + respid;
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
            }
        }
    }
    editActionCheck(item, data, editDataStatus) {
        if (item.action === 'edit' && editDataStatus === 'OWNER_ONLY_EDIT') {
            this.alertService.warn('You do not have permission to edit this record. Only the owner who created the record can make changes.');
            this.getGrid();
        }
        else if (item.action === 'edit' && editDataStatus === 'NO_EDIT') {
            this.alertService.warn('The edit window for this record has expired and changes cannot be made at this time.');
            this.getGrid();
        }
        else {
            const action = item.action;
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                isReadOnly: false,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null,
                pageId: null
            };
            if (this.router?.url.includes('dynamic-routing')) {
                if (this.router?.url.includes('master-view') || this.router?.url.includes('composite-page')) {
                    const url = this.router.url;
                    if (this.selectedComponent && (this.selectedComponent.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                        this.selectedComponent.settings.mappingFormId)
                        this.store.dispatch(publishEvent({
                            eventName: item.action,
                            payload: { id: data.data[Object.keys(data.data)[0]].id, mappingFormId: this.selectedComponent.settings.mappingFormId }
                        }));
                    else {
                        this.router.navigate([url + '/form/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                    }
                }
                else {
                    const url = '../../../dynamicpage/page/modify/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                // this.actionRouterConfig(data, item, navigateState);
            }
            else if (item.link.includes('pages/')) {
                const link = item.link.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                this.router.navigateByUrl('/' + link, { state: item });
            }
            else if (item.link.includes('mergepage')) {
                let url = item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                if (item.link.includes('{sourceId}')) {
                    url = this.urlget(data, '', item.link);
                    url = url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                }
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else if (item.link.includes('sourceid')) {
                const formId = item.link.split('_sourceid')[0];
                const url = '/pages/dynamic-routing/' + data.data.sourceid + '/dynamicpage/page/modify/' + formId;
                this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                    relativeTo: this.route,
                    state: navigateState
                });
            }
            else if (item.link.includes('_page')) {
                // Transactions Page - edit routing changes
                const formId = item.link.split('_page')[0];
                const url = '/pages/dynamic-routing/' + data.data.clientaccountid + '/dynamicpage/page/modify/' + formId;
                this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                    relativeTo: this.route,
                    state: navigateState
                });
            }
            else if (item.action === 'copy') {
                console.log(data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                console.log(Object.keys(data.data)[0]);
                const requestData = {
                    "id": data.data[Object.keys(data.data)[0]]?.id,
                    "schema": "oya",
                    "tablename": Object.keys(data.data)[0],
                    "currentUser": 572
                };
                this.dynamicSearchService.rowVersion(requestData).subscribe((res) => {
                    console.log(res);
                    const url = this.location.path();
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                    this.searchGrid(this.http, this.storage);
                    this.alertService.success('Row added successfully');
                }, _error => {
                    this.alertService.error(_error.error.message);
                });
            }
            else {
                const pageid = item.link ? item.link : this.pageId;
                const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                    ? data.data?.[data.data.primaryColumn] || data.data?.ID
                    : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                const url = '/pages/dynamicpage/page/modify/' + pageid + '/' + respid;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
        }
    }
    actionViewCheck(item, dialogConfig, data) {
        /* From actionCheck()--> getInsideGridAction() */
        if (item.action === 'view') {
            dialogConfig.data = {
                editId: data.data[Object.keys(data.data)[0]].id,
                pageId: item.link,
                isPopup: true,
                isReadOnly: true
            };
        }
        else {
            dialogConfig.data = { editId: data.data[Object.keys(data.data)[0]].id, pageId: item.link, isPopup: true };
        }
    }
    actionRouterConfig(data, item, navigateState) {
        let url = this.router.url;
        if (this.outerRouting?.observers?.length) {
            data.item = item;
            this.dataStoreService.setData('outerRoutingData', data);
            this.outerRouting.emit(data);
        }
        else {
            if (item.link.includes('multipleform')) {
                url = url.split('mergepage')[0];
                const formId = item.link.split('_multipleform')[0];
                url = url + 'dynamicpage/page/modify/' + formId;
            }
            else if (item.link.includes('sourceform')) {
                // for child removal - edit/view routing change
                url = url.split('mergepage')[0];
                const formId = item.link.split('_sourceform')[0];
                url = url + 'page/modify/' + formId;
                if (item.link.split('_sourceform')[1] && item.link.split('_sourceform')[1].includes('_subtab_')) {
                    // External Portal - Staff with subtabs
                    const link = item.link.split('_sourceform')[1];
                    /* Get subtab name for url */
                    const subtab = link.split('_subtab_')[1];
                    url = subtab + '/' + url;
                    /* Disable back button */
                    navigateState.externalLink = false;
                    /* set default page title */
                    navigateState.title = '';
                    this.dynamicSearchService.changePage(true);
                }
            }
            else if (url.indexOf('master-view') > 0 || url.indexOf('composite-page') > 0) {
                url = url + '/form/' + item.link;
            }
            this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                relativeTo: this.route,
                state: navigateState
            });
        }
    }
    popupTypeCheck(item, data) {
        const srcid = this.route?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid')
            ? this.route?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid')
            : this.route?.parent?.parent?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid');
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = false;
        dialogConfig.height = '90%';
        dialogConfig.width = '100%';
        dialogConfig.data = { pageId: item.link, inputFieldId: data.key.id, inputId: srcid };
        const ref = this.dialog.open(DynamicSearchCleanupComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            this.getGrid();
        });
    }
    actionPrintCheck(data) {
        /* From getInsideGridAction()*/
        if (!data.data.s3bucketurl) {
            this.alertService.warn('No pdf found');
            return;
        }
        const pdfurl = this.environment.s3BucketUrl + '/' + data.data.s3bucketurl;
        es6printJS({ printable: pdfurl, type: 'pdf', showModal: true });
    }
    actionEmailCheck(data) {
        /* From getInsideGridAction()*/
        if (!data.data.email) {
            this.alertService.warn('Email is not available');
            return;
        }
        if (!data.data.s3bucketurl) {
            this.alertService.warn('No Attachment found');
            return;
        }
        // #check fromaddress is hardcoded
        this.dynamicSearchService
            .sendMail({
            subject: data.data.subject,
            content: `${data.data.content_body}<p>Thanks <br> ${this.user.firstName} ${this.user.lastName} <br>  ${this.user.role.description} </p>`,
            s3bucketkey: data.data.s3bucketurl,
            toadresses: [data.data.email],
            fromaddress: 'vmathew@dminc.com'
        })
            .subscribe(() => {
            this.alertService.success('Email Sent successfully');
        });
    }
    actionDownloadCheck(item, data) {
        /* From getInsideGridAction()*/
        if (item.type === 'Document Report Generation') {
            this.dataStoreService.setData('pageData', this.searchparams);
            this.dataStoreService.setData('gridData', data?.data);
            const dialogConfig = new MatDialogConfig();
            dialogConfig.disableClose = false;
            dialogConfig.height = '90%';
            dialogConfig.width = '100%';
            dialogConfig.data = { editId: data.data[Object.keys(data.data)[0]].id, pageId: item.link, isPopup: true };
            const ref = this.dialog.open(DynamicSearchCleanupComponent, dialogConfig);
            ref.afterClosed().subscribe(() => {
                this.getGrid();
            });
        }
    }
    actionSurveyCheck(data) {
        /* From getInsideGridAction()*/
        if (data.data.pagedataid) {
            data.data.isReadOnly = true;
        }
        this.router.navigateByUrl(PAGE_MODIFY_ROUTE +
            data.data[Object.keys(data.data)[0]].id +
            (data.data.pagedataid ? '/' + data.data.pagedataid : ''), { state: data.data });
    }
    getOutsideGridAction(item) {
        this.checkRulesBeforeActions({ pageData: this.allUrlParams }, item).subscribe((allowed) => {
            if (!allowed) {
                return false;
            }
            this.storage.setItem('AddAction', true);
            this.localstore.setItem('gridAction', item.action);
            const data = item;
            const action = item.action;
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null
            };
            // if (navigateState?.title) {
            //   sessionStorage.setItem('add-title', navigateState?.title);
            // }
            if (data.type == 'External Link') {
                this.getVersionList(item?.link, null, item);
            }
            else if (data.type == POPUP_TYPE_OPEN) {
                this.setDialogConfig(item);
            }
            else {
                if (this.router?.url.includes('dynamic-routing')) {
                    this.dynamicRouteCheck(data, item, navigateState);
                }
                else if (data.link.includes('mergepage')) {
                    const url = data.link;
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
                else {
                    this.navigateToGridPage(data, navigateState);
                }
            }
        });
    }
    dynamicRouteCheck(data, item, navigateState) {
        /* From getOutsideGridAction()*/
        let url = this.router.url;
        if (this.outerRouting?.observers?.length) {
            data.item = item;
            this.outerRouting.emit(data);
        }
        else {
            let link = data.link;
            if (data.link.includes('multipleform')) {
                url = url.split('mergepage')[0];
                const formId = data.link.split('_multipleform')[0];
                link = 'dynamicpage/page/modify/' + formId;
            }
            else if (data.link.includes('sourceform')) {
                // for interest transaction add
                url = url.split('mergepage')[0];
                const formId = data.link.split('_sourceform')[0];
                link = 'page/modify/' + formId;
                navigateState = this.setRouteData(data, link, navigateState);
                if (data.link.split('_sourceform')[1] && data.link.split('_sourceform')[1].includes('_subtab_')) {
                    // External Portal - Staff with subtabs
                    const subtabData = data.link.split('_sourceform')[1];
                    /* Get subtab name for url */
                    const subtab = subtabData.split('_subtab_')[1];
                    link = subtab + '/' + link;
                    /* Disable back button */
                    navigateState.externalLink = false;
                    /* set default page title */
                    navigateState.title = '';
                    this.dynamicSearchService.changePage(true);
                }
            }
            this.router.navigate([url + '/' + link], { relativeTo: this.route, state: navigateState });
        }
    }
    setRouteData(data, _link, navigateState) {
        if (data.link.split('_sourceform')[1] && data.link.split('_sourceform')[1].includes('_subtab_')) {
            // External Portal - Staff with subtabs
            // Get subtab name for url
            /* Disable back button */
            navigateState.externalLink = false;
            /* set default page title */
            navigateState.title = '';
            this.dynamicSearchService.changePage(true);
        }
        return navigateState;
    }
    navigateToGridPage(data, navigateState) {
        if (data.link.includes('pages/')) {
            if (data.link.includes('{organizationid}')) {
                const sourceid = this.user?.userWorkInfo?.organization?.id;
                const link = data.link.replace('{organizationid}', sourceid);
                const url = '/' + link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else {
                this.router.navigateByUrl('/' + data.link);
            }
        }
        else {
            if (window.location.href.indexOf('tab') > 0) {
                const url = '../../page/' + data.link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else {
                const url = PAGE_MODIFY_ROUTE + data.link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
        }
    }
    setDialogConfig(item) {
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = false;
        dialogConfig.height = '90%';
        dialogConfig.width = '100%';
        dialogConfig.data = { pageId: item.link, isPopup: true };
        const ref = this.dialog.open(DynamicSearchCleanupComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            // refresh grid
            this.getGrid();
        });
    }
    convertToISOFormat(dateString) {
        const date = new Date(dateString);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-based
        const day = String(date.getDate()).padStart(2, '0');
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');
        const seconds = String(date.getSeconds()).padStart(2, '0');
        const milliseconds = String(date.getMilliseconds()).padStart(3, '0');
        return `${year}-${month}-${day}T${hours}:${minutes}:${seconds}.${milliseconds}Z`;
    }
    addMinutes(dateString, minutes) {
        const date = new Date(dateString);
        date.setMinutes(date.getMinutes() + minutes);
        return date.toISOString();
    }
    getPrimaryColumnId(primaryColumn, data) {
        const firstKey = Object.keys(data.data)[0];
        return data.data[firstKey][primaryColumn];
    }
    getAsJSON(json) {
        return typeof json === 'string' ? JSON.parse(json) : json;
    }
    deleteConfirmation(data, item) {
        this.isDisabled = true;
        this.pagename = this.searchparams?.pagename;
        const gridConigForDeleteRequire = this.getAsJSON(this.searchparams?.gridconfig);
        const tableschemaconfig = this.getAsJSON(this.searchparams?.tableschemaconfig);
        let viewPrimaryTable = '';
        if (tableschemaconfig.objectType == 'view') {
            const firstKey = Object.keys(data.data)[0];
            viewPrimaryTable = data.data[firstKey]['primary_object'];
        }
        this.deletePopupText = gridConigForDeleteRequire?.isDeletePopupText;
        if (this.isDeleteRequire || gridConigForDeleteRequire?.isDeleteRequire) {
            this.isDeleteRequire = true;
        }
        if (this.isConditionalEditDelete !== 'true' || !this.isDeleteRequire) {
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.DeleteConfigURL = `${DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id)}/${this.pageId}?name=${viewPrimaryTable}`;
            this.popupDialogRef = this.dialog.open(this.DeleteGridListWithoutReason, {
                panelClass: 'delete-grid-without-reason'
            });
        }
        else {
            this.adminAccessForDelete = false;
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.DeleteConfigURL = `${DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id)}/${this.pageId}?name=${viewPrimaryTable}`;
            this.updateByIdAndPageIdWithReasonURL = `${DynamicSearchURL.EndPoints.formResponse.updateByIdAndPageIdWithReason.replace('{id}', primary_id)}/${this.pageId}?primarytable=${viewPrimaryTable}`;
            const tbName = this.gridConfig.highlightRow.tableName;
            this.deleteConfigData = {};
            this.deleteConfigData = { 'data': data.data[tbName] };
            this.dynamicSearchService.checkDeleteStatus(this.pageId, primary_id, viewPrimaryTable).subscribe(result => {
                if (result['data'] && result['data'].length > 0) {
                    if (result['data'][0]['status'] === 'DEL_PEND') {
                        // const infoDetails = data['data'].rbacConditions.filter(item => item.action == 'info');
                        // this.deletedReason = infoDetails[0]?.message;
                        this.deletedReason = result['data'][0]['popupText'];
                        this.popupDialogRef = this.dialog.open(this.ApproveDeleteGridList, {
                            panelClass: 'approve-delete-grid-list'
                        });
                    }
                    else if (result['data'][0]['status'] === 'DEL_ALLOW') {
                        this.popupDialogRef = this.dialog.open(this.DeleteGridListWithoutReason, {
                            panelClass: 'delete-grid-without-reason'
                        });
                    }
                    else if (result['data'][0]['status'] === 'DEL_REQ') {
                        this.popupDialogRef = this.dialog.open(this.DeleteGridList, {
                            panelClass: 'delete-drid-with-reason'
                        });
                    }
                    else {
                        this.alertService.error('Something went wrong');
                    }
                }
                else {
                    this.alertService.error('Something went wrong');
                }
            }, _error => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
        // const dialogConfig = new MatDialogConfig();
        // dialogConfig.disableClose = true;
        // dialogConfig.data = {
        //   action: 'delete',
        //   deleteId: this.pageId,
        //   message: 'Are you sure you want to delete?',
        //   url: DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]),
        //   portConfig: item.portConfig,
        //   successMsg: 'Record deleted Successfully'
        // };
        // const ref = this.dialog.open(DeleteComponent, dialogConfig);
        // ref.afterClosed().subscribe(() => {
        //   // refresh grid
        //   this.getGrid();
        // });
    }
    actionInfoCheck(data, item) {
        // const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
        // this.DeleteConfigURL = DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id);
        // this.deletedReason = item.message;
        // $('#ApproveDeleteGridList').modal('show');
    }
    deleteRecord() {
        this.httpService.delete(`${this.DeleteConfigURL}`).subscribe(_result => {
            this.alertService.success('Deleted Successfully');
            this.reloadPopup();
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    deleteRecordWithReason() {
        this.rowData = { ...this.deleteConfigData, 'reason': this.enteredReason, 'pageURL': this.router.url };
        this.httpService.post(`${this.updateByIdAndPageIdWithReasonURL}`, this.rowData).subscribe(_result1 => {
            this.reloadPopup();
            this.alertService.success('Delete Requested Successfully');
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    deleteRecordWithoutReason() {
        this.httpService.delete(`${this.DeleteConfigURL}`).subscribe(_result => {
            if (_result && _result['data'] === 'DEL_REQ') {
                this.alertService.error('Deletion Failed: The threshold time for deleting this record has expired.');
            }
            else if (_result && _result['data']) {
                if (window.location.href.includes('composite-page') || window.location.href.includes('master-view'))
                    if (this.selectedComponent) {
                        if ((this.selectedComponent?.loadedFromMasterView || this.selectedComponent?.loadedFromCompositePage) && this.selectedComponent.settings)
                            this.store.dispatch(publishEvent({ eventName: 'submit', payload: this.selectedComponent }));
                    }
                this.alertService.success('Deleted Successfully');
            }
            else {
                this.alertService.error('Something Went Wrong');
            }
            this.reloadPopup();
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    cancelPopup() {
        this.closeDialogPopup();
        this.enteredReason = '';
    }
    reloadPopup() {
        this.closeDialogPopup();
        this.getGrid();
        this.enteredReason = '';
    }
    checkIsDisabled(text) {
        if (text && text.trim() != '') {
            this.isDisabled = false;
            this.enteredReason = text;
        }
        else {
            this.isDisabled = true;
            this.enteredReason = text;
        }
    }
    completeConfirmation(data, _item) {
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = true;
        dialogConfig.data = {
            action: 'complete',
            deleteId: data.data[Object.keys(data.data)[0]].id,
            message: 'Are you sure you want to complete?',
            url: DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', data.data[Object.keys(data.data)[0]].id),
            portConfig: null,
            successMsg: 'Data completed Successfully',
            data: data.data
        };
        const ref = this.dialog.open(DeleteComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            this.getGrid();
        });
    }
    closePopup() {
        this.editPopUpDialogRef.close();
    }
    popup(data, action) {
        const table_name = this.searchparams.tableschemaconfig.tablelist[0];
        const tabdata = data;
        const value = tabdata ? tabdata[table_name] : '';
        this.targetPage(value, action);
        // } else {
        //   this.popupDialogRef = this.dialog.open(this.callDialogPopup);
        //   // tslint:disable-next-line: prefer-for-of
        //   this.popupData = data;
        // }
    }
    closeDialogPopup() {
        this.popupDialogRef.close();
    }
    showIcon(data) {
        if (data.data.timeleft) {
            if (data.data.timeleft.includes(' ')) {
                let timeleft = data.data.timeleft.split(' ');
                timeleft = timeleft[0];
                if (timeleft < 0) {
                    return true;
                }
            }
            else if (data.data.timeleft.includes(':')) {
                let timeleft = data.data.timeleft.split(':');
                timeleft = timeleft[0];
                if (timeleft < 0 || (timeleft == '-00' && timeleft.indexOf('-') != -1)) {
                    return true;
                }
            }
            else {
                return false;
            }
        }
        return false;
    }
    splitingData(data, splitter = ',') {
        if (data.data.narrative) {
            const detail = data.data.narrative;
            const div = document.createElement('div');
            div.innerHTML = detail;
            ///.join("<br/>")
            const finalString = div.innerText.split(splitter);
            for (let i = 0; i < finalString.length; i++) {
                finalString[i] = finalString[i].toLowerCase();
                finalString[i] = finalString[i][0].toUpperCase() + finalString[i].substring(1, 2);
            }
            return finalString.join('<br/>');
        }
        return '';
    }
    getTitleClass(title) {
        if (title) {
            return title.split(' ').join('').toLowerCase();
        }
        return '';
    }
    changeStatusColor(value) {
        if (value === 'Completed') {
            return 'completed';
        }
        else if (value === 'Draft') {
            return 'draft';
        }
        else if (value === 'Open') {
            return 'open';
        }
        else if (value === 'Closed') {
            return 'closed';
        }
        else if (value === 'Pending') {
            return 'pending';
        }
        else if (value === 'Pending Approval' || value === 'In-Progress') {
            return 'pending-approval';
        }
        else if (value === 'Approved' || value === 'Accepted - Screen In') {
            return 'approved';
        }
        else if (value === 'Return to Worker' || value === 'Returned') {
            return 'returned';
        }
        return '';
    }
    titleCaseToolTip(value) {
        return value[0].toUpperCase() + value.slice(1);
    }
    closeForm() {
        this.item = null;
    }
    downloadFileInternally(s3BucketUrlName, filename) {
        const a = document.createElement('a');
        a.href = s3BucketUrlName.trim();
        a.download = filename || 'download';
        a.click();
        a.remove();
    }
    /* for Grid Selection enable/disable */
    getGridSelection(item) {
        if (item === true) {
            return 'multiple';
        }
        return 'none';
    }
    startScheduling(id, url = null) {
        if (url) {
            this.dynamicSearchService.startScheduling({}, url.replace('{id}', id)).subscribe(() => {
                this.alertService.success('Report Triggered Successfully');
            }, _error => {
                this.alertService.success('Report Trigger failed. Try Again!');
            });
        }
        else {
            this.dynamicSearchService.startSchedulingNoUrl({}, id).subscribe(() => {
                this.alertService.success('Report Triggered Successfully');
            }, _error => {
                this.alertService.success('Report Trigger failed. Try Again!');
            });
        }
    }
    customSave = (state) => {
        for (const item in state) {
            if (item !== 'columns')
                delete state[item];
        }
        this.gridConfig.pageSize = this.dataGrid.instance.pageSize();
        const prevWidth = this.columnWidth;
        this.columnWidth = state;
        const validatePageId = this.sequenceId === Number(this.route.snapshot.paramMap.get('pageId'));
        const validate = JSON.stringify(prevWidth) === JSON.stringify(this.columnWidth);
        if (validatePageId) {
            if (state?.columns != undefined) {
                state.columns.forEach((stateColumn) => {
                    const configItem = this.gridConfig.gridConfigFormArray.find(c => c.columnDef === stateColumn.dataField && !c.hide);
                    if (configItem) {
                        configItem.width = stateColumn.width;
                        configItem.filterValues = stateColumn.filterValues;
                        configItem.sortOrder = stateColumn.sortOrder;
                        configItem.sortIndex = stateColumn.sortIndex;
                        configItem.visible = stateColumn.visible ?? true;
                        configItem.visibleIndex = stateColumn.visibleIndex;
                        configItem.filterValue = stateColumn.filterValue;
                        configItem.filterType = stateColumn.filterType;
                        configItem.selectedFilterOperation = stateColumn.selectedFilterOperation;
                    }
                });
                if (this.screenWidth > 1025) {
                    this.columns = this.gridConfig.gridConfigFormArray;
                }
                const body = {
                    type: 'PAGE',
                    mappedid: this.currentPageId,
                    config: JSON.stringify(this.gridConfig)
                };
                this.dynamicSearchService.saveGridUserPreference(body).subscribe(() => {
                    // This is intentional
                });
            }
            // const body = {
            //   type: 'PAGE',
            //   mappedid: this.currentPageId,
            //   config: JSON.stringify(this.gridConfig)
            // };
            // this.dynamicSearchService.saveGridUserPreference(body).subscribe(() => {
            //   // This is intentional
            // });
        }
    };
    columnChooserClick() {
        this.dataGrid.instance.showColumnChooser();
    }
    contentReady = e => {
        const componentInstance = e.component.instance();
        const currentColumns = componentInstance.option('columns');
        if (this.gridConfig && this.gridConfig.userPreferenceGridConfig) {
            if (this.gridConfig.pageSize) {
                this.currentPageSize = this.gridConfig.pageSize;
            }
            let changesMade = false;
            currentColumns.forEach((column, index) => {
                const configItem = this.gridConfig.userPreferenceGridConfig.find(c => c.columnDef === column.dataField);
                if (configItem) {
                    const targetVisibility = configItem.hide ? false : (configItem.visible === "" ? true : configItem.visible);
                    if (column.visible !== targetVisibility) {
                        changesMade = true;
                        currentColumns[index].visible = targetVisibility;
                    }
                    // Check and update the visibleIndex if different
                    if (column.visibleIndex !== configItem.visibleIndex) {
                        changesMade = true;
                        currentColumns[index].visibleIndex = configItem.visibleIndex;
                    }
                }
            });
            if (changesMade) {
                componentInstance.option('columns', currentColumns);
            }
            this.isInitialLoad = false;
            this.isResize = false;
            this.isUserPreferenceChange = false;
        }
    };
    getVisabilityByChoosableProp(chooser, visible) {
        if (chooser) {
            return visible;
        }
        else {
            return true;
        }
    }
    getSortOrder(defaultSortColumn, defaultSortType, columnDef) {
        if (defaultSortColumn && defaultSortType) {
            return defaultSortColumn === columnDef ? defaultSortType : '';
        }
        return '';
    }
    goBack() {
        this.location.back();
    }
    showGridActions(updateGrid, showActionColumn, gridType) {
        const gridActions = updateGrid?.gridActionFormArray
            ? updateGrid?.gridActionFormArray.filter(x => x.action?.toLowerCase() !== 'add')
            : [];
        const hiddenColumns = gridActions?.filter(a => a?.hide);
        return (gridActions.length > 0 &&
            showActionColumn &&
            gridType != 'view' &&
            hiddenColumns.length !== gridActions.length);
    }
    changeFilterOptions(e) {
        this.filterOptionsDropdown.close(e.originalEvent);
        this.isUserPreferenceChange = true;
        this.setPermissions(e.itemValue);
    }
    setPermissions(modal) {
        const [code, value] = modal.split('-');
        const isExist = this.gridConfig.gridConfigFormArray.filter(c => c.columnDef === code && !!c[value]);
        if (isExist.length === 0) {
            this.gridConfig.gridConfigFormArray.map((c) => {
                c[value] = c.columnDef === code ? true : c[value];
                if (c.columnDef === code) {
                    c?.selected?.push(value);
                }
                return c;
            });
        }
        else {
            this.setSelectedGridForm(code, value);
        }
        this.columns = this.gridConfig.gridConfigFormArray;
        this.updateUserGridConfig();
    }
    onResize() {
        const prevWidth = this.screenWidth;
        this.screenWidth = window.innerWidth;
        this.columns = this.gridConfig.gridConfigFormArray;
        if (this.screenWidth < 767) {
            const mobileColumns = this.gridConfig.gridConfigFormArray.filter(c => c.mobileView);
            this.checkOnresize(mobileColumns);
            // this.columns = this.gridConfig.gridConfigFormArray;
        }
        else if (this.screenWidth >= 768 && this.screenWidth < 990) {
            const tabColumns = this.gridConfig.gridConfigFormArray.filter(c => c.tabView);
            if (tabColumns.length) {
                this.columns = this.gridConfig.gridConfigFormArray.filter(x => x.tabView);
            }
            else {
                // const maxVisibleCount = 5;
                // const visibleCount = 0;
                this.columns = this.gridConfig.gridConfigFormArray.filter((t, i) => i < 3);
            }
            // this.columns = this.gridConfig.gridConfigFormArray;
        }
        else if (prevWidth && prevWidth !== this.screenWidth) {
            //to fix loading issue when changing from mobile to web/tab view
            this.columns = this.gridConfig.gridConfigFormArray;
            // this.columns = this.checkGridConfig;
            this.getUserGridConfig();
            // window.location.reload();
        }
    }
    checkOnresize(mobileColumns) {
        if (mobileColumns.length) {
            this.columns = this.gridConfig.gridConfigFormArray.filter(x => x.mobileView);
        }
        else {
            // const maxVisibleCount = 3;
            // const visibleCount = 0;
            this.columns = this.gridConfig.gridConfigFormArray.filter((m, i) => i < 3);
        }
    }
    setSelectedGridForm(code, value) {
        this.gridConfig.gridConfigFormArray.map(c => {
            c[value] = c.columnDef === code ? '' : c[value];
            if (c.columnDef === code && c.selected) {
                c.selected = c.selected.filter(s => s !== value);
                // c?.selected?.map((m, i) => {
                //   m === value && c.selected.splice(i, 1);
                // });
            }
            return c;
        });
    }
    updateUserGridConfig() {
        const body = {
            type: 'PAGE',
            mappedid: this.currentPageId,
            config: JSON.stringify(this.gridConfig)
        };
        if (this.screenWidth > 990) {
            this.dynamicSearchService.saveGridUserPreference(body).subscribe(_res => {
                this.getUserGridConfig();
            });
        }
    }
    getUserGridConfig() {
        this.dataGrid.instance.clearFilter();
        this.dynamicSearchService.getGridUserPreference(this.currentPageId).subscribe((res) => {
            if (res.data && res.data?.config) {
                const configArray = typeof res.data.config === "string" ? JSON.parse(res.data.config) : res.data.config;
                if (configArray && configArray.gridConfigFormArray) {
                    const userPreferenceGridConfig = this.applyUserPreference(this.tempaConfig.gridConfigFormArray, configArray.gridConfigFormArray);
                    configArray.userPreferenceGridConfig = userPreferenceGridConfig;
                    configArray.gridConfigFormArray = userPreferenceGridConfig;
                    this.gridConfig = configArray;
                    this.columnHeader = configArray.gridConfigFormArray.map(column => column?.header);
                    this.columns = configArray.gridConfigFormArray;
                    // this.checkGridConfig = configArray.gridConfigFormArray;
                    this.isDeleteRequire = configArray?.isDeleteRequire;
                    this.isEditThresholdRequire = configArray?.isEditThresholdRequire;
                    this.isDeleteTime = configArray?.isDeleteTime;
                    // const storedTabData = JSON.parse(JSON.parse(this.storage.getItem('dynamic-tab-pages')));
                    const storedTabData = JSON.parse(JSON.parse(this.storage.getItem(STORAGE_KEY_DYNAMIC_TAB_PAGES)));
                    storedTabData?.map(item => {
                        this.columns.map(item1 => {
                            if (item.pfield == item1.columnDef) {
                                item1.link = item.pfield;
                            }
                        });
                    });
                    this.columns.map(c => {
                        c?.selected?.map(s => Object.assign({ col_ref: `${c.columnDef}-${s}` }, c));
                    });
                    const options = [];
                    const arr = [];
                    configArray.gridConfigFormArray.map(a => {
                        options.push({
                            columnName: a.header,
                            items: this.gridOptions.map(p => ({
                                id: `${a.columnDef}-${p.value}`,
                                label: p.label,
                                value: p.value,
                                code: a.columnDef,
                                active: a[p.value] !== '' ? true : ''
                            }))
                        });
                        a?.selected?.map(r => arr.push(`${a.columnDef}-${r}`));
                    });
                    this.columnsFilteration();
                    this.onResize();
                    this.filterOptions = options;
                    this.filterForm?.patchValue({ selectedFilter: arr });
                }
                else {
                    this.patchMultipleOptions();
                }
            }
            else {
                this.patchMultipleOptions();
            }
        });
    }
    applyUserPreference(gridConfig, userPreferenceConfig) {
        const options = ['width', 'filterValues', 'sortOrder', 'sortIndex', 'visible', 'visibleIndex', 'filterValue', 'filterType', 'selectedFilterOperation'];
        for (const column of gridConfig) {
            const columnPreferences = userPreferenceConfig.find(preferenceColumn => preferenceColumn.columnDef === column.columnDef);
            if (columnPreferences) {
                for (const option of options) {
                    if (option === 'visibleIndex' && columnPreferences.hide) {
                        delete column[option];
                    }
                    else if (columnPreferences.hasOwnProperty(option)) {
                        column[option] = columnPreferences[option];
                    }
                }
            }
        }
        return this.assignVisibleIndexes(gridConfig);
    }
    assignVisibleIndexes(gridConfig) {
        const visibleColumns = gridConfig?.length && gridConfig?.filter(col => !col.hide)?.sort((a, b) => a.visibleIndex - b.visibleIndex) || [];
        const nonVisibleColumns = gridConfig?.length && gridConfig?.filter(col => col.hide || col?.visibleIndex < 0)?.sort((a, b) => a.visibleIndex - b.visibleIndex) || [];
        if (visibleColumns && visibleColumns.length) {
            for (const [index, column] of visibleColumns.entries()) {
                column.visibleIndex = index;
            }
        }
        if (nonVisibleColumns && nonVisibleColumns.length) {
            for (const [index, column] of nonVisibleColumns.entries()) {
                column.visibleIndex = visibleColumns?.length + (index + 1);
            }
        }
        return [...visibleColumns, ...nonVisibleColumns];
    }
    patchMultipleOptions() {
        if (this.tempaConfig && this.tempaConfig.gridConfigFormArray) {
            this.columnHeader = this.tempaConfig.gridConfigFormArray.map(column => column.header);
            this.gridConfig = this.tempaConfig;
            this.columns = this.tempaConfig.gridConfigFormArray;
            this.columns.map(c => {
                c?.selected?.map(s => Object.assign({ col_ref: `${c.columnDef}-${s}` }, c));
            });
            const options = [];
            const arr = [];
            this.tempaConfig.gridConfigFormArray.map(grid => {
                options.push({
                    columnName: grid.header,
                    items: this.gridOptions.map(p => ({
                        id: `${grid.columnDef}-${p.value}`,
                        label: p.label,
                        value: p.value,
                        code: grid.columnDef,
                        active: grid[p.value] !== '' ? true : ''
                    }))
                });
                grid?.selected?.map(r => arr.push(`${grid.columnDef}-${r}`));
            });
            this.columnsFilteration();
            this.onResize();
            this.filterOptions = options;
            this.filterForm.patchValue({ selectedFilter: arr });
        }
    }
    columnsFilteration() {
        this.columns = this.columns.map(x => {
            if (x['concatenate']) {
                const columnName = x.header.toLowerCase();
                const cName = columnName.replace(/ /g, '_');
                x.columnDef = `alias.${cName}`;
                return x;
            }
            else {
                return x;
            }
        });
    }
    customEvent(event) {
        this._formIO.customEvent(event, this.formIO);
    }
    onExporting(e) {
        const pageName = this.storage.getObj(FILE_EXPORT_NAME_KEY);
        const currentDate = moment().format('YYYY-MM-DD');
        let fileName;
        if (pageName) {
            fileName = `${pageName} ${currentDate}`;
        }
        else {
            fileName = `Data-Grid ${currentDate}`;
        }
        e.component.columnOption('Action', 'visible', false);
        if (e.format === 'pdf') {
            const doc = new jsPDF.jsPDF();
            exportDataGridToPdf({
                jsPDFDocument: doc,
                component: e.component,
                customizeCell: grid => {
                    grid.pdfCell.wordWrapEnabled = true;
                }
            }).then(() => {
                doc.save(`${fileName}.pdf`);
                e.component.columnOption('Action', 'visible', true);
            });
        }
        else if (e.format === 'xlsx') {
            e.fileName = fileName;
            setTimeout(() => {
                e.component.columnOption('Action', 'visible', true);
            }, 500);
        }
    }
    ngOnDestroy() {
        this.storage.removeItem(FILE_EXPORT_NAME_KEY);
        if (this.eventSubscription) {
            this.eventSubscription.unsubscribe();
        }
    }
    getTitle(c) {
        return c ? c : false;
    }
    onCellPrepared(e) {
        if (e.rowType == 'data' &&
            e.data.businessRules.length > 0 &&
            e.column.dataField === e.data.businessRules[0].name) {
            const element = e.cellElement;
            const rules = '<em class="RULES" aria-hidden="true"></em>'.replace('RULES', e.data.businessRules[0].style ? e.data.businessRules[0].style : '');
            const livetext = document.createElement('div');
            element.classList.add('business-group');
            livetext.classList.add('business-alert');
            livetext.classList.add('ml-2');
            livetext.innerHTML = rules;
            element.appendChild(livetext);
        }
    }
    toggleShowMore(value, columnDef) {
        const key = this.getToggleKey(value, columnDef);
        // Check if the length of the value exceeds 60
        if (value.length > this.truncateTextValue) {
            // If "Show More" is active, return the full value; otherwise, return the truncated value
            if (this.showMoreText[key]) {
                return value; // Show full value
            }
            else {
                return value.substring(0, this.truncateTextValue).trim() + '...'; // Truncate and add ellipsis
            }
        }
        return value;
    }
    toggleShowMoreState(value, columnDef) {
        const key = this.getToggleKey(value, columnDef);
        this.showMoreText[key] = !this.showMoreText[key];
    }
    getToggleKey(value, columnDef) {
        return `${value}_${columnDef}`;
    }
    onRowPrepared(e) {
        if (e.rowType == 'data' &&
            this.updateGrid?.highlightRow?.columnName &&
            this.updateGrid?.highlightRow?.columnName?.split('.').length &&
            e.data[this.updateGrid?.highlightRow?.columnName.split('.')[0]][this.updateGrid?.highlightRow?.columnName.split('.')[1]] == this.updateGrid?.highlightRow?.columnValue) {
            e.rowElement.style.backgroundColor = this.updateGrid?.highlightRow?.color;
            e.rowElement.className = e.rowElement.className.replace('dx-row-alt', '');
        }
    }
    onCellClick(e) {
        e?.data?.routedata.map(n => {
            if (n?.pfield == e?.column?.dataField) {
                this.paramvalue = e?.value;
                const [tableName] = n?.pfield.split('.');
                this.paramfield = n?.field;
                this.tablefield = tableName;
                this.toTabId = n?.id;
            }
        });
        if (this.toTabId) {
            this.dynamicTabPageService.getDynamicPage(this.toTabId).subscribe((res) => {
                if (res?.data.length > 0) {
                    const pageid = res?.data[0]?.activeVersion.id;
                    const currentURL = this.router.url;
                    const newurl = currentURL.replace(/[^/]*$/, '/' + pageid);
                    if (this.selectedCaption == 'action' || this.selectedCaption == 'Action') {
                        this.router.navigate([newurl]);
                    }
                    else {
                        const horizantalTabFilter = this.localstore.getItem(FILTER_ID_KEY);
                        if (horizantalTabFilter) {
                            this.localstore.removeItem(FILTER_ID_KEY);
                        }
                        this.localstore.setObj('HorizantalPageId', pageid);
                        this.localstore.setObj(FILTER_ID_KEY, {
                            id: this.paramvalue,
                            table: this.tablefield,
                            field: this.paramfield
                        });
                        this.openTab = true;
                    }
                    setTimeout(() => {
                        this.paramvalue = undefined;
                    }, 5000);
                }
            });
        }
    }
    // }
    async targetPage(value, targetValue) {
        const targetURLValue = targetValue?.link;
        if (this.localstore.getObj(LOCAL_STORAGE_KEY)) {
            this.localstore.removeItem(LOCAL_STORAGE_KEY);
        }
        await this.getVersionList(targetURLValue, value, targetValue);
    }
    async getVersionList(value, numericValue, action) {
        this.pageBuilderService.getVersionList(value).subscribe(res => {
            if (res.data && res.data.length) {
                this.localstore.setObj(FILE_EXPORT_NAME_KEY, res.data[0]?.pagename);
                this.pageList = res.data;
                this.totalcount = this.pageList.length ? this.pageList.length : 0;
                const filterTags = action;
                const filterValue = filterTags?.filterBy?.split('.');
                if (filterValue != '' && filterValue) {
                    const rowValue = numericValue[filterValue[1]];
                    this.localstore.setObj(LOCAL_STORAGE_KEY, { id: rowValue, table: filterValue[0], field: filterValue[1] });
                }
                if (this.pageList[0].tabconfig)
                    this.localstore.setObj(STORAGE_KEY_DYNAMIC_TAB_PAGES, this.pageList[0].tabconfig);
                this.localstore.setObj('titletab', numericValue);
                if (filterTags?.action == 'edit') {
                    this.localstore.setObj('editValue', numericValue);
                }
                else {
                    this.localstore.removeItem('editValue');
                }
                if (value) {
                    if (this.pageList[0]?.pageDetails?.pagetype == 'ATPBDM' || this.pageList[0]?.pageDetails?.pagetype == 'FFP') {
                        this.authService.setSharedMessage({ pageId: this.pageList[0].pageid });
                        if (this.selectedComponent && (this.selectedComponent.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                            this.selectedComponent.settings.mappingFormId)
                            this.store.dispatch(publishEvent({ eventName: action.action,
                                payload: { mappingFormId: this.selectedComponent.settings.mappingFormId } }));
                        else if (window.location.href.indexOf('master-view') > -1 || window.location.href.indexOf('composite-page') > -1) {
                            if (this.selectedComponent) {
                                this.localstore.setItem('compositeTitle', this.selectedComponent.settings.title);
                            }
                            this.localstore.setItem('setTabAction', action.action);
                            this.sharedService.sendMessage();
                            this.router.navigate(['form/', this.pageList[0].pageid], {
                                relativeTo: this.route
                            });
                        }
                        else {
                            this.localstore.setItem('setTabAction', action.action);
                            this.sharedService.sendMessage();
                            // this.router.navigate(['/pages/dynamicpage/page/modify/', this.pageList[0].pageid], {
                            this.router.navigate(['../../../dynamicpage/page/modify/', this.pageList[0].pageid], {
                                relativeTo: this.route
                            });
                        }
                    }
                    else {
                        this.router.navigate(['../../../dynamicpage/tab/', this.pageList[0].id], { relativeTo: this.route });
                    }
                }
            }
        });
    }
    toggleIconClass() {
        this.iconClass = 'fa fa-eye-slash';
        // }
    }
    uploadDocument(item, files) {
        this.uploadedFile = files.target.files[0];
        const pageID = this.formId ? this.formId : this.pageId;
        this.imageData = {
            contentType: this.uploadedFile.type,
            fileName: `ocr/${pageID}/${this.uploadedFile.name}`
        };
        this.attachmentService.uploadKey(this.imageData).subscribe((res) => {
            if (res.data) {
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putupload2(res.data, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((resp) => {
                    if (resp && resp.status == 200) {
                        const object = {
                            path: `ocr/${pageID}/${this.uploadedFile.name}`,
                            attachmenttype: this.uploadedFile.type
                        };
                        this.storage.setObj('OCRObj', JSON.stringify(object));
                        this.dataStoreService.setData('uploadFromGrid', true);
                        const navigateState = {
                            externalLink: true,
                            title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                            personId: null
                        };
                        const url = PAGE_MODIFY_ROUTE + item.link;
                        this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                    }
                    else {
                        this.alertService.error('Something Went Wrong!');
                    }
                }, error => {
                    if (error.status == 0)
                        this.alertService.error('Something Went Wrong!');
                });
            }
        });
    }
    getDateFormat(value) {
        if (this.registrationInfo) {
            if (value === 'date' && this.registrationInfo?.datetimeformat) {
                return this.registrationInfo['datetimeformat'].split(' ')[0];
            }
            return this.registrationInfo['datetimeformat'];
        }
        return 'MM/dd/yyyy';
    }
    buildCriteria(result) {
        if (!result)
            return;
        const tableschemaconfig = typeof result.tableschemaconfig === 'string' ? JSON.parse(result.tableschemaconfig) : result.tableschemaconfig;
        if (!tableschemaconfig)
            return;
        const fieldMapping = tableschemaconfig.fieldmapping;
        if (!fieldMapping)
            return;
        this.dynamicSearch = fieldMapping.filter(e => e.criteria);
        if (!this.dynamicSearch && !this.dynamicSearch.length)
            return;
        this.tableDropDown = [
            ...new Set(this.dynamicSearch.map(e => ({
                name: e.tablename,
                value: e.tablename
            })))
        ];
        this.tableDropDown = this.removeDupliacteArrayJson(this.tableDropDown);
        this.columnDropDown = this.dynamicSearch.map(e => {
            const value = `${e.tablename}.${e.field}`;
            return {
                name: e.label,
                value,
                dataType: e.datatype,
                tableName: e.tablename
            };
        });
    }
    removeDupliacteArrayJson(values) {
        const concatArray = values.map(eachValue => Object.values(eachValue).join(''));
        return values.filter((value, index) => concatArray.indexOf(concatArray[index]) === index);
    }
    initDynamicSearch() {
        return this.gridDynamicSearchForm.get('dynamicSearchArray');
    }
    addGridDynamicSearch() {
        this.initDynamicSearch().push(this.createDynamicSearch());
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (dynamicSearch.length > 0) {
            this.saveButtonDisable = false;
        }
        else {
            this.saveButtonDisable = true;
        }
    }
    createDynamicSearch() {
        return this.formBuilder.group({
            tableName: ['', Validators.required],
            columnName: ['', Validators.required],
            condition: ['', Validators.required],
            datatype: [''],
            value: ['', Validators.required],
            tableDropDown: [this.tableDropDown],
            columnDropDown: [this.columnDropDown],
            conditionDropdown: []
        });
    }
    buildDynamicSearch(res) {
        return this.formBuilder.group({
            tableName: res.tableName,
            columnName: res.columnName,
            condition: res.condition,
            datatype: res.datatype,
            value: res.value,
            tableDropDown: [res.tableDropDown],
            columnDropDown: [res.columnDropDown],
            conditionDropdown: [res.conditionDropdown]
        });
    }
    removeDynamicSearch(index) {
        this.initDynamicSearch().removeAt(index);
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (dynamicSearch.length > 0) {
            this.saveButtonDisable = false;
        }
        else {
            this.saveButtonDisable = true;
        }
        // dynamicSearch = dynamicSearch.filter(e => e.value && e.value.trim());
        // const saveDynamicSearch = {
        //   pageId: +this.formId,
        //   criteriaId: +this.criteriaId,
        //   dynamicSearchArray: dynamicSearch
        // };
        // this.dynamicSearchService.saveCriteriaByPageId(saveDynamicSearch).subscribe(result => {
        //   const response = result['data'];
        //   this.criteriaId = response.criteriaId;
        //   this.alertService.success('Criteria deleted successfully');
        // });
    }
    resetDynamicSearch() {
        this.initDynamicSearch().clear();
        this.dynamicSearchResult = [];
        this.saveButtonDisable = true;
        this.dataSource = {
            data: [],
            totalCount: 0
        };
        this.showGridPage = false;
        this.youthSearchJson = [];
        // this.searchGrid(this.http, this.storage);
    }
    getColumnList(index, tableValue) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        getCurrentRow.get('columnDropDown').patchValue([]);
        const columnArray = this.dynamicSearch
            .filter(e => e.tablename === tableValue)
            .map(e => {
            const value = `${e.tablename}.${e.field}`;
            return {
                name: e.label,
                value,
                dataType: e.datatype
            };
        });
        getCurrentRow.get('columnDropDown').patchValue(columnArray);
    }
    getConditionList(index, columnValue) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        const columnDropDown = getCurrentRow.get('columnDropDown').value;
        const columnDropDownJson = columnDropDown.find(e => e.value === columnValue);
        const columnDataType = columnDropDownJson.dataType;
        const columnTableName = columnDropDownJson.tableName;
        getCurrentRow.get('conditionDropdown').patchValue([]);
        getCurrentRow.get('datatype').patchValue(columnDataType);
        getCurrentRow.get('tableName').patchValue(columnTableName);
        // getCurrentRow.get('conditionDropdown').patchValue([
        //   {
        //     name: 'Equal To',
        //     value: 'Equal_To'
        //   },
        //   {
        //     name: 'Like',
        //     value: 'Like'
        //   }
        // ]);
        if (columnDataType === 'textfield' || columnDataType === 'textarea') {
            getCurrentRow.get('conditionDropdown').patchValue([
                {
                    name: 'Equal To',
                    value: 'Equal_To'
                },
                {
                    name: 'Like',
                    value: 'Like'
                }
            ]);
        }
        else {
            getCurrentRow.get('conditionDropdown').patchValue([
                {
                    name: 'Equal To',
                    value: 'Equal_To'
                }
            ]);
        }
    }
    resetDynamicSearchValue(index) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        getCurrentRow.get('value').patchValue('');
    }
    trimSpaces(element) {
        const getElement = element.controls['value'];
        const getValue = getElement.value.trim();
        getElement.setValue(getValue);
        if (!getValue.length) {
            getElement.touched = true;
            getElement.errors = true;
            /* Remove this redundant jump */
            // return;
        }
    }
    submitDynamicSearch() {
        if (!this.gridDynamicSearchForm.valid) {
            this.gridDynamicSearchForm.markAllAsTouched();
            return;
        }
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        for (let index = 0; index < dynamicSearch.length; index++) {
            const dynamicSearchElement = dynamicSearch[index];
            if (!dynamicSearchElement || !dynamicSearchElement.value.trim()) {
                this.gridDynamicSearchForm.markAllAsTouched();
                return;
            }
        }
        this.showGridPage = true;
        this.dynamicSearchResult = dynamicSearch;
        this.searchGrid(this.http, this.storage);
    }
    saveDynamicSearch() {
        if (!this.gridDynamicSearchForm.valid) {
            this.gridDynamicSearchForm.markAllAsTouched();
            return;
        }
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (!dynamicSearch.length) {
            this.alertService.error('Cannot save empty criteria');
            return;
        }
        for (let index = 0; index < dynamicSearch.length; index++) {
            const dynamicSearchElement = dynamicSearch[index];
            if (!dynamicSearchElement || !dynamicSearchElement.value.trim()) {
                this.gridDynamicSearchForm.markAllAsTouched();
                return;
            }
        }
        const saveDynamicSearch = {
            pageId: +this.formId,
            criteriaId: +this.criteriaId,
            dynamicSearchArray: dynamicSearch
        };
        this.dynamicSearchService.saveCriteriaByPageId(saveDynamicSearch).subscribe(result => {
            const response = result['data'];
            this.criteriaId = response.criteriaId;
            this.alertService.success('Criteria save successfully');
        });
    }
    getCriteriaByPageId() {
        return new Promise((resolve, _rejects) => {
            const pageId = this.formId;
            this.dynamicSearchService.getCriteriaByPageId(pageId).subscribe(result => {
                const response = result['data'];
                if (response && response.length > 0) {
                    const lastIndex = response.length - 1;
                    const lastResponse = response[lastIndex];
                    this.criteriaId = lastResponse.id;
                    let lastDynamicSearchArray = [];
                    if (lastResponse.dynamicSearchArray?.length) {
                        this.saveButtonDisable = false;
                        lastDynamicSearchArray = lastResponse.dynamicSearchArray;
                        lastDynamicSearchArray.forEach(element => {
                            this.initDynamicSearch().push(this.buildDynamicSearch(element));
                        });
                    }
                    this.dynamicSearchResult = lastDynamicSearchArray;
                }
                return resolve({});
            });
        });
    }
    removeAllDynamicSearchCondtion() {
        this.criteriaId = 0;
        this.initDynamicSearch().clear();
        this.saveButtonDisable = true;
        this.dynamicSearchResult = [];
        this.dynamicSearch = [];
        this.youthSearchJson = [];
        this.youthSearchBoolean = false;
    }
    checkRulesBeforeActions(data, item) {
        const pageData = {
            pageid: this.pageId,
            action: item.action,
            pageData: data?.pageData,
            currentUser: this.user,
            primary: data?.data?.primaryColumn,
            rowData: data?.data,
            gridaction: item
        };
        return this.dynamicSearchService.checkRulesInWorkflow(pageData).pipe(map((result) => {
            if (result.data) {
                if (result.data.type === 'VALIDATION') {
                    if (result.data.permission === 'ALLOWED') {
                        return true;
                    }
                    else if (result.data.permission === 'CONFIRMATION') {
                        this.businessRuleMessage = result.data?.message;
                        this.gridActionParams = { data, item };
                        $('#confirmGridAction').modal('show');
                        return false;
                    }
                    else if (result.data.permission === 'DENIED') {
                        this.alertService.error(result.data.message);
                        return false;
                    }
                }
                else if (result.data.type === 'REDIRECTION') {
                    if (result.data.route) {
                        this.router.navigateByUrl(result.data.route);
                        return false;
                    }
                }
            }
            return true;
        }));
    }
    confirmGridAction() {
        this.getActionRoutes(this.gridActionParams.data, this.gridActionParams.item);
    }
    static fac = i0.ngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicSearchCleanupComponent, deps: [{ token: i0.Injector }, { token: i1.Router }, { token: i1.ActivatedRoute }, { token: i0.ChangeDetectorRef }, { token: i2.UntypedFormBuilder }, { token: i3.FormioService }, { token: i4.LocalStorageService }, { token: i2.UntypedFormBuilder }, { token: i5.Store }, { token: i6.PlatformDataStoreService }, { token: i7.SharedService }, { token: i8.ConfigService }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.FactoryTarget.Component });
    static cmp = i0.ngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: DynamicSearchCleanupComponent, selector: "app-dynamic-searchcleanup", inputs: { formId: "formId", pageId: "pageId", componentId: "componentId" }, outputs: { outerRouting: "outerRouting" }, host: { listeners: { "window:resize": "onResize($event)" } }, viewQueries: [{ propertyName: "searchcriteriamenutrigger", first: true, predicate: ["searchcriteriamenutrigger"], descendants: true }, { propertyName: "dataGrid", first: true, predicate: DxDataGridComponent, descendants: true }, { propertyName: "callDialogPopup", first: true, predicate: ["callDialogPopup"], descendants: true }, { propertyName: "formIO", first: true, predicate: ["formIO"], descendants: true }, { propertyName: "filterOptionsDropdown", first: true, predicate: MultiSelect, descendants: true }, { propertyName: "DeleteGridList", first: true, predicate: ["DeleteGridList"], descendants: true }, { propertyName: "DeleteGridListWithoutReason", first: true, predicate: ["DeleteGridListWithoutReason"], descendants: true }, { propertyName: "ApproveDeleteGridList", first: true, predicate: ["ApproveDeleteGridList"], descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div [class]=\"userAction === 'view' ? 'readOnlyCard' : ''\">\r\n  <div *ngIf=\"header\">\r\n    <table class=\"table table-bordered\" aria-describedby=\"border\">\r\n      <thead>\r\n        <tr>\r\n          <th *ngFor=\"let item of titletab | keyvalue\">{{ item.key }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td *ngFor=\"let item of titletab | keyvalue\">{{ item.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <p-accordion class=\"w-full dynamic-search\" [activeIndex]=\"1\" iconPos=\"endVal\"\r\n    *ngIf=\"dynamicSearch && dynamicSearch.length > 0\">\r\n    <p-accordionTab>\r\n      <ng-template pTemplate=\"header\">\r\n        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n          <span class=\"font-bold\">Quick Search</span>\r\n        </span>\r\n      </ng-template>\r\n      <div class=\"d-flex my-2 row\">\r\n        <div class=\"col-12 text-md-right\">\r\n          <button type=\"button\" title=\"Add New\" pripple class=\"p-ripple p-element btn btn-primary btn-icon\"\r\n            (click)=\"addGridDynamicSearch()\">\r\n            <em class=\"pi pi-plus font-weight-bold\"></em>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]=\"gridDynamicSearchForm\">\r\n        <ng-container formArrayName=\"dynamicSearchArray\">\r\n          <div *ngFor=\"let dynamicSearchItem of initDynamicSearch().controls; let dynamicSearchIndex = index\"\r\n            [formGroupName]=\"dynamicSearchIndex\">\r\n            <div class=\"row rbac-card\">\r\n              <div class=\"col-md-11 col-12 pr-0\">\r\n                <div class=\"row\">\r\n                  <!-- <div class=\"col-lg-3 col-md-6 col-12 mb-3\"> -->\r\n                  <!--   <label class=\"referral-form-labels\" for=\"tableList\">Table</label> -->\r\n                  <!--   <p-dropdown -->\r\n                  <!--     [options]=\"dynamicSearchItem.get('tableDropDown')?.value\" -->\r\n                  <!--     optionLabel=\"name\" -->\r\n                  <!--     optionValue=\"value\" -->\r\n                  <!--     id=\"tableList_{{ dynamicSearchIndex }}\" -->\r\n                  <!--     placeholder=\"Select Table\" -->\r\n                  <!--     formControlName=\"tableName\" -->\r\n                  <!--     tabindex=\"0\" -->\r\n                  <!--     styleClass=\"w-100\" -->\r\n                  <!--     (onChange)=\"getColumnList(dynamicSearchIndex, dynamicSearchItem.get('tableName')?.value)\"> -->\r\n                  <!--   </p-dropdown> -->\r\n                  <!--   <span -->\r\n                  <!--     class=\"text-danger error-text\" -->\r\n                  <!--     *ngIf=\" -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.hasError('required') && -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.touched -->\r\n                  <!--     \" -->\r\n                  <!--     >Please Select Table Name</span -->\r\n                  <!--   > -->\r\n                  <!-- </div> -->\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"columnList\">Column <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('columnDropDown')?.value\"\r\n                      id=\"columnList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Column\" formControlName=\"columnName\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"getConditionList(dynamicSearchIndex, dynamicSearchItem.get('columnName')?.value)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('columnName')?.hasError('required') &&\r\n                        dynamicSearchItem.get('columnName')?.touched\r\n                      \">Please Select Column Name</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"conditionList\">Condition <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('conditionDropdown')?.value\"\r\n                      id=\"conditionList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Condition\" formControlName=\"condition\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"resetDynamicSearchValue(dynamicSearchIndex)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('condition')?.hasError('required') &&\r\n                        dynamicSearchItem.get('condition')?.touched\r\n                      \">Please Select Condition</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"valueList\">Value <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <input type=\"text\" class=\"p-inputtext w-100\" id=\"valueList\" formControlName=\"value\"\r\n                      placeholder=\"\" />\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('value')?.hasError('required') && dynamicSearchItem.get('value')?.touched\r\n                      \">Please Fill Value</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                    <span class=\"material-symbols-outlined text-danger delete-icon\" role=\"button\"\r\n                      id=\"deleteDynamicSearch\" (click)=\"removeDynamicSearch(dynamicSearchIndex)\"\r\n                      title=\"Delete\">delete</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                class=\"col-md-1 col-12 mb-3 text-md-center d-md-flex align-items-md-center justify-content-md-center flex-column\">\r\n                <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                <span class=\"material-symbols-outlined text-danger\" role=\"button\" id=\"deleteDynamicSearch\"\r\n                  (click)=\"removeDynamicSearch(dynamicSearchIndex)\" title=\"Delete\">delete</span>\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"removeDynamicSearch()\">Delete</button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex flex-column align-self-end\">\r\n            <div class=\"col-md-12 text-md-right mt-2\">\r\n              <!-- <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"saveDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">\r\n                Save\r\n              </button> -->\r\n              <button type=\"button\" class=\"btn btn-cancel\" (click)=\"resetDynamicSearch()\">Clear</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">Search</button>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n    </p-accordionTab>\r\n  </p-accordion>\r\n  <div class=\"page-wrp mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <!-- <div *ngIf=\"true\">\r\n          <div class=\"d-flex\" [formGroup]=\"filterForm\" *ngIf=\"gridType !== 'view'\">\r\n            <div class=\"col-md-12\">\r\n              <p-multiSelect [options]=\"filterOptions\" styleClass=\"filterOptions\" [group]=\"true\"\r\n                selectedItemsLabel=\"{0} items selected\" defaultLabel=\"Select\" optionLabel=\"label\" optionValue=\"id\"\r\n                id=\"filteroptions\" ariaFilterLabel=\"searchbox\" formControlName=\"selectedFilter\"\r\n                (onChange)=\"changeFilterOptions($event)\">\r\n                <ng-template let-group pTemplate=\"group\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <span>{{ group.columnName }}</span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <button *ngIf=\"gridType === 'view'\" type=\"button\" class=\"btn btn-cancel mb-3\" (click)=\"goBack()\">Back</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 text-right\">\r\n        <div class=\"d-flex justify-content-between align-items-center col-12\" *ngIf=\"getTitle(updateGrid?.gridTitle)\">\r\n          <h6 class=\"font-weight-bold mb-0\"></h6>\r\n\r\n          <div class=\"d-flex inmate-btn-align\">\r\n            <button class=\"btn-print my-2\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\"\r\n              *ngIf=\"showExport\">\r\n              <img class=\"export\" src=\"../../../assets/images/svg/Export_Icon.svg\" alt=\"export\" />\r\n            </button>\r\n            <mat-menu class=\"d-inline-block my-2\" #menu=\"matMenu\" *ngIf=\"showExport\">\r\n              <button mat-menu-item (click)=\"onClose()\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>{{ icon }}</mat-icon>{{ openclose }} Slidebar\r\n              </button>\r\n              <button mat-menu-item (click)=\"reset('excel')\"><mat-icon>grid_on</mat-icon> Export to Excel</button>\r\n              <button mat-menu-item (click)=\"reset('pdf')\"><mat-icon>picture_as_pdf</mat-icon> Export to PDF</button>\r\n              <button mat-menu-item (click)=\"reset('print')\"><mat-icon>print</mat-icon> Print</button>\r\n              <button mat-menu-item (click)=\"reset(pageType)\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>reset_tv</mat-icon> Reset Search Criteria\r\n              </button>\r\n              <button *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\" mat-menu-item\r\n                [matMenuTriggerFor]=\"searchCriteriaList\" #searchcriteriamenutrigger=\"matMenuTrigger\">\r\n                <mat-icon>add_circle_outline</mat-icon> Save Search Criteria\r\n              </button>\r\n            </mat-menu>\r\n            <div [ngClass]=\"updateGrid && updateGrid?.chooser ? 'd-inline-block add-btn-right' : 'd-inline-block'\">\r\n              <!--Add Button, Column chooser button are replacing eachother when its selected-->\r\n              <button class=\"btn-icon-bg d-inline-block pull-right text-right ml-1 my-2\"\r\n                *ngIf=\"showGridPage && item && updateGrid?.isInitialFormLoad\" (click)=\"closeForm()\">\r\n                <em class=\"fa fa-times\"></em>\r\n              </button>\r\n              <div *ngIf=\"\r\n                  updateGrid?.gridActionFormArray !== null &&\r\n                  updateGrid?.gridActionFormArray !== undefined &&\r\n                  updateGrid?.gridActionFormArray &&\r\n                  updateGrid?.gridActionFormArray?.length\r\n                \" class=\"update-grid-action-button-container\">\r\n                <ng-container *ngFor=\"let item of updateGrid?.gridActionFormArray; let i = index\">\r\n                  <ng-container *ngIf=\"!(updateGrid?.isShowOnTop && item?.action?.toLowerCase() === 'add')\">\r\n                    <button *ngIf=\"item?.icon && item.isOutsideGrid && !item.hide\" class=\"btn btn-primary mt-2\"\r\n                      (click)=\"getOutsideGridAction(item)\">\r\n                      <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                    </button>\r\n                    <ng-container *ngIf=\"item?.icon && item.isOutsideGrid && item.type === 'Ocr Scan'\">\r\n                      <label for=\"file\" class=\"btn btn-primary mt-2\">\r\n                        <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                      </label>\r\n                      <input type=\"file\" (change)=\"uploadDocument(item, $event)\" id=\"file\" aria-hidden=\"true\"\r\n                        style=\"visibility: hidden; display: none\" />\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"updateGrid && updateGrid?.chooser\" class=\"col-custom my-2\">\r\n              <button class=\"btn btn-primary btn-icon ml-1\" (click)=\"columnChooserClick()\">\r\n                <em class=\"fa fa-columns\" aria-hidden=\"true\"></em>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button *ngIf=\"isAddButton\" type=\"button\" class=\"btn btn-primary my-2\" (click)=\"redirect()\">Add</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-menu #searchCriteriaList=\"matMenu\" class=\"searchlist\">\r\n      <div class=\"row col-sm-12 mt-4\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"col-sm-6\">\r\n          <mat-form-field>\r\n            <input matInput [(ngModel)]=\"searchCriteria\" placeholder=\"Search Criteria\" />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-sm-2 mt-2\">\r\n          <button class=\"btn btn-pri\" [disabled]=\"!searchCriteria\" (click)=\"saveSearchCriteria()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row col-sm-12\">\r\n        <table aria-describedby=\"Search_Criteria\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Search Criteria</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody *ngIf=\"totalcount\">\r\n            <tr *ngFor=\"let sc of searchCriteriaArr\">\r\n              <td>\r\n                <mat-icon>search</mat-icon>\r\n                <a href=\"javascript:void(0)\" (click)=\"setSearch(sc.data)\">{{ sc.data.searchCriteria }}</a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </mat-menu>\r\n    <div class=\"split-page\">\r\n      <as-split unit=\"percent\" useTransition=\"true\" direction=\"{{ layouttype }}\">\r\n        <as-split-area size=\"{{ spliterSize }}\">\r\n          <div *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <formio #formIO [form]=\"jsonForm\" [submission]=\"submittedData\" (submit)=\"onSubmit($event)\"\r\n                  (customEvent)=\"customEvent($event)\"></formio>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n        <as-split-area size=\"{{ gridspliterSize }}\">\r\n          <div class=\"row\" *ngIf=\"\r\n              ((updateGrid?.isInitialFormLoad !== undefined &&\r\n                updateGrid?.isInitialFormLoad !== null &&\r\n                updateGrid?.isInitialFormLoad) ||\r\n                (updateGrid?.isShowOnTop !== undefined &&\r\n                  updateGrid?.isShowOnTop !== null &&\r\n                  updateGrid?.isShowOnTop)) &&\r\n              item\r\n            \">\r\n            <div class=\"col-12\">\r\n              <ndc-dynamic class=\"no-drag\" [ndcDynamicComponent]=\"item.component\" [ndcDynamicInputs]=\"item\"\r\n                [ndcDynamicOutputs]=\"item?.outputs\"></ndc-dynamic>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"row\" *ngIf=\"showGridPage\">\r\n              <div class=\"col-lg-12 gridview\">\r\n                <div class=\"card mb-2\">\r\n                  <div class=\"card-body {{ getTitleClass(fromTitle) }}\">\r\n\r\n                    <!-- [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"  Removed server filtering-->\r\n                    <dx-data-grid [dataSource]=\"dataSource\" [columnMinWidth]=\"100\" [width]=\"'100%'\" [filterSyncEnabled]=\"true\" #dataGrid\r\n                      [columnResizingMode]=\"'widget'\" [allowColumnReordering]=\"true\" [allowColumnResizing]=\"true\"\r\n                      [columnAutoWidth]=\"true\" (onContentReady)=\"contentReady($event)\"\r\n                      (onCellPrepared)=\"onCellPrepared($event)\" (onRowPrepared)=\"onRowPrepared($event)\"\r\n                      (onCellClick)=\"onCellClick($event)\" (onExporting)=\"onExporting($event)\" [showBorders]=\"true\"\r\n                      [rowAlternationEnabled]=\"true\" [showColumnLines]=\"true\" [showRowLines]=\"true\">\r\n                      <dxo-selection [selectAllMode]=\"allMode\" [showCheckBoxesMode]=\"checkBoxesMode\"\r\n                        [mode]=\"getGridSelection(updateGrid?.gridSelection)\"></dxo-selection>\r\n                      <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n                      <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n                      <dxo-filter-row [visible]=\"showFilterRowPanel\"></dxo-filter-row>\r\n                      <dxo-state-storing [enabled]=\"true\" type=\"custom\" [customSave]=\"customSave\"\r\n                        [customLoad]=\"customLoad\"></dxo-state-storing>\r\n\r\n                      <dxo-column-chooser [enabled]=\"true\" mode=\"select\">\r\n                        <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n                        </dxo-position>\r\n                      </dxo-column-chooser>\r\n\r\n                      <!--Grid - Footer filter removed -->\r\n                      <dxo-paging [pageSize]=currentPageSize></dxo-paging>\r\n                      <dxo-pager [visible]=\"true\" [showPageSizeSelector]=\"true\" [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n                        [displayMode]=\"displayMode\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                      <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n                      <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n                      <ng-container *ngFor=\"let column of columns; let i = index\">\r\n                        <ng-container *ngIf=\"column?.hide !== true\">\r\n                          <ng-container *ngIf=\"column?.link; else noLink\">\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [fixed]=\"column?.fixed\" [dataField]=\"column?.columnDef\"\r\n                              [caption]=\"column?.header\" [allowFiltering]=\"column?.filter\" cellTemplate=\"cellTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [width]=\"column?.width\"\r\n                              [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                              [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-container>\r\n                          <ng-template #noLink>\r\n                            <ng-container *ngIf=\"column?.icon; else noShowmore\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"iconTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noShowmore>\r\n                            <ng-container *ngIf=\"column?.showmore; else noIcon\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"showmoreTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noIcon>\r\n                            <ng-container *ngIf=\"column?.dateFormat; else noDate\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                *ngIf=\"column?.dateFormat === 'date' || column?.dateFormat === 'datetime'\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" dataType=\"date\"\r\n                                [format]=\"getDateFormat(column?.dateFormat)\" [allowSorting]=\"column?.sort\"\r\n                                [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                                [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noDate>\r\n                            <ng-container *ngIf=\"column?.header.toLowerCase().trim() === 'status'; else noStatus\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"statusTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noStatus>\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                              [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                              [allowFiltering]=\"column?.filter\" cellTemplate=\"dataTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                              [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-template>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showGridActions(updateGrid, showActionColumn, gridType)\">\r\n                        <dxi-column [width]=\"120\" [allowFiltering]=\"false\" [showInColumnChooser]=\"false\"\r\n                          [allowSorting]=\"false\" caption=\"Action\" cellTemplate=\"editCellTemplate\">\r\n                        </dxi-column>\r\n                      </ng-container>\r\n                      <div *dxTemplate=\"let d of 'cellTemplate'\" class=\"dashboard-hover\">\r\n                        <a *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d, item)\">{{ d.value !== 'null' ?\r\n                          d.value : '' }}\r\n                          <span *ngIf=\"showIcon(d)\"></span>\r\n                        </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <em *ngIf=\"item.action !== 'add'\" [class]=\"item.icon\" (click)=\"popup(d?.key, item)\"></em>\r\n                        </span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'showmoreTemplate'\" class=\"description-container\">\r\n                          <span>{{ toggleShowMore(d.value, d.column?.dataField) }}</span>\r\n                          <a class=\"toggle-link\" *ngIf=\"d.value.length > truncateTextValue\" (click)=\"toggleShowMoreState(d.value, d.column?.dataField)\">\r\n                            {{ showMoreText[getToggleKey(d.value, d.column?.dataField)] ? 'Show Less' : 'Show More' }}\r\n                          </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'editCellTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <!-- Tooltip for deleted row -->\r\n                          <a *ngIf=\"\r\n                          item?.action === 'info'\"\r\n                            class=\"no-bg\"\r\n                            [matTooltip]=\"'Delete Status: Pending\\n' + item?.message\"\r\n                            [matTooltipPosition]=\"'left'\"\r\n                            [matTooltipShowDelay]=\"100\"\r\n                            [matTooltipHideDelay]=\"100\"\r\n                            [matTooltipClass]=\"'custom-tooltip-class'\">\r\n                            <em [class]=\"item.icon\"></em>\r\n                          </a>\r\n                          <a *ngIf=\"\r\n                                item?.icon &&\r\n                                item?.action !== 'info' &&\r\n                                !item.isOutsideGrid &&\r\n                                d?.data?.status !== 'Closed' &&\r\n                                item.action !== 'changepathway' &&\r\n                                !item?.hide;\r\n                              else changepathway\r\n                            \" class=\"no-bg\" matTooltip=\"{{ titleCaseToolTip(item?.action) }}\"\r\n                            (click)=\"getInsideGridAction(d, item)\">\r\n                            <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                          </a>\r\n\r\n                          <ng-template #changepathway>\r\n                            <a *ngIf=\"item.action === 'changepathway' && d?.rowIndex === 0\" class=\"no-bg\"\r\n                              matTooltip=\"{{ item?.action }}\" (click)=\"getInsideGridAction(d, item)\">\r\n                              <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                            </a>\r\n                          </ng-template>\r\n                        </span>\r\n                        <a *ngIf=\"updateGrid?.gridActionFormArray?.icon\" class=\"no-bg\" matTooltip=\"Open\"\r\n                          (click)=\"openLink(d)\">\r\n                          <em class=\"fa fa-external-link\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.edit\" class=\"no-bg\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                          <em class=\"fa fa-pencil\" title=\"Edit\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.view\" class=\"no-bg\" matTooltip=\"View\" (click)=\"viewData(d)\">\r\n                          <em class=\"fa fa-eye\" title=\"View\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.delete\" class=\"no-bg text-danger\" matTooltip=\"Delete\"\r\n                          (click)=\"deleteData(d)\">\r\n                          <em class=\"fa fa-trash\"></em>\r\n                        </a>\r\n                        <button *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\"\r\n                            class=\"fa fa-toggle-on\"></em>\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\"\r\n                            class=\"fa fa-toggle-off\"></em>\r\n                        </button>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'statusTemplate'\" [class]=\"changeStatusColor(d.value)\">\r\n                        <span>{{ d.value }}</span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'dataTemplate'\"\r\n                        [ngClass]=\"{ 'dashboard-hover-contact': d.column?.dataField === 'servicename' }\">\r\n                        <div class=\"d-inline-block\" *ngIf=\"\r\n                            d.column?.dataField === 'clientaccountno' &&\r\n                            d.data.accountstatus &&\r\n                            d.data.accountstatus === 'INA'\r\n                          \">\r\n                          <em class=\"fa fa-warning red-color\"></em>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'servicename'\">\r\n                          <div class=\"arrow-right\" *ngIf=\"d.data.narrative\">\r\n                            <div class=\"person-details\">\r\n                              <p><span>Narrative</span><span [innerHtml]=\"splitingData(d, '.')\"></span></p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'narrative'; else dataValue\">\r\n                          {{ d.value }}\r\n                        </div>\r\n                        <ng-template #dataValue>{{ d.value }}</ng-template>\r\n                      </div>\r\n                    </dx-data-grid>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n      </as-split>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #callDialogPopup>\r\n  <h2 matDialogTitle>Narrative</h2>\r\n  <div [innerHTML]=\"popupData\"></div>\r\n  <div class=\"text-right\">\r\n    <button mat-button (click)=\"closeDialogPopup()\" class=\"btn btn-cancel mr-2\">Close</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<app-dynamic-details *ngIf=\"openTab\" [key]=\"selectedRowData\"></app-dynamic-details>\r\n\r\n<ng-template #DeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ DefaultDeletePopupTextAftThresholdTime }}</div>\r\n    <div class=\"mb-2\">\r\n      <label for=\"reasonfordelete\" class=\"intake-form-labels clearfix mb-2\">Reason for record deletion <span\r\n          class=\"text-danger\">*</span></label>\r\n      <textarea rows=\"3\" id=\"reasonfordelete\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Reason for deletion (4000 character limit)\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"enteredReason\" (input)=\"checkIsDisabled($event.target.value)\"></textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithReason()\"\r\n      [disabled]=\"isDisabled\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #DeleteGridListWithoutReason>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ deletePopupText }}</div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #ApproveDeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-4\">{{this.deletedReason}}</div>\r\n    <!-- <div class=\"clearfix mb-4\">Do you approve this deletion?</div> -->\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right mb-2 btn btn-primary delete\" data-dismiss=\"modal\"\r\n      (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n      (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n<div class=\"modal\" id=\"confirmGridAction\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ businessRuleMessage }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"confirmGridAction()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">No</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".split-page{outline:3px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.card-title{position:absolute;left:15px;font-size:bold}.red-color{color:#ff6252}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding-bottom:2px!important;text-align:center!important;font-family:Roboto,sans-serif!important}.dx-datagrid-rowsview .dx-row{height:40px!important;font-size:var(--base-font-size)}.dx-datagrid-rowsview .dx-row.dx-row-lines>td{vertical-align:middle!important;overflow:unset;padding-left:6px!important;padding-right:6px!important}.card{box-shadow:none!important;border:none!important}.card-header{padding-left:0;background:#eff8ff;height:auto}.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>td,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>tr>td{overflow:unset!important}.dashboard-hover{position:relative}.dashboard-hover:hover .arrow-right{display:block;z-index:1}.dashboard-hover .person-details{display:inline-block;width:100%}.dashboard-hover .person-details p{margin:0}.dashboard-hover .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top}.dashboard-hover .person-details p span:last-child{width:160px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal}.dashboard-hover .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover .arrow-right{width:280px;min-height:95px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.dashboard-hover-contact{position:relative}.dashboard-hover-contact:hover .arrow-right{display:block;z-index:1}.dashboard-hover-contact .person-details{display:inline-block;width:100%}.dashboard-hover-contact .person-details p{margin:0}.dashboard-hover-contact .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top;word-break:break-word;white-space:normal}.dashboard-hover-contact .person-details p span:last-child{width:135px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal;text-align:left}.dashboard-hover-contact .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover-contact .arrow-right{width:280px;min-height:50px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover-contact .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.open{color:#ff6252;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.draft,.returned{color:red;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.closed,.completed,.approved{color:#2ecd53;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.orange{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.blue{color:#2c2863;border-radius:6px;font-weight:700;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending{color:#e29866;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending-approval{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.readOnlyCard{pointer-events:none!important;opacity:.7!important}.page-wrp{background:var(--bg-light)}.page-wrp h6{color:var(--text-dark)}:host ::ng-deep .as-split-gutter{background:var(--table-header)!important}.title{font-weight:700;font-size:17px;text-transform:capitalize;color:#2c2863}.col-custom .btn-icon-bg{padding:5px 8px!important}:host ::ng-deep .split-page .card-body{padding:0 15px!important}:host ::ng-deep .filterOptions{width:250px}:host ::ng-deep .p-multiselect-items{font-size:12px}:host ::ng-deep .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{padding:.2rem .5rem}:host ::ng-deep .dashboard-hover a{color:var(--interactive-color)!important;cursor:pointer}:host ::ng-deep .dx-datagrid .dx-column-indicators{position:relative;right:1px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-column-chooser{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-checkbox-icon{border:1px solid var(--bg-light)!important}:host ::ng-deep .dx-datagrid .business-group .dx-template-wrapper,:host ::ng-deep .dx-datagrid .business-group .business-alert{display:inline-flex}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .as-vertical .as-split-gutter{display:none!important}.no-resize{resize:none}:host ::ng-deep .custom-mat-tooltip{width:150px;font-size:var(--font-14)}:host ::ng-deep .mdc-tooltip__surface-animation{will-change:auto!important}\n"], dependencies: [{ kind: "directive", type: i9.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i9.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i10.FormioComponent, selector: "formio" }, { kind: "component", type: i11.AlertComponent, selector: "app-alert" }, { kind: "directive", type: i2.NgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i2.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { kind: "directive", type: i2.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { kind: "component", type: i12.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i13.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i14.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i15.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "component", type: i16.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i16.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i16.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "directive", type: i17.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i18.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "component", type: i19.DxDataGridComponent, selector: "dx-data-grid", inputs: ["accessKey", "activeStateEnabled", "allowColumnReordering", "allowColumnResizing", "autoNavigateToFocusedRow", "cacheEnabled", "cellHintEnabled", "columnAutoWidth", "columnChooser", "columnFixing", "columnHidingEnabled", "columnMinWidth", "columnResizingMode", "columns", "columnWidth", "customizeColumns", "dataRowTemplate", "dataSource", "dateSerializationFormat", "disabled", "editing", "elementAttr", "errorRowEnabled", "export", "filterBuilder", "filterBuilderPopup", "filterPanel", "filterRow", "filterSyncEnabled", "filterValue", "focusedColumnIndex", "focusedRowEnabled", "focusedRowIndex", "focusedRowKey", "grouping", "groupPanel", "headerFilter", "height", "highlightChanges", "hint", "hoverStateEnabled", "keyboardNavigation", "keyExpr", "loadPanel", "masterDetail", "noDataText", "pager", "paging", "remoteOperations", "renderAsync", "repaintChangesOnly", "rowAlternationEnabled", "rowDragging", "rowTemplate", "rtlEnabled", "scrolling", "searchPanel", "selectedRowKeys", "selection", "selectionFilter", "showBorders", "showColumnHeaders", "showColumnLines", "showRowLines", "sortByGroupSummaryInfo", "sorting", "stateStoring", "summary", "syncLookupFilterValues", "tabIndex", "toolbar", "twoWayBindingEnabled", "visible", "width", "wordWrapEnabled"], outputs: ["onAdaptiveDetailRowPreparing", "onCellClick", "onCellDblClick", "onCellHoverChanged", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDataErrorOccurred", "onDisposing", "onEditCanceled", "onEditCanceling", "onEditingStart", "onEditorPrepared", "onEditorPreparing", "onExporting", "onFocusedCellChanged", "onFocusedCellChanging", "onFocusedRowChanged", "onFocusedRowChanging", "onInitialized", "onInitNewRow", "onKeyDown", "onOptionChanged", "onRowClick", "onRowCollapsed", "onRowCollapsing", "onRowDblClick", "onRowExpanded", "onRowExpanding", "onRowInserted", "onRowInserting", "onRowPrepared", "onRowRemoved", "onRowRemoving", "onRowUpdated", "onRowUpdating", "onRowValidating", "onSaved", "onSaving", "onSelectionChanged", "onToolbarPreparing", "accessKeyChange", "activeStateEnabledChange", "allowColumnReorderingChange", "allowColumnResizingChange", "autoNavigateToFocusedRowChange", "cacheEnabledChange", "cellHintEnabledChange", "columnAutoWidthChange", "columnChooserChange", "columnFixingChange", "columnHidingEnabledChange", "columnMinWidthChange", "columnResizingModeChange", "columnsChange", "columnWidthChange", "customizeColumnsChange", "dataRowTemplateChange", "dataSourceChange", "dateSerializationFormatChange", "disabledChange", "editingChange", "elementAttrChange", "errorRowEnabledChange", "exportChange", "filterBuilderChange", "filterBuilderPopupChange", "filterPanelChange", "filterRowChange", "filterSyncEnabledChange", "filterValueChange", "focusedColumnIndexChange", "focusedRowEnabledChange", "focusedRowIndexChange", "focusedRowKeyChange", "groupingChange", "groupPanelChange", "headerFilterChange", "heightChange", "highlightChangesChange", "hintChange", "hoverStateEnabledChange", "keyboardNavigationChange", "keyExprChange", "loadPanelChange", "masterDetailChange", "noDataTextChange", "pagerChange", "pagingChange", "remoteOperationsChange", "renderAsyncChange", "repaintChangesOnlyChange", "rowAlternationEnabledChange", "rowDraggingChange", "rowTemplateChange", "rtlEnabledChange", "scrollingChange", "searchPanelChange", "selectedRowKeysChange", "selectionChange", "selectionFilterChange", "showBordersChange", "showColumnHeadersChange", "showColumnLinesChange", "showRowLinesChange", "sortByGroupSummaryInfoChange", "sortingChange", "stateStoringChange", "summaryChange", "syncLookupFilterValuesChange", "tabIndexChange", "toolbarChange", "twoWayBindingEnabledChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { kind: "component", type: i20.DxoColumnChooserComponent, selector: "dxo-column-chooser", inputs: ["allowSearch", "container", "emptyPanelText", "enabled", "height", "mode", "position", "search", "searchTimeout", "selection", "sortOrder", "title", "width"] }, { kind: "component", type: i20.DxoPositionComponent, selector: "dxo-position", inputs: ["at", "boundary", "boundaryOffset", "collision", "my", "of", "offset"] }, { kind: "component", type: i20.DxoSelectionComponent, selector: "dxo-selection", inputs: ["allowSelectAll", "recursive", "selectByClick", "deferred", "mode", "selectAllMode", "showCheckBoxesMode"] }, { kind: "component", type: i20.DxiColumnComponent, selector: "dxi-column", inputs: ["alignment", "allowEditing", "allowExporting", "allowFiltering", "allowFixing", "allowGrouping", "allowHeaderFiltering", "allowHiding", "allowReordering", "allowResizing", "allowSearch", "allowSorting", "autoExpandGroup", "buttons", "calculateCellValue", "calculateDisplayValue", "calculateFilterExpression", "calculateGroupValue", "calculateSortValue", "caption", "cellTemplate", "columns", "cssClass", "customizeText", "dataField", "dataType", "editCellTemplate", "editorOptions", "encodeHtml", "falseText", "filterOperations", "filterType", "filterValue", "filterValues", "fixed", "fixedPosition", "format", "formItem", "groupCellTemplate", "groupIndex", "headerCellTemplate", "headerFilter", "hidingPriority", "isBand", "lookup", "minWidth", "name", "ownerBand", "renderAsync", "selectedFilterOperation", "setCellValue", "showEditorAlways", "showInColumnChooser", "showWhenGrouped", "sortIndex", "sortingMethod", "sortOrder", "trueText", "type", "validationRules", "visible", "visibleIndex", "width"], outputs: ["filterValueChange", "filterValuesChange", "groupIndexChange", "selectedFilterOperationChange", "sortIndexChange", "sortOrderChange", "visibleChange", "visibleIndexChange"] }, { kind: "component", type: i20.DxoHeaderFilterComponent, selector: "dxo-header-filter", inputs: ["allowSearch", "allowSelectAll", "dataSource", "groupInterval", "height", "search", "searchMode", "width", "searchTimeout", "texts", "visible", "showRelevantValues"] }, { kind: "component", type: i20.DxoExportComponent, selector: "dxo-export", inputs: ["backgroundColor", "enabled", "fileName", "formats", "margin", "printingEnabled", "svgToCanvas", "allowExportSelectedData", "texts"] }, { kind: "component", type: i20.DxoFilterBuilderPopupComponent, selector: "dxo-filter-builder-popup", inputs: ["accessKey", "animation", "closeOnOutsideClick", "container", "contentTemplate", "copyRootClassesToWrapper", "deferRendering", "disabled", "dragAndResizeArea", "dragEnabled", "dragOutsideBoundary", "elementAttr", "enableBodyScroll", "focusStateEnabled", "fullScreen", "height", "hideOnOutsideClick", "hideOnParentScroll", "hint", "hoverStateEnabled", "maxHeight", "maxWidth", "minHeight", "minWidth", "onContentReady", "onDisposing", "onHidden", "onHiding", "onInitialized", "onOptionChanged", "onResize", "onResizeEnd", "onResizeStart", "onShowing", "onShown", "onTitleRendered", "position", "resizeEnabled", "restorePosition", "rtlEnabled", "shading", "shadingColor", "showCloseButton", "showTitle", "tabIndex", "title", "titleTemplate", "toolbarItems", "visible", "width", "wrapperAttr"], outputs: ["heightChange", "positionChange", "visibleChange", "widthChange"] }, { kind: "component", type: i20.DxoFilterRowComponent, selector: "dxo-filter-row", inputs: ["applyFilter", "applyFilterText", "betweenEndText", "betweenStartText", "operationDescriptions", "resetOperationText", "showAllText", "showOperationChooser", "visible"] }, { kind: "component", type: i20.DxoLoadPanelComponent, selector: "dxo-load-panel", inputs: ["enabled", "height", "indicatorSrc", "shading", "shadingColor", "showIndicator", "showPane", "text", "width"] }, { kind: "component", type: i20.DxoPagerComponent, selector: "dxo-pager", inputs: ["allowedPageSizes", "displayMode", "infoText", "label", "showInfo", "showNavigationButtons", "showPageSizeSelector", "visible"] }, { kind: "component", type: i20.DxoPagingComponent, selector: "dxo-paging", inputs: ["enabled", "pageIndex", "pageSize"], outputs: ["pageIndexChange", "pageSizeChange"] }, { kind: "component", type: i20.DxoStateStoringComponent, selector: "dxo-state-storing", inputs: ["customLoad", "customSave", "enabled", "savingTimeout", "storageKey", "type"] }, { kind: "directive", type: i21.DxTemplateDirective, selector: "[dxTemplate]", inputs: ["dxTemplateOf"] }, { kind: "directive", type: i22.DynamicIoDirective, selector: "[ndcDynamicInputs],[ndcDynamicOutputs]", inputs: ["ndcDynamicInputs", "ndcDynamicOutputs"], exportAs: ["ndcDynamicIo"] }, { kind: "component", type: i22.DynamicComponent, selector: "ndc-dynamic", inputs: ["ndcDynamicComponent", "ndcDynamicInjector", "ndcDynamicProviders", "ndcDynamicContent", "ndcDynamicNgModuleRef", "ndcDynamicEnvironmentInjector"], outputs: ["ndcDynamicCreated"] }, { kind: "component", type: i23.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex", "selectOnFocus", "headerAriaLevel"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { kind: "component", type: i23.AccordionTab, selector: "p-accordionTab", inputs: ["id", "header", "headerStyle", "tabStyle", "contentStyle", "tabStyleClass", "headerStyleClass", "contentStyleClass", "disabled", "cache", "transitionOptions", "iconPos", "selected", "headerAriaLevel"], outputs: ["selectedChange"] }, { kind: "directive", type: i24.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "component", type: i25.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "directive", type: i26.InputTextarea, selector: "[pInputTextarea]", inputs: ["autoResize"], outputs: ["onResize"] }, { kind: "pipe", type: i9.KeyValuePipe, name: "keyvalue" }] });
}
i0.ngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicSearchCleanupComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-dynamic-searchcleanup', template: "<app-alert></app-alert>\r\n<div [class]=\"userAction === 'view' ? 'readOnlyCard' : ''\">\r\n  <div *ngIf=\"header\">\r\n    <table class=\"table table-bordered\" aria-describedby=\"border\">\r\n      <thead>\r\n        <tr>\r\n          <th *ngFor=\"let item of titletab | keyvalue\">{{ item.key }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td *ngFor=\"let item of titletab | keyvalue\">{{ item.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <p-accordion class=\"w-full dynamic-search\" [activeIndex]=\"1\" iconPos=\"endVal\"\r\n    *ngIf=\"dynamicSearch && dynamicSearch.length > 0\">\r\n    <p-accordionTab>\r\n      <ng-template pTemplate=\"header\">\r\n        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n          <span class=\"font-bold\">Quick Search</span>\r\n        </span>\r\n      </ng-template>\r\n      <div class=\"d-flex my-2 row\">\r\n        <div class=\"col-12 text-md-right\">\r\n          <button type=\"button\" title=\"Add New\" pripple class=\"p-ripple p-element btn btn-primary btn-icon\"\r\n            (click)=\"addGridDynamicSearch()\">\r\n            <em class=\"pi pi-plus font-weight-bold\"></em>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]=\"gridDynamicSearchForm\">\r\n        <ng-container formArrayName=\"dynamicSearchArray\">\r\n          <div *ngFor=\"let dynamicSearchItem of initDynamicSearch().controls; let dynamicSearchIndex = index\"\r\n            [formGroupName]=\"dynamicSearchIndex\">\r\n            <div class=\"row rbac-card\">\r\n              <div class=\"col-md-11 col-12 pr-0\">\r\n                <div class=\"row\">\r\n                  <!-- <div class=\"col-lg-3 col-md-6 col-12 mb-3\"> -->\r\n                  <!--   <label class=\"referral-form-labels\" for=\"tableList\">Table</label> -->\r\n                  <!--   <p-dropdown -->\r\n                  <!--     [options]=\"dynamicSearchItem.get('tableDropDown')?.value\" -->\r\n                  <!--     optionLabel=\"name\" -->\r\n                  <!--     optionValue=\"value\" -->\r\n                  <!--     id=\"tableList_{{ dynamicSearchIndex }}\" -->\r\n                  <!--     placeholder=\"Select Table\" -->\r\n                  <!--     formControlName=\"tableName\" -->\r\n                  <!--     tabindex=\"0\" -->\r\n                  <!--     styleClass=\"w-100\" -->\r\n                  <!--     (onChange)=\"getColumnList(dynamicSearchIndex, dynamicSearchItem.get('tableName')?.value)\"> -->\r\n                  <!--   </p-dropdown> -->\r\n                  <!--   <span -->\r\n                  <!--     class=\"text-danger error-text\" -->\r\n                  <!--     *ngIf=\" -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.hasError('required') && -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.touched -->\r\n                  <!--     \" -->\r\n                  <!--     >Please Select Table Name</span -->\r\n                  <!--   > -->\r\n                  <!-- </div> -->\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"columnList\">Column <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('columnDropDown')?.value\"\r\n                      id=\"columnList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Column\" formControlName=\"columnName\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"getConditionList(dynamicSearchIndex, dynamicSearchItem.get('columnName')?.value)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('columnName')?.hasError('required') &&\r\n                        dynamicSearchItem.get('columnName')?.touched\r\n                      \">Please Select Column Name</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"conditionList\">Condition <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('conditionDropdown')?.value\"\r\n                      id=\"conditionList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Condition\" formControlName=\"condition\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"resetDynamicSearchValue(dynamicSearchIndex)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('condition')?.hasError('required') &&\r\n                        dynamicSearchItem.get('condition')?.touched\r\n                      \">Please Select Condition</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"valueList\">Value <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <input type=\"text\" class=\"p-inputtext w-100\" id=\"valueList\" formControlName=\"value\"\r\n                      placeholder=\"\" />\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('value')?.hasError('required') && dynamicSearchItem.get('value')?.touched\r\n                      \">Please Fill Value</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                    <span class=\"material-symbols-outlined text-danger delete-icon\" role=\"button\"\r\n                      id=\"deleteDynamicSearch\" (click)=\"removeDynamicSearch(dynamicSearchIndex)\"\r\n                      title=\"Delete\">delete</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                class=\"col-md-1 col-12 mb-3 text-md-center d-md-flex align-items-md-center justify-content-md-center flex-column\">\r\n                <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                <span class=\"material-symbols-outlined text-danger\" role=\"button\" id=\"deleteDynamicSearch\"\r\n                  (click)=\"removeDynamicSearch(dynamicSearchIndex)\" title=\"Delete\">delete</span>\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"removeDynamicSearch()\">Delete</button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex flex-column align-self-end\">\r\n            <div class=\"col-md-12 text-md-right mt-2\">\r\n              <!-- <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"saveDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">\r\n                Save\r\n              </button> -->\r\n              <button type=\"button\" class=\"btn btn-cancel\" (click)=\"resetDynamicSearch()\">Clear</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">Search</button>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n    </p-accordionTab>\r\n  </p-accordion>\r\n  <div class=\"page-wrp mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <!-- <div *ngIf=\"true\">\r\n          <div class=\"d-flex\" [formGroup]=\"filterForm\" *ngIf=\"gridType !== 'view'\">\r\n            <div class=\"col-md-12\">\r\n              <p-multiSelect [options]=\"filterOptions\" styleClass=\"filterOptions\" [group]=\"true\"\r\n                selectedItemsLabel=\"{0} items selected\" defaultLabel=\"Select\" optionLabel=\"label\" optionValue=\"id\"\r\n                id=\"filteroptions\" ariaFilterLabel=\"searchbox\" formControlName=\"selectedFilter\"\r\n                (onChange)=\"changeFilterOptions($event)\">\r\n                <ng-template let-group pTemplate=\"group\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <span>{{ group.columnName }}</span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <button *ngIf=\"gridType === 'view'\" type=\"button\" class=\"btn btn-cancel mb-3\" (click)=\"goBack()\">Back</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 text-right\">\r\n        <div class=\"d-flex justify-content-between align-items-center col-12\" *ngIf=\"getTitle(updateGrid?.gridTitle)\">\r\n          <h6 class=\"font-weight-bold mb-0\"></h6>\r\n\r\n          <div class=\"d-flex inmate-btn-align\">\r\n            <button class=\"btn-print my-2\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\"\r\n              *ngIf=\"showExport\">\r\n              <img class=\"export\" src=\"../../../assets/images/svg/Export_Icon.svg\" alt=\"export\" />\r\n            </button>\r\n            <mat-menu class=\"d-inline-block my-2\" #menu=\"matMenu\" *ngIf=\"showExport\">\r\n              <button mat-menu-item (click)=\"onClose()\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>{{ icon }}</mat-icon>{{ openclose }} Slidebar\r\n              </button>\r\n              <button mat-menu-item (click)=\"reset('excel')\"><mat-icon>grid_on</mat-icon> Export to Excel</button>\r\n              <button mat-menu-item (click)=\"reset('pdf')\"><mat-icon>picture_as_pdf</mat-icon> Export to PDF</button>\r\n              <button mat-menu-item (click)=\"reset('print')\"><mat-icon>print</mat-icon> Print</button>\r\n              <button mat-menu-item (click)=\"reset(pageType)\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>reset_tv</mat-icon> Reset Search Criteria\r\n              </button>\r\n              <button *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\" mat-menu-item\r\n                [matMenuTriggerFor]=\"searchCriteriaList\" #searchcriteriamenutrigger=\"matMenuTrigger\">\r\n                <mat-icon>add_circle_outline</mat-icon> Save Search Criteria\r\n              </button>\r\n            </mat-menu>\r\n            <div [ngClass]=\"updateGrid && updateGrid?.chooser ? 'd-inline-block add-btn-right' : 'd-inline-block'\">\r\n              <!--Add Button, Column chooser button are replacing eachother when its selected-->\r\n              <button class=\"btn-icon-bg d-inline-block pull-right text-right ml-1 my-2\"\r\n                *ngIf=\"showGridPage && item && updateGrid?.isInitialFormLoad\" (click)=\"closeForm()\">\r\n                <em class=\"fa fa-times\"></em>\r\n              </button>\r\n              <div *ngIf=\"\r\n                  updateGrid?.gridActionFormArray !== null &&\r\n                  updateGrid?.gridActionFormArray !== undefined &&\r\n                  updateGrid?.gridActionFormArray &&\r\n                  updateGrid?.gridActionFormArray?.length\r\n                \" class=\"update-grid-action-button-container\">\r\n                <ng-container *ngFor=\"let item of updateGrid?.gridActionFormArray; let i = index\">\r\n                  <ng-container *ngIf=\"!(updateGrid?.isShowOnTop && item?.action?.toLowerCase() === 'add')\">\r\n                    <button *ngIf=\"item?.icon && item.isOutsideGrid && !item.hide\" class=\"btn btn-primary mt-2\"\r\n                      (click)=\"getOutsideGridAction(item)\">\r\n                      <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                    </button>\r\n                    <ng-container *ngIf=\"item?.icon && item.isOutsideGrid && item.type === 'Ocr Scan'\">\r\n                      <label for=\"file\" class=\"btn btn-primary mt-2\">\r\n                        <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                      </label>\r\n                      <input type=\"file\" (change)=\"uploadDocument(item, $event)\" id=\"file\" aria-hidden=\"true\"\r\n                        style=\"visibility: hidden; display: none\" />\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"updateGrid && updateGrid?.chooser\" class=\"col-custom my-2\">\r\n              <button class=\"btn btn-primary btn-icon ml-1\" (click)=\"columnChooserClick()\">\r\n                <em class=\"fa fa-columns\" aria-hidden=\"true\"></em>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button *ngIf=\"isAddButton\" type=\"button\" class=\"btn btn-primary my-2\" (click)=\"redirect()\">Add</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-menu #searchCriteriaList=\"matMenu\" class=\"searchlist\">\r\n      <div class=\"row col-sm-12 mt-4\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"col-sm-6\">\r\n          <mat-form-field>\r\n            <input matInput [(ngModel)]=\"searchCriteria\" placeholder=\"Search Criteria\" />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-sm-2 mt-2\">\r\n          <button class=\"btn btn-pri\" [disabled]=\"!searchCriteria\" (click)=\"saveSearchCriteria()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row col-sm-12\">\r\n        <table aria-describedby=\"Search_Criteria\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Search Criteria</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody *ngIf=\"totalcount\">\r\n            <tr *ngFor=\"let sc of searchCriteriaArr\">\r\n              <td>\r\n                <mat-icon>search</mat-icon>\r\n                <a href=\"javascript:void(0)\" (click)=\"setSearch(sc.data)\">{{ sc.data.searchCriteria }}</a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </mat-menu>\r\n    <div class=\"split-page\">\r\n      <as-split unit=\"percent\" useTransition=\"true\" direction=\"{{ layouttype }}\">\r\n        <as-split-area size=\"{{ spliterSize }}\">\r\n          <div *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <formio #formIO [form]=\"jsonForm\" [submission]=\"submittedData\" (submit)=\"onSubmit($event)\"\r\n                  (customEvent)=\"customEvent($event)\"></formio>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n        <as-split-area size=\"{{ gridspliterSize }}\">\r\n          <div class=\"row\" *ngIf=\"\r\n              ((updateGrid?.isInitialFormLoad !== undefined &&\r\n                updateGrid?.isInitialFormLoad !== null &&\r\n                updateGrid?.isInitialFormLoad) ||\r\n                (updateGrid?.isShowOnTop !== undefined &&\r\n                  updateGrid?.isShowOnTop !== null &&\r\n                  updateGrid?.isShowOnTop)) &&\r\n              item\r\n            \">\r\n            <div class=\"col-12\">\r\n              <ndc-dynamic class=\"no-drag\" [ndcDynamicComponent]=\"item.component\" [ndcDynamicInputs]=\"item\"\r\n                [ndcDynamicOutputs]=\"item?.outputs\"></ndc-dynamic>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"row\" *ngIf=\"showGridPage\">\r\n              <div class=\"col-lg-12 gridview\">\r\n                <div class=\"card mb-2\">\r\n                  <div class=\"card-body {{ getTitleClass(fromTitle) }}\">\r\n\r\n                    <!-- [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"  Removed server filtering-->\r\n                    <dx-data-grid [dataSource]=\"dataSource\" [columnMinWidth]=\"100\" [width]=\"'100%'\" [filterSyncEnabled]=\"true\" #dataGrid\r\n                      [columnResizingMode]=\"'widget'\" [allowColumnReordering]=\"true\" [allowColumnResizing]=\"true\"\r\n                      [columnAutoWidth]=\"true\" (onContentReady)=\"contentReady($event)\"\r\n                      (onCellPrepared)=\"onCellPrepared($event)\" (onRowPrepared)=\"onRowPrepared($event)\"\r\n                      (onCellClick)=\"onCellClick($event)\" (onExporting)=\"onExporting($event)\" [showBorders]=\"true\"\r\n                      [rowAlternationEnabled]=\"true\" [showColumnLines]=\"true\" [showRowLines]=\"true\">\r\n                      <dxo-selection [selectAllMode]=\"allMode\" [showCheckBoxesMode]=\"checkBoxesMode\"\r\n                        [mode]=\"getGridSelection(updateGrid?.gridSelection)\"></dxo-selection>\r\n                      <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n                      <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n                      <dxo-filter-row [visible]=\"showFilterRowPanel\"></dxo-filter-row>\r\n                      <dxo-state-storing [enabled]=\"true\" type=\"custom\" [customSave]=\"customSave\"\r\n                        [customLoad]=\"customLoad\"></dxo-state-storing>\r\n\r\n                      <dxo-column-chooser [enabled]=\"true\" mode=\"select\">\r\n                        <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n                        </dxo-position>\r\n                      </dxo-column-chooser>\r\n\r\n                      <!--Grid - Footer filter removed -->\r\n                      <dxo-paging [pageSize]=currentPageSize></dxo-paging>\r\n                      <dxo-pager [visible]=\"true\" [showPageSizeSelector]=\"true\" [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n                        [displayMode]=\"displayMode\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                      <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n                      <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n                      <ng-container *ngFor=\"let column of columns; let i = index\">\r\n                        <ng-container *ngIf=\"column?.hide !== true\">\r\n                          <ng-container *ngIf=\"column?.link; else noLink\">\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [fixed]=\"column?.fixed\" [dataField]=\"column?.columnDef\"\r\n                              [caption]=\"column?.header\" [allowFiltering]=\"column?.filter\" cellTemplate=\"cellTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [width]=\"column?.width\"\r\n                              [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                              [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-container>\r\n                          <ng-template #noLink>\r\n                            <ng-container *ngIf=\"column?.icon; else noShowmore\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"iconTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noShowmore>\r\n                            <ng-container *ngIf=\"column?.showmore; else noIcon\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"showmoreTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noIcon>\r\n                            <ng-container *ngIf=\"column?.dateFormat; else noDate\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                *ngIf=\"column?.dateFormat === 'date' || column?.dateFormat === 'datetime'\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" dataType=\"date\"\r\n                                [format]=\"getDateFormat(column?.dateFormat)\" [allowSorting]=\"column?.sort\"\r\n                                [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                                [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noDate>\r\n                            <ng-container *ngIf=\"column?.header.toLowerCase().trim() === 'status'; else noStatus\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"statusTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noStatus>\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                              [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                              [allowFiltering]=\"column?.filter\" cellTemplate=\"dataTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                              [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-template>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showGridActions(updateGrid, showActionColumn, gridType)\">\r\n                        <dxi-column [width]=\"120\" [allowFiltering]=\"false\" [showInColumnChooser]=\"false\"\r\n                          [allowSorting]=\"false\" caption=\"Action\" cellTemplate=\"editCellTemplate\">\r\n                        </dxi-column>\r\n                      </ng-container>\r\n                      <div *dxTemplate=\"let d of 'cellTemplate'\" class=\"dashboard-hover\">\r\n                        <a *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d, item)\">{{ d.value !== 'null' ?\r\n                          d.value : '' }}\r\n                          <span *ngIf=\"showIcon(d)\"></span>\r\n                        </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <em *ngIf=\"item.action !== 'add'\" [class]=\"item.icon\" (click)=\"popup(d?.key, item)\"></em>\r\n                        </span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'showmoreTemplate'\" class=\"description-container\">\r\n                          <span>{{ toggleShowMore(d.value, d.column?.dataField) }}</span>\r\n                          <a class=\"toggle-link\" *ngIf=\"d.value.length > truncateTextValue\" (click)=\"toggleShowMoreState(d.value, d.column?.dataField)\">\r\n                            {{ showMoreText[getToggleKey(d.value, d.column?.dataField)] ? 'Show Less' : 'Show More' }}\r\n                          </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'editCellTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <!-- Tooltip for deleted row -->\r\n                          <a *ngIf=\"\r\n                          item?.action === 'info'\"\r\n                            class=\"no-bg\"\r\n                            [matTooltip]=\"'Delete Status: Pending\\n' + item?.message\"\r\n                            [matTooltipPosition]=\"'left'\"\r\n                            [matTooltipShowDelay]=\"100\"\r\n                            [matTooltipHideDelay]=\"100\"\r\n                            [matTooltipClass]=\"'custom-tooltip-class'\">\r\n                            <em [class]=\"item.icon\"></em>\r\n                          </a>\r\n                          <a *ngIf=\"\r\n                                item?.icon &&\r\n                                item?.action !== 'info' &&\r\n                                !item.isOutsideGrid &&\r\n                                d?.data?.status !== 'Closed' &&\r\n                                item.action !== 'changepathway' &&\r\n                                !item?.hide;\r\n                              else changepathway\r\n                            \" class=\"no-bg\" matTooltip=\"{{ titleCaseToolTip(item?.action) }}\"\r\n                            (click)=\"getInsideGridAction(d, item)\">\r\n                            <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                          </a>\r\n\r\n                          <ng-template #changepathway>\r\n                            <a *ngIf=\"item.action === 'changepathway' && d?.rowIndex === 0\" class=\"no-bg\"\r\n                              matTooltip=\"{{ item?.action }}\" (click)=\"getInsideGridAction(d, item)\">\r\n                              <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                            </a>\r\n                          </ng-template>\r\n                        </span>\r\n                        <a *ngIf=\"updateGrid?.gridActionFormArray?.icon\" class=\"no-bg\" matTooltip=\"Open\"\r\n                          (click)=\"openLink(d)\">\r\n                          <em class=\"fa fa-external-link\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.edit\" class=\"no-bg\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                          <em class=\"fa fa-pencil\" title=\"Edit\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.view\" class=\"no-bg\" matTooltip=\"View\" (click)=\"viewData(d)\">\r\n                          <em class=\"fa fa-eye\" title=\"View\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.delete\" class=\"no-bg text-danger\" matTooltip=\"Delete\"\r\n                          (click)=\"deleteData(d)\">\r\n                          <em class=\"fa fa-trash\"></em>\r\n                        </a>\r\n                        <button *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\"\r\n                            class=\"fa fa-toggle-on\"></em>\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\"\r\n                            class=\"fa fa-toggle-off\"></em>\r\n                        </button>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'statusTemplate'\" [class]=\"changeStatusColor(d.value)\">\r\n                        <span>{{ d.value }}</span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'dataTemplate'\"\r\n                        [ngClass]=\"{ 'dashboard-hover-contact': d.column?.dataField === 'servicename' }\">\r\n                        <div class=\"d-inline-block\" *ngIf=\"\r\n                            d.column?.dataField === 'clientaccountno' &&\r\n                            d.data.accountstatus &&\r\n                            d.data.accountstatus === 'INA'\r\n                          \">\r\n                          <em class=\"fa fa-warning red-color\"></em>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'servicename'\">\r\n                          <div class=\"arrow-right\" *ngIf=\"d.data.narrative\">\r\n                            <div class=\"person-details\">\r\n                              <p><span>Narrative</span><span [innerHtml]=\"splitingData(d, '.')\"></span></p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'narrative'; else dataValue\">\r\n                          {{ d.value }}\r\n                        </div>\r\n                        <ng-template #dataValue>{{ d.value }}</ng-template>\r\n                      </div>\r\n                    </dx-data-grid>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n      </as-split>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #callDialogPopup>\r\n  <h2 matDialogTitle>Narrative</h2>\r\n  <div [innerHTML]=\"popupData\"></div>\r\n  <div class=\"text-right\">\r\n    <button mat-button (click)=\"closeDialogPopup()\" class=\"btn btn-cancel mr-2\">Close</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<app-dynamic-details *ngIf=\"openTab\" [key]=\"selectedRowData\"></app-dynamic-details>\r\n\r\n<ng-template #DeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ DefaultDeletePopupTextAftThresholdTime }}</div>\r\n    <div class=\"mb-2\">\r\n      <label for=\"reasonfordelete\" class=\"intake-form-labels clearfix mb-2\">Reason for record deletion <span\r\n          class=\"text-danger\">*</span></label>\r\n      <textarea rows=\"3\" id=\"reasonfordelete\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Reason for deletion (4000 character limit)\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"enteredReason\" (input)=\"checkIsDisabled($event.target.value)\"></textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithReason()\"\r\n      [disabled]=\"isDisabled\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #DeleteGridListWithoutReason>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ deletePopupText }}</div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #ApproveDeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-4\">{{this.deletedReason}}</div>\r\n    <!-- <div class=\"clearfix mb-4\">Do you approve this deletion?</div> -->\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right mb-2 btn btn-primary delete\" data-dismiss=\"modal\"\r\n      (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n      (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n<div class=\"modal\" id=\"confirmGridAction\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ businessRuleMessage }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"confirmGridAction()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">No</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".split-page{outline:3px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.card-title{position:absolute;left:15px;font-size:bold}.red-color{color:#ff6252}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding-bottom:2px!important;text-align:center!important;font-family:Roboto,sans-serif!important}.dx-datagrid-rowsview .dx-row{height:40px!important;font-size:var(--base-font-size)}.dx-datagrid-rowsview .dx-row.dx-row-lines>td{vertical-align:middle!important;overflow:unset;padding-left:6px!important;padding-right:6px!important}.card{box-shadow:none!important;border:none!important}.card-header{padding-left:0;background:#eff8ff;height:auto}.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>td,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>tr>td{overflow:unset!important}.dashboard-hover{position:relative}.dashboard-hover:hover .arrow-right{display:block;z-index:1}.dashboard-hover .person-details{display:inline-block;width:100%}.dashboard-hover .person-details p{margin:0}.dashboard-hover .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top}.dashboard-hover .person-details p span:last-child{width:160px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal}.dashboard-hover .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover .arrow-right{width:280px;min-height:95px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.dashboard-hover-contact{position:relative}.dashboard-hover-contact:hover .arrow-right{display:block;z-index:1}.dashboard-hover-contact .person-details{display:inline-block;width:100%}.dashboard-hover-contact .person-details p{margin:0}.dashboard-hover-contact .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top;word-break:break-word;white-space:normal}.dashboard-hover-contact .person-details p span:last-child{width:135px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal;text-align:left}.dashboard-hover-contact .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover-contact .arrow-right{width:280px;min-height:50px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover-contact .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.open{color:#ff6252;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.draft,.returned{color:red;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.closed,.completed,.approved{color:#2ecd53;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.orange{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.blue{color:#2c2863;border-radius:6px;font-weight:700;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending{color:#e29866;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending-approval{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.readOnlyCard{pointer-events:none!important;opacity:.7!important}.page-wrp{background:var(--bg-light)}.page-wrp h6{color:var(--text-dark)}:host ::ng-deep .as-split-gutter{background:var(--table-header)!important}.title{font-weight:700;font-size:17px;text-transform:capitalize;color:#2c2863}.col-custom .btn-icon-bg{padding:5px 8px!important}:host ::ng-deep .split-page .card-body{padding:0 15px!important}:host ::ng-deep .filterOptions{width:250px}:host ::ng-deep .p-multiselect-items{font-size:12px}:host ::ng-deep .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{padding:.2rem .5rem}:host ::ng-deep .dashboard-hover a{color:var(--interactive-color)!important;cursor:pointer}:host ::ng-deep .dx-datagrid .dx-column-indicators{position:relative;right:1px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-column-chooser{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-checkbox-icon{border:1px solid var(--bg-light)!important}:host ::ng-deep .dx-datagrid .business-group .dx-template-wrapper,:host ::ng-deep .dx-datagrid .business-group .business-alert{display:inline-flex}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .as-vertical .as-split-gutter{display:none!important}.no-resize{resize:none}:host ::ng-deep .custom-mat-tooltip{width:150px;font-size:var(--font-14)}:host ::ng-deep .mdc-tooltip__surface-animation{will-change:auto!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.Router }, { type: i1.ActivatedRoute }, { type: i0.ChangeDetectorRef }, { type: i2.UntypedFormBuilder }, { type: i3.FormioService }, { type: i4.LocalStorageService }, { type: i2.UntypedFormBuilder }, { type: i5.Store }, { type: i6.PlatformDataStoreService }, { type: i7.SharedService }, { type: i8.ConfigService }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }]; }, propDecorators: { searchcriteriamenutrigger: [{
                type: ViewChild,
                args: ['searchcriteriamenutrigger']
            }], dataGrid: [{
                type: ViewChild,
                args: [DxDataGridComponent, { static: false }]
            }], formId: [{
                type: Input
            }], pageId: [{
                type: Input
            }], callDialogPopup: [{
                type: ViewChild,
                args: ['callDialogPopup']
            }], outerRouting: [{
                type: Output
            }], formIO: [{
                type: ViewChild,
                args: ['formIO']
            }], filterOptionsDropdown: [{
                type: ViewChild,
                args: [MultiSelect]
            }], componentId: [{
                type: Input
            }], DeleteGridList: [{
                type: ViewChild,
                args: ['DeleteGridList']
            }], DeleteGridListWithoutReason: [{
                type: ViewChild,
                args: ['DeleteGridListWithoutReason']
            }], ApproveDeleteGridList: [{
                type: ViewChild,
                args: ['ApproveDeleteGridList']
            }], onResize: [{
                type: HostListener,
                args: ['window:resize', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy1zZWFyY2hjbGVhbnVwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9keW5hbWljL3NyYy9saWIvcGljcy1keW5hbWljL2R5bmFtaWMtc2VhcmNoY2xlYW51cC9keW5hbWljLXNlYXJjaGNsZWFudXAuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2R5bmFtaWMvc3JjL2xpYi9waWNzLWR5bmFtaWMvZHluYW1pYy1zZWFyY2hjbGVhbnVwL2R5bmFtaWMtc2VhcmNoY2xlYW51cC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMvRCxPQUFPLEVBR0wsU0FBUyxFQUNULFlBQVksRUFDWixZQUFZLEVBQ1osTUFBTSxFQUVOLEtBQUssRUFHTCxRQUFRLEVBQ1IsTUFBTSxFQUVOLFNBQVMsRUFDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQTBELFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BHLE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBZ0IsTUFBTSwwQkFBMEIsQ0FBQztBQUlyRyxPQUFPLEVBQUUsTUFBTSxFQUFTLE1BQU0sYUFBYSxDQUFDO0FBQzVDLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sV0FBVyxNQUFNLDhCQUE4QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxjQUFjLElBQUksbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNoRixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLE1BQU0sTUFBTSxlQUFlLENBQUM7QUFDbkMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2xELE9BQU8sVUFBVSxNQUFNLFVBQVUsQ0FBQztBQUNsQyxPQUFPLEVBQUUsYUFBYSxFQUE0QixNQUFNLE1BQU0sQ0FBQztBQUMvRCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBR2hFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUM5RCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUMxRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDdkUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFDbEYsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFFOUUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQzlELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRTNFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUNyRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0RBQWtELENBQUM7QUFDaEYsT0FBTyxFQUFFLHlCQUF5QixFQUFFLFdBQVcsRUFBRSxNQUFNLG9EQUFvRCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzVHLE1BQU0saUJBQWlCLEdBQUcsbUJBQW1CLENBQUM7QUFDOUMsTUFBTSxpQkFBaUIsR0FBRyxpQ0FBaUMsQ0FBQztBQUM1RCxNQUFNLG9CQUFvQixHQUFHLGtCQUFrQixDQUFDO0FBQ2hELE1BQU0sUUFBUSxHQUFHLHNDQUFzQyxDQUFDO0FBQ3hELE1BQU0sY0FBYyxHQUFHLGdCQUFnQixDQUFDO0FBQ3hDLE1BQU0sNkJBQTZCLEdBQUcsbUJBQW1CLENBQUM7QUFDMUQsTUFBTSxlQUFlLEdBQUcsWUFBWSxDQUFDO0FBQ3JDLE1BQU0sYUFBYSxHQUFHLHVCQUF1QixDQUFDO0FBUTlDLE1BQU0sT0FBTyw2QkFBNkI7SUE2SjlCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUF0SzhCLHlCQUF5QixDQUFpQjtJQUMvQixRQUFRLENBQXNCO0lBQ3pFLGtCQUFrQixDQUFpQztJQUUzRCxNQUFNLENBQU07SUFDWixRQUFRLENBQU07SUFDZCxRQUFRLENBQVM7SUFDakIsU0FBUyxDQUFNO0lBQ2YsYUFBYSxDQUFNO0lBQ25CLFlBQVksQ0FBTTtJQUNsQixVQUFVLENBQU07SUFDUCxNQUFNLENBQU07SUFDckIsWUFBWSxDQUFNO0lBQ2xCLE9BQU8sQ0FBTTtJQUNiLEdBQUcsQ0FBUztJQUNaLFVBQVUsQ0FBTTtJQUNoQixhQUFhLENBQU07SUFDbkIsUUFBUSxDQUFNO0lBQ2QsY0FBYyxDQUFNO0lBQ3BCLGlCQUFpQixDQUFNO0lBQ3ZCLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDeEIsRUFBRSxDQUFNO0lBQ1IsWUFBWSxDQUFNO0lBQ2xCLFFBQVEsQ0FBTTtJQUNkLE9BQU8sQ0FBTTtJQUNiLFVBQVUsQ0FBTTtJQUNoQixVQUFVLENBQVM7SUFDbkIsbUJBQW1CLENBQVE7SUFDM0IsWUFBWSxDQUFNO0lBQ2xCLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDaEIsZUFBZSxHQUFHLEdBQUcsQ0FBQztJQUN0QixNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ2QsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNWLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDZixJQUFJLENBQU07SUFDVixXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDaEIsa0JBQWtCLENBQVU7SUFDNUIsU0FBUyxDQUFTO0lBQ1ksZUFBZSxDQUFtQjtJQUN4RCxjQUFjLENBQWlDO0lBQ3ZELGdCQUFnQixDQUFVO0lBQzFCLE1BQU0sQ0FBTTtJQUNaLGFBQWEsQ0FBVTtJQUN2QixJQUFJLENBQU07SUFDVixZQUFZLEdBQUcsSUFBSSxDQUFDO0lBQ3BCLGdCQUFnQixDQUFTO0lBQ3pCLGtCQUFrQjtJQUNsQixRQUFRLENBQVM7SUFDakIsT0FBTyxDQUFTO0lBQ2hCLGNBQWMsR0FBRyxLQUFLLENBQUM7SUFDYixZQUFZLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztJQUNqRCxVQUFVLENBQU07SUFDaEIsT0FBTyxDQUFNO0lBQ2IsY0FBYyxDQUFTO0lBQ3ZCLFFBQVEsQ0FBUztJQUNqQixVQUFVLEdBQUcsS0FBSyxDQUFDO0lBQ25CLGNBQWMsQ0FBTTtJQUNwQixXQUFXLENBQW1EO0lBQzlELGFBQWEsQ0FBUTtJQUNyQixjQUFjLENBQVE7SUFDdEIsVUFBVSxDQUFvQjtJQUM5QixVQUFVLENBQU07SUFDaEIsV0FBVyxDQUFNO0lBQ2pCLGNBQWMsQ0FBTTtJQUNwQixPQUFPLENBQWU7SUFDdEIsZ0JBQWdCLENBQW1CO0lBQ25DLFlBQVksQ0FBZTtJQUMzQixNQUFNLENBQVk7SUFDbEIsSUFBSSxDQUFhO0lBQ2pCLFdBQVcsQ0FBUztJQUNwQixhQUFhLENBQU87SUFDcEIsV0FBVyxDQUFTO0lBQ3BCLFFBQVEsQ0FBVTtJQUNsQixzQkFBc0IsQ0FBVTtJQUVoQyxNQUFNLENBQWtCO0lBQ3hCLG9CQUFvQixDQUF1QjtJQUMzQyxxQkFBcUIsQ0FBd0I7SUFDN0MsVUFBVSxDQUFNO0lBQ2hCLFdBQVcsQ0FBTTtJQUNqQixZQUFZLENBQU07SUFDbEIsU0FBUyxDQUF5QztJQUNsRCxpQkFBaUIsQ0FBcUI7SUFDdEMsVUFBVSxDQUFNO0lBQ2hCLFVBQVUsQ0FBTTtJQUNoQixVQUFVLENBQU07SUFDaEIsT0FBTyxDQUFNO0lBQ2IsVUFBVSxDQUFNO0lBQ2hCLFFBQVEsQ0FBTTtJQUNkLFlBQVksQ0FBUztJQUNyQixTQUFTLENBQVM7SUFDbEIsUUFBUSxDQUFNO0lBQ2QsTUFBTSxDQUFNO0lBQ1osT0FBTyxHQUFHLEtBQUssQ0FBQztJQUNoQixnQkFBZ0IsQ0FBTTtJQUN0QixtQkFBbUIsQ0FBTTtJQUN6QixlQUFlLENBQU07SUFDckIsZUFBZSxDQUFNO0lBQ3JCLFdBQVcsQ0FBTTtJQUNqQixXQUFXLENBQWM7SUFDekIsVUFBVSxDQUFlO0lBQ3pCLGtCQUFrQixDQUFNO0lBQ3hCLFFBQVEsQ0FBVztJQUNLLHFCQUFxQixDQUFjO0lBQzNELGdCQUFnQixDQUFNO0lBQ3RCLGVBQWUsQ0FBTTtJQUNyQixxQkFBcUIsQ0FBbUI7SUFDeEMsa0JBQWtCLENBQW1CO0lBQ3JDLGFBQWEsQ0FBUTtJQUNyQixhQUFhLENBQW9DO0lBQ2pELGNBQWMsQ0FBTztJQUNyQixtQkFBbUIsQ0FBUTtJQUMzQixVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLFlBQVksQ0FBTTtJQUNsQixLQUFLLENBQU07SUFDWCxlQUFlLENBQVE7SUFDdkIsa0JBQWtCLEdBQVksS0FBSyxDQUFDO0lBQ3BDLGFBQWEsR0FBWSxJQUFJLENBQUM7SUFDOUIsZUFBZSxHQUFZLEtBQUssQ0FBQztJQUNqQyxZQUFZLEdBQVcsRUFBRSxDQUFDO0lBQzFCLGFBQWEsR0FBVyxFQUFFLENBQUM7SUFDM0IsVUFBVSxHQUFZLElBQUksQ0FBQztJQUMzQixlQUFlLENBQVM7SUFDeEIsZ0NBQWdDLENBQVM7SUFDekMsZ0JBQWdCLENBQU07SUFDdEIscUJBQXFCLENBQVM7SUFDOUIsYUFBYSxHQUFXLEVBQUUsQ0FBQztJQUMzQixjQUFjLEdBQVcsRUFBRSxDQUFDO0lBQzVCLG9CQUFvQixDQUFNO0lBQzFCLHVCQUF1QixDQUFNO0lBQzdCLFFBQVEsQ0FBTTtJQUNkLFNBQVMsQ0FBUztJQUNsQixXQUFXLENBQVM7SUFDcEIsVUFBVSxDQUFTO0lBQ25CLGVBQWUsR0FBVyxDQUFDLENBQUM7SUFDbkIsV0FBVyxDQUFNO0lBQzFCLGlCQUFpQixDQUFpQjtJQUNsQyxnQkFBZ0IsQ0FBNkI7SUFDN0MsaUJBQWlCLENBQWU7SUFDaEMsZUFBZSxHQUFXLEVBQUUsQ0FBQztJQUM3QixzQkFBc0IsR0FBWSxLQUFLLENBQUM7SUFDWCxjQUFjLENBQW1CO0lBQ3BCLDJCQUEyQixDQUFtQjtJQUNwRCxxQkFBcUIsQ0FBbUI7SUFDNUUsc0NBQXNDLEdBQVc7aUdBQzhDLENBQUM7SUFDaEcsV0FBVyxDQUFLO0lBQ2hCLG1CQUFtQixDQUFRO0lBQzNCLGdCQUFnQixDQUFLO0lBQ3JCLFlBQVksQ0FBSztJQUNqQixZQUFZLEdBQStCLEVBQUUsQ0FBQztJQUM5QyxpQkFBaUIsQ0FBUztJQUMxQixZQUNFLFFBQWtCLEVBQ1YsTUFBYyxFQUNkLEtBQXFCLEVBQ3JCLEtBQXdCLEVBQ3hCLEVBQXNCLEVBQ3RCLE9BQXNCLEVBQ3RCLGNBQW1DLEVBQ25DLFdBQStCLEVBQy9CLEtBQXNCLEVBQ3RCLHFCQUErQyxFQUMvQyxhQUE0QixFQUM1QixhQUE0QixFQUVDLElBQUk7UUFaakMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLFVBQUssR0FBTCxLQUFLLENBQWdCO1FBQ3JCLFVBQUssR0FBTCxLQUFLLENBQW1CO1FBQ3hCLE9BQUUsR0FBRixFQUFFLENBQW9CO1FBQ3RCLFlBQU8sR0FBUCxPQUFPLENBQWU7UUFDdEIsbUJBQWMsR0FBZCxjQUFjLENBQXFCO1FBQ25DLGdCQUFXLEdBQVgsV0FBVyxDQUFvQjtRQUMvQixVQUFLLEdBQUwsS0FBSyxDQUFpQjtRQUN0QiwwQkFBcUIsR0FBckIscUJBQXFCLENBQTBCO1FBQy9DLGtCQUFhLEdBQWIsYUFBYSxDQUFlO1FBQzVCLGtCQUFhLEdBQWIsYUFBYSxDQUFlO1FBSXBDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUU7WUFDN0QsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFBO2FBQ3RDO1FBQ0gsQ0FBQyxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsa0JBQWtCLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBcUIsa0JBQWtCLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQVcsUUFBUSxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFlLFlBQVksQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBZSxZQUFZLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBbUIsZ0JBQWdCLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBcUIsa0JBQWtCLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQWUsWUFBWSxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFZLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBYSxVQUFVLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBdUIsb0JBQW9CLENBQUMsQ0FBQztRQUNyRixJQUFJLENBQUMsV0FBVyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQWMsV0FBVyxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMscUJBQXFCLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBd0IscUJBQXFCLENBQUMsQ0FBQztRQUN4RixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRTNELElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3RELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQztZQUM5RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7U0FDM0Q7UUFDRCxJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQztRQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHO1lBQ2pCLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUU7WUFDN0MsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRTtZQUNqRCxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFO1lBQzFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUU7WUFDNUMsOERBQThEO1lBQzlELG9EQUFvRDtZQUNwRCxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFO1lBQ2hELEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUU7WUFDbEQsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRTtTQUNoRCxDQUFDO1FBQ0YsSUFBSSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7UUFDN0IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBR3JFLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztZQUNsRCxrQkFBa0IsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7U0FDL0MsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGVBQWU7UUFDYixNQUFNLGNBQWMsR0FBRyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFDN0UsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxRQUFRO1lBQzFDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNsRCxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUNyQixRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMzQixPQUFPLElBQUksQ0FBQzthQUNmO1lBQ0QsT0FBTyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQUNELE1BQU0sUUFBUSxHQUFHLENBQUMsYUFBYSxFQUFFLFFBQVEsRUFBRSxFQUFFO1lBQ3pDLEtBQUssTUFBTSxRQUFRLElBQUksYUFBYSxFQUFFO2dCQUNsQyxJQUFJLFFBQVEsQ0FBQyxJQUFJLEtBQUssV0FBVyxJQUFJLFFBQVEsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO29CQUM3RCxRQUFRLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTt3QkFDL0IsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxFQUFFLHdCQUF3QixFQUFFLFFBQVEsQ0FBQyxFQUFFOzRCQUM5RSxRQUFRLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFDM0MsQ0FBQyxDQUFDLEVBQUU7NEJBQ0EsUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO3lCQUN6QjtvQkFDTCxDQUFDLENBQUMsQ0FBQztpQkFDTjthQUNKO1FBQ0wsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxRQUFRLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRCxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDaEQsTUFBTSxTQUFTLEdBQUcsQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLEVBQUU7WUFDMUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDN0IsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFdBQVcsSUFBSSxRQUFRLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRTtvQkFDN0QsUUFBUSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQy9CLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7NEJBQ3JCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsd0JBQXdCLEVBQUUsUUFBUSxDQUFDLEVBQUU7Z0NBQ25ELFFBQVEsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDOzRCQUMzQyxDQUFDLENBQUMsQ0FBQzt5QkFDTjtvQkFDTCxDQUFDLENBQUMsQ0FBQztpQkFDTjtZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxTQUFTLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsRCxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDakQsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRTtZQUNuRSxNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDN0MsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDOU0sSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7YUFDeEI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7YUFDMUI7WUFDRCxJQUFJLENBQUMsWUFBWTtnQkFDZixJQUFJLENBQUMsWUFBWSxJQUFJLE9BQU8sSUFBSSxDQUFDLFlBQVksS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDbEcsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDNUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztnQkFDdEQsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDO2dCQUM1QyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUNoQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNqRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDNUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDO1lBQ2pELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7YUFDekI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7YUFDMUI7WUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ2pJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDOUgsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNwSSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ2pJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3pFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxN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QUFRO3NCQURQLFlBQVk7dUJBQUMsZUFBZSxFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHtcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSG9zdExpc3RlbmVyLFxyXG4gIEluamVjdCxcclxuICBJbmplY3RvcixcclxuICBJbnB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9wdGlvbmFsLFxyXG4gIE91dHB1dCxcclxuICBUZW1wbGF0ZVJlZixcclxuICBWaWV3Q2hpbGRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVW50eXBlZEZvcm1BcnJheSwgVW50eXBlZEZvcm1CdWlsZGVyLCBVbnR5cGVkRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZywgTWF0RGlhbG9nQ29uZmlnLCBNYXREaWFsb2dSZWYgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBNYXRNZW51VHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL21lbnUnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgRm9ybWlvQ29tcG9uZW50IH0gZnJvbSAnQGZvcm1pby9hbmd1bGFyJztcclxuaW1wb3J0IHsgc2VsZWN0LCBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgRHhEYXRhR3JpZENvbXBvbmVudCB9IGZyb20gJ2RldmV4dHJlbWUtYW5ndWxhcic7XHJcbmltcG9ydCBDdXN0b21TdG9yZSBmcm9tICdkZXZleHRyZW1lL2RhdGEvY3VzdG9tX3N0b3JlJztcclxuaW1wb3J0IHsgZXhwb3J0RGF0YUdyaWQgYXMgZXhwb3J0RGF0YUdyaWRUb1BkZiB9IGZyb20gJ2RldmV4dHJlbWUvcGRmX2V4cG9ydGVyJztcclxuaW1wb3J0ICogYXMganNQREYgZnJvbSAnanNwZGYnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC9tb21lbnQnO1xyXG5pbXBvcnQgeyBNdWx0aVNlbGVjdCB9IGZyb20gJ3ByaW1lbmcvbXVsdGlzZWxlY3QnO1xyXG5pbXBvcnQgZXM2cHJpbnRKUyBmcm9tICdwcmludC1qcyc7XHJcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IEFwcENvbnN0YW50cyB9IGZyb20gJy4uL0Bjb3JlL2NvbnN0YW50cy9hcHAtY29uc3RhbnRzJztcclxuaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuLi9AY29yZS9jb3JlLnN0YXRlJztcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL2xvY2FsLXN0b3JhZ2UvbG9jYWwtc3RvcmFnZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXR0YWNobWVudHNTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hdHRhY2htZW50cy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IER5bmFtaWNUYWJQYWdlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvZHluYW1pYy10YWItcGFnZS1zZXJ2aWNlJztcclxuaW1wb3J0IHsgRHluYW1pY3NlYXJjaFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2R5bmFtaWNzZWFyY2guc2VydmljZSc7XHJcbmltcG9ydCB7IEZvcm1pb1NlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2Zvcm1pby5zZXJ2aWNlJztcclxuaW1wb3J0IHsgTG9jYWxTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9sb2NhbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUGFnZUJ1aWxkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9wYWdlLWJ1aWxkZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IFBsYXRmb3JtRGF0YVN0b3JlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvcGxhdGZvcm0tZGF0YS1zdG9yZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRHluYW1pY1NlYXJjaFVSTCB9IGZyb20gJy4uL0Bjb3JlL3VybHMvZHluYW1pYy1zZWFyY2gtdXJsLmNvbmZpZyc7XHJcbmltcG9ydCB7IERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uL0BzaGFyZWQvZGVsZXRlL2RlbGV0ZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBwdWJsaXNoRXZlbnQgfSBmcm9tICcuLi9Ac2hhcmVkL21hc3Rlci12aWV3LXN0YXRlL21hc3Rlci12aWV3LmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBzZWxlY3RDb21wb25lbnRDb25maWdCeUlkLCBzZWxlY3RFdmVudCB9IGZyb20gJy4uL0BzaGFyZWQvbWFzdGVyLXZpZXctc3RhdGUvbWFzdGVyLXZpZXcuc2VsZWN0b3JzJztcclxuaW1wb3J0IHsgQ29tcG9uZW50U3RhdGUgfSBmcm9tICcuLi9Ac2hhcmVkL21hc3Rlci12aWV3LXN0YXRlL21hc3Rlci12aWV3LnN0YXRlJztcclxuaW1wb3J0IHsgRHluYW1pY1BhZ2VDb21wb25lbnQgfSBmcm9tICcuLi9keW5hbWljLXRhYi1wYWdlL2R5bmFtaWMtcGFnZS9keW5hbWljLXBhZ2UuY29tcG9uZW50JztcclxuaW1wb3J0IHsgU2hhcmVkU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2Uvc2hhcmVkLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9Db25maWdTZXJ2aWNlJztcclxuZGVjbGFyZSBsZXQgXyQ6IGFueTtcclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcbmNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gJ3RhcmdldC10YWItZmlsdGVyJztcclxuY29uc3QgUEFHRV9NT0RJRllfUk9VVEUgPSAnL3BhZ2VzL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5Lyc7XHJcbmNvbnN0IEZJTEVfRVhQT1JUX05BTUVfS0VZID0gJ0ZJTEUgRVhQT1JUIE5BTUUnO1xyXG5jb25zdCBHUklEX1VSTCA9ICcvc29sdXRpb24vZHluYW1pY3NlYXJjaC9zZWFyY2hpbnB1dC8nO1xyXG5jb25zdCBST0xFX0NQX1BVQkxJQyA9ICdyb2xlPUNQX1BVQkxJQyc7XHJcbmNvbnN0IFNUT1JBR0VfS0VZX0RZTkFNSUNfVEFCX1BBR0VTID0gJ2R5bmFtaWMtdGFiLXBhZ2VzJztcclxuY29uc3QgUE9QVVBfVFlQRV9PUEVOID0gJ09wZW4gUG9wVXAnO1xyXG5jb25zdCBGSUxURVJfSURfS0VZID0gJ2hvcml6YW50YWwtdGFiLWZpbHRlcic7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtZHluYW1pYy1zZWFyY2hjbGVhbnVwJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vZHluYW1pYy1zZWFyY2hjbGVhbnVwLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9keW5hbWljLXNlYXJjaGNsZWFudXAuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRHluYW1pY1NlYXJjaENsZWFudXBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSwgQWZ0ZXJWaWV3SW5pdCB7XHJcbiAgQFZpZXdDaGlsZCgnc2VhcmNoY3JpdGVyaWFtZW51dHJpZ2dlcicpIHNlYXJjaGNyaXRlcmlhbWVudXRyaWdnZXI6IE1hdE1lbnVUcmlnZ2VyO1xyXG4gIEBWaWV3Q2hpbGQoRHhEYXRhR3JpZENvbXBvbmVudCwgeyBzdGF0aWM6IGZhbHNlIH0pIGRhdGFHcmlkOiBEeERhdGFHcmlkQ29tcG9uZW50O1xyXG4gIHByaXZhdGUgZWRpdFBvcFVwRGlhbG9nUmVmOiBNYXREaWFsb2dSZWY8VGVtcGxhdGVSZWY8YW55Pj47XHJcbiAgQElucHV0KClcclxuICBmb3JtSWQ6IGFueTtcclxuICBqc29uRm9ybTogYW55O1xyXG4gIHNvdXJjZWlkOiBzdHJpbmc7XHJcbiAgZnJvbVRpdGxlOiBhbnk7XHJcbiAgc3VibWl0dGVkRGF0YTogYW55O1xyXG4gIHRhYmxlQ29sdW1uczogYW55O1xyXG4gIHRvdGFsY291bnQ6IGFueTtcclxuICBASW5wdXQoKSBwYWdlSWQ6IGFueTtcclxuICBpbnB1dEZpZWxkSWQ6IGFueTtcclxuICBpbnB1dElkOiBhbnk7XHJcbiAgdXJsOiBzdHJpbmc7XHJcbiAgZGF0YVNvdXJjZTogYW55O1xyXG4gIHBvcHVwUG9zaXRpb246IGFueTtcclxuICBwYWdlVHlwZTogYW55O1xyXG4gIHNlYXJjaENyaXRlcmlhOiBhbnk7XHJcbiAgc2VhcmNoQ3JpdGVyaWFBcnI6IGFueTtcclxuICBsYXlvdXR0eXBlID0gJ3ZlcnRpY2FsJztcclxuICBpZDogYW55O1xyXG4gIHNlYXJjaHBhcmFtczogYW55O1xyXG4gIHRhcmdldElkOiBhbnk7XHJcbiAgY29sdW1uczogYW55O1xyXG4gIHVwZGF0ZUdyaWQ6IGFueTtcclxuICB0b3RhbENvdW50OiBudW1iZXI7XHJcbiAgZHVibGljYXRlR3JpZENvbmZpZzogYW55W107XHJcbiAgY29sdW1uSGVhZGVyOiBhbnk7XHJcbiAgc3BsaXRlclNpemUgPSAwO1xyXG4gIGdyaWRzcGxpdGVyU2l6ZSA9IDEwMDtcclxuICBpc09wZW4gPSB0cnVlO1xyXG4gIGljb24gPSAnJztcclxuICBvcGVuY2xvc2UgPSAnJztcclxuICB1c2VyOiBhbnk7XHJcbiAgaXNBZGRCdXR0b24gPSBmYWxzZTtcclxuICBwYWdlU2F2ZUlEID0gJyc7XHJcbiAgc2hvd0ZpbHRlclJvd1BhbmVsOiBib29sZWFuO1xyXG4gIHBvcHVwRGF0YTogc3RyaW5nO1xyXG4gIEBWaWV3Q2hpbGQoJ2NhbGxEaWFsb2dQb3B1cCcpIGNhbGxEaWFsb2dQb3B1cDogVGVtcGxhdGVSZWY8YW55PjtcclxuICBwcml2YXRlIHBvcHVwRGlhbG9nUmVmOiBNYXREaWFsb2dSZWY8VGVtcGxhdGVSZWY8YW55Pj47XHJcbiAgc2hvd0FjdGlvbkNvbHVtbjogYm9vbGVhbjtcclxuICBlZGl0SWQ6IGFueTtcclxuICBpc0RpYWxvZ1BvcHVwOiBib29sZWFuO1xyXG4gIGl0ZW06IGFueTtcclxuICBzaG93R3JpZFBhZ2UgPSB0cnVlO1xyXG4gIG1hbnVhbFBvc3RBcGlVcmw6IHN0cmluZztcclxuICAvLyAjY2hlY2sgbW9kdWxlaWRcclxuICBtb2R1bGVpZDogc3RyaW5nO1xyXG4gIHB1cnBvc2U6IHN0cmluZztcclxuICBpc1Nob3dGb3JtUGFnZSA9IGZhbHNlO1xyXG4gIEBPdXRwdXQoKSBvdXRlclJvdXRpbmcgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICB1c2VyQWN0aW9uOiBhbnk7XHJcbiAgcm93RGF0YTogYW55O1xyXG4gIGNoZWNrQm94ZXNNb2RlOiBzdHJpbmc7XHJcbiAgZ3JpZFR5cGU6IHN0cmluZztcclxuICBzaG93RXhwb3J0ID0gZmFsc2U7XHJcbiAgZHJvcGRvd25WYWx1ZXM6IGFueTtcclxuICBncmlkT3B0aW9uczogeyB2YWx1ZTogc3RyaW5nOyBsYWJlbDogc3RyaW5nOyBjb2RlOiBzdHJpbmcgfVtdO1xyXG4gIGZpbHRlck9wdGlvbnM6IGFueVtdO1xyXG4gIHNlbGVjdGVkRmlsdGVyOiBhbnlbXTtcclxuICBmaWx0ZXJGb3JtITogVW50eXBlZEZvcm1Hcm91cDtcclxuICBncmlkQ29uZmlnOiBhbnk7XHJcbiAgdGVtcGFDb25maWc6IGFueTtcclxuICByZW9yZGVyQ29sdW1uczogYW55O1xyXG4gIHN0b3JhZ2U6IExvY2FsU2VydmljZTtcclxuICBkYXRhU3RvcmVTZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlO1xyXG4gIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlO1xyXG4gIGRpYWxvZzogTWF0RGlhbG9nO1xyXG4gIGh0dHA6IEh0dHBDbGllbnQ7XHJcbiAgc2NyZWVuV2lkdGg6IG51bWJlcjtcclxuICBjdXJyZW50UGFnZUlkOiB2b2lkO1xyXG4gIGRpc3BsYXlNb2RlOiBzdHJpbmc7XHJcbiAgaXNSZXNpemU6IGJvb2xlYW47XHJcbiAgaXNVc2VyUHJlZmVyZW5jZUNoYW5nZTogYm9vbGVhbjtcclxuICBAVmlld0NoaWxkKCdmb3JtSU8nKVxyXG4gIGZvcm1JTzogRm9ybWlvQ29tcG9uZW50O1xyXG4gIGR5bmFtaWNTZWFyY2hTZXJ2aWNlOiBEeW5hbWljc2VhcmNoU2VydmljZTtcclxuICBkeW5hbWljVGFiUGFnZVNlcnZpY2U6IER5bmFtaWNUYWJQYWdlU2VydmljZTtcclxuICBzZXF1ZW5jZUlkOiBhbnk7XHJcbiAgY29sdW1uV2lkdGg6IGFueTtcclxuICB1cGxvYWRlZEZpbGU6IGFueTtcclxuICBpbWFnZURhdGE6IHsgY29udGVudFR5cGU6IGFueTsgZmlsZU5hbWU6IHN0cmluZyB9O1xyXG4gIGF0dGFjaG1lbnRTZXJ2aWNlOiBBdHRhY2htZW50c1NlcnZpY2U7XHJcbiAgcGFyYW12YWx1ZTogYW55O1xyXG4gIHBhcmFtZmllbGQ6IGFueTtcclxuICB0YWJsZWZpZWxkOiBhbnk7XHJcbiAgdG9UYWJJZDogYW55O1xyXG4gIHVuaXF1ZWRhdGE6IGFueTtcclxuICBwYWdlTGlzdDogYW55O1xyXG4gIGlzVmlld0VuYWJsZTogc3RyaW5nO1xyXG4gIGljb25DbGFzczogc3RyaW5nO1xyXG4gIHRpdGxldGFiOiBhbnk7XHJcbiAgaGVhZGVyOiBhbnk7XHJcbiAgb3BlblRhYiA9IGZhbHNlO1xyXG4gIHNlbGVjdGVkUm93SW5kZXg6IGFueTtcclxuICBzZWxlY3RlZENvbHVtbkluZGV4OiBhbnk7XHJcbiAgc2VsZWN0ZWRDYXB0aW9uOiBhbnk7XHJcbiAgc2VsZWN0ZWRSb3dEYXRhOiBhbnk7XHJcbiAgaHR0cFNlcnZpY2U6IGFueTtcclxuICBhdXRoU2VydmljZTogQXV0aFNlcnZpY2U7XHJcbiAgbG9jYWxzdG9yZTogTG9jYWxTZXJ2aWNlO1xyXG4gIHBhZ2VCdWlsZGVyU2VydmljZTogYW55O1xyXG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcclxuICBAVmlld0NoaWxkKE11bHRpU2VsZWN0KSBmaWx0ZXJPcHRpb25zRHJvcGRvd246IE11bHRpU2VsZWN0O1xyXG4gIHJlZ2lzdHJhdGlvbkluZm86IGFueTtcclxuICBjaGVja0dyaWRDb25maWc6IGFueTtcclxuICBncmlkRHluYW1pY1NlYXJjaEZvcm06IFVudHlwZWRGb3JtR3JvdXA7XHJcbiAgZHluYW1pY1NlYXJjaEFycmF5OiBVbnR5cGVkRm9ybUFycmF5O1xyXG4gIGR5bmFtaWNTZWFyY2g6IGFueVtdO1xyXG4gIHRhYmxlRHJvcERvd246IHsgbmFtZTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH1bXTtcclxuICBjb2x1bW5Ecm9wRG93bjoge31bXTtcclxuICBkeW5hbWljU2VhcmNoUmVzdWx0OiBhbnlbXTtcclxuICBjcml0ZXJpYUlkID0gMDtcclxuICBzYXZlQnV0dG9uRGlzYWJsZSA9IHRydWU7XHJcbiAgYXNzb2NpYXRlZElkOiBhbnk7XHJcbiAgaXNCR1A6IGFueTtcclxuICB5b3V0aFNlYXJjaEpzb246IGFueVtdO1xyXG4gIHlvdXRoU2VhcmNoQm9vbGVhbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGlzSW5pdGlhbExvYWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIGlzRGVsZXRlUmVxdWlyZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGlzRGVsZXRlVGltZTogbnVtYmVyID0gMTU7XHJcbiAgZW50ZXJlZFJlYXNvbjogc3RyaW5nID0gJyc7XHJcbiAgaXNEaXNhYmxlZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgRGVsZXRlQ29uZmlnVVJMOiBzdHJpbmc7XHJcbiAgdXBkYXRlQnlJZEFuZFBhZ2VJZFdpdGhSZWFzb25VUkw6IHN0cmluZztcclxuICBkZWxldGVDb25maWdEYXRhOiBhbnk7XHJcbiAgRGVsZXRlUmV2ZXJ0Q29uZmlnVVJMOiBzdHJpbmc7XHJcbiAgZGVsZXRlZFJlYXNvbjogc3RyaW5nID0gJyc7XHJcbiAgcHJpbWFyeV9jb2x1bW46IHN0cmluZyA9ICcnO1xyXG4gIGFkbWluQWNjZXNzRm9yRGVsZXRlOiBhbnk7XHJcbiAgaXNDb25kaXRpb25hbEVkaXREZWxldGU6IGFueTtcclxuICBwYWdlbmFtZTogYW55O1xyXG4gIHNvdXJjZUtleTogc3RyaW5nO1xyXG4gIHNvdXJjZVZhbHVlOiBzdHJpbmc7XHJcbiAgc291cmNlVHlwZTogc3RyaW5nO1xyXG4gIGN1cnJlbnRQYWdlU2l6ZTogbnVtYmVyID0gNTtcclxuICBASW5wdXQoKSBjb21wb25lbnRJZDogYW55O1xyXG4gIHNlbGVjdGVkQ29tcG9uZW50OiBDb21wb25lbnRTdGF0ZTtcclxuICBjb21wb25lbnRDb25maWckOiBPYnNlcnZhYmxlPENvbXBvbmVudFN0YXRlPjtcclxuICBldmVudFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG4gIGRlbGV0ZVBvcHVwVGV4dDogc3RyaW5nID0gJyc7XHJcbiAgaXNFZGl0VGhyZXNob2xkUmVxdWlyZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBWaWV3Q2hpbGQoJ0RlbGV0ZUdyaWRMaXN0JykgRGVsZXRlR3JpZExpc3Q6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgQFZpZXdDaGlsZCgnRGVsZXRlR3JpZExpc3RXaXRob3V0UmVhc29uJykgRGVsZXRlR3JpZExpc3RXaXRob3V0UmVhc29uOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIEBWaWV3Q2hpbGQoJ0FwcHJvdmVEZWxldGVHcmlkTGlzdCcpIEFwcHJvdmVEZWxldGVHcmlkTGlzdDogVGVtcGxhdGVSZWY8YW55PjtcclxuICBEZWZhdWx0RGVsZXRlUG9wdXBUZXh0QWZ0VGhyZXNob2xkVGltZTogU3RyaW5nID0gYFlvdSBhcmUgcmVxdWVzdGluZyB0byByZW1vdmUgYSBZb3V0aCdzIHBoeXNpY2FsIGRlc2NyaXB0aW9uLiBBIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHNlbnQgdG8geW91ciBTZWN1cml0eSBDb29yZGluYXRvciB0byByZXZpZXcgdGhpcyByZXF1ZXN0IGFuZCByZW1vdmUgdGhlIGRlc2NyaXB0aW9uIGlmIGFwcHJvcHJpYXRlLlxyXG4gIEVudGVyIHRoZSByZWFzb24gZm9yIHRoZSByZW1vdmFsIHJlcXVlc3QuIFRoZSByZWFzb24gY2Fubm90IGNvbnRhaW4gbW9yZSB0aGFuIDQwMDAgY2hhcmFjdGVycy5gO1xyXG4gIGVudmlyb25tZW50OmFueTtcclxuICBidXNpbmVzc1J1bGVNZXNzYWdlOnN0cmluZztcclxuICBncmlkQWN0aW9uUGFyYW1zOmFueTtcclxuICBhbGxVcmxQYXJhbXM6YW55O1xyXG4gIHNob3dNb3JlVGV4dDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcclxuICB0cnVuY2F0ZVRleHRWYWx1ZTogbnVtYmVyO1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcclxuICAgIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxyXG4gICAgcHJpdmF0ZSBjZHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgICBwcml2YXRlIGZiOiBVbnR5cGVkRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIF9mb3JtSU86IEZvcm1pb1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIHN0b3JhZ2VTZXJ2aWNlOiBMb2NhbFN0b3JhZ2VTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogVW50eXBlZEZvcm1CdWlsZGVyLFxyXG4gICAgcHJpdmF0ZSBzdG9yZTogU3RvcmU8QXBwU3RhdGU+LFxyXG4gICAgcHJpdmF0ZSBfUGxhdGZvcm1TdG9yZXNlcnZpY2U6IFBsYXRmb3JtRGF0YVN0b3JlU2VydmljZSxcclxuICAgIHByaXZhdGUgc2hhcmVkU2VydmljZTogU2hhcmVkU2VydmljZSxcclxuICAgIHByaXZhdGUgY29uZmlnU2VydmljZTogQ29uZmlnU2VydmljZSxcclxuXHJcbiAgICBAT3B0aW9uYWwoKSBASW5qZWN0KE1BVF9ESUFMT0dfREFUQSkgZGF0YVxyXG4gICkge1xyXG4gICAgdGhpcy5fUGxhdGZvcm1TdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSByZXNbJ1JCQUNPUkcnXTtcclxuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlID0gcmVzWydIVFRQU0VSVklDRSddXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICB0aGlzLnBhZ2VCdWlsZGVyU2VydmljZSA9IGluamVjdG9yLmdldDxQYWdlQnVpbGRlclNlcnZpY2U+KFBhZ2VCdWlsZGVyU2VydmljZSk7XHJcbiAgICB0aGlzLmxvY2F0aW9uID0gaW5qZWN0b3IuZ2V0PExvY2F0aW9uPihMb2NhdGlvbik7XHJcbiAgICB0aGlzLmxvY2Fsc3RvcmUgPSBpbmplY3Rvci5nZXQ8TG9jYWxTZXJ2aWNlPihMb2NhbFNlcnZpY2UpO1xyXG4gICAgdGhpcy5zdG9yYWdlID0gaW5qZWN0b3IuZ2V0PExvY2FsU2VydmljZT4oTG9jYWxTZXJ2aWNlKTtcclxuICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZSA9IGluamVjdG9yLmdldDxEYXRhU3RvcmVTZXJ2aWNlPihEYXRhU3RvcmVTZXJ2aWNlKTtcclxuICAgIHRoaXMuYXR0YWNobWVudFNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8QXR0YWNobWVudHNTZXJ2aWNlPihBdHRhY2htZW50c1NlcnZpY2UpO1xyXG4gICAgdGhpcy5hbGVydFNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8QWxlcnRTZXJ2aWNlPihBbGVydFNlcnZpY2UpO1xyXG4gICAgdGhpcy5kaWFsb2cgPSBpbmplY3Rvci5nZXQ8TWF0RGlhbG9nPihNYXREaWFsb2cpO1xyXG4gICAgdGhpcy5odHRwID0gaW5qZWN0b3IuZ2V0PEh0dHBDbGllbnQ+KEh0dHBDbGllbnQpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZSA9IGluamVjdG9yLmdldDxEeW5hbWljc2VhcmNoU2VydmljZT4oRHluYW1pY3NlYXJjaFNlcnZpY2UpO1xyXG4gICAgdGhpcy5hdXRoU2VydmljZSA9IGluamVjdG9yLmdldDxBdXRoU2VydmljZT4oQXV0aFNlcnZpY2UpO1xyXG4gICAgdGhpcy51c2VyID0gdGhpcy5zdG9yYWdlLmdldE9iaigndXNlcicpO1xyXG4gICAgdGhpcy51c2VyQWN0aW9uID0gdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLmdldERhdGEoJ3VzZXJBY3Rpb24nKTtcclxuICAgIHRoaXMubWFudWFsUG9zdEFwaVVybCA9ICcnO1xyXG4gICAgdGhpcy5keW5hbWljVGFiUGFnZVNlcnZpY2UgPSBpbmplY3Rvci5nZXQ8RHluYW1pY1RhYlBhZ2VTZXJ2aWNlPihEeW5hbWljVGFiUGFnZVNlcnZpY2UpO1xyXG4gICAgdGhpcy5pc1ZpZXdFbmFibGUgPSB0aGlzLmxvY2Fsc3RvcmUuZ2V0T2JqKCdpc1ZpZXdFbmFibGUnKTtcclxuXHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICB0aGlzLnBhZ2VJZCA9IGRhdGEucGFnZUlkID8gZGF0YS5wYWdlSWQgOiB0aGlzLnBhZ2VJZDtcclxuICAgICAgdGhpcy5pbnB1dEZpZWxkSWQgPSBkYXRhLmlucHV0RmllbGRJZCA/IGRhdGEuaW5wdXRGaWVsZElkIDogdGhpcy5pbnB1dEZpZWxkSWQ7XHJcbiAgICAgIHRoaXMuaW5wdXRJZCA9IGRhdGEuaW5wdXRJZCA/IGRhdGEuaW5wdXRJZCA6IHRoaXMuaW5wdXRJZDtcclxuICAgIH1cclxuICAgIHRoaXMuY2hlY2tCb3hlc01vZGUgPSAnYWx3YXlzJztcclxuICAgIHRoaXMuZ3JpZE9wdGlvbnMgPSBbXHJcbiAgICAgIHsgbGFiZWw6ICdTb3J0aW5nJywgdmFsdWU6ICdzb3J0JywgY29kZTogJycgfSxcclxuICAgICAgeyBsYWJlbDogJ0ZpbHRlcmluZycsIHZhbHVlOiAnZmlsdGVyJywgY29kZTogJycgfSxcclxuICAgICAgeyBsYWJlbDogJ0hpZGUnLCB2YWx1ZTogJ2hpZGUnLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnRml4ZWQnLCB2YWx1ZTogJ2ZpeGVkJywgY29kZTogJycgfSxcclxuICAgICAgLy8geyBsYWJlbDogJ0RlZmF1bHQgQ29sdW1ucycsIHZhbHVlOiAnQ2hvb3NhYmxlJywgY29kZTogJycgfSxcclxuICAgICAgLy8geyBsYWJlbDogJ1Zpc2libGUnLCB2YWx1ZTogJ3Zpc2libGUnLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnRGF0ZScsIHZhbHVlOiAnZGF0ZUZvcm1hdCcsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdNb2JpbGUnLCB2YWx1ZTogJ21vYmlsZVZpZXcnLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnVGFibGV0JywgdmFsdWU6ICd0YWJWaWV3JywgY29kZTogJycgfVxyXG4gICAgXTtcclxuICAgIHRoaXMuZGlzcGxheU1vZGUgPSAnY29tcGFjdCc7XHJcbiAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgndXBsb2FkRnJvbUdyaWQnLCBmYWxzZSk7XHJcbiAgICB0aGlzLnRpdGxldGFiID0gSlNPTi5wYXJzZSh0aGlzLmxvY2Fsc3RvcmUuZ2V0SXRlbSgndGl0bGV0YWInKSk7XHJcbiAgICB0aGlzLmhlYWRlciA9IEpTT04ucGFyc2UodGhpcy5sb2NhbHN0b3JlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpKTtcclxuXHJcblxyXG4gICAgdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgZHluYW1pY1NlYXJjaEFycmF5OiB0aGlzLmZvcm1CdWlsZGVyLmFycmF5KFtdKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XHJcbiAgICBjb25zdCBvYnNlcnZlckNvbmZpZyA9IHsgYXR0cmlidXRlczogZmFsc2UsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc05vZGUobm9kZSwgY2xhc3NOYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkge1xyXG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBwcm9jZXNzTm9kZShub2RlLCAnLmR4LWNoZWNrYm94LWNvbnRhaW5lcicsIGNoZWNrYm94ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7XHJcbiAgICBjb25zdCBjYWxsYmFjazIgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICBtdXRhdGlvbnNMaXN0LmZvckVhY2gobXV0YXRpb24gPT4ge1xyXG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcgJiYgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzTm9kZShub2RlLCAnLmR4LWNoZWNrYm94LWNvbnRhaW5lcicsIGNoZWNrYm94ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG9ic2VydmVyMiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrMik7XHJcbiAgICBvYnNlcnZlcjIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCBvYnNlcnZlckNvbmZpZyk7XHJcbiAgICBjb21iaW5lTGF0ZXN0KFt0aGlzLnJvdXRlLnF1ZXJ5UGFyYW1zIF0pLnN1YnNjcmliZSgoW3F1ZXJ5UGFyYW1zXSkgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZUlkID0gcXVlcnlQYXJhbXNbJ3Jlc3BvbnNlSWQnXTtcclxuICAgICAgaWYgKHRoaXMucm91dGUuc25hcHNob3Qucm91dGVDb25maWcucGF0aC5pbmRleE9mKCd2aWV3JykgPiAtMSAmJiAodGhpcy5yb3V0ZS5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRoLmluZGV4T2YoJ21hc3Rlci12aWV3JykgPT09IC0xIHx8IHRoaXMucm91dGUuc25hcHNob3Qucm91dGVDb25maWcucGF0aC5pbmRleE9mKCdjb21wb3NpdGUtcGFnZScpID09PSAtMSkpIHtcclxuICAgICAgICB0aGlzLmdyaWRUeXBlID0gJ3ZpZXcnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZ3JpZFR5cGUgPSAnc2VhcmNoJztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnRhYmxlQ29sdW1ucyA9XHJcbiAgICAgICAgdGhpcy50YWJsZUNvbHVtbnMgJiYgdHlwZW9mIHRoaXMudGFibGVDb2x1bW5zID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGhpcy50YWJsZUNvbHVtbnMpIDogJyc7XHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZCA9IHRoaXMudXBkYXRlR3JpZCAmJiB0eXBlb2YgdGhpcy51cGRhdGVHcmlkID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGhpcy51cGRhdGVHcmlkKSA6ICcnO1xyXG4gICAgICB0aGlzLmZvcm1JZCA9IHRoaXMucm91dGUuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdwYWdlSWQnKVxyXG4gICAgICAgID8gdGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VJZCcpXHJcbiAgICAgICAgOiB0aGlzLnBhZ2VJZDtcclxuICAgICAgdGhpcy5pbnB1dEZpZWxkSWQgPSB0aGlzLmlucHV0RmllbGRJZCA/IHRoaXMuaW5wdXRGaWVsZElkIDogbnVsbDtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2FibGVEYXRhID0gdGhpcy5pbnB1dEZpZWxkSWQ7XHJcbiAgICAgIHRoaXMucm93RGF0YSA9IHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uucm93RGF0YTtcclxuICAgICAgaWYgKHRoaXMucm91dGUuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdwYWdlU2F2ZUlEJykpIHtcclxuICAgICAgICB0aGlzLmlzQWRkQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmlzQWRkQnV0dG9uID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5wYWdlU2F2ZUlEID0gdGhpcy5yb3V0ZS5wYXRoRnJvbVJvb3Q/LmZpbmQoeCA9PiB4LnNuYXBzaG90LnBhcmFtTWFwLmhhcygncGFnZVNhdmVJRCcpKT8uc25hcHNob3QucGFyYW1NYXAuZ2V0KCdwYWdlU2F2ZUlEJyk7XHJcbiAgICAgIHRoaXMuc291cmNlS2V5ID0gdGhpcy5yb3V0ZS5wYXRoRnJvbVJvb3Q/LmZpbmQoeCA9PiB4LnNuYXBzaG90LnBhcmFtTWFwLmhhcygnc291cmNlS2V5JykpPy5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3NvdXJjZUtleScpO1xyXG4gICAgICB0aGlzLnNvdXJjZVZhbHVlID0gdGhpcy5yb3V0ZS5wYXRoRnJvbVJvb3Q/LmZpbmQoeCA9PiB4LnNuYXBzaG90LnBhcmFtTWFwLmhhcygnc291cmNlVmFsdWUnKSk/LnNuYXBzaG90LnBhcmFtTWFwLmdldCgnc291cmNlVmFsdWUnKTtcclxuICAgICAgdGhpcy5zb3VyY2VUeXBlID0gdGhpcy5yb3V0ZS5wYXRoRnJvbVJvb3Q/LmZpbmQoeCA9PiB4LnNuYXBzaG90LnBhcmFtTWFwLmhhcygnc291cmNlVHlwZScpKT8uc25hcHNob3QucGFyYW1NYXAuZ2V0KCdzb3VyY2VUeXBlJyk7XHJcbiAgICAgIHRoaXMubW9kdWxlaWQgPSB0aGlzLnJvdXRlLnBhcmVudC5wYXJlbnQuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdtb2R1bGUnKTtcclxuICAgICAgdGhpcy5wdXJwb3NlID0gdGhpcy5yb3V0ZS5wYXJlbnQucGFyZW50LnNuYXBzaG90LnBhcmFtTWFwLmdldCgncHVycG9zZScpO1xyXG4gICAgICB0aGlzLmdldFRlbXBsYXRlKHJlc3BvbnNlSWQpO1xyXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZyQgPSB0aGlzLnN0b3JlLnBpcGUoc2VsZWN0KHNlbGVjdENvbXBvbmVudENvbmZpZ0J5SWQodGhpcy5jb21wb25lbnRJZCkpKTtcclxuICAgICAgdGhpcy5jb21wb25lbnRDb25maWckLnN1YnNjcmliZShkYXRhID0+IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQgPSBkYXRhKTtcclxuICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbiA9IHRoaXMuc3RvcmUucGlwZShzZWxlY3Qoc2VsZWN0RXZlbnQpKS5zdWJzY3JpYmUoZXZlbnQgPT4ge1xyXG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5ldmVudE5hbWUgPT09ICdzdWJtaXQnICYmIGV2ZW50LnBheWxvYWQuc2V0dGluZ3Mub25TdWJtaXRSZWZyZXNoXHJcbiAgICAgICAgICAmJiBldmVudC5wYXlsb2FkLnNldHRpbmdzLm9uU3VibWl0UmVmcmVzaFdpZGdldHMpIHtcclxuICAgICAgICAgICAgZXZlbnQucGF5bG9hZC5zZXR0aW5ncy5vblN1Ym1pdFJlZnJlc2hXaWRnZXRzLmZvckVhY2goeCA9PntcclxuICAgICAgICAgICAgaWYoeC5wYWdlVHlwZSA9PSAnQkdQJykgdGhpcy5wYWdlSWQgPSB4LmlkO1xyXG4gICAgICAgICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyogQ2xlYXIgZGF0YSB3aGlsZSBwYWdlIG5hdmlnYXRpb24gKi9cclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2xpY2tlZFJvd0RhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5zY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgY29uc3QgUkVHSVNUUkFUSU9OID0gdGhpcy5zdG9yYWdlU2VydmljZS5nZXRJdGVtKCdSRUdJU1RSQVRJT04nKTtcclxuICAgIGlmIChSRUdJU1RSQVRJT04pIHtcclxuICAgICAgdGhpcy5yZWdpc3RyYXRpb25JbmZvID0gSlNPTi5wYXJzZShSRUdJU1RSQVRJT04pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKCFPYmplY3Qua2V5cyh0aGlzLmFsbFVybFBhcmFtcyk/Lmxlbmd0aCl7XHJcbiAgICAgIHRoaXMucm91dGUucGF0aEZyb21Sb290Py5mb3JFYWNoKHggPT4ge1xyXG4gICAgICAgIHgucGFyYW1zLnN1YnNjcmliZSh5ID0+IHkgJiYgT2JqZWN0LmtleXMoeSkubGVuZ3RoID8gT2JqZWN0LmFzc2lnbih0aGlzLmFsbFVybFBhcmFtcywgeSkgOiBudWxsKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmdyaWRDb25maWcgPSAnJztcclxuICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdFZGl0R3JpZFBhZ2VJRCcsICcnKTtcclxuICAgIHRoaXMucG9wdXBQb3NpdGlvbiA9IHsgb2Y6IHdpbmRvdywgYXQ6ICd0b3AnLCBteTogJ3RvcCcsIG9mZnNldDogeyB5OiAxMCB9IH07XHJcbiAgICB0aGlzLmNvbHVtbnM/LmZvckVhY2goY29sdW1uID0+IHtcclxuICAgICAgaWYgKGNvbHVtbi52aXNpYmxlID09PSB1bmRlZmluZWQgfHwgY29sdW1uLnZpc2libGUgPT09IFwiXCIpIHtcclxuICAgICAgICBjb2x1bW4udmlzaWJsZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2U/LmNsaWNrZWRJZERhdGEgPT09IHRydWUpIHtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2VkSWREYXRhID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvYWRGaWx0ZXJGb3JtKCk7XHJcbiAgICB0aGlzLnJlbW92ZUFsbER5bmFtaWNTZWFyY2hDb25kdGlvbigpO1xyXG4gICAgLy8gdGhpcy5sb2NhbHN0b3JlLnJlbW92ZUl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpXHJcbiAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnZ3JpZEFjdGlvbicsICcnKTtcclxuXHJcbiAgICB0aGlzLnRydW5jYXRlVGV4dFZhbHVlID0gdGhpcy5jb25maWdTZXJ2aWNlLmdldFZhbHVlKCk7IC8vIEdldCB0aGUgdmFsdWVcclxuICB9XHJcblxyXG4gIGxvYWRGaWx0ZXJGb3JtKCkge1xyXG4gICAgdGhpcy5maWx0ZXJGb3JtID0gdGhpcy5mYi5ncm91cCh7XHJcbiAgICAgIHNlbGVjdGVkRmlsdGVyOiBbJyddXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCgpIHtcclxuICAgIHRoaXMuY2RyZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gIH1cclxuXHJcbiAgcmVkaXJlY3QoKSB7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbUEFHRV9NT0RJRllfUk9VVEUgKyB0aGlzLnBhZ2VTYXZlSURdKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBnZXRUZW1wbGF0ZShyZXNwb25zZUlkPzogYW55KSB7XHJcbiAgICB0aGlzLnJlbW92ZUFsbER5bmFtaWNTZWFyY2hDb25kdGlvbigpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5nZXRUZW1wbGF0ZSh0aGlzLmZvcm1JZCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICBjb25zdCBncmlkUGFnZUluZm8gPSB7XHJcbiAgICAgICAgICBpZDogdGhpcy5mb3JtSWQsXHJcbiAgICAgICAgICBuYW1lOiByZXN1bHRbJ2RhdGEnXVsncGFnZW5hbWUnXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5pc0JHUCA9IHJlc3VsdFsnZGF0YSddPy5wYWdlRGV0YWlscz8ucGFnZXR5cGU7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNCR1AgJiYgdGhpcy5pc0JHUCA9PSAnQkdQJykge1xyXG4gICAgICAgICAgdGhpcy5hc3NvY2lhdGVkSWQgPSByZXN1bHRbJ2RhdGEnXT8ucGFnZWlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFRlbXBsYXRlKHJlc3VsdFsnZGF0YSddKTtcclxuICAgICAgICB0aGlzLmlzQ29uZGl0aW9uYWxFZGl0RGVsZXRlICA9IHJlc3VsdFsnZGF0YSddWydpc0NvbmRpdGlvbmFsRWRpdERlbGV0ZSddO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2VJZCA9IHJlc3VsdFsnZGF0YSddWydwYWdlaWQnXTtcclxuICAgICAgICB0aGlzLnNlcXVlbmNlSWQgPSByZXN1bHRbJ2RhdGEnXVsnaWQnXTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSgncGFyZW50R3JpZFBhZ2UnLCBKU09OLnN0cmluZ2lmeShncmlkUGFnZUluZm8pKTtcclxuICAgICAgICB0aGlzLmdldFVzZXJHcmlkQ29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5nZXRHcmlkKHJlc3BvbnNlSWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZ2V0UGFnZVRhYnMoX3BhZ2VJZCwgc291cmNlVHlwZSwgc291cmNlS2V5LCBzb3VyY2VWYWx1ZSwgX3lvdXRoSWQsIG5hdmlnYXRpb25TdGF0ZT86IGFueSkge1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5nZXRQYWdlVGFicyhfcGFnZUlkKS5zdWJzY3JpYmUoKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICBjb25zdCB0YWJJZCA9IHJlc3VsdC5kYXRhWzBdLmFjdGl2ZVZlcnNpb24uaWQ7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5kYXRhWzBdLmFjdGl2ZVZlcnNpb24udGFiY29uZmlnKSB7XHJcbiAgICAgICAgICBjb25zdCBwYXJlbnRHcmlkUGFnZSA9IHtcclxuICAgICAgICAgICAgaWQ6IHRoaXMuZm9ybUlkLFxyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLmZyb21UaXRsZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKCdiYWNrVG9HcmlkUGFnZScsIEpTT04uc3RyaW5naWZ5KHBhcmVudEdyaWRQYWdlKSk7XHJcbiAgICAgICAgICBuYXZpZ2F0aW9uU3RhdGUuaXNIaWRlQmFjayA9IHRydWU7XHJcbiAgICAgICAgICBsZXQgdXJsID0gJyc7XHJcbiAgICAgICAgICBpZiAocmVzdWx0LmRhdGFbMF0ucGFnZXR5cGUgPT09ICdSQlRQJykge1xyXG4gICAgICAgICAgICB1cmwgPSAnL3BhZ2VzL2R5bmFtaWMtcm91dGluZy90YWIvJztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvcGFnZXMvZHluYW1pY3BhZ2UvdGFiLyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBkeW5hbWljVGFiID0gdXJsICsgdGFiSWQgKyAnLycgKyBfeW91dGhJZCArICcvJyArIHNvdXJjZUtleSArICcvJyArIHNvdXJjZVZhbHVlICsgJy8nICsgc291cmNlVHlwZTtcclxuICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtkeW5hbWljVGFiXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGlvblN0YXRlIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnJvdXRlVG9EeW5hbWljRm9ybXMocmVzdWx0LmRhdGFbMF0ucGFnZXR5cGUsIF9wYWdlSWQsIF95b3V0aElkLCBuYXZpZ2F0aW9uU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByb3V0ZVRvRHluYW1pY0Zvcm1zKHR5cGUsIF9wYWdlSWQsIF95b3V0aElkLCBuYXZpZ2F0aW9uU3RhdGU/OiBhbnkpIHtcclxuICAgIGlmICh0eXBlID09PSAnQVRQQkRNJykge1xyXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignbWFzdGVyLXZpZXcnKSA+IDAgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignY29tcG9zaXRlLXBhZ2UnKSA+IDApIHtcclxuICAgICAgICBjb25zdCBkeW5hbWljVGFiID0gJ2Zvcm0vJyArIF9wYWdlSWQgKyAnLycgKyBfeW91dGhJZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbZHluYW1pY1RhYl0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRpb25TdGF0ZSB9KTtcclxuICAgICAgfSBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCd0YWInKSA+IDApIHtcclxuICAgICAgICBjb25zdCBkeW5hbWljVGFiID0gJy4uLy4uL3BhZ2UvJyArIF9wYWdlSWQgKyAnLycgKyBfeW91dGhJZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbZHluYW1pY1RhYl0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRpb25TdGF0ZSB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBkeW5hbWljVGFiID0gUEFHRV9NT0RJRllfUk9VVEUgKyBfcGFnZUlkICsgJy8nICsgX3lvdXRoSWQ7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2R5bmFtaWNUYWJdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0aW9uU3RhdGUgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFRlbXBsYXRlKHJlc3VsdDogYW55KSB7XHJcbiAgICAvL011c3QgTmVlZGVkIGZvciBNZXJnZSB2ZXJzaW9uIG9mIFBJQ1NcclxuICAgIHRoaXMuc2VhcmNocGFyYW1zID0gcmVzdWx0O1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXMuZ3JpZGNvbmZpZyA9IHR5cGVvZiByZXN1bHQ/LmdyaWRjb25maWcgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyZXN1bHQ/LmdyaWRjb25maWcpIDogcmVzdWx0Py5ncmlkY29uZmlnO1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXMudGVtcGxhdGVqc29uID0gdHlwZW9mIHJlc3VsdD8udGVtcGxhdGVqc29uID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzdWx0Py50ZW1wbGF0ZWpzb24pIDogcmVzdWx0Py50ZW1wbGF0ZWpzb247XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtcy50YWJsZXNjaGVtYWNvbmZpZyA9IHR5cGVvZiByZXN1bHQ/LnRhYmxlc2NoZW1hY29uZmlnID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzdWx0Py50YWJsZXNjaGVtYWNvbmZpZykgOiByZXN1bHQ/LnRhYmxlc2NoZW1hY29uZmlnO1xyXG4gICAgdGhpcy5zZXRMYXlvdXQocmVzdWx0KTtcclxuICAgIHRoaXMuZnJvbVRpdGxlID0gcmVzdWx0LnBhZ2VuYW1lO1xyXG4gICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ1RpdHRsZScsIHRoaXMuZnJvbVRpdGxlKTtcclxuICAgIHRoaXMucGFnZVR5cGUgPSByZXN1bHQucGFnZURldGFpbHMucGFnZXR5cGUgPyByZXN1bHQucGFnZURldGFpbHMucGFnZXR5cGUudHJpbSgpIDogJyc7XHJcbiAgICB0aGlzLnBhZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQucGFnZURldGFpbHMgPyByZXN1bHQucGFnZURldGFpbHMuaWQgOiBudWxsO1xyXG4gICAgaWYgKHRoaXMucGFnZVR5cGUgPT0gJ0RTUCcgfHwgdGhpcy5wYWdlVHlwZSA9PSAnQlVTUCcpIHtcclxuICAgICAgdGhpcy5zcGxpdGVyU2l6ZSA9IDMwO1xyXG4gICAgICB0aGlzLmdyaWRzcGxpdGVyU2l6ZSA9IDcwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRHcmlkKHRoaXMuc2VhcmNocGFyYW1zKTtcclxuICAgIHRoaXMudGFyZ2V0SWQgPSB0aGlzLnNlYXJjaHBhcmFtcz8uZ3JpZGNvbmZpZz8uZ3JpZEFjdGlvbkZvcm1BcnJheVswXT8ubGluaztcclxuICAgIHRoaXMudGVtcGFDb25maWcgPSB0aGlzLnNlYXJjaHBhcmFtcz8uZ3JpZGNvbmZpZztcclxuICAgIHRoaXMuYnVpbGRDcml0ZXJpYShyZXN1bHQpO1xyXG4gIH1cclxuXHJcbiAgc2V0R3JpZChyZXN1bHQ6IGFueSkge1xyXG4gICAgdGhpcy51cGRhdGVHcmlkID0gcmVzdWx0LmdyaWRjb25maWc7XHJcbiAgICBjb25zdCBmaWx0ZXIgPSB0aGlzLnVwZGF0ZUdyaWQ/LmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKHggPT4geC5zb3J0IHx8IHguZmlsdGVyKTtcclxuICAgIGlmIChmaWx0ZXI/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhpcy5zaG93RmlsdGVyUm93UGFuZWwgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheT8uc29tZShhID0+IGEuYWN0aW9uICE9ICdhZGQnKSkge1xyXG4gICAgICB0aGlzLnNob3dBY3Rpb25Db2x1bW4gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudXBkYXRlR3JpZD8uaXNTaG93T25Ub3ApIHtcclxuICAgICAgdGhpcy5nZXRPdXRzaWRlR3JpZEFjdGlvbih0aGlzLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXk/LmZpbmQoYSA9PiBhPy5hY3Rpb24/LnRvTG93ZXJDYXNlKCkgPT09ICdhZGQnKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRHcmlkKHJlc3BvbnNlSWQ/OiBhbnkpIHtcclxuICAgIHRoaXMuc3RvcmFnZS5zZXRPYmooRklMRV9FWFBPUlRfTkFNRV9LRVksIHRoaXMuc2VhcmNocGFyYW1zPy5wYWdlbmFtZSk7XHJcbiAgICBpZiAodGhpcy5zZWFyY2hwYXJhbXM/LnRlbXBsYXRlanNvbiAmJiAhdGhpcy5zZWFyY2hwYXJhbXM/LnRhYmxlc2NoZW1hY29uZmlnKSB7XHJcbiAgICAgIHRoaXMuZnJlZUZvcm1QYWdlR3JpZCh0aGlzLmh0dHAsIHRoaXMuc3RvcmFnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5keW5hbWljU2VhcmNoICYmIHRoaXMuZHluYW1pY1NlYXJjaC5sZW5ndGggPiAwICkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0Q3JpdGVyaWFCeVBhZ2VJZCgpO1xyXG4gICAgICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zaG93R3JpZFBhZ2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsRHluYW1pY1NlYXJjaENvbmR0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlLCByZXNwb25zZUlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldExheW91dChyZXN1bHQ6IGFueSkge1xyXG4gICAgaWYgKHJlc3VsdC50ZW1wbGF0ZWpzb24pIHtcclxuICAgICAgdGhpcy5qc29uRm9ybSA9IHR5cGVvZiByZXN1bHQudGVtcGxhdGVqc29uPT09J3N0cmluZycgPyAgSlNPTi5wYXJzZShyZXN1bHQudGVtcGxhdGVqc29uKSA6cmVzdWx0LnRlbXBsYXRlanNvbiA7XHJcbiAgICAgIHRoaXMuZnJvbVRpdGxlID0gdGhpcy5qc29uRm9ybSAmJiB0aGlzLmpzb25Gb3JtWydwYWdlJ10gPyB0aGlzLmpzb25Gb3JtWydwYWdlJ10gOiByZXN1bHQucGFnZW5hbWU7XHJcbiAgICAgIHRoaXMubGF5b3V0dHlwZSA9ICdsZWZ0JztcclxuICAgICAgdGhpcy5sYXlvdXR0eXBlID0gdGhpcy5sYXlvdXR0eXBlID09PSAnbGVmdCcgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnO1xyXG4gICAgICBpZiAodGhpcy5sYXlvdXR0eXBlID09PSAndmVydGljYWwnKSB7XHJcbiAgICAgICAgdGhpcy5pY29uID0gJ2V4cGFuZF9tb3JlJztcclxuICAgICAgICB0aGlzLm9wZW5jbG9zZSA9ICdDbG9zZSc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pY29uID0gJ2Fycm93X2xlZnQnO1xyXG4gICAgICAgIHRoaXMub3BlbmNsb3NlID0gJ0Nsb3NlJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25TdWJtaXQoc3VibWlzc2lvbik6IHZvaWQge1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXNbJ2ZpbHRlcklkJ10gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcclxuICAgIHRoaXMuc3VibWl0dGVkRGF0YSA9IHN1Ym1pc3Npb247XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBkYXRhOiB0aGlzLnN1Ym1pdHRlZERhdGEsXHJcbiAgICAgIHBhZ2VkYXRhOiBbdGhpcy5zZWFyY2hwYXJhbXNdXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc3RvcmFnZWRhdGEgPSB0aGlzLnN0b3JhZ2U7XHJcbiAgICBjb25zdCBodHRwID0gdGhpcy5odHRwO1xyXG4gICAgY29uc3QgYmFzZVVybCA9IHRoaXMuZW52aXJvbm1lbnQuYXBpSG9zdDtcclxuXHJcbiAgICBpZiAodGhpcy5keW5hbWljU2VhcmNoUmVzdWx0ICYmIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGRhdGFbJ2R5bmFtaWNTZWFyY2hBcnJheSddID0gdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBncmlkVXJsO1xyXG4gICAgaWYgKHRoaXMubWFudWFsUG9zdEFwaVVybCAhPSAnJykge1xyXG4gICAgICBncmlkVXJsID0gdGhpcy5tYW51YWxQb3N0QXBpVXJsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZ3JpZFVybCA9IEdSSURfVVJMO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhU291cmNlID0gbmV3IEN1c3RvbVN0b3JlKHtcclxuICAgICAgbG9hZDogZnVuY3Rpb24gKGxvYWRPcHRpb25zOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBzdG9yYWdlZGF0YS5nZXRJdGVtKCdqd3QtdG9rZW4nKTtcclxuICAgICAgICBjb25zdCB1c2VyID0gc3RvcmFnZWRhdGEuZ2V0T2JqKCd1c2VyJyk7XHJcbiAgICAgICAgWydza2lwJywgJ3Rha2UnLCAncmVxdWlyZVRvdGFsQ291bnQnLCAncmVxdWlyZUdyb3VwQ291bnQnLCAnc29ydCcsICdmaWx0ZXInLCAnZ3JvdXAnXS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICBpZiAoaSBpbiBsb2FkT3B0aW9ucyAmJiBpc05vdEVtcHR5KGxvYWRPcHRpb25zW2ldKSkge1xyXG4gICAgICAgICAgICBkYXRhW2ldID0gbG9hZE9wdGlvbnNbaV07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgZGF0YVtpXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaHR0cFxyXG4gICAgICAgICAgLnBvc3QoYmFzZVVybCArIGdyaWRVcmwsIGRhdGEsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogbmV3IEh0dHBIZWFkZXJzKHtcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthdXRoVG9rZW59YCxcclxuICAgICAgICAgICAgICB1bmlxdWVpZDogYCR7dXNlci5pZH1gLFxyXG4gICAgICAgICAgICAgIG9yZ2FuaXphdGlvbmlkOiBgJHt1c2VyLnVzZXJXb3JrSW5mby5vcmdhbml6YXRpb24uaWR9YCxcclxuICAgICAgICAgICAgICByb2xla2V5OiBgJHt1c2VyLnJvbGUucm9sZWtleX1gLFxyXG4gICAgICAgICAgICAgIHJvbGU6IFJPTEVfQ1BfUFVCTElDXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRvUHJvbWlzZSgpXHJcbiAgICAgICAgICAudGhlbigocmVzOiBhbnkpID0+ICh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlcy5kYXRhLFxyXG4gICAgICAgICAgICB0b3RhbENvdW50OiBOdW1iZXIocmVzLnRvdGFsQ291bnQuY291bnQpXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICAgIC5jYXRjaChfZXJyb3IgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0RhdGEgTG9hZGluZyBFcnJvcicpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBpc05vdEVtcHR5KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICcnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWZ0ZXJTdWJtaXR0ZWQoX2V2ZW50KSB7XHJcbiAgICB0aGlzLnNob3dHcmlkUGFnZSA9IHRydWU7XHJcbiAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIHRoaXMuaXRlbSA9IG51bGw7XHJcbiAgICBpZiAodGhpcy5pc1Nob3dGb3JtUGFnZSkge1xyXG4gICAgICB0aGlzLmdldE91dHNpZGVHcmlkQWN0aW9uKHRoaXMudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheT8uZmluZChhID0+IGE/LmFjdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gJ2FkZCcpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhdmVTZWFyY2hDcml0ZXJpYSgpIHtcclxuICAgIGlmICh0aGlzLnN1Ym1pdHRlZERhdGEgJiYgdGhpcy5zdWJtaXR0ZWREYXRhLmRhdGEpIHtcclxuICAgICAgdGhpcy5zdWJtaXR0ZWREYXRhLmRhdGFbJ3NlYXJjaENyaXRlcmlhJ10gPSB0aGlzLnNlYXJjaENyaXRlcmlhO1xyXG4gICAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgIHBhZ2VJRDogdGhpcy5mb3JtSWQsXHJcbiAgICAgICAgc291cmNlaWQ6ICcnLFxyXG4gICAgICAgIHNvdXJjZXR5cGU6ICdJJyxcclxuICAgICAgICBkYXRhOiB0aGlzLnN1Ym1pdHRlZERhdGEuZGF0YSxcclxuICAgICAgICBtZXRhZGF0YTogdGhpcy5zdWJtaXR0ZWREYXRhLm1ldGFkYXRhLFxyXG4gICAgICAgIGFmdGVyRW50aXR5TmFtZTogJycsXHJcbiAgICAgICAgYWZ0ZXJSdWxlQXBwTmFtZTogJycsXHJcbiAgICAgICAgYmVmb3JlRW50aXR5TmFtZTogJycsXHJcbiAgICAgICAgYmVmb3JlUnVsZUFwcE5hbWU6ICcnLFxyXG4gICAgICAgIHBhcmVudHNvdXJjZWlkOiBudWxsXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc2F2ZVNlYXJjaENyaXRlcmlhKGJvZHkpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgdGhpcy5zdWJtaXR0ZWREYXRhID0gcmVzcG9uc2U7XHJcbiAgICAgICAgdGhpcy5pZCA9IHJlc3BvbnNlLmlkO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1NlYWNoIGNyaXRlcmlhIFNhdmVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1BsZWFzZSBwZXJmb3JtIHNlYXJjaCBpbiBvcmRlciB0byBzYXZlIHlvdXIgc2VhcmNoIGNyaXRlcmlhJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRTZWFyY2gobmV3ZCkge1xyXG4gICAgdGhpcy5zdWJtaXR0ZWREYXRhID0geyBkYXRhOiBuZXdkIH07XHJcbiAgICB0aGlzLm9uU3VibWl0KHRoaXMuc3VibWl0dGVkRGF0YSk7XHJcbiAgfVxyXG5cclxuICByZXNldCh0eXBlKSB7XHJcbiAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSB7IGRhdGE6IHt9IH07XHJcbiAgICB0aGlzLmdldEV4cG9ydERhdGEodGhpcy5zdWJtaXR0ZWREYXRhLCB0eXBlKTtcclxuICB9XHJcblxyXG4gIGdldEV4cG9ydERhdGEoc3VibWlzc2lvbiwgdHlwZSk6IHZvaWQge1xyXG4gICAgdGhpcy5zdWJtaXR0ZWREYXRhID0gc3VibWlzc2lvbjtcclxuICAgIHRoaXMuc2VhcmNocGFyYW1zWydmaWx0ZXJJZCddID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBpbnB1dEZpZWxkSWQ6IHRoaXMuaW5wdXRGaWVsZElkLFxyXG4gICAgICBwYWdlZGF0YTogW3RoaXMuc2VhcmNocGFyYW1zXSxcclxuICAgICAgcmVxdWlyZVRvdGFsQ291bnQ6IHRydWUsXHJcbiAgICAgIHNraXA6IDAsXHJcbiAgICAgIHRha2U6IDUwMDBcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCFkYXRhLmlucHV0RmllbGRJZCkge1xyXG4gICAgICBkYXRhLmlucHV0RmllbGRJZCA9IHRoaXMudXNlcj8udXNlcldvcmtJbmZvPy5vcmdhbml6YXRpb24/LmlkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgJiYgdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZGF0YVsnZHluYW1pY1NlYXJjaEFycmF5J10gPSB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdyaWRVcmw7XHJcbiAgICBpZiAodGhpcy5tYW51YWxQb3N0QXBpVXJsICE9ICcnKSB7XHJcbiAgICAgIGdyaWRVcmwgPSB0aGlzLm1hbnVhbFBvc3RBcGlVcmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBncmlkVXJsID0gR1JJRF9VUkw7XHJcbiAgICB9XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmV4cG9ydERhdGEoZGF0YSwgZ3JpZFVybCkuc3Vic2NyaWJlKHZhbHVlID0+IHtcclxuICAgICAgaWYgKHZhbHVlWydkYXRhJ10ubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5kb3dubG9hZEZpbGUodHlwZSwgdmFsdWVbJ2RhdGEnXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ05vIGRhdGEgYXZhaWxhYmxlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZG93bmxvYWRGaWxlKHR5cGUsIGRhdGEpIHtcclxuICAgIGNvbnN0IGZpbGVEYXRhID0ge1xyXG4gICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICB0b3RhbGNvdW50OiBkYXRhLmxlbmd0aCxcclxuICAgICAgcGFnZW5hbWU6IHRoaXMuZnJvbVRpdGxlLFxyXG4gICAgICBncmlkQ29uZmlnRm9ybUFycmF5OiB0aGlzLnVwZGF0ZUdyaWQ/LmdyaWRDb25maWdGb3JtQXJyYXlcclxuICAgIH07XHJcbiAgICBjb25zdCBmaWxlVHlwZSA9IHR5cGUgPT09ICdleGNlbCcgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmdlbmVyYXRlRG9jdW1lbnQoZmlsZURhdGEsIGZpbGVUeXBlKS5zdWJzY3JpYmUoXHJcbiAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgY29uc3QgYXdzVXJsID0gcmVzdWx0WydkYXRhJ10uYXdzVXJsO1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnRG9jdW1lbnQgR2VuZXJhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuXHJcbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ3ByaW50Jykge1xyXG4gICAgICAgICAgICAvLyBJZiB0eXBlIGlzIHByaW50IGl0IHdpbGwgb3BlbiBicm93c2VyIHByaW50IHByZXZpZXdcclxuICAgICAgICAgICAgZXM2cHJpbnRKUyh7IHByaW50YWJsZTogYXdzVXJsLCB0eXBlOiAncGRmJywgc2hvd01vZGFsOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB3aW5kb3cub3Blbihhd3NVcmwsICdfYmxhbmsnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGVycm9yID0+IHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNlYXJjaEdyaWQoaHR0cCwgc3RvcmFnZSwgcmVzcG9uc2VJZD86IGFueSkge1xyXG4gICAgY29uc3Qgb3V0c2lkZUZvcm1JRCA9IHRoaXMudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheVxyXG4gICAgICA/LmZpbmQoYSA9PiBhPy5hY3Rpb24/LnRvTG93ZXJDYXNlKCkgPT09ICdhZGQnKVxyXG4gICAgICA/Lmxpbms/LnNwbGl0KCdfc291cmNlZm9ybScpWzBdO1xyXG4gICAgY29uc3QgcHJpbWFyeV90YWJsZSA9IHRoaXMuc2VhcmNocGFyYW1zLnRhYmxlc2NoZW1hY29uZmlnLnRhYmxlZmllbGRzLnByaW1hcnk7XHJcbiAgICBjb25zdCBmYWxsYmFja0lkRnJvbVJvdXRlICA9IHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnPy5mYWxsYmFja0lkRnJvbVJvdXRlO1xyXG4gICAgY29uc29sZS5sb2cocHJpbWFyeV90YWJsZS5yZXBsYWNlKCdfYXVkaXQnLCAnX2lkJyksICdwcmltYXJ5Jyk7XHJcbiAgICBsZXQgcXVlcnlEYXRhOiBhbnk7XHJcblxyXG4gICAgaWYoZmFsbGJhY2tJZEZyb21Sb3V0ZSl7XHJcbiAgICBjb25zdCBmYWxsYmFja0lkVmFsdWUgPSB0aGlzLnJvdXRlci51cmwuc3BsaXQoJy8nKS5wb3AoKTtcclxuICAgIGlmKGZhbGxiYWNrSWRWYWx1ZSl7XHJcbiAgICAgIHF1ZXJ5RGF0YSA9IHsgZGF0YToge30gfTtcclxuICAgICAgcXVlcnlEYXRhLmRhdGFbZmFsbGJhY2tJZEZyb21Sb3V0ZV0gPSBOdW1iZXIoZmFsbGJhY2tJZFZhbHVlKTtcclxuICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zb3VyY2VLZXkgJiYgdGhpcy5zb3VyY2VWYWx1ZSAmJiB0aGlzLnNvdXJjZVR5cGUpIHtcclxuICAgICAgcXVlcnlEYXRhID0geyBkYXRhOiB7fSB9O1xyXG4gICAgICBxdWVyeURhdGEuZGF0YVt0aGlzLnNvdXJjZUtleV0gPSAodGhpcy5zb3VyY2VUeXBlID09PSAnbnVtYmVyJykgPyBOdW1iZXIodGhpcy5zb3VyY2VWYWx1ZSkgOiB0aGlzLnNvdXJjZVZhbHVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXNbJ2ZpbHRlcklkJ10gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBkYXRhOiB0aGlzLnN1Ym1pdHRlZERhdGEsXHJcbiAgICAgIHF1ZXJ5RGF0YTogcXVlcnlEYXRhLFxyXG4gICAgICBwYWdlZGF0YTogW3RoaXMuc2VhcmNocGFyYW1zXSxcclxuICAgICAgaW5wdXRGaWVsZElkOiB0aGlzLmlucHV0RmllbGRJZCxcclxuICAgICAgaW5wdXRJZDogdGhpcy5pbnB1dElkLFxyXG4gICAgICByZXF1aXJlVG90YWxDb3VudDogdHJ1ZSxcclxuICAgICAgcmVzdHJpY3Q6IHRydWUsXHJcbiAgICAgIGFzc29jaWF0ZWRGb3JtSWQ6IG91dHNpZGVGb3JtSUQgPyBvdXRzaWRlRm9ybUlEIDogdGhpcy5hc3NvY2lhdGVkSWQudG9TdHJpbmcoKSxcclxuICAgICAgcm9sZUlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb2xlX2lkJyksXHJcbiAgICAgIHNlbGVjdGVkVmFsdWU6IHRoaXMucGFyYW12YWx1ZSxcclxuICAgICAgc2VsZWN0ZWRGaWVsZDogdGhpcy5wYXJhbWZpZWxkLFxyXG4gICAgICBwYWdpbmF0ZTogdHJ1ZSxcclxuICAgICAgcmVkaXJlY3RGaWx0ZXJJZDogcmVzcG9uc2VJZFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmVudmlyb25tZW50LmFwaUhvc3Q7XHJcblxyXG4gICAgaWYgKHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCAmJiB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBkYXRhWydkeW5hbWljU2VhcmNoQXJyYXknXSA9IHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdHJsID0gdGhpcztcclxuICAgIGxldCBncmlkVXJsO1xyXG4gICAgaWYgKHRoaXMubWFudWFsUG9zdEFwaVVybCAhPSAnJykge1xyXG4gICAgICBncmlkVXJsID0gdGhpcy5tYW51YWxQb3N0QXBpVXJsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZ3JpZFVybCA9IEdSSURfVVJMO1xyXG4gICAgfVxyXG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG4gICAgdGhpcy5kYXRhU291cmNlID0gbmV3IEN1c3RvbVN0b3JlKHtcclxuICAgICAgbG9hZDogZnVuY3Rpb24gKGxvYWRPcHRpb25zOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBzdG9yYWdlLmdldEl0ZW0oJ2p3dC10b2tlbicpO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBzdG9yYWdlLmdldE9iaigndXNlcicpO1xyXG5cclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIC8vIGZpeCBmb3IgdXNlciBudWxsIGltbWVkaWF0ZWx5IGFmdGVyIGxvZ2luXHJcbiAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlYXJjaEdyaWQoaHR0cCwgc3RvcmFnZSk7XHJcbiAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgWydza2lwJywgJ3Rha2UnLCAncmVxdWlyZVRvdGFsQ291bnQnLCAncmVxdWlyZUdyb3VwQ291bnQnLCAnc29ydCcsICdmaWx0ZXInLCAncGFnZWNvbmZpZycsICdncm91cCddLmZvckVhY2goXHJcbiAgICAgICAgICBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbiBsb2FkT3B0aW9ucyAmJiBpc05vdEVtcHR5KGxvYWRPcHRpb25zW2l0ZW1dKSkge1xyXG4gICAgICAgICAgICAgIGRhdGFbaXRlbV0gPSBsb2FkT3B0aW9uc1tpdGVtXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBkZWxldGUgZGF0YVtpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGRhdGEucmVxdWlyZVRvdGFsQ291bnQgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gaHR0cFxyXG4gICAgICAgICAgLnBvc3QoYmFzZVVybCArIGdyaWRVcmwsIGRhdGEsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogbmV3IEh0dHBIZWFkZXJzKHtcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthdXRoVG9rZW59YCxcclxuICAgICAgICAgICAgICB1bmlxdWVpZDogYCR7dXNlci5pZH1gLFxyXG4gICAgICAgICAgICAgIG9yZ2FuaXphdGlvbmlkOiBgJHt1c2VyPy51c2VyV29ya0luZm8/Lm9yZ2FuaXphdGlvbj8uaWQgPyB1c2VyLnVzZXJXb3JrSW5mby5vcmdhbml6YXRpb24uaWQgOiAnJ31gLFxyXG4gICAgICAgICAgICAgIHJvbGVrZXk6IGAke3VzZXI/LnJvbGU/LnJvbGVrZXkgPyB1c2VyLnJvbGUucm9sZWtleSA6ICcnfWAsXHJcbiAgICAgICAgICAgICAgcm9sZTogUk9MRV9DUF9QVUJMSUNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudG9Qcm9taXNlKClcclxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByaW1hcnlfY29sdW1uID0gcmVzLmRhdGE/LnJlc3VsdFswXT8ucHJpbWFyeUNvbHVtbjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXM/LmRhdGE/LmRhdGE/Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVzPy5kYXRhPy5kYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzPy5kYXRhPy5kYXRhW2ldPy5ba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSByZXM/LmRhdGE/LmRhdGFbaV0/LltrZXldO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHZhbCBpbnN0YW5jZW9mIFN0cmluZykgJiYgdmFsPy5pbmNsdWRlcygnWycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuZGF0YVtpXVtrZXldID0gcmVzLmRhdGEuZGF0YVtpXVtrZXldLnJlcGxhY2UoJ1snLCAnJykucmVwbGFjZSgnXScsICcnKS5yZXBsYWNlQWxsKCdcIicsICcnKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHJsLnNob3dHcmlkUGFnZSA9ICEoXHJcbiAgICAgICAgICAgICAgKHJlcz8uZGF0YT8udG90YWxDb3VudD8uY291bnQgPT09IDAgfHwgcmVzPy5kYXRhPy50b3RhbENvdW50Py5jb3VudCA9PT0gMSkgJiZcclxuICAgICAgICAgICAgICBjdHJsLnVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTaG93Rm9ybVBhZ2UgPSBjdHJsLnNob3dHcmlkUGFnZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghY3RybC5zaG93R3JpZFBhZ2UgJiYgY3RybC51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5ICYmIGN0cmwudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBjb25zdCBmb3JtSW5mbyA9IGN0cmwudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheS5maW5kKGVsZSA9PiBlbGUuaXNPdXRzaWRlR3JpZCk7XHJcbiAgICAgICAgICAgICAgY3RybC5pdGVtID0ge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBEeW5hbWljU2VhcmNoQ2xlYW51cENvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZDogZm9ybUluZm8/LmxpbmssXHJcbiAgICAgICAgICAgICAgICBlZGl0SWQ6IHJlcz8uZGF0YT8uZGF0YVswXT8uaWQsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGFmdGVyU3VibWl0OiBldmVudCA9PiBjdHJsLmFmdGVyU3VibWl0dGVkKGV2ZW50KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzSW5pdGlhbEZvcm1Mb2FkOiBjdHJsLnVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkLFxyXG4gICAgICAgICAgICAgICAgaXNTaG93T25Ub3A6IGN0cmwudXBkYXRlR3JpZD8uaXNTaG93T25Ub3BcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdHJsLnNob3dHcmlkUGFnZSAmJiBjdHJsLnVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wICYmIGN0cmwudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAmJiBjdHJsLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZm9ybUluZm8gPSBjdHJsLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkuZmluZChlbGUgPT4gZWxlLmlzT3V0c2lkZUdyaWQpO1xyXG4gICAgICAgICAgICAgIGN0cmwuaXRlbSA9IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogRHluYW1pY1NlYXJjaENsZWFudXBDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICBwYWdlSWQ6IGZvcm1JbmZvPy5saW5rLFxyXG4gICAgICAgICAgICAgICAgb3V0cHV0czoge1xyXG4gICAgICAgICAgICAgICAgICBhZnRlclN1Ym1pdDogZXZlbnQgPT4gY3RybC5hZnRlclN1Ym1pdHRlZChldmVudClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBpc0luaXRpYWxGb3JtTG9hZDogY3RybC51cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZCxcclxuICAgICAgICAgICAgICAgIGlzU2hvd09uVG9wOiBjdHJsLnVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBkeW5hbWljU2VhcmNoRGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yZWRUYWJEYXRhID0gSlNPTi5wYXJzZShKU09OLnBhcnNlKHN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWV9EWU5BTUlDX1RBQl9QQUdFUykpKTtcclxuICAgICAgICAgICAgY29uc3QgYXJycmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdGRhdGEgPSByZXMuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICAgIHJlc3VsdGRhdGEubWFwKG4gPT4ge1xyXG4gICAgICAgICAgICAgIG4ucm93Lm1hcCgoYzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVkVGFiRGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgIHN0b3JlZFRhYkRhdGEubWFwKChjMSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAwICYmIGMxLnBmaWVsZCA9PSBjLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGMxKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFycnJlc3VsdC5wdXNoKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVuaXF1ZWRhdGEgPSBhcnJyZXN1bHQuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICh2YWx1ZSwgaW5kZXgsIF9hcnJheSkgPT4gaW5kZXggPT0gYXJycmVzdWx0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT0gdmFsdWUuaWQpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXMuZGF0YS5yZXN1bHQubWFwKG4gPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHBhcmVudE9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgIG4ucm93LmZvckVhY2goKGM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtbkRhdGEgPSBjLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW3RhYmxlTmFtZSwgY29sdW1uTmFtZV0gPSBjLm5hbWUuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgICAgIGNvbHVtbkRhdGEgPSB0eXBlb2YgY29sdW1uRGF0YSA9PT0gJ251bWJlcicgPyBjLnZhbHVlLnRvU3RyaW5nKCkgOiBjLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRPYmpbdGFibGVOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICBwYXJlbnRPYmpbdGFibGVOYW1lXVtjb2x1bW5OYW1lXSA9IGNvbHVtbkRhdGE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBwYXJlbnRPYmpbdGFibGVOYW1lXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICBwYXJlbnRPYmpbdGFibGVOYW1lXVtjb2x1bW5OYW1lXSA9IGNvbHVtbkRhdGE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPYmpbJ3JiYWNDb25kaXRpb25zJ10gPSBuLnJiYWNDb25kaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50T2JqWydidXNpbmVzc1J1bGVzJ10gPSBuLmJ1c2luZXNzUnVsZXMgPyBuLmJ1c2luZXNzUnVsZXMgOiBbXTtcclxuICAgICAgICAgICAgICAgIHBhcmVudE9ialsncm91dGVkYXRhJ10gPSB0aGlzLnVuaXF1ZWRhdGE7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPYmpbJ3ByaW1hcnlDb2x1bW4nXSA9IG4ucHJpbWFyeUNvbHVtbjtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBkeW5hbWljU2VhcmNoRGF0YS5wdXNoKHBhcmVudE9iaik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGRhdGE6IGR5bmFtaWNTZWFyY2hEYXRhLFxyXG4gICAgICAgICAgICAgIHRvdGFsQ291bnQ6IE51bWJlcihyZXM/LmRhdGEudG90YWxDb3VudC5jb3VudClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goX2Vycm9yID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBkYXRhJykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIGlzTm90RW1wdHkodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZyZWVGb3JtUGFnZUdyaWQoaHR0cCwgc3RvcmFnZSkge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgZGF0YTogdGhpcy5zdWJtaXR0ZWREYXRhLFxyXG4gICAgICBwYWdlZGF0YTogW3RoaXMuc2VhcmNocGFyYW1zXSxcclxuICAgICAgaW5wdXRGaWVsZElkOiB0aGlzLmlucHV0RmllbGRJZCxcclxuICAgICAgaW5wdXRJZDogdGhpcy5pbnB1dElkLFxyXG4gICAgICByZXF1aXJlVG90YWxDb3VudDogdHJ1ZSxcclxuICAgICAgcmVzdHJpY3Q6IHRydWUsXHJcbiAgICAgIHJvbGVJZDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncm9sZV9pZCcpXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGdyaWRBY3Rpb25Gb3JtQXJyYXkgPSB0aGlzLnVwZGF0ZUdyaWQuZ3JpZEFjdGlvbkZvcm1BcnJheS5tYXAoYSA9PiAoe1xyXG4gICAgICAuLi5hLFxyXG4gICAgICBsaW5rOiBTdHJpbmcodGhpcy5zZWFyY2hwYXJhbXMucGFnZWlkKVxyXG4gICAgfSkpO1xyXG4gICAgdGhpcy51cGRhdGVHcmlkID0geyAuLi50aGlzLnVwZGF0ZUdyaWQsIGdyaWRBY3Rpb25Gb3JtQXJyYXkgfTtcclxuICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLmVudmlyb25tZW50LmFwaUhvc3Q7XHJcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcbiAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgQ3VzdG9tU3RvcmUoe1xyXG4gICAgICBsb2FkOiBmdW5jdGlvbiAobG9hZE9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHN0b3JhZ2UuZ2V0SXRlbSgnand0LXRva2VuJyk7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IHN0b3JhZ2UuZ2V0T2JqKCd1c2VyJyk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIF90aGlzLmZyZWVGb3JtUGFnZUdyaWQoaHR0cCwgc3RvcmFnZSk7XHJcbiAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgWydza2lwJywgJ3Rha2UnLCAncmVxdWlyZVRvdGFsQ291bnQnLCAncmVxdWlyZUdyb3VwQ291bnQnLCAnc29ydCcsICdmaWx0ZXInLCAncGFnZWNvbmZpZycsICdncm91cCddLmZvckVhY2goXHJcbiAgICAgICAgICBpdGVtID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW4gbG9hZE9wdGlvbnMgJiYgbG9hZE9wdGlvbnNbaXRlbV0uaXNOb3RFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgICAgZGF0YVtpdGVtXSA9IGxvYWRPcHRpb25zW2l0ZW1dO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2l0ZW1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBncmlkVXJsID0gYC9zb2x1dGlvbi9mb3JtcmVzcG9uc2UvZ2V0QnlQYWdlSWQvJHtfdGhpcy5zZWFyY2hwYXJhbXMucGFnZWlkfWA7XHJcbiAgICAgICAgcmV0dXJuIGh0dHBcclxuICAgICAgICAgIC5nZXQoYmFzZVVybCArIGdyaWRVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogbmV3IEh0dHBIZWFkZXJzKHtcclxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthdXRoVG9rZW59YCxcclxuICAgICAgICAgICAgICB1bmlxdWVpZDogYCR7dXNlci5pZH1gLFxyXG4gICAgICAgICAgICAgIG9yZ2FuaXphdGlvbmlkOiBgJHt1c2VyPy51c2VyV29ya0luZm8/Lm9yZ2FuaXphdGlvbj8uaWQgPyB1c2VyLnVzZXJXb3JrSW5mby5vcmdhbml6YXRpb24uaWQgOiAnJ31gLFxyXG4gICAgICAgICAgICAgIHJvbGVrZXk6IGAke3VzZXI/LnJvbGU/LnJvbGVrZXkgPyB1c2VyLnJvbGUucm9sZWtleSA6ICcnfWAsXHJcbiAgICAgICAgICAgICAgcm9sZTogUk9MRV9DUF9QVUJMSUNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudG9Qcm9taXNlKClcclxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtUmVzcG9uc2VzID0gcmVzLmRhdGEucGFnZVJlc3BvbnNlcy5tYXAoYSA9PiAoe1xyXG4gICAgICAgICAgICAgIC4uLmEucmVzcG9uc2UsXHJcbiAgICAgICAgICAgICAgaWQ6IGEuaWQsXHJcbiAgICAgICAgICAgICAgcmJhY0NvbmRpdGlvbnM6IGEucmJhY0NvbmRpdGlvbnNcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBjb25zdCBhbGxvd2VkUmVzcG9uc2VLZXlzID0gX3RoaXMuc2VhcmNocGFyYW1zLnRlbXBsYXRlanNvblxyXG4gICAgICAgICAgICAgIC5jb21wb25lbnRzLmZpbHRlcihhID0+IGEua2V5ICE9PSAnc3VibWl0JylcclxuICAgICAgICAgICAgICAubWFwKGIgPT4gYi5rZXkpO1xyXG4gICAgICAgICAgICBhbGxvd2VkUmVzcG9uc2VLZXlzLnB1c2goJ2lkJywgJ3JiYWNDb25kaXRpb25zJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkUmVzcG9uc2VLZXlzID0gZm9ybVJlc3BvbnNlcy5tYXAoYSA9PlxyXG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKGEpXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGtleSA9PiBhbGxvd2VkUmVzcG9uc2VLZXlzLmluY2x1ZGVzKGtleSkpXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKChvYmosIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IGFba2V5XTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgICAgIH0sIHt9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIGRhdGE6IGZpbHRlcmVkUmVzcG9uc2VLZXlzLFxyXG4gICAgICAgICAgICAgIHRvdGFsQ291bnQ6IE51bWJlcihmaWx0ZXJlZFJlc3BvbnNlS2V5cy5sZW5ndGgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKF9lcnJvciA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZGF0YScpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbkNsb3NlKCkge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuKSB7XHJcbiAgICAgIHRoaXMuc3BsaXRlclNpemUgPSAzMDtcclxuICAgICAgdGhpcy5ncmlkc3BsaXRlclNpemUgPSA3MDtcclxuICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgICAgaWYgKHRoaXMubGF5b3V0dHlwZSA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgIHRoaXMuaWNvbiA9ICdleHBhbmRfbW9yZSc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pY29uID0gJ2Fycm93X2xlZnQnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMub3BlbmNsb3NlID0gJ0Nsb3NlJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3BsaXRlclNpemUgPSAwO1xyXG4gICAgICB0aGlzLmdyaWRzcGxpdGVyU2l6ZSA9IDEwMDtcclxuICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgICBpZiAodGhpcy5sYXlvdXR0eXBlID09PSAndmVydGljYWwnKSB7XHJcbiAgICAgICAgdGhpcy5pY29uID0gJ2V4cGFuZF9sZXNzJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnYXJyb3dfcmlnaHQnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMub3BlbmNsb3NlID0gJ09wZW4nO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Um91dGVyKGRhdGEsIF9pdGVtKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkUm93RGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLm9wZW5UYWIgPSBmYWxzZTtcclxuICAgIHRoaXMuc2VsZWN0ZWRSb3dJbmRleCA9IGRhdGE/LnJvd0luZGV4O1xyXG4gICAgdGhpcy5zZWxlY3RlZENvbHVtbkluZGV4ID0gZGF0YT8uY29sdW1uSW5kZXg7XHJcbiAgICB0aGlzLnNlbGVjdGVkQ2FwdGlvbiA9IGRhdGE/LmNvbHVtbj8uY2FwdGlvbjtcclxuICAgIGNvbnN0IG5hdmlnYXRlU3RhdGUgPSB7XHJcbiAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgaXNSZWFkT25seTogZmFsc2UsXHJcbiAgICAgIHRpdGxlOiB0aGlzLmZyb21UaXRsZVxyXG4gICAgfTtcclxuICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdncmlkQWN0aW9uJywgbnVsbCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrZWRJZERhdGEgPSBudWxsO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2VkUm93RGF0YSA9IG51bGw7XHJcbiAgICBsZXQgdXJsOyBsZXQgZGF0YXR5cGU7XHJcbiAgICB0aGlzLnVwZGF0ZUdyaWQgPSB0eXBlb2YgdGhpcy51cGRhdGVHcmlkID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGhpcy51cGRhdGVHcmlkKSA6IHRoaXMudXBkYXRlR3JpZDtcclxuICAgIGNvbnN0IGdyaWRBcnIgPSB0aGlzLnVwZGF0ZUdyaWQ/LmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICBjb25zdCBjb2x1bW4gPSBkYXRhLmNvbHVtbi5kYXRhRmllbGQ7XHJcbiAgICBjb25zdCB0YWJsZXNjaGVtYWNvbmZpZyA9IHRoaXMuc2VhcmNocGFyYW1zLnRhYmxlc2NoZW1hY29uZmlnO1xyXG4gICAgZm9yIChjb25zdCBrZXkgb2YgZ3JpZEFycikge1xyXG4gICAgICBpZiAoa2V5LmNvbHVtbkRlZiA9PT0gY29sdW1uKSB7XHJcbiAgICAgICAgdXJsID0ga2V5Lmxpbms7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFibGVzY2hlbWFjb25maWcuZmllbGRtYXBwaW5nLmZpbHRlcih4ID0+ICh4LnRhYmxlbmFtZSArICcuJyArIHguZmllbGQpID09PSBrZXkuY29sdW1uRGVmKTtcclxuICAgICAgICBkYXRhdHlwZSA9IHJlc3VsdFswXS5kYXRhdHlwZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5sb2FkUm91dGVyKHVybCwgZGF0YXR5cGUsIGNvbHVtbiwgZGF0YSwgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgfVxyXG4gIGxvYWRSb3V0ZXIodXJsLCBkYXRhdHlwZSwgY29sdW1uLCBkYXRhLCBuYXZpZ2F0ZVN0YXRlPzogYW55KSB7XHJcbiAgICBpZiAodXJsKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2xpY2tlZFJvd0RhdGEgPSBkYXRhPy5kYXRhO1xyXG4gICAgICBjb25zdCBVUkxTcyA9IHRoaXMudXJsZ2V0KGRhdGEsICdlZGl0VXJsJywgJycpO1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoYW5nZVBhZ2UodHJ1ZSk7XHJcblxyXG4gICAgICBjb25zdCBkYXRhS2V5cyA9IE9iamVjdC5rZXlzKGRhdGE/LmRhdGEpO1xyXG4gICAgICBpZiAoZGF0YUtleXMuaW5jbHVkZXMoVVJMU3MpKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhPy5kYXRhW1VSTFNzXSkge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uud2FybihkYXRhLmRpc3BsYXlWYWx1ZSArICcgbm90IGdlbmVyYXRlZCBwcm9wZXJseSEnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgczNVcmwgPSBkYXRhPy5kYXRhW1VSTFNzXS5pbmNsdWRlcygnLmNvbS8nKSA/IGRhdGE/LmRhdGFbVVJMU3NdLnNwbGl0KCcuY29tLycpWzFdIDogZGF0YT8uZGF0YVtVUkxTc107XHJcbiAgICAgICAgICB0aGlzLmRvd25sb2FkRmlsZUludGVybmFsbHkodGhpcy5lbnZpcm9ubWVudC5zM0J1Y2tldFVybCArICcvJyArIHMzVXJsLCBkYXRhPy5kYXRhWydmaWxlbmFtZSddKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YS5kYXRhLmZyb21HcmlkID0gdHJ1ZTtcclxuICAgICAgICBkYXRhLmRhdGEuZXh0ZXJuYWxMaW5rID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmlkLm5leHQoZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkKTtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRQYWdlVGFicyh1cmwsIGRhdGF0eXBlLCBjb2x1bW4sIGRhdGEuZGF0YVtjb2x1bW4uc3BsaXQoJy4nKVswXV1bY29sdW1uLnNwbGl0KCcuJylbMV1dLCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQsIG5hdmlnYXRlU3RhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlZGl0RGF0YShkYXRhKSB7XHJcbiAgICBjb25zdCBVUkxTcyA9IHRoaXMudXJsZ2V0KGRhdGEsICdlZGl0VXJsJywgJycpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5pZC5uZXh0KGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCk7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFVSTFNzKTtcclxuICB9XHJcblxyXG4gIHZpZXdEYXRhKGRhdGEpIHtcclxuICAgIGNvbnN0IFVSTFNzID0gdGhpcy51cmxnZXQoZGF0YSwgJ2VkaXRVcmwnLCAnJyk7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFVSTFNzKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZURhdGEoZGF0YSkge1xyXG4gICAgY29uc3QgVVJMU3MgPSB0aGlzLnVybGdldChkYXRhLCAnZGVsZXRlVXJsJywgJycpO1xyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChVUkxTcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuTGluayhkYXRhKSB7XHJcbiAgICBjb25zdCBVUkxTcyA9IHRoaXMudXJsZ2V0KGRhdGEsICdleHRlcm5hbExpbmsnLCAnJyk7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFVSTFNzKTtcclxuICB9XHJcblxyXG4gIHVybGdldChkYXRhLCBvYmosIHBVcmwpIHtcclxuICAgIGxldCB1cmwgPSBvYmogPyB0aGlzLnVwZGF0ZUdyaWRbb2JqXSA6IHBVcmw7XHJcbiAgICBpZiAodXJsKSB7XHJcbiAgICAgIGNvbnN0IHVybHBhcmFtQXJyID0gdXJsLnNwbGl0KCcvJyk7XHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIHVybHBhcmFtQXJyKSB7XHJcbiAgICAgICAgaWYgKGtleS5pbmRleE9mKCd7JykgIT09IC0xICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgdXJsID0gdGhpcy5zZXRVUkwoa2V5LCB1cmwsIGRhdGEpO1xyXG4gICAgICAgICAgdXJsID0gdGhpcy5zZXRDdXJyZW50VXJsKGtleSwgdXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJy91bmRlZmluZWQnLCAnJyk7XHJcbiAgICAgIGNvbnN0IHVybHBhcmFtQXJyMSA9IHVybC5zcGxpdCgnLycpO1xyXG4gICAgICB1cmwgPSB0aGlzLnNldFVybFBhcmFtKHVybHBhcmFtQXJyMSwgdXJsLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiByZW1vdmUgZHVwbGljYXRlIGZvcndhcmQgc2xhc2hlcyBmcm9tIHRoZSBVUkwgKi9cclxuICAgIHVybCA9IHVybC5yZXBsYWNlKC8oW146XVxcLylcXC8rL2csICckMScpO1xyXG4gICAgcmV0dXJuIHVybDtcclxuICB9XHJcblxyXG4gIHNldFVSTChrZXk6IGFueSwgdXJsOiBhbnksIGRhdGE6IGFueSkge1xyXG4gICAgaWYgKGtleSA9PT0gJ3tzb3VyY2VJZH0nKSB7XHJcbiAgICAgIGNvbnN0IHZhbCA9IHtcclxuICAgICAgICBzb3VyY2VJZDogdGhpcy5pbnB1dEZpZWxkSWRcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGtleSwgdmFsW2tleS5zdWJzdHJpbmcoMSwga2V5LmluZGV4T2YoJ30nKSldKTtcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAne3B1cnBvc2V9Jykge1xyXG4gICAgICBjb25zdCB2YWwgPSB7XHJcbiAgICAgICAgcHVycG9zZTogdGhpcy5wdXJwb3NlXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiB1cmwucmVwbGFjZShrZXksIHZhbFtrZXkuc3Vic3RyaW5nKDEsIGtleS5pbmRleE9mKCd9JykpXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdXJsLnJlcGxhY2Uoa2V5LCBkYXRhLmRhdGFba2V5LnN1YnN0cmluZygxLCBrZXkuaW5kZXhPZignfScpKV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudFVybChrZXk6IGFueSwgdXJsOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnJvdXRlci51cmwgJiYga2V5ID09PSAne3BhZ2VwYXRofScpIHtcclxuICAgICAgY29uc3QgY3VycmVudFVSTCA9IHRoaXMucm91dGVyLnVybC5zcGxpdCgnbWVyZ2VwYWdlJyk7XHJcbiAgICAgIGlmIChjdXJyZW50VVJMPy5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm4gdXJsLnJlcGxhY2UoJy9wYWdlcy9keW5hbWljcGFnZS8nLCBjdXJyZW50VVJMWzBdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VXJsUGFyYW0odXJscGFyYW1BcnIxOiBhbnksIHVybDogYW55LCBkYXRhOiBhbnkpIHtcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIHVybHBhcmFtQXJyMSkge1xyXG4gICAgICBpZiAoa2V5LmluZGV4T2YoJ3snKSAhPT0gLTEgJiYgZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGtleSwgZGF0YS5kYXRhW2tleS5zdWJzdHJpbmcoMSwga2V5LmluZGV4T2YoJ30nKSldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gZHluYW1pYyBhY3Rpb24gbGlua1xyXG4gIGdldEluc2lkZUdyaWRBY3Rpb24oZGF0YSwgaXRlbSkge1xyXG5cclxuICAgIHRoaXMuY2hlY2tSdWxlc0JlZm9yZUFjdGlvbnMoZGF0YSwgaXRlbSkuc3Vic2NyaWJlKChhbGxvd2VkOiBib29sZWFuKSA9PiB7XHJcbiAgICAgIGlmICghYWxsb3dlZCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZ2V0QWN0aW9uUm91dGVzKGRhdGEsIGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRBY3Rpb25Sb3V0ZXMoZGF0YSwgaXRlbSl7XHJcbiAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnZ3JpZEFjdGlvbicsIGl0ZW0uYWN0aW9uKTtcclxuICAgIC8qIENvbXBsZXhpdHktMTQqL1xyXG4gICAgaWYgKGl0ZW0uYWN0aW9uID09PSAnc2VhcmNoJyB8fCBpdGVtLmFjdGlvbiA9PT0gJ2VkaXQnIHx8IGl0ZW0uYWN0aW9uID09PSAndmlldycgfHwgaXRlbS5hY3Rpb24gPT09ICdzZWxlY3QnIHx8IGl0ZW0uYWN0aW9uID09PSAnc3dpdGNoJyB8fCBpdGVtLmFjdGlvbiA9PT0gJ2NvcHknKSB7XHJcbiAgICAgIC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgICB0aGlzLmFjdGlvbkNoZWNrKGl0ZW0sIGRhdGEpO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcclxuICAgICAgdGhpcy5kZWxldGVDb25maXJtYXRpb24oZGF0YSwgaXRlbSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgIHRoaXMuY29tcGxldGVDb25maXJtYXRpb24oZGF0YSwgaXRlbSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnbmFycmF0aXZlJykge1xyXG4gICAgICB0aGlzLnBvcHVwKGRhdGEuZGF0YS5uYXJyYXRpdmUsIGl0ZW0pO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2hpc3RvcnknKSB7XHJcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09IFBPUFVQX1RZUEVfT1BFTikge1xyXG5cclxuICAgICAgICAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgICAgICB0aGlzLnBvcHVwVHlwZUNoZWNrKGl0ZW0sIGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAncHJpbnQnKSB7XHJcblxyXG4gICAgICAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgICAgdGhpcy5hY3Rpb25QcmludENoZWNrKGRhdGEpO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2VtYWlsJykge1xyXG5cclxuICAgICAgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICAgIHRoaXMuYWN0aW9uRW1haWxDaGVjayhkYXRhKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdkb3dubG9hZCcpIHtcclxuXHJcbiAgICAgIC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgICB0aGlzLmFjdGlvbkRvd25sb2FkQ2hlY2soaXRlbSwgZGF0YSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnVHJpZ2dlclNjaGVkdWxpbmcnKSB7XHJcbiAgICAgIHRoaXMuc3RhcnRTY2hlZHVsaW5nKGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnVHJpZ2dlcicpIHtcclxuICAgICAgdGhpcy5zdGFydFNjaGVkdWxpbmcoZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkLCBpdGVtPy5saW5rKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdTdXJ2ZXknKSB7XHJcbiAgICAgIHRoaXMuYWN0aW9uU3VydmV5Q2hlY2soZGF0YSk7IC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2luZm8nKSB7XHJcbiAgICAgIHRoaXMuYWN0aW9uSW5mb0NoZWNrKGRhdGEsIGl0ZW0pOyAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgIH1cclxuICAgIC8vIGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnY29weScpIHtcclxuICAgIC8vICAgdGhpcy5hY3Rpb25DaGVjayhpdGVtLCBkYXRhKTsgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICAvLyB9XHJcbiAgfVxyXG5cclxuICBhY3Rpb25DaGVjayhpdGVtLCBkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGdldEluc2lkZUdyaWRBY3Rpb24oKSAqL1xyXG4gICAgY29uc3QgYWN0aW9uID0gaXRlbS5hY3Rpb247XHJcbiAgICBsZXQgZWRpdERhdGFTdGF0dXMgPSAnJztcclxuICAgIGNvbnN0IGdyaWRDb25maWcgPSB0aGlzLnNlYXJjaHBhcmFtcz8uZ3JpZGNvbmZpZztcclxuICAgIGNvbnN0IHRhYmxlc2NoZW1hY29uZmlnID0gdGhpcy5zZWFyY2hwYXJhbXM/LnRhYmxlc2NoZW1hY29uZmlnO1xyXG4gICAgbGV0IHZpZXdQcmltYXJ5VGFibGUgPSAnJztcclxuICAgIGlmKHRhYmxlc2NoZW1hY29uZmlnLm9iamVjdFR5cGUgPT0gJ3ZpZXcnKXtcclxuICAgICAgY29uc3QgZmlyc3RLZXkgPSBPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdO1xyXG4gICAgICB2aWV3UHJpbWFyeVRhYmxlID0gZGF0YS5kYXRhW2ZpcnN0S2V5XVsncHJpbWFyeV9vYmplY3QnXTtcclxuICAgIH1cclxuICAgIGlmKHRoaXMuaXNFZGl0VGhyZXNob2xkUmVxdWlyZSB8fCBncmlkQ29uZmlnPy5pc0VkaXRUaHJlc2hvbGRSZXF1aXJlKXtcclxuICAgICAgdGhpcy5pc0VkaXRUaHJlc2hvbGRSZXF1aXJlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmKGl0ZW0uYWN0aW9uID09PSAnZWRpdCcpe1xyXG4gICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnRWRpdEdyaWRQYWdlSUQnLCB0aGlzLnBhZ2VJZC50b1N0cmluZygpKTtcclxuICAgIH1cclxuICAgIGlmKGl0ZW0uYWN0aW9uID09PSAnZWRpdCcgJiYgdGhpcy5pc0VkaXRUaHJlc2hvbGRSZXF1aXJlKXtcclxuICAgICAgY29uc3QgcHJpbWFyeV9pZCA9IHRoaXMuZ2V0UHJpbWFyeUNvbHVtbklkKGRhdGEuZGF0YS5wcmltYXJ5Q29sdW1uLCBkYXRhKTtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jaGVja0VkaXRTdGF0dXModGhpcy5wYWdlSWQsIHByaW1hcnlfaWQpLnN1YnNjcmliZShcclxuICAgICAgICByZXN1bHQgPT4ge1xyXG4gICAgICAgICAgaWYocmVzdWx0WydkYXRhJ10gJiYgcmVzdWx0WydkYXRhJ10ubGVuZ3RoID4gMCAmJiByZXN1bHRbJ2RhdGEnXVswXVsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgZWRpdERhdGFTdGF0dXMgPSByZXN1bHRbJ2RhdGEnXVswXVsnc3RhdHVzJ107XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdEFjdGlvbkNoZWNrKGl0ZW0sIGRhdGEsIGVkaXREYXRhU3RhdHVzKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2Vycm9yID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnZ3JpZEFjdGlvbicsIGFjdGlvbik7XHJcbiAgICBjb25zdCBuYXZpZ2F0ZVN0YXRlID0ge1xyXG4gICAgICBleHRlcm5hbExpbms6IHRydWUsXHJcbiAgICAgIGlzUmVhZE9ubHk6IGZhbHNlLFxyXG4gICAgICB0aXRsZTogaXRlbS5hY3Rpb25bMF0udG9VcHBlckNhc2UoKSArIGl0ZW0uYWN0aW9uLnNsaWNlKDEpICsgJyAnICsgdGhpcy5mcm9tVGl0bGUsXHJcbiAgICAgIHBlcnNvbklkOiBudWxsLFxyXG4gICAgICBwYWdlSWQ6IG51bGxcclxuICAgIH07XHJcbiAgICBpZiAoaXRlbS5hY3Rpb24gPT09ICd2aWV3Jykge1xyXG4gICAgICBuYXZpZ2F0ZVN0YXRlLmlzUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gUE9QVVBfVFlQRV9PUEVOKSB7XHJcbiAgICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgICAgZGlhbG9nQ29uZmlnLmRpc2FibGVDbG9zZSA9IGZhbHNlO1xyXG4gICAgICBkaWFsb2dDb25maWcuaGVpZ2h0ID0gJzkwJSc7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy53aWR0aCA9ICcxMDAlJztcclxuICAgICAgdGhpcy5hY3Rpb25WaWV3Q2hlY2soaXRlbSwgZGlhbG9nQ29uZmlnLCBkYXRhKTtcclxuICAgICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihEeW5hbWljU2VhcmNoQ2xlYW51cENvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgICAgcmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaXRlbS5hY3Rpb24gPT09ICdjb3B5dGVtcCcpIHtcclxuICAgICAgICBjb25zdCB1c2VyID0gdGhpcy5sb2NhbHN0b3JlLmdldE9iaigndXNlcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXSk7XHJcbiAgICAgICAgbGV0IHBhZ2VJZCA9ICcnO1xyXG4gICAgICAgIGlmKGdyaWRDb25maWc/LmdyaWRBY3Rpb25Gb3JtQXJyYXkubGVuZ3RoKXtcclxuICAgICAgICAgIGdyaWRDb25maWc/LmdyaWRBY3Rpb25Gb3JtQXJyYXkuZmluZChpdGVtID0+e1xyXG4gICAgICAgICAgICBpZihpdGVtPy5hY3Rpb24gPT0gJ2FkZCcpIHBhZ2VJZCA9IGl0ZW0/LmxpbmtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwaWQgPVxyXG4gICAgICAgIHR5cGVvZiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0gPT0gJ3N0cmluZydcclxuICAgICAgICA/IGRhdGEuZGF0YT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGE/LklEXHJcbiAgICAgICAgOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0gfHwgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5pZCA7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB7XHJcbiAgICAgICAgICAvLyBcImlkXCI6ZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dLFxyXG4gICAgICAgICAgXCJpZFwiOiByZXNwaWQsXHJcbiAgICAgICAgICBcInNjaGVtYVwiOiB0YWJsZXNjaGVtYWNvbmZpZy5zY2hlbWEsXHJcbiAgICAgICAgICBcInRhYmxlbmFtZVwiOiB0YWJsZXNjaGVtYWNvbmZpZy5vYmplY3RUeXBlICE9PSAndmlldyc/IE9iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF0gOiB2aWV3UHJpbWFyeVRhYmxlLFxyXG4gICAgICAgICAgXCJjdXJyZW50VXNlclwiOnVzZXI/LmlkLFxyXG4gICAgICAgICAgXCJwYWdlSWRcIjogcGFnZUlkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uucm93VmVyc2lvbihyZXF1ZXN0RGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24ucGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwge1xyXG4gICAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoR3JpZCh0aGlzLmh0dHAsIHRoaXMuc3RvcmFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JvdyBhZGRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgaWYgKFsnbWFzdGVyLXZpZXcnLCAnY29tcG9zaXRlLXBhZ2UnXS5pbmNsdWRlcyggd2luZG93LmxvY2F0aW9uLmhyZWYpKVxyXG4gICAgICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmKCh0aGlzLnNlbGVjdGVkQ29tcG9uZW50Py5sb2FkZWRGcm9tTWFzdGVyVmlldyB8fCB0aGlzLnNlbGVjdGVkQ29tcG9uZW50Py5sb2FkZWRGcm9tQ29tcG9zaXRlUGFnZSkmJiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzKVxyXG4gICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChwdWJsaXNoRXZlbnQoe2V2ZW50TmFtZTogJ3N1Ym1pdCcsIHBheWxvYWQ6IHRoaXMuc2VsZWN0ZWRDb21wb25lbnR9KSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihfZXJyb3IuZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICAvL1RoaXMgUm91dGVzIHByaW9yaXR6aW5nIGNvbXBvc2l0ZS1wYWdlcyBhcyBmaXJzdFxyXG4gICAgICBlbHNlIGlmICh0aGlzLnJvdXRlcj8udXJsLmluY2x1ZGVzKCdtYXN0ZXItdmlldycpIHx8IHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ2NvbXBvc2l0ZS1wYWdlJykpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLnJvdXRlci51cmw7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQgJiYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21NYXN0ZXJWaWV3IHx8IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQubG9hZGVkRnJvbUNvbXBvc2l0ZVBhZ2UgKSAgJiYgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncyAmJlxyXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkKVxyXG4gICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChwdWJsaXNoRXZlbnQoeyBldmVudE5hbWU6IGl0ZW0uYWN0aW9uLFxyXG4gICAgICAgICAgICAgcGF5bG9hZDogeyBpZDogZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dLCBtYXBwaW5nRm9ybUlkOiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzLm1hcHBpbmdGb3JtSWQgfSB9KSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBpZih0aGlzLnNlbGVjdGVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdjb21wb3NpdGVUaXRsZScsIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MudGl0bGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ3NldFRhYkFjdGlvbicsIGl0ZW0uYWN0aW9uKTtcclxuICAgICAgICAgIHRoaXMuc2hhcmVkU2VydmljZS5zZW5kTWVzc2FnZSgpO1xyXG4gICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvZm9ybS8nICsgaXRlbS5saW5rICsgJy8nICsgIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcclxuICAgICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vdGhpcy5hY3Rpb25Sb3V0ZXJDb25maWcoZGF0YSwgaXRlbSwgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vQmVsb3cgcm91dGluZyBoYW5kbGVzIHJpYmJvbiBhbmQgc2luZ2xlIGdyaWQgcGFnZXNcclxuICAgICAgZWxzZSBpZiAodGhpcy5yb3V0ZXI/LnVybC5pbmNsdWRlcygnZHluYW1pYy1yb3V0aW5nJykpIHtcclxuICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnc2V0VGFiQWN0aW9uJywgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuc2hhcmVkU2VydmljZS5zZW5kTWVzc2FnZSgpO1xyXG4gICAgICAgIGxldCB1cmw7XHJcbiAgICAgICAgaWYoaXRlbT8ucGFnZVR5cGUgPT0gJ0NPTVAnKXtcclxuICAgICAgICAgIHVybCA9ICcuLi8uLi8uLi9jb21wb3NpdGUtcGFnZS8nICsgaXRlbS5saW5rICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB1cmwgPSAnLi4vLi4vLi4vZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgIH1cclxuICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHtcclxuICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLy8gdGhpcy5hY3Rpb25Sb3V0ZXJDb25maWcoZGF0YSwgaXRlbSwgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdwYWdlcy8nKSkge1xyXG4gICAgICAgIGNvbnN0IGxpbmsgPSBpdGVtLmxpbmsucmVwbGFjZSgne2lkfScsIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSk7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCgnLycgKyBsaW5rLCB7IHN0YXRlOiBpdGVtIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygnbWVyZ2VwYWdlJykpIHtcclxuICAgICAgICBsZXQgdXJsID0gaXRlbS5saW5rICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dO1xyXG4gICAgICAgIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ3tzb3VyY2VJZH0nKSkge1xyXG4gICAgICAgICAgdXJsID0gdGhpcy51cmxnZXQoZGF0YSwgJycsIGl0ZW0ubGluayk7XHJcbiAgICAgICAgICB1cmwgPSB1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygnc291cmNlaWQnKSkge1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGl0ZW0ubGluay5zcGxpdCgnX3NvdXJjZWlkJylbMF07XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljLXJvdXRpbmcvJyArIGRhdGEuZGF0YS5zb3VyY2VpZCArICcvZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIGZvcm1JZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dXSwge1xyXG4gICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcclxuICAgICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdfcGFnZScpKSB7XHJcbiAgICAgICAgLy8gVHJhbnNhY3Rpb25zIFBhZ2UgLSBlZGl0IHJvdXRpbmcgY2hhbmdlc1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGl0ZW0ubGluay5zcGxpdCgnX3BhZ2UnKVswXTtcclxuICAgICAgICBjb25zdCB1cmwgPSAnL3BhZ2VzL2R5bmFtaWMtcm91dGluZy8nICsgZGF0YS5kYXRhLmNsaWVudGFjY291bnRpZCArICcvZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIGZvcm1JZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dXSwge1xyXG4gICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcclxuICAgICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcGFnZWlkID0gaXRlbS5saW5rID8gaXRlbS5saW5rIDogdGhpcy5wYWdlSWQ7XHJcbiAgICAgICAgY29uc3QgcmVzcGlkID1cclxuICAgICAgICAgIHR5cGVvZiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0gPT0gJ3N0cmluZydcclxuICAgICAgICAgICAgPyBkYXRhLmRhdGE/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0gfHwgZGF0YS5kYXRhPy5JRFxyXG4gICAgICAgICAgICA6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIHBhZ2VpZCArICcvJyArIHJlc3BpZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZWRpdEFjdGlvbkNoZWNrKGl0ZW0sIGRhdGEsIGVkaXREYXRhU3RhdHVzKXtcclxuICAgIGlmKGl0ZW0uYWN0aW9uID09PSAnZWRpdCcgJiYgZWRpdERhdGFTdGF0dXMgPT09ICdPV05FUl9PTkxZX0VESVQnKXtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uud2FybignWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gZWRpdCB0aGlzIHJlY29yZC4gT25seSB0aGUgb3duZXIgd2hvIGNyZWF0ZWQgdGhlIHJlY29yZCBjYW4gbWFrZSBjaGFuZ2VzLicpO1xyXG4gICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIH0gZWxzZSBpZihpdGVtLmFjdGlvbiA9PT0gJ2VkaXQnICYmIGVkaXREYXRhU3RhdHVzID09PSAnTk9fRURJVCcpe1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdUaGUgZWRpdCB3aW5kb3cgZm9yIHRoaXMgcmVjb3JkIGhhcyBleHBpcmVkIGFuZCBjaGFuZ2VzIGNhbm5vdCBiZSBtYWRlIGF0IHRoaXMgdGltZS4nKTtcclxuICAgICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBhY3Rpb24gPSBpdGVtLmFjdGlvbjtcclxuICAgICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ2dyaWRBY3Rpb24nLCBhY3Rpb24pO1xyXG4gICAgICBjb25zdCBuYXZpZ2F0ZVN0YXRlID0ge1xyXG4gICAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgICBpc1JlYWRPbmx5OiBmYWxzZSxcclxuICAgICAgICB0aXRsZTogaXRlbS5hY3Rpb25bMF0udG9VcHBlckNhc2UoKSArIGl0ZW0uYWN0aW9uLnNsaWNlKDEpICsgJyAnICsgdGhpcy5mcm9tVGl0bGUsXHJcbiAgICAgICAgcGVyc29uSWQ6IG51bGwsXHJcbiAgICAgICAgcGFnZUlkOiBudWxsXHJcbiAgICAgIH07XHJcbiAgICAgIGlmICh0aGlzLnJvdXRlcj8udXJsLmluY2x1ZGVzKCdkeW5hbWljLXJvdXRpbmcnKSkge1xyXG4gICAgICAgIGlmICh0aGlzLnJvdXRlcj8udXJsLmluY2x1ZGVzKCdtYXN0ZXItdmlldycpIHx8IHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ2NvbXBvc2l0ZS1wYWdlJykpIHtcclxuICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMucm91dGVyLnVybDtcclxuICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ29tcG9uZW50ICYmICh0aGlzLnNlbGVjdGVkQ29tcG9uZW50LmxvYWRlZEZyb21NYXN0ZXJWaWV3IHx8IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQubG9hZGVkRnJvbUNvbXBvc2l0ZVBhZ2UpICYmIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MgJiZcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkKVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7XHJcbiAgICAgICAgICAgICAgZXZlbnROYW1lOiBpdGVtLmFjdGlvbixcclxuICAgICAgICAgICAgICBwYXlsb2FkOiB7IGlkOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQsIG1hcHBpbmdGb3JtSWQ6IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MubWFwcGluZ0Zvcm1JZCB9XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy9mb3JtLycgKyBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcclxuICAgICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgdXJsID0gJy4uLy4uLy4uL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwge1xyXG4gICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0aGlzLmFjdGlvblJvdXRlckNvbmZpZyhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ3BhZ2VzLycpKSB7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGl0ZW0ubGluay5yZXBsYWNlKCd7aWR9JywgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvJyArIGxpbmssIHsgc3RhdGU6IGl0ZW0gfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdtZXJnZXBhZ2UnKSkge1xyXG4gICAgICAgIGxldCB1cmwgPSBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygne3NvdXJjZUlkfScpKSB7XHJcbiAgICAgICAgICB1cmwgPSB0aGlzLnVybGdldChkYXRhLCAnJywgaXRlbS5saW5rKTtcclxuICAgICAgICAgIHVybCA9IHVybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdzb3VyY2VpZCcpKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfc291cmNlaWQnKVswXTtcclxuICAgICAgICBjb25zdCB1cmwgPSAnL3BhZ2VzL2R5bmFtaWMtcm91dGluZy8nICsgZGF0YS5kYXRhLnNvdXJjZWlkICsgJy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ19wYWdlJykpIHtcclxuICAgICAgICAvLyBUcmFuc2FjdGlvbnMgUGFnZSAtIGVkaXQgcm91dGluZyBjaGFuZ2VzXHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nLycgKyBkYXRhLmRhdGEuY2xpZW50YWNjb3VudGlkICsgJy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSAgZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdjb3B5Jykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXSk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB7XHJcbiAgICAgICAgICBcImlkXCI6ZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5pZCxcclxuICAgICAgICAgIFwic2NoZW1hXCI6XCJveWFcIixcclxuICAgICAgICAgIFwidGFibGVuYW1lXCI6T2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXSxcclxuICAgICAgICAgIFwiY3VycmVudFVzZXJcIjo1NzJcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5yb3dWZXJzaW9uKHJlcXVlc3REYXRhKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmxvY2F0aW9uLnBhdGgoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7XHJcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JvdyBhZGRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihfZXJyb3IuZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBjb25zdCBwYWdlaWQgPSBpdGVtLmxpbmsgPyBpdGVtLmxpbmsgOiB0aGlzLnBhZ2VJZDtcclxuICAgICAgICBjb25zdCByZXNwaWQgPVxyXG4gICAgICAgIHR5cGVvZiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0gPT0gJ3N0cmluZydcclxuICAgICAgICA/IGRhdGEuZGF0YT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGE/LklEXHJcbiAgICAgICAgOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0gfHwgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5pZFxyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIHBhZ2VpZCArICcvJyArIHJlc3BpZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWN0aW9uVmlld0NoZWNrKGl0ZW0sIGRpYWxvZ0NvbmZpZywgZGF0YSkge1xyXG4gICAgLyogRnJvbSBhY3Rpb25DaGVjaygpLS0+IGdldEluc2lkZUdyaWRBY3Rpb24oKSAqL1xyXG4gICAgaWYgKGl0ZW0uYWN0aW9uID09PSAndmlldycpIHtcclxuICAgICAgZGlhbG9nQ29uZmlnLmRhdGEgPSB7XHJcbiAgICAgICAgZWRpdElkOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQsXHJcbiAgICAgICAgcGFnZUlkOiBpdGVtLmxpbmssXHJcbiAgICAgICAgaXNQb3B1cDogdHJ1ZSxcclxuICAgICAgICBpc1JlYWRPbmx5OiB0cnVlXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWFsb2dDb25maWcuZGF0YSA9IHsgZWRpdElkOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQsIHBhZ2VJZDogaXRlbS5saW5rLCBpc1BvcHVwOiB0cnVlIH07XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFjdGlvblJvdXRlckNvbmZpZyhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKSB7XHJcbiAgICBsZXQgdXJsID0gdGhpcy5yb3V0ZXIudXJsO1xyXG4gICAgaWYgKHRoaXMub3V0ZXJSb3V0aW5nPy5vYnNlcnZlcnM/Lmxlbmd0aCkge1xyXG4gICAgICBkYXRhLml0ZW0gPSBpdGVtO1xyXG4gICAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnb3V0ZXJSb3V0aW5nRGF0YScsIGRhdGEpO1xyXG4gICAgICB0aGlzLm91dGVyUm91dGluZy5lbWl0KGRhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygnbXVsdGlwbGVmb3JtJykpIHtcclxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJ21lcmdlcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGl0ZW0ubGluay5zcGxpdCgnX211bHRpcGxlZm9ybScpWzBdO1xyXG4gICAgICAgIHVybCA9IHVybCArICdkeW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygnc291cmNlZm9ybScpKSB7XHJcbiAgICAgICAgLy8gZm9yIGNoaWxkIHJlbW92YWwgLSBlZGl0L3ZpZXcgcm91dGluZyBjaGFuZ2VcclxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJ21lcmdlcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGl0ZW0ubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVswXTtcclxuICAgICAgICB1cmwgPSB1cmwgKyAncGFnZS9tb2RpZnkvJyArIGZvcm1JZDtcclxuICAgICAgICBpZiAoaXRlbS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdICYmIGl0ZW0ubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVsxXS5pbmNsdWRlcygnX3N1YnRhYl8nKSkge1xyXG4gICAgICAgICAgLy8gRXh0ZXJuYWwgUG9ydGFsIC0gU3RhZmYgd2l0aCBzdWJ0YWJzXHJcbiAgICAgICAgICBjb25zdCBsaW5rID0gaXRlbS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdO1xyXG5cclxuICAgICAgICAgIC8qIEdldCBzdWJ0YWIgbmFtZSBmb3IgdXJsICovXHJcbiAgICAgICAgICBjb25zdCBzdWJ0YWIgPSBsaW5rLnNwbGl0KCdfc3VidGFiXycpWzFdO1xyXG4gICAgICAgICAgdXJsID0gc3VidGFiICsgJy8nICsgdXJsO1xyXG5cclxuICAgICAgICAgIC8qIERpc2FibGUgYmFjayBidXR0b24gKi9cclxuICAgICAgICAgIG5hdmlnYXRlU3RhdGUuZXh0ZXJuYWxMaW5rID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgLyogc2V0IGRlZmF1bHQgcGFnZSB0aXRsZSAqL1xyXG4gICAgICAgICAgbmF2aWdhdGVTdGF0ZS50aXRsZSA9ICcnO1xyXG4gICAgICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jaGFuZ2VQYWdlKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZignbWFzdGVyLXZpZXcnKSA+IDAgfHwgdXJsLmluZGV4T2YoJ2NvbXBvc2l0ZS1wYWdlJykgPiAwKSB7XHJcbiAgICAgICAgdXJsID0gdXJsICsgJy9mb3JtLycgKyBpdGVtLmxpbms7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBwb3B1cFR5cGVDaGVjayhpdGVtLCBkYXRhKSB7XHJcbiAgICBjb25zdCBzcmNpZCA9IHRoaXMucm91dGU/LnBhcmVudD8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8uc25hcHNob3Q/LnBhcmFtTWFwLmdldCgnc291cmNlaWQnKVxyXG4gICAgICA/IHRoaXMucm91dGU/LnBhcmVudD8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8uc25hcHNob3Q/LnBhcmFtTWFwLmdldCgnc291cmNlaWQnKVxyXG4gICAgICA6IHRoaXMucm91dGU/LnBhcmVudD8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5wYXJlbnQ/LnNuYXBzaG90Py5wYXJhbU1hcC5nZXQoJ3NvdXJjZWlkJyk7XHJcbiAgICBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICBkaWFsb2dDb25maWcuZGlzYWJsZUNsb3NlID0gZmFsc2U7XHJcbiAgICBkaWFsb2dDb25maWcuaGVpZ2h0ID0gJzkwJSc7XHJcbiAgICBkaWFsb2dDb25maWcud2lkdGggPSAnMTAwJSc7XHJcbiAgICBkaWFsb2dDb25maWcuZGF0YSA9IHsgcGFnZUlkOiBpdGVtLmxpbmssIGlucHV0RmllbGRJZDogZGF0YS5rZXkuaWQsIGlucHV0SWQ6IHNyY2lkIH07XHJcbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKER5bmFtaWNTZWFyY2hDbGVhbnVwQ29tcG9uZW50LCBkaWFsb2dDb25maWcpO1xyXG4gICAgcmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFjdGlvblByaW50Q2hlY2soZGF0YSkge1xyXG4gICAgLyogRnJvbSBnZXRJbnNpZGVHcmlkQWN0aW9uKCkqL1xyXG4gICAgaWYgKCFkYXRhLmRhdGEuczNidWNrZXR1cmwpIHtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uud2FybignTm8gcGRmIGZvdW5kJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHBkZnVybCA9IHRoaXMuZW52aXJvbm1lbnQuczNCdWNrZXRVcmwgKyAnLycgKyBkYXRhLmRhdGEuczNidWNrZXR1cmw7XHJcbiAgICBlczZwcmludEpTKHsgcHJpbnRhYmxlOiBwZGZ1cmwsIHR5cGU6ICdwZGYnLCBzaG93TW9kYWw6IHRydWUgfSk7XHJcbiAgfVxyXG5cclxuICBhY3Rpb25FbWFpbENoZWNrKGRhdGEpIHtcclxuICAgIC8qIEZyb20gZ2V0SW5zaWRlR3JpZEFjdGlvbigpKi9cclxuICAgIGlmICghZGF0YS5kYXRhLmVtYWlsKSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ0VtYWlsIGlzIG5vdCBhdmFpbGFibGUnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkYXRhLmRhdGEuczNidWNrZXR1cmwpIHtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uud2FybignTm8gQXR0YWNobWVudCBmb3VuZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyAjY2hlY2sgZnJvbWFkZHJlc3MgaXMgaGFyZGNvZGVkXHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlXHJcbiAgICAgIC5zZW5kTWFpbCh7XHJcbiAgICAgICAgc3ViamVjdDogZGF0YS5kYXRhLnN1YmplY3QsXHJcbiAgICAgICAgY29udGVudDogYCR7ZGF0YS5kYXRhLmNvbnRlbnRfYm9keX08cD5UaGFua3MgPGJyPiAke3RoaXMudXNlci5maXJzdE5hbWV9ICR7dGhpcy51c2VyLmxhc3ROYW1lfSA8YnI+ICAke3RoaXMudXNlci5yb2xlLmRlc2NyaXB0aW9ufSA8L3A+YCxcclxuICAgICAgICBzM2J1Y2tldGtleTogZGF0YS5kYXRhLnMzYnVja2V0dXJsLFxyXG4gICAgICAgIHRvYWRyZXNzZXM6IFtkYXRhLmRhdGEuZW1haWxdLFxyXG4gICAgICAgIGZyb21hZGRyZXNzOiAndm1hdGhld0BkbWluYy5jb20nXHJcbiAgICAgIH0pXHJcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0VtYWlsIFNlbnQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWN0aW9uRG93bmxvYWRDaGVjayhpdGVtLCBkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGdldEluc2lkZUdyaWRBY3Rpb24oKSovXHJcbiAgICBpZiAoaXRlbS50eXBlID09PSAnRG9jdW1lbnQgUmVwb3J0IEdlbmVyYXRpb24nKSB7XHJcbiAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdwYWdlRGF0YScsIHRoaXMuc2VhcmNocGFyYW1zKTtcclxuICAgICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ2dyaWREYXRhJywgZGF0YT8uZGF0YSk7XHJcbiAgICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgICAgZGlhbG9nQ29uZmlnLmRpc2FibGVDbG9zZSA9IGZhbHNlO1xyXG4gICAgICBkaWFsb2dDb25maWcuaGVpZ2h0ID0gJzkwJSc7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy53aWR0aCA9ICcxMDAlJztcclxuICAgICAgZGlhbG9nQ29uZmlnLmRhdGEgPSB7IGVkaXRJZDogZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkLCBwYWdlSWQ6IGl0ZW0ubGluaywgaXNQb3B1cDogdHJ1ZSB9O1xyXG4gICAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKER5bmFtaWNTZWFyY2hDbGVhbnVwQ29tcG9uZW50LCBkaWFsb2dDb25maWcpO1xyXG4gICAgICByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFjdGlvblN1cnZleUNoZWNrKGRhdGEpIHtcclxuICAgIC8qIEZyb20gZ2V0SW5zaWRlR3JpZEFjdGlvbigpKi9cclxuICAgIGlmIChkYXRhLmRhdGEucGFnZWRhdGFpZCkge1xyXG4gICAgICBkYXRhLmRhdGEuaXNSZWFkT25seSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFxyXG4gICAgICBQQUdFX01PRElGWV9ST1VURSArXHJcbiAgICAgIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCArXHJcbiAgICAgIChkYXRhLmRhdGEucGFnZWRhdGFpZCA/ICcvJyArIGRhdGEuZGF0YS5wYWdlZGF0YWlkIDogJycpLFxyXG4gICAgICB7IHN0YXRlOiBkYXRhLmRhdGEgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldE91dHNpZGVHcmlkQWN0aW9uKGl0ZW0pIHtcclxuICAgIHRoaXMuY2hlY2tSdWxlc0JlZm9yZUFjdGlvbnMoeyBwYWdlRGF0YTogdGhpcy5hbGxVcmxQYXJhbXMgfSwgaXRlbSkuc3Vic2NyaWJlKChhbGxvd2VkOiBib29sZWFuKSA9PiB7XHJcbiAgICAgIGlmICghYWxsb3dlZCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKCdBZGRBY3Rpb24nLCB0cnVlKTtcclxuICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ2dyaWRBY3Rpb24nLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBpdGVtO1xyXG4gICAgICBjb25zdCBhY3Rpb24gPSBpdGVtLmFjdGlvbjtcclxuICAgICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ2dyaWRBY3Rpb24nLCBhY3Rpb24pO1xyXG4gICAgICBjb25zdCBuYXZpZ2F0ZVN0YXRlID0ge1xyXG4gICAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgICB0aXRsZTogaXRlbS5hY3Rpb25bMF0udG9VcHBlckNhc2UoKSArIGl0ZW0uYWN0aW9uLnNsaWNlKDEpICsgJyAnICsgdGhpcy5mcm9tVGl0bGUsXHJcbiAgICAgICAgcGVyc29uSWQ6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgLy8gaWYgKG5hdmlnYXRlU3RhdGU/LnRpdGxlKSB7XHJcbiAgICAgIC8vICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWRkLXRpdGxlJywgbmF2aWdhdGVTdGF0ZT8udGl0bGUpO1xyXG4gICAgICAvLyB9XHJcbiAgICAgIGlmIChkYXRhLnR5cGUgPT0gJ0V4dGVybmFsIExpbmsnKSB7XHJcbiAgICAgICAgdGhpcy5nZXRWZXJzaW9uTGlzdChpdGVtPy5saW5rLCBudWxsLCBpdGVtKTtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT0gUE9QVVBfVFlQRV9PUEVOKSB7XHJcbiAgICAgICAgdGhpcy5zZXREaWFsb2dDb25maWcoaXRlbSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ2R5bmFtaWMtcm91dGluZycpKSB7XHJcbiAgICAgICAgICB0aGlzLmR5bmFtaWNSb3V0ZUNoZWNrKGRhdGEsIGl0ZW0sIG5hdmlnYXRlU3RhdGUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5saW5rLmluY2x1ZGVzKCdtZXJnZXBhZ2UnKSkge1xyXG4gICAgICAgICAgY29uc3QgdXJsID0gZGF0YS5saW5rO1xyXG4gICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMubmF2aWdhdGVUb0dyaWRQYWdlKGRhdGEsIG5hdmlnYXRlU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGR5bmFtaWNSb3V0ZUNoZWNrKGRhdGEsIGl0ZW0sIG5hdmlnYXRlU3RhdGUpIHtcclxuICAgIC8qIEZyb20gZ2V0T3V0c2lkZUdyaWRBY3Rpb24oKSovXHJcbiAgICBsZXQgdXJsID0gdGhpcy5yb3V0ZXIudXJsO1xyXG4gICAgaWYgKHRoaXMub3V0ZXJSb3V0aW5nPy5vYnNlcnZlcnM/Lmxlbmd0aCkge1xyXG4gICAgICBkYXRhLml0ZW0gPSBpdGVtO1xyXG4gICAgICB0aGlzLm91dGVyUm91dGluZy5lbWl0KGRhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGxpbmsgPSBkYXRhLmxpbms7XHJcblxyXG4gICAgICBpZiAoZGF0YS5saW5rLmluY2x1ZGVzKCdtdWx0aXBsZWZvcm0nKSkge1xyXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnbWVyZ2VwYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gZGF0YS5saW5rLnNwbGl0KCdfbXVsdGlwbGVmb3JtJylbMF07XHJcbiAgICAgICAgbGluayA9ICdkeW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICB9IGVsc2UgaWYgKGRhdGEubGluay5pbmNsdWRlcygnc291cmNlZm9ybScpKSB7XHJcbiAgICAgICAgLy8gZm9yIGludGVyZXN0IHRyYW5zYWN0aW9uIGFkZFxyXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnbWVyZ2VwYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gZGF0YS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzBdO1xyXG4gICAgICAgIGxpbmsgPSAncGFnZS9tb2RpZnkvJyArIGZvcm1JZDtcclxuICAgICAgICBuYXZpZ2F0ZVN0YXRlID0gdGhpcy5zZXRSb3V0ZURhdGEoZGF0YSwgbGluaywgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgICAgICAgaWYgKGRhdGEubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVsxXSAmJiBkYXRhLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV0uaW5jbHVkZXMoJ19zdWJ0YWJfJykpIHtcclxuICAgICAgICAgIC8vIEV4dGVybmFsIFBvcnRhbCAtIFN0YWZmIHdpdGggc3VidGFic1xyXG4gICAgICAgICAgY29uc3Qgc3VidGFiRGF0YSA9IGRhdGEubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVsxXTtcclxuXHJcbiAgICAgICAgICAvKiBHZXQgc3VidGFiIG5hbWUgZm9yIHVybCAqL1xyXG4gICAgICAgICAgY29uc3Qgc3VidGFiID0gc3VidGFiRGF0YS5zcGxpdCgnX3N1YnRhYl8nKVsxXTtcclxuICAgICAgICAgIGxpbmsgPSBzdWJ0YWIgKyAnLycgKyBsaW5rO1xyXG5cclxuICAgICAgICAgIC8qIERpc2FibGUgYmFjayBidXR0b24gKi9cclxuICAgICAgICAgIG5hdmlnYXRlU3RhdGUuZXh0ZXJuYWxMaW5rID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgLyogc2V0IGRlZmF1bHQgcGFnZSB0aXRsZSAqL1xyXG4gICAgICAgICAgbmF2aWdhdGVTdGF0ZS50aXRsZSA9ICcnO1xyXG4gICAgICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jaGFuZ2VQYWdlKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy8nICsgbGlua10sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRSb3V0ZURhdGEoZGF0YSwgX2xpbmssIG5hdmlnYXRlU3RhdGUpIHtcclxuICAgIGlmIChkYXRhLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV0gJiYgZGF0YS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdLmluY2x1ZGVzKCdfc3VidGFiXycpKSB7XHJcbiAgICAgIC8vIEV4dGVybmFsIFBvcnRhbCAtIFN0YWZmIHdpdGggc3VidGFic1xyXG4gICAgICAvLyBHZXQgc3VidGFiIG5hbWUgZm9yIHVybFxyXG5cclxuICAgICAgLyogRGlzYWJsZSBiYWNrIGJ1dHRvbiAqL1xyXG4gICAgICBuYXZpZ2F0ZVN0YXRlLmV4dGVybmFsTGluayA9IGZhbHNlO1xyXG5cclxuICAgICAgLyogc2V0IGRlZmF1bHQgcGFnZSB0aXRsZSAqL1xyXG4gICAgICBuYXZpZ2F0ZVN0YXRlLnRpdGxlID0gJyc7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hhbmdlUGFnZSh0cnVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuYXZpZ2F0ZVN0YXRlO1xyXG4gIH1cclxuXHJcbiAgbmF2aWdhdGVUb0dyaWRQYWdlKGRhdGE6IGFueSwgbmF2aWdhdGVTdGF0ZTogYW55KSB7XHJcbiAgICBpZiAoZGF0YS5saW5rLmluY2x1ZGVzKCdwYWdlcy8nKSkge1xyXG4gICAgICBpZiAoZGF0YS5saW5rLmluY2x1ZGVzKCd7b3JnYW5pemF0aW9uaWR9JykpIHtcclxuICAgICAgICBjb25zdCBzb3VyY2VpZCA9IHRoaXMudXNlcj8udXNlcldvcmtJbmZvPy5vcmdhbml6YXRpb24/LmlkO1xyXG4gICAgICAgIGNvbnN0IGxpbmsgPSBkYXRhLmxpbmsucmVwbGFjZSgne29yZ2FuaXphdGlvbmlkfScsIHNvdXJjZWlkKTtcclxuICAgICAgICBjb25zdCB1cmwgPSAnLycgKyBsaW5rO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoJy8nICsgZGF0YS5saW5rKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3RhYicpID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcuLi8uLi9wYWdlLycgKyBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gUEFHRV9NT0RJRllfUk9VVEUgKyBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERpYWxvZ0NvbmZpZyhpdGVtOiBhbnkpIHtcclxuICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcclxuICAgIGRpYWxvZ0NvbmZpZy5oZWlnaHQgPSAnOTAlJztcclxuICAgIGRpYWxvZ0NvbmZpZy53aWR0aCA9ICcxMDAlJztcclxuICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBwYWdlSWQ6IGl0ZW0ubGluaywgaXNQb3B1cDogdHJ1ZSB9O1xyXG4gICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihEeW5hbWljU2VhcmNoQ2xlYW51cENvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIC8vIHJlZnJlc2ggZ3JpZFxyXG4gICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29udmVydFRvSVNPRm9ybWF0KGRhdGVTdHJpbmcpIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOyAvLyBNb250aHMgYXJlIDAtYmFzZWRcclxuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgbWlsbGlzZWNvbmRzID0gU3RyaW5nKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KDMsICcwJyk7XHJcbiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VCR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfS4ke21pbGxpc2Vjb25kc31aYDtcclxuICB9XHJcblxyXG4gIGFkZE1pbnV0ZXMoZGF0ZVN0cmluZzogc3RyaW5nLCBtaW51dGVzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xyXG4gICAgZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgbWludXRlcyk7XHJcbiAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UHJpbWFyeUNvbHVtbklkKHByaW1hcnlDb2x1bW46IGFueSwgZGF0YTogYW55KSB7XHJcbiAgICBjb25zdCBmaXJzdEtleSA9IE9iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF07XHJcbiAgICByZXR1cm4gZGF0YS5kYXRhW2ZpcnN0S2V5XVtwcmltYXJ5Q29sdW1uXTtcclxuICB9XHJcblxyXG4gIGdldEFzSlNPTihqc29uKXtcclxuICAgIHJldHVybiB0eXBlb2YganNvbj09PSdzdHJpbmcnID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XHJcbiAgfVxyXG5cclxuICBkZWxldGVDb25maXJtYXRpb24oZGF0YSwgaXRlbSkge1xyXG4gICAgdGhpcy5pc0Rpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMucGFnZW5hbWUgPSB0aGlzLnNlYXJjaHBhcmFtcz8ucGFnZW5hbWU7XHJcbiAgICBjb25zdCBncmlkQ29uaWdGb3JEZWxldGVSZXF1aXJlID0gdGhpcy5nZXRBc0pTT04odGhpcy5zZWFyY2hwYXJhbXM/LmdyaWRjb25maWcpO1xyXG4gICAgY29uc3QgdGFibGVzY2hlbWFjb25maWcgPSB0aGlzLmdldEFzSlNPTih0aGlzLnNlYXJjaHBhcmFtcz8udGFibGVzY2hlbWFjb25maWcpO1xyXG4gICAgbGV0IHZpZXdQcmltYXJ5VGFibGUgPSAnJztcclxuICAgIGlmKHRhYmxlc2NoZW1hY29uZmlnLm9iamVjdFR5cGUgPT0gJ3ZpZXcnKXtcclxuICAgICAgY29uc3QgZmlyc3RLZXkgPSBPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdO1xyXG4gICAgICB2aWV3UHJpbWFyeVRhYmxlID0gZGF0YS5kYXRhW2ZpcnN0S2V5XVsncHJpbWFyeV9vYmplY3QnXTtcclxuICAgIH1cclxuICAgIHRoaXMuZGVsZXRlUG9wdXBUZXh0ID0gZ3JpZENvbmlnRm9yRGVsZXRlUmVxdWlyZT8uaXNEZWxldGVQb3B1cFRleHQ7XHJcbiAgICBpZih0aGlzLmlzRGVsZXRlUmVxdWlyZSB8fCBncmlkQ29uaWdGb3JEZWxldGVSZXF1aXJlPy5pc0RlbGV0ZVJlcXVpcmUpe1xyXG4gICAgICB0aGlzLmlzRGVsZXRlUmVxdWlyZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc0NvbmRpdGlvbmFsRWRpdERlbGV0ZSAhPT0gJ3RydWUnIHx8ICF0aGlzLmlzRGVsZXRlUmVxdWlyZSkge1xyXG4gICAgICBjb25zdCBwcmltYXJ5X2lkID0gdGhpcy5nZXRQcmltYXJ5Q29sdW1uSWQoZGF0YS5kYXRhLnByaW1hcnlDb2x1bW4sIGRhdGEpO1xyXG4gICAgICB0aGlzLkRlbGV0ZUNvbmZpZ1VSTCA9IGAke0R5bmFtaWNTZWFyY2hVUkwuRW5kUG9pbnRzLmZvcm1SZXNwb25zZS5kZWxldGUucmVwbGFjZSgne2lkfScsIHByaW1hcnlfaWQpfS8ke3RoaXMucGFnZUlkfT9uYW1lPSR7dmlld1ByaW1hcnlUYWJsZX1gXHJcbiAgICAgIHRoaXMucG9wdXBEaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKHRoaXMuRGVsZXRlR3JpZExpc3RXaXRob3V0UmVhc29uLCB7XHJcbiAgICAgICAgcGFuZWxDbGFzczogJ2RlbGV0ZS1ncmlkLXdpdGhvdXQtcmVhc29uJ1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRtaW5BY2Nlc3NGb3JEZWxldGUgPSBmYWxzZTtcclxuICAgICAgY29uc3QgcHJpbWFyeV9pZCA9IHRoaXMuZ2V0UHJpbWFyeUNvbHVtbklkKGRhdGEuZGF0YS5wcmltYXJ5Q29sdW1uLCBkYXRhKTtcclxuICAgICAgdGhpcy5EZWxldGVDb25maWdVUkwgPSBgJHtEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKX0vJHt0aGlzLnBhZ2VJZH0/bmFtZT0ke3ZpZXdQcmltYXJ5VGFibGV9YFxyXG4gICAgICB0aGlzLnVwZGF0ZUJ5SWRBbmRQYWdlSWRXaXRoUmVhc29uVVJMID0gYCR7RHluYW1pY1NlYXJjaFVSTC5FbmRQb2ludHMuZm9ybVJlc3BvbnNlLnVwZGF0ZUJ5SWRBbmRQYWdlSWRXaXRoUmVhc29uLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKX0vJHt0aGlzLnBhZ2VJZH0/cHJpbWFyeXRhYmxlPSR7dmlld1ByaW1hcnlUYWJsZX1gXHJcbiAgICAgIGNvbnN0IHRiTmFtZSA9IHRoaXMuZ3JpZENvbmZpZy5oaWdobGlnaHRSb3cudGFibGVOYW1lO1xyXG4gICAgICB0aGlzLmRlbGV0ZUNvbmZpZ0RhdGEgPSB7fTtcclxuICAgICAgdGhpcy5kZWxldGVDb25maWdEYXRhID0geydkYXRhJzpkYXRhLmRhdGFbdGJOYW1lXX07XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hlY2tEZWxldGVTdGF0dXModGhpcy5wYWdlSWQsIHByaW1hcnlfaWQsIHZpZXdQcmltYXJ5VGFibGUpLnN1YnNjcmliZShcclxuICAgICAgICByZXN1bHQgPT4ge1xyXG4gICAgICAgICAgaWYocmVzdWx0WydkYXRhJ10gJiYgcmVzdWx0WydkYXRhJ10ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGlmKHJlc3VsdFsnZGF0YSddWzBdWydzdGF0dXMnXSA9PT0gJ0RFTF9QRU5EJyl7XHJcbiAgICAgICAgICAgICAgLy8gY29uc3QgaW5mb0RldGFpbHMgPSBkYXRhWydkYXRhJ10ucmJhY0NvbmRpdGlvbnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5hY3Rpb24gPT0gJ2luZm8nKTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZWRSZWFzb24gPSBpbmZvRGV0YWlsc1swXT8ubWVzc2FnZTtcclxuICAgICAgICAgICAgICB0aGlzLmRlbGV0ZWRSZWFzb24gPSByZXN1bHRbJ2RhdGEnXVswXVsncG9wdXBUZXh0J107XHJcbiAgICAgICAgICAgICAgdGhpcy5wb3B1cERpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4odGhpcy5BcHByb3ZlRGVsZXRlR3JpZExpc3QsIHtcclxuICAgICAgICAgICAgICAgIHBhbmVsQ2xhc3M6ICdhcHByb3ZlLWRlbGV0ZS1ncmlkLWxpc3QnXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihyZXN1bHRbJ2RhdGEnXVswXVsnc3RhdHVzJ10gPT09ICdERUxfQUxMT1cnKXtcclxuICAgICAgICAgICAgICB0aGlzLnBvcHVwRGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3Blbih0aGlzLkRlbGV0ZUdyaWRMaXN0V2l0aG91dFJlYXNvbiwge1xyXG4gICAgICAgICAgICAgICAgcGFuZWxDbGFzczogJ2RlbGV0ZS1ncmlkLXdpdGhvdXQtcmVhc29uJ1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYocmVzdWx0WydkYXRhJ11bMF1bJ3N0YXR1cyddID09PSAnREVMX1JFUScpe1xyXG4gICAgICAgICAgICAgIHRoaXMucG9wdXBEaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKHRoaXMuRGVsZXRlR3JpZExpc3QsIHtcclxuICAgICAgICAgICAgICAgIHBhbmVsQ2xhc3M6ICdkZWxldGUtZHJpZC13aXRoLXJlYXNvbidcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2Vycm9yID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIC8vIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSB0cnVlO1xyXG4gICAgLy8gZGlhbG9nQ29uZmlnLmRhdGEgPSB7XHJcbiAgICAvLyAgIGFjdGlvbjogJ2RlbGV0ZScsXHJcbiAgICAvLyAgIGRlbGV0ZUlkOiB0aGlzLnBhZ2VJZCxcclxuICAgIC8vICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU/JyxcclxuICAgIC8vICAgdXJsOiBEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0pLFxyXG4gICAgLy8gICBwb3J0Q29uZmlnOiBpdGVtLnBvcnRDb25maWcsXHJcbiAgICAvLyAgIHN1Y2Nlc3NNc2c6ICdSZWNvcmQgZGVsZXRlZCBTdWNjZXNzZnVsbHknXHJcbiAgICAvLyB9O1xyXG4gICAgLy8gY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihEZWxldGVDb21wb25lbnQsIGRpYWxvZ0NvbmZpZyk7XHJcbiAgICAvLyByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgLy8gICAvLyByZWZyZXNoIGdyaWRcclxuICAgIC8vICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIGFjdGlvbkluZm9DaGVjayhkYXRhLCBpdGVtKSB7XHJcbiAgICAvLyBjb25zdCBwcmltYXJ5X2lkID0gdGhpcy5nZXRQcmltYXJ5Q29sdW1uSWQoZGF0YS5kYXRhLnByaW1hcnlDb2x1bW4sIGRhdGEpO1xyXG4gICAgLy8gdGhpcy5EZWxldGVDb25maWdVUkwgPSBEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKTtcclxuICAgIC8vIHRoaXMuZGVsZXRlZFJlYXNvbiA9IGl0ZW0ubWVzc2FnZTtcclxuICAgIC8vICQoJyNBcHByb3ZlRGVsZXRlR3JpZExpc3QnKS5tb2RhbCgnc2hvdycpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlUmVjb3JkKCl7XHJcbiAgICB0aGlzLmh0dHBTZXJ2aWNlLmRlbGV0ZShgJHt0aGlzLkRlbGV0ZUNvbmZpZ1VSTH1gKS5zdWJzY3JpYmUoXHJcbiAgICAgIF9yZXN1bHQgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0RlbGV0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRQb3B1cCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsUG9wdXAoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVJlY29yZFdpdGhSZWFzb24oKXtcclxuICAgIHRoaXMucm93RGF0YSA9IHsuLi50aGlzLmRlbGV0ZUNvbmZpZ0RhdGEsICdyZWFzb24nIDp0aGlzLmVudGVyZWRSZWFzb24sICdwYWdlVVJMJzogdGhpcy5yb3V0ZXIudXJsfTtcclxuICAgIHRoaXMuaHR0cFNlcnZpY2UucG9zdChgJHt0aGlzLnVwZGF0ZUJ5SWRBbmRQYWdlSWRXaXRoUmVhc29uVVJMfWAsIHRoaXMucm93RGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICBfcmVzdWx0MSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRQb3B1cCgpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0RlbGV0ZSBSZXF1ZXN0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxQb3B1cCgpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlUmVjb3JkV2l0aG91dFJlYXNvbigpe1xyXG4gICAgdGhpcy5odHRwU2VydmljZS5kZWxldGUoYCR7dGhpcy5EZWxldGVDb25maWdVUkx9YCkuc3Vic2NyaWJlKFxyXG4gICAgICBfcmVzdWx0ID0+IHtcclxuICAgICAgICBpZihfcmVzdWx0ICYmIF9yZXN1bHRbJ2RhdGEnXSA9PT0gJ0RFTF9SRVEnKXtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdEZWxldGlvbiBGYWlsZWQ6IFRoZSB0aHJlc2hvbGQgdGltZSBmb3IgZGVsZXRpbmcgdGhpcyByZWNvcmQgaGFzIGV4cGlyZWQuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmKF9yZXN1bHQgJiYgX3Jlc3VsdFsnZGF0YSddKSB7XHJcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2NvbXBvc2l0ZS1wYWdlJykgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ21hc3Rlci12aWV3JykpXHJcbiAgICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICBpZigodGhpcy5zZWxlY3RlZENvbXBvbmVudD8ubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudD8ubG9hZGVkRnJvbUNvbXBvc2l0ZVBhZ2UpJiYgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncylcclxuICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7ZXZlbnROYW1lOiAnc3VibWl0JywgcGF5bG9hZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0RlbGV0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIFdlbnQgV3JvbmcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWxvYWRQb3B1cCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsUG9wdXAoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNhbmNlbFBvcHVwKCkge1xyXG4gICAgdGhpcy5jbG9zZURpYWxvZ1BvcHVwKCk7XHJcbiAgICB0aGlzLmVudGVyZWRSZWFzb24gPSAnJztcclxuICB9XHJcblxyXG4gIHJlbG9hZFBvcHVwKCkge1xyXG4gICAgdGhpcy5jbG9zZURpYWxvZ1BvcHVwKCk7XHJcbiAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIHRoaXMuZW50ZXJlZFJlYXNvbiA9ICcnO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0Rpc2FibGVkKHRleHQ6IHN0cmluZykge1xyXG4gICAgaWYgKHRleHQgJiYgdGV4dC50cmltKCkgIT0gJycpIHtcclxuICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZW50ZXJlZFJlYXNvbiA9IHRleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmVudGVyZWRSZWFzb24gPSB0ZXh0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcGxldGVDb25maXJtYXRpb24oZGF0YSwgX2l0ZW0pIHtcclxuICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSB0cnVlO1xyXG4gICAgZGlhbG9nQ29uZmlnLmRhdGEgPSB7XHJcbiAgICAgIGFjdGlvbjogJ2NvbXBsZXRlJyxcclxuICAgICAgZGVsZXRlSWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCxcclxuICAgICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb21wbGV0ZT8nLFxyXG4gICAgICB1cmw6IER5bmFtaWNTZWFyY2hVUkwuRW5kUG9pbnRzLmZvcm1SZXNwb25zZS5kZWxldGUucmVwbGFjZSgne2lkfScsIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCksXHJcbiAgICAgIHBvcnRDb25maWc6IG51bGwsXHJcbiAgICAgIHN1Y2Nlc3NNc2c6ICdEYXRhIGNvbXBsZXRlZCBTdWNjZXNzZnVsbHknLFxyXG4gICAgICBkYXRhOiBkYXRhLmRhdGFcclxuICAgIH07XHJcbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKERlbGV0ZUNvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgdGhpcy5lZGl0UG9wVXBEaWFsb2dSZWYuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHBvcHVwKGRhdGEsIGFjdGlvbikge1xyXG4gICAgY29uc3QgdGFibGVfbmFtZSA9IHRoaXMuc2VhcmNocGFyYW1zLnRhYmxlc2NoZW1hY29uZmlnLnRhYmxlbGlzdFswXTtcclxuICAgIGNvbnN0IHRhYmRhdGEgPSBkYXRhO1xyXG4gICAgY29uc3QgdmFsdWUgPSB0YWJkYXRhID8gdGFiZGF0YVt0YWJsZV9uYW1lXSA6ICcnO1xyXG4gICAgdGhpcy50YXJnZXRQYWdlKHZhbHVlLCBhY3Rpb24pO1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgdGhpcy5wb3B1cERpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4odGhpcy5jYWxsRGlhbG9nUG9wdXApO1xyXG4gICAgLy8gICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1mb3Itb2ZcclxuICAgIC8vICAgdGhpcy5wb3B1cERhdGEgPSBkYXRhO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VEaWFsb2dQb3B1cCgpIHtcclxuICAgIHRoaXMucG9wdXBEaWFsb2dSZWYuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNob3dJY29uKGRhdGEpIHtcclxuICAgIGlmIChkYXRhLmRhdGEudGltZWxlZnQpIHtcclxuICAgICAgaWYgKGRhdGEuZGF0YS50aW1lbGVmdC5pbmNsdWRlcygnICcpKSB7XHJcbiAgICAgICAgbGV0IHRpbWVsZWZ0ID0gZGF0YS5kYXRhLnRpbWVsZWZ0LnNwbGl0KCcgJyk7XHJcbiAgICAgICAgdGltZWxlZnQgPSB0aW1lbGVmdFswXTtcclxuICAgICAgICBpZiAodGltZWxlZnQgPCAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhLnRpbWVsZWZ0LmluY2x1ZGVzKCc6JykpIHtcclxuICAgICAgICBsZXQgdGltZWxlZnQgPSBkYXRhLmRhdGEudGltZWxlZnQuc3BsaXQoJzonKTtcclxuICAgICAgICB0aW1lbGVmdCA9IHRpbWVsZWZ0WzBdO1xyXG4gICAgICAgIGlmICh0aW1lbGVmdCA8IDAgfHwgKHRpbWVsZWZ0ID09ICctMDAnICYmIHRpbWVsZWZ0LmluZGV4T2YoJy0nKSAhPSAtMSkpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHNwbGl0aW5nRGF0YShkYXRhLCBzcGxpdHRlciA9ICcsJykge1xyXG4gICAgaWYgKGRhdGEuZGF0YS5uYXJyYXRpdmUpIHtcclxuICAgICAgY29uc3QgZGV0YWlsID0gZGF0YS5kYXRhLm5hcnJhdGl2ZTtcclxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBkZXRhaWw7XHJcblxyXG4gICAgICAvLy8uam9pbihcIjxici8+XCIpXHJcbiAgICAgIGNvbnN0IGZpbmFsU3RyaW5nID0gZGl2LmlubmVyVGV4dC5zcGxpdChzcGxpdHRlcik7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsU3RyaW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZmluYWxTdHJpbmdbaV0gPSBmaW5hbFN0cmluZ1tpXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGZpbmFsU3RyaW5nW2ldID0gZmluYWxTdHJpbmdbaV1bMF0udG9VcHBlckNhc2UoKSArIGZpbmFsU3RyaW5nW2ldLnN1YnN0cmluZygxLCAyKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmluYWxTdHJpbmcuam9pbignPGJyLz4nKTtcclxuICAgIH1cclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGdldFRpdGxlQ2xhc3ModGl0bGUpIHtcclxuICAgIGlmICh0aXRsZSkge1xyXG4gICAgICByZXR1cm4gdGl0bGUuc3BsaXQoJyAnKS5qb2luKCcnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlU3RhdHVzQ29sb3IodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gJ0NvbXBsZXRlZCcpIHtcclxuICAgICAgcmV0dXJuICdjb21wbGV0ZWQnO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0RyYWZ0Jykge1xyXG4gICAgICByZXR1cm4gJ2RyYWZ0JztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdPcGVuJykge1xyXG4gICAgICByZXR1cm4gJ29wZW4nO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0Nsb3NlZCcpIHtcclxuICAgICAgcmV0dXJuICdjbG9zZWQnO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1BlbmRpbmcnKSB7XHJcbiAgICAgIHJldHVybiAncGVuZGluZyc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUGVuZGluZyBBcHByb3ZhbCcgfHwgdmFsdWUgPT09ICdJbi1Qcm9ncmVzcycpIHtcclxuICAgICAgcmV0dXJuICdwZW5kaW5nLWFwcHJvdmFsJztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdBcHByb3ZlZCcgfHwgdmFsdWUgPT09ICdBY2NlcHRlZCAtIFNjcmVlbiBJbicpIHtcclxuICAgICAgcmV0dXJuICdhcHByb3ZlZCc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUmV0dXJuIHRvIFdvcmtlcicgfHwgdmFsdWUgPT09ICdSZXR1cm5lZCcpIHtcclxuICAgICAgcmV0dXJuICdyZXR1cm5lZCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG4gIHRpdGxlQ2FzZVRvb2xUaXAodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZVswXS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSk7XHJcbiAgfVxyXG4gIGNsb3NlRm9ybSgpIHtcclxuICAgIHRoaXMuaXRlbSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBkb3dubG9hZEZpbGVJbnRlcm5hbGx5KHMzQnVja2V0VXJsTmFtZSwgZmlsZW5hbWUpIHtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmhyZWYgPSBzM0J1Y2tldFVybE5hbWUudHJpbSgpO1xyXG4gICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lIHx8ICdkb3dubG9hZCc7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyogZm9yIEdyaWQgU2VsZWN0aW9uIGVuYWJsZS9kaXNhYmxlICovXHJcbiAgZ2V0R3JpZFNlbGVjdGlvbihpdGVtKSB7XHJcbiAgICBpZiAoaXRlbSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gJ211bHRpcGxlJztcclxuICAgIH1cclxuICAgIHJldHVybiAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzdGFydFNjaGVkdWxpbmcoaWQsIHVybCA9IG51bGwpIHtcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zdGFydFNjaGVkdWxpbmcoe30sIHVybC5yZXBsYWNlKCd7aWR9JywgaWQpKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUmVwb3J0IFRyaWdnZXJlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdSZXBvcnQgVHJpZ2dlciBmYWlsZWQuIFRyeSBBZ2FpbiEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnN0YXJ0U2NoZWR1bGluZ05vVXJsKHt9LCBpZCkuc3Vic2NyaWJlKFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JlcG9ydCBUcmlnZ2VyZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUmVwb3J0IFRyaWdnZXIgZmFpbGVkLiBUcnkgQWdhaW4hJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3VzdG9tU2F2ZSA9IChzdGF0ZTogYW55KSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gc3RhdGUpIHtcclxuICAgICAgaWYgKGl0ZW0gIT09ICdjb2x1bW5zJykgZGVsZXRlIHN0YXRlW2l0ZW1dO1xyXG4gICAgfVxyXG4gICAgdGhpcy5ncmlkQ29uZmlnLnBhZ2VTaXplID0gdGhpcy5kYXRhR3JpZC5pbnN0YW5jZS5wYWdlU2l6ZSgpO1xyXG4gICAgY29uc3QgcHJldldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aDtcclxuICAgIHRoaXMuY29sdW1uV2lkdGggPSBzdGF0ZTtcclxuICAgIGNvbnN0IHZhbGlkYXRlUGFnZUlkID0gdGhpcy5zZXF1ZW5jZUlkID09PSBOdW1iZXIodGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VJZCcpKTtcclxuICAgIGNvbnN0IHZhbGlkYXRlID0gSlNPTi5zdHJpbmdpZnkocHJldldpZHRoKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5jb2x1bW5XaWR0aCk7XHJcbiAgICBpZiAodmFsaWRhdGVQYWdlSWQpIHtcclxuICAgICAgaWYgKHN0YXRlPy5jb2x1bW5zICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN0YXRlLmNvbHVtbnMuZm9yRWFjaCgoc3RhdGVDb2x1bW4pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNvbmZpZ0l0ZW0gPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maW5kKGMgPT4gYy5jb2x1bW5EZWYgPT09IHN0YXRlQ29sdW1uLmRhdGFGaWVsZCAmJiAhYy5oaWRlKTtcclxuICAgICAgICAgIGlmIChjb25maWdJdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0ud2lkdGggPSBzdGF0ZUNvbHVtbi53aWR0aDtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5maWx0ZXJWYWx1ZXMgPSBzdGF0ZUNvbHVtbi5maWx0ZXJWYWx1ZXM7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0uc29ydE9yZGVyID0gc3RhdGVDb2x1bW4uc29ydE9yZGVyO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnNvcnRJbmRleCA9IHN0YXRlQ29sdW1uLnNvcnRJbmRleDtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS52aXNpYmxlID0gc3RhdGVDb2x1bW4udmlzaWJsZSA/PyB0cnVlO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnZpc2libGVJbmRleCA9IHN0YXRlQ29sdW1uLnZpc2libGVJbmRleDtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5maWx0ZXJWYWx1ZSA9IHN0YXRlQ29sdW1uLmZpbHRlclZhbHVlO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLmZpbHRlclR5cGUgPSBzdGF0ZUNvbHVtbi5maWx0ZXJUeXBlO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnNlbGVjdGVkRmlsdGVyT3BlcmF0aW9uID0gc3RhdGVDb2x1bW4uc2VsZWN0ZWRGaWx0ZXJPcGVyYXRpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuV2lkdGggPiAxMDI1KSB7XHJcbiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAgIHR5cGU6ICdQQUdFJyxcclxuICAgICAgICAgIG1hcHBlZGlkOiB0aGlzLmN1cnJlbnRQYWdlSWQsXHJcbiAgICAgICAgICBjb25maWc6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ3JpZENvbmZpZylcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc2F2ZUdyaWRVc2VyUHJlZmVyZW5jZShib2R5KS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjb25zdCBib2R5ID0ge1xyXG4gICAgICAvLyAgIHR5cGU6ICdQQUdFJyxcclxuICAgICAgLy8gICBtYXBwZWRpZDogdGhpcy5jdXJyZW50UGFnZUlkLFxyXG4gICAgICAvLyAgIGNvbmZpZzogSlNPTi5zdHJpbmdpZnkodGhpcy5ncmlkQ29uZmlnKVxyXG4gICAgICAvLyB9O1xyXG4gICAgICAvLyB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnNhdmVHcmlkVXNlclByZWZlcmVuY2UoYm9keSkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgLy8gICAvLyBUaGlzIGlzIGludGVudGlvbmFsXHJcbiAgICAgIC8vIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29sdW1uQ2hvb3NlckNsaWNrKCkge1xyXG4gICAgdGhpcy5kYXRhR3JpZC5pbnN0YW5jZS5zaG93Q29sdW1uQ2hvb3NlcigpO1xyXG4gIH1cclxuICBjb250ZW50UmVhZHkgPSBlID0+IHtcclxuICAgIGNvbnN0IGNvbXBvbmVudEluc3RhbmNlID0gZS5jb21wb25lbnQuaW5zdGFuY2UoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRDb2x1bW5zID0gY29tcG9uZW50SW5zdGFuY2Uub3B0aW9uKCdjb2x1bW5zJyk7XHJcbiAgICBpZiAodGhpcy5ncmlkQ29uZmlnICYmIHRoaXMuZ3JpZENvbmZpZy51c2VyUHJlZmVyZW5jZUdyaWRDb25maWcpIHtcclxuICAgICAgaWYgKHRoaXMuZ3JpZENvbmZpZy5wYWdlU2l6ZSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2VTaXplID0gdGhpcy5ncmlkQ29uZmlnLnBhZ2VTaXplO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBjaGFuZ2VzTWFkZSA9IGZhbHNlO1xyXG4gICAgICBjdXJyZW50Q29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29uZmlnSXRlbSA9IHRoaXMuZ3JpZENvbmZpZy51c2VyUHJlZmVyZW5jZUdyaWRDb25maWcuZmluZChjID0+IGMuY29sdW1uRGVmID09PSBjb2x1bW4uZGF0YUZpZWxkKTtcclxuICAgICAgICBpZiAoY29uZmlnSXRlbSkge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0VmlzaWJpbGl0eSA9IGNvbmZpZ0l0ZW0uaGlkZSA/IGZhbHNlIDogKGNvbmZpZ0l0ZW0udmlzaWJsZSA9PT0gXCJcIiA/IHRydWUgOiBjb25maWdJdGVtLnZpc2libGUpO1xyXG4gICAgICAgICAgaWYgKGNvbHVtbi52aXNpYmxlICE9PSB0YXJnZXRWaXNpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNNYWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3VycmVudENvbHVtbnNbaW5kZXhdLnZpc2libGUgPSB0YXJnZXRWaXNpYmlsaXR5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ2hlY2sgYW5kIHVwZGF0ZSB0aGUgdmlzaWJsZUluZGV4IGlmIGRpZmZlcmVudFxyXG4gICAgICAgICAgaWYgKGNvbHVtbi52aXNpYmxlSW5kZXggIT09IGNvbmZpZ0l0ZW0udmlzaWJsZUluZGV4KSB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNNYWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3VycmVudENvbHVtbnNbaW5kZXhdLnZpc2libGVJbmRleCA9IGNvbmZpZ0l0ZW0udmlzaWJsZUluZGV4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoY2hhbmdlc01hZGUpIHtcclxuICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5vcHRpb24oJ2NvbHVtbnMnLCBjdXJyZW50Q29sdW1ucyk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pc0luaXRpYWxMb2FkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuaXNSZXNpemUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5pc1VzZXJQcmVmZXJlbmNlQ2hhbmdlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuICBnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKGNob29zZXIsIHZpc2libGUpIHtcclxuICAgIGlmIChjaG9vc2VyKSB7XHJcbiAgICAgIHJldHVybiB2aXNpYmxlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTb3J0T3JkZXIoZGVmYXVsdFNvcnRDb2x1bW4sIGRlZmF1bHRTb3J0VHlwZSwgY29sdW1uRGVmKSB7XHJcbiAgICBpZiAoZGVmYXVsdFNvcnRDb2x1bW4gJiYgZGVmYXVsdFNvcnRUeXBlKSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0U29ydENvbHVtbiA9PT0gY29sdW1uRGVmID8gZGVmYXVsdFNvcnRUeXBlIDogJyc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBnb0JhY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmxvY2F0aW9uLmJhY2soKTtcclxuICB9XHJcbiAgc2hvd0dyaWRBY3Rpb25zKHVwZGF0ZUdyaWQsIHNob3dBY3Rpb25Db2x1bW4sIGdyaWRUeXBlKTogYW55IHtcclxuICAgIGNvbnN0IGdyaWRBY3Rpb25zID0gdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheVxyXG4gICAgICA/IHVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkuZmlsdGVyKHggPT4geC5hY3Rpb24/LnRvTG93ZXJDYXNlKCkgIT09ICdhZGQnKVxyXG4gICAgICA6IFtdO1xyXG4gICAgY29uc3QgaGlkZGVuQ29sdW1ucyA9IGdyaWRBY3Rpb25zPy5maWx0ZXIoYSA9PiBhPy5oaWRlKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGdyaWRBY3Rpb25zLmxlbmd0aCA+IDAgJiZcclxuICAgICAgc2hvd0FjdGlvbkNvbHVtbiAmJlxyXG4gICAgICBncmlkVHlwZSAhPSAndmlldycgJiZcclxuICAgICAgaGlkZGVuQ29sdW1ucy5sZW5ndGggIT09IGdyaWRBY3Rpb25zLmxlbmd0aFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUZpbHRlck9wdGlvbnMoZSkge1xyXG4gICAgdGhpcy5maWx0ZXJPcHRpb25zRHJvcGRvd24uY2xvc2UoZS5vcmlnaW5hbEV2ZW50KTtcclxuICAgIHRoaXMuaXNVc2VyUHJlZmVyZW5jZUNoYW5nZSA9IHRydWU7XHJcbiAgICB0aGlzLnNldFBlcm1pc3Npb25zKGUuaXRlbVZhbHVlKTtcclxuICB9XHJcblxyXG4gIHNldFBlcm1pc3Npb25zKG1vZGFsKSB7XHJcbiAgICBjb25zdCBbY29kZSwgdmFsdWVdID0gbW9kYWwuc3BsaXQoJy0nKTtcclxuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoYyA9PiBjLmNvbHVtbkRlZiA9PT0gY29kZSAmJiAhIWNbdmFsdWVdKTtcclxuXHJcbiAgICBpZiAoaXNFeGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkubWFwKChjOiBhbnkpID0+IHtcclxuICAgICAgICBjW3ZhbHVlXSA9IGMuY29sdW1uRGVmID09PSBjb2RlID8gdHJ1ZSA6IGNbdmFsdWVdO1xyXG4gICAgICAgIGlmIChjLmNvbHVtbkRlZiA9PT0gY29kZSkge1xyXG4gICAgICAgICAgYz8uc2VsZWN0ZWQ/LnB1c2godmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYztcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFNlbGVjdGVkR3JpZEZvcm0oY29kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICB0aGlzLnVwZGF0ZVVzZXJHcmlkQ29uZmlnKCk7XHJcbiAgfVxyXG5cclxuICBASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJywgWyckZXZlbnQnXSlcclxuICBvblJlc2l6ZSgpIHtcclxuICAgIGNvbnN0IHByZXZXaWR0aCA9IHRoaXMuc2NyZWVuV2lkdGg7XHJcbiAgICB0aGlzLnNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgIGlmICh0aGlzLnNjcmVlbldpZHRoIDwgNzY3KSB7XHJcbiAgICAgIGNvbnN0IG1vYmlsZUNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoYyA9PiBjLm1vYmlsZVZpZXcpO1xyXG4gICAgICB0aGlzLmNoZWNrT25yZXNpemUobW9iaWxlQ29sdW1ucyk7XHJcbiAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcmVlbldpZHRoID49IDc2OCAmJiB0aGlzLnNjcmVlbldpZHRoIDwgOTkwKSB7XHJcbiAgICAgIGNvbnN0IHRhYkNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoYyA9PiBjLnRhYlZpZXcpO1xyXG4gICAgICBpZiAodGFiQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoeCA9PiB4LnRhYlZpZXcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnN0IG1heFZpc2libGVDb3VudCA9IDU7XHJcbiAgICAgICAgLy8gY29uc3QgdmlzaWJsZUNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoKHQsIGkpID0+IGkgPCAzKTtcclxuXHJcblxyXG4gICAgICB9XHJcbiAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgfSBlbHNlIGlmIChwcmV2V2lkdGggJiYgcHJldldpZHRoICE9PSB0aGlzLnNjcmVlbldpZHRoKSB7XHJcbiAgICAgIC8vdG8gZml4IGxvYWRpbmcgaXNzdWUgd2hlbiBjaGFuZ2luZyBmcm9tIG1vYmlsZSB0byB3ZWIvdGFiIHZpZXdcclxuICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuY2hlY2tHcmlkQ29uZmlnO1xyXG4gICAgICB0aGlzLmdldFVzZXJHcmlkQ29uZmlnKCk7XHJcbiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgIH1cclxuICB9XHJcbiAgY2hlY2tPbnJlc2l6ZShtb2JpbGVDb2x1bW5zKSB7XHJcbiAgICBpZiAobW9iaWxlQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKHggPT4geC5tb2JpbGVWaWV3KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGNvbnN0IG1heFZpc2libGVDb3VudCA9IDM7XHJcbiAgICAgIC8vIGNvbnN0IHZpc2libGVDb3VudCA9IDA7XHJcbiAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5LmZpbHRlcigobSwgaSkgPT4gaSA8IDMpO1xyXG5cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZEdyaWRGb3JtKGNvZGUsIHZhbHVlKSB7XHJcbiAgICB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoYyA9PiB7XHJcbiAgICAgIGNbdmFsdWVdID0gYy5jb2x1bW5EZWYgPT09IGNvZGUgPyAnJyA6IGNbdmFsdWVdO1xyXG4gICAgICBpZiAoYy5jb2x1bW5EZWYgPT09IGNvZGUgJiYgYy5zZWxlY3RlZCkge1xyXG4gICAgICAgIGMuc2VsZWN0ZWQgPSBjLnNlbGVjdGVkLmZpbHRlcihzID0+IHMgIT09IHZhbHVlKTtcclxuICAgICAgICAvLyBjPy5zZWxlY3RlZD8ubWFwKChtLCBpKSA9PiB7XHJcbiAgICAgICAgLy8gICBtID09PSB2YWx1ZSAmJiBjLnNlbGVjdGVkLnNwbGljZShpLCAxKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckdyaWRDb25maWcoKSB7XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICB0eXBlOiAnUEFHRScsXHJcbiAgICAgIG1hcHBlZGlkOiB0aGlzLmN1cnJlbnRQYWdlSWQsXHJcbiAgICAgIGNvbmZpZzogSlNPTi5zdHJpbmdpZnkodGhpcy5ncmlkQ29uZmlnKVxyXG4gICAgfTtcclxuICAgIGlmICh0aGlzLnNjcmVlbldpZHRoID4gOTkwKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc2F2ZUdyaWRVc2VyUHJlZmVyZW5jZShib2R5KS5zdWJzY3JpYmUoX3JlcyA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXRVc2VyR3JpZENvbmZpZygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFVzZXJHcmlkQ29uZmlnKCkge1xyXG4gICAgdGhpcy5kYXRhR3JpZC5pbnN0YW5jZS5jbGVhckZpbHRlcigpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5nZXRHcmlkVXNlclByZWZlcmVuY2UodGhpcy5jdXJyZW50UGFnZUlkKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YT8uY29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgY29uZmlnQXJyYXkgPSB0eXBlb2YgcmVzLmRhdGEuY29uZmlnID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShyZXMuZGF0YS5jb25maWcpIDogcmVzLmRhdGEuY29uZmlnO1xyXG4gICAgICAgIGlmIChjb25maWdBcnJheSAmJiBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5KSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyUHJlZmVyZW5jZUdyaWRDb25maWcgPSB0aGlzLmFwcGx5VXNlclByZWZlcmVuY2UodGhpcy50ZW1wYUNvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5LCBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5KTtcclxuICAgICAgICAgIGNvbmZpZ0FycmF5LnVzZXJQcmVmZXJlbmNlR3JpZENvbmZpZyA9IHVzZXJQcmVmZXJlbmNlR3JpZENvbmZpZztcclxuICAgICAgICAgIGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXkgPSB1c2VyUHJlZmVyZW5jZUdyaWRDb25maWc7XHJcbiAgICAgICAgICB0aGlzLmdyaWRDb25maWcgPSBjb25maWdBcnJheTtcclxuICAgICAgICAgIHRoaXMuY29sdW1uSGVhZGVyID0gY29uZmlnQXJyYXkuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoY29sdW1uID0+IGNvbHVtbj8uaGVhZGVyKTtcclxuICAgICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgICAgICAvLyB0aGlzLmNoZWNrR3JpZENvbmZpZyA9IGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgICAgICB0aGlzLmlzRGVsZXRlUmVxdWlyZSA9IGNvbmZpZ0FycmF5Py5pc0RlbGV0ZVJlcXVpcmU7XHJcbiAgICAgICAgICB0aGlzLmlzRWRpdFRocmVzaG9sZFJlcXVpcmUgPSBjb25maWdBcnJheT8uaXNFZGl0VGhyZXNob2xkUmVxdWlyZTtcclxuICAgICAgICAgIHRoaXMuaXNEZWxldGVUaW1lID0gY29uZmlnQXJyYXk/LmlzRGVsZXRlVGltZTtcclxuICAgICAgICAgIC8vIGNvbnN0IHN0b3JlZFRhYkRhdGEgPSBKU09OLnBhcnNlKEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0oJ2R5bmFtaWMtdGFiLXBhZ2VzJykpKTtcclxuICAgICAgICAgIGNvbnN0IHN0b3JlZFRhYkRhdGEgPSBKU09OLnBhcnNlKEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlfRFlOQU1JQ19UQUJfUEFHRVMpKSk7XHJcbiAgICAgICAgICBzdG9yZWRUYWJEYXRhPy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5tYXAoaXRlbTEgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChpdGVtLnBmaWVsZCA9PSBpdGVtMS5jb2x1bW5EZWYpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0xLmxpbmsgPSBpdGVtLnBmaWVsZDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdGhpcy5jb2x1bW5zLm1hcChjID0+IHtcclxuICAgICAgICAgICAgYz8uc2VsZWN0ZWQ/Lm1hcChzID0+IE9iamVjdC5hc3NpZ24oeyBjb2xfcmVmOiBgJHtjLmNvbHVtbkRlZn0tJHtzfWAgfSwgYykpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb25zdCBvcHRpb25zID0gW107XHJcbiAgICAgICAgICBjb25zdCBhcnIgPSBbXTtcclxuICAgICAgICAgIGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXkubWFwKGEgPT4ge1xyXG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGEuaGVhZGVyLFxyXG4gICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmdyaWRPcHRpb25zLm1hcChwID0+ICh7XHJcbiAgICAgICAgICAgICAgICBpZDogYCR7YS5jb2x1bW5EZWZ9LSR7cC52YWx1ZX1gLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHAubGFiZWwsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNvZGU6IGEuY29sdW1uRGVmLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiBhW3AudmFsdWVdICE9PSAnJyA/IHRydWUgOiAnJ1xyXG4gICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYT8uc2VsZWN0ZWQ/Lm1hcChyID0+IGFyci5wdXNoKGAke2EuY29sdW1uRGVmfS0ke3J9YCkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLmNvbHVtbnNGaWx0ZXJhdGlvbigpO1xyXG4gICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgdGhpcy5maWx0ZXJPcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgIHRoaXMuZmlsdGVyRm9ybT8ucGF0Y2hWYWx1ZSh7IHNlbGVjdGVkRmlsdGVyOiBhcnIgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucGF0Y2hNdWx0aXBsZU9wdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wYXRjaE11bHRpcGxlT3B0aW9ucygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGx5VXNlclByZWZlcmVuY2UoZ3JpZENvbmZpZywgdXNlclByZWZlcmVuY2VDb25maWcpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBbJ3dpZHRoJywgJ2ZpbHRlclZhbHVlcycsICdzb3J0T3JkZXInLCAnc29ydEluZGV4JywgJ3Zpc2libGUnLCAndmlzaWJsZUluZGV4JywgJ2ZpbHRlclZhbHVlJywgJ2ZpbHRlclR5cGUnLCAnc2VsZWN0ZWRGaWx0ZXJPcGVyYXRpb24nXTtcclxuICAgIGZvciAoY29uc3QgY29sdW1uIG9mIGdyaWRDb25maWcpIHtcclxuICAgICAgY29uc3QgY29sdW1uUHJlZmVyZW5jZXMgPSB1c2VyUHJlZmVyZW5jZUNvbmZpZy5maW5kKHByZWZlcmVuY2VDb2x1bW4gPT4gcHJlZmVyZW5jZUNvbHVtbi5jb2x1bW5EZWYgPT09IGNvbHVtbi5jb2x1bW5EZWYpO1xyXG4gICAgICBpZiAoY29sdW1uUHJlZmVyZW5jZXMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9uID09PSAndmlzaWJsZUluZGV4JyAmJiBjb2x1bW5QcmVmZXJlbmNlcy5oaWRlKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjb2x1bW5bb3B0aW9uXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKGNvbHVtblByZWZlcmVuY2VzLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgY29sdW1uW29wdGlvbl0gPSBjb2x1bW5QcmVmZXJlbmNlc1tvcHRpb25dO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuYXNzaWduVmlzaWJsZUluZGV4ZXMoZ3JpZENvbmZpZyk7XHJcblxyXG4gIH1cclxuXHJcbiAgYXNzaWduVmlzaWJsZUluZGV4ZXMoZ3JpZENvbmZpZykge1xyXG4gICAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSBncmlkQ29uZmlnPy5sZW5ndGggJiYgZ3JpZENvbmZpZz8uZmlsdGVyKGNvbCA9PiAhY29sLmhpZGUpPy5zb3J0KChhLCBiKSA9PiBhLnZpc2libGVJbmRleCAtIGIudmlzaWJsZUluZGV4KSB8fCBbXTtcclxuICAgIGNvbnN0IG5vblZpc2libGVDb2x1bW5zID0gZ3JpZENvbmZpZz8ubGVuZ3RoICYmIGdyaWRDb25maWc/LmZpbHRlcihjb2wgPT4gY29sLmhpZGUgfHwgY29sPy52aXNpYmxlSW5kZXggPCAwKT8uc29ydCgoYSwgYikgPT4gYS52aXNpYmxlSW5kZXggLSBiLnZpc2libGVJbmRleCkgfHwgW107XHJcbiAgICBpZiAodmlzaWJsZUNvbHVtbnMgJiYgdmlzaWJsZUNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgIGZvciAoY29uc3QgW2luZGV4LCBjb2x1bW5dIG9mIHZpc2libGVDb2x1bW5zLmVudHJpZXMoKSkge1xyXG4gICAgICAgIGNvbHVtbi52aXNpYmxlSW5kZXggPSBpbmRleDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG5vblZpc2libGVDb2x1bW5zICYmIG5vblZpc2libGVDb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY29sdW1uXSBvZiBub25WaXNpYmxlQ29sdW1ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICBjb2x1bW4udmlzaWJsZUluZGV4ID0gdmlzaWJsZUNvbHVtbnM/Lmxlbmd0aCArIChpbmRleCArIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gWy4uLnZpc2libGVDb2x1bW5zLCAuLi5ub25WaXNpYmxlQ29sdW1uc107XHJcbiAgfVxyXG5cclxuICBwYXRjaE11bHRpcGxlT3B0aW9ucygpIHtcclxuICAgIGlmICh0aGlzLnRlbXBhQ29uZmlnICYmIHRoaXMudGVtcGFDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheSkge1xyXG4gICAgICB0aGlzLmNvbHVtbkhlYWRlciA9IHRoaXMudGVtcGFDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoY29sdW1uID0+IGNvbHVtbi5oZWFkZXIpO1xyXG4gICAgICB0aGlzLmdyaWRDb25maWcgPSB0aGlzLnRlbXBhQ29uZmlnO1xyXG4gICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLnRlbXBhQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgIHRoaXMuY29sdW1ucy5tYXAoYyA9PiB7XHJcbiAgICAgICAgYz8uc2VsZWN0ZWQ/Lm1hcChzID0+IE9iamVjdC5hc3NpZ24oeyBjb2xfcmVmOiBgJHtjLmNvbHVtbkRlZn0tJHtzfWAgfSwgYykpO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xyXG4gICAgICBjb25zdCBhcnIgPSBbXTtcclxuICAgICAgdGhpcy50ZW1wYUNvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5Lm1hcChncmlkID0+IHtcclxuICAgICAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgY29sdW1uTmFtZTogZ3JpZC5oZWFkZXIsXHJcbiAgICAgICAgICBpdGVtczogdGhpcy5ncmlkT3B0aW9ucy5tYXAocCA9PiAoe1xyXG4gICAgICAgICAgICBpZDogYCR7Z3JpZC5jb2x1bW5EZWZ9LSR7cC52YWx1ZX1gLFxyXG4gICAgICAgICAgICBsYWJlbDogcC5sYWJlbCxcclxuICAgICAgICAgICAgdmFsdWU6IHAudmFsdWUsXHJcbiAgICAgICAgICAgIGNvZGU6IGdyaWQuY29sdW1uRGVmLFxyXG4gICAgICAgICAgICBhY3RpdmU6IGdyaWRbcC52YWx1ZV0gIT09ICcnID8gdHJ1ZSA6ICcnXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBncmlkPy5zZWxlY3RlZD8ubWFwKHIgPT4gYXJyLnB1c2goYCR7Z3JpZC5jb2x1bW5EZWZ9LSR7cn1gKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmNvbHVtbnNGaWx0ZXJhdGlvbigpO1xyXG4gICAgICB0aGlzLm9uUmVzaXplKCk7XHJcbiAgICAgIHRoaXMuZmlsdGVyT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgIHRoaXMuZmlsdGVyRm9ybS5wYXRjaFZhbHVlKHsgc2VsZWN0ZWRGaWx0ZXI6IGFyciB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgY29sdW1uc0ZpbHRlcmF0aW9uKCkge1xyXG4gICAgdGhpcy5jb2x1bW5zID0gdGhpcy5jb2x1bW5zLm1hcCh4ID0+IHtcclxuICAgICAgaWYgKHhbJ2NvbmNhdGVuYXRlJ10pIHtcclxuICAgICAgICBjb25zdCBjb2x1bW5OYW1lID0geC5oZWFkZXIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBjTmFtZSA9IGNvbHVtbk5hbWUucmVwbGFjZSgvIC9nLCAnXycpO1xyXG4gICAgICAgIHguY29sdW1uRGVmID0gYGFsaWFzLiR7Y05hbWV9YDtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjdXN0b21FdmVudChldmVudCkge1xyXG4gICAgdGhpcy5fZm9ybUlPLmN1c3RvbUV2ZW50KGV2ZW50LCB0aGlzLmZvcm1JTyk7XHJcbiAgfVxyXG5cclxuICBvbkV4cG9ydGluZyhlKSB7XHJcbiAgICBjb25zdCBwYWdlTmFtZSA9IHRoaXMuc3RvcmFnZS5nZXRPYmooRklMRV9FWFBPUlRfTkFNRV9LRVkpO1xyXG4gICAgY29uc3QgY3VycmVudERhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgIGxldCBmaWxlTmFtZTogc3RyaW5nO1xyXG4gICAgaWYgKHBhZ2VOYW1lKSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYCR7cGFnZU5hbWV9ICR7Y3VycmVudERhdGV9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYERhdGEtR3JpZCAke2N1cnJlbnREYXRlfWA7XHJcbiAgICB9XHJcbiAgICBlLmNvbXBvbmVudC5jb2x1bW5PcHRpb24oJ0FjdGlvbicsICd2aXNpYmxlJywgZmFsc2UpO1xyXG4gICAgaWYgKGUuZm9ybWF0ID09PSAncGRmJykge1xyXG4gICAgICBjb25zdCBkb2MgPSBuZXcganNQREYuanNQREYoKTtcclxuICAgICAgZXhwb3J0RGF0YUdyaWRUb1BkZih7XHJcbiAgICAgICAganNQREZEb2N1bWVudDogZG9jLFxyXG4gICAgICAgIGNvbXBvbmVudDogZS5jb21wb25lbnQsXHJcbiAgICAgICAgY3VzdG9taXplQ2VsbDogZ3JpZCA9PiB7XHJcbiAgICAgICAgICBncmlkLnBkZkNlbGwud29yZFdyYXBFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGRvYy5zYXZlKGAke2ZpbGVOYW1lfS5wZGZgKTtcclxuICAgICAgICBlLmNvbXBvbmVudC5jb2x1bW5PcHRpb24oJ0FjdGlvbicsICd2aXNpYmxlJywgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChlLmZvcm1hdCA9PT0gJ3hsc3gnKSB7XHJcbiAgICAgIGUuZmlsZU5hbWUgPSBmaWxlTmFtZTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgZS5jb21wb25lbnQuY29sdW1uT3B0aW9uKCdBY3Rpb24nLCAndmlzaWJsZScsIHRydWUpO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShGSUxFX0VYUE9SVF9OQU1FX0tFWSk7XHJcbiAgICBpZiAodGhpcy5ldmVudFN1YnNjcmlwdGlvbikge1xyXG4gICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldFRpdGxlKGMpIHtcclxuICAgIHJldHVybiBjID8gYyA6IGZhbHNlO1xyXG4gIH1cclxuICBvbkNlbGxQcmVwYXJlZChlKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGUucm93VHlwZSA9PSAnZGF0YScgJiZcclxuICAgICAgZS5kYXRhLmJ1c2luZXNzUnVsZXMubGVuZ3RoID4gMCAmJlxyXG4gICAgICBlLmNvbHVtbi5kYXRhRmllbGQgPT09IGUuZGF0YS5idXNpbmVzc1J1bGVzWzBdLm5hbWVcclxuICAgICkge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gZS5jZWxsRWxlbWVudDtcclxuICAgICAgY29uc3QgcnVsZXMgPSAnPGVtIGNsYXNzPVwiUlVMRVNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPicucmVwbGFjZShcclxuICAgICAgICAnUlVMRVMnLFxyXG4gICAgICAgIGUuZGF0YS5idXNpbmVzc1J1bGVzWzBdLnN0eWxlID8gZS5kYXRhLmJ1c2luZXNzUnVsZXNbMF0uc3R5bGUgOiAnJ1xyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBsaXZldGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2J1c2luZXNzLWdyb3VwJyk7XHJcbiAgICAgIGxpdmV0ZXh0LmNsYXNzTGlzdC5hZGQoJ2J1c2luZXNzLWFsZXJ0Jyk7XHJcbiAgICAgIGxpdmV0ZXh0LmNsYXNzTGlzdC5hZGQoJ21sLTInKTtcclxuICAgICAgbGl2ZXRleHQuaW5uZXJIVE1MID0gcnVsZXM7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGl2ZXRleHQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU2hvd01vcmUodmFsdWU6IHN0cmluZywgY29sdW1uRGVmOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRUb2dnbGVLZXkodmFsdWUsIGNvbHVtbkRlZik7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgbGVuZ3RoIG9mIHRoZSB2YWx1ZSBleGNlZWRzIDYwXHJcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gdGhpcy50cnVuY2F0ZVRleHRWYWx1ZSkge1xyXG4gICAgICAvLyBJZiBcIlNob3cgTW9yZVwiIGlzIGFjdGl2ZSwgcmV0dXJuIHRoZSBmdWxsIHZhbHVlOyBvdGhlcndpc2UsIHJldHVybiB0aGUgdHJ1bmNhdGVkIHZhbHVlXHJcbiAgICAgIGlmICh0aGlzLnNob3dNb3JlVGV4dFtrZXldKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlOyAvLyBTaG93IGZ1bGwgdmFsdWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHRoaXMudHJ1bmNhdGVUZXh0VmFsdWUpLnRyaW0oKSArICcuLi4nOyAvLyBUcnVuY2F0ZSBhbmQgYWRkIGVsbGlwc2lzXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNob3dNb3JlU3RhdGUodmFsdWU6IHN0cmluZywgY29sdW1uRGVmOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0VG9nZ2xlS2V5KHZhbHVlLCBjb2x1bW5EZWYpO1xyXG4gICAgdGhpcy5zaG93TW9yZVRleHRba2V5XSA9ICF0aGlzLnNob3dNb3JlVGV4dFtrZXldO1xyXG4gIH1cclxuXHJcbiAgZ2V0VG9nZ2xlS2V5KHZhbHVlOiBzdHJpbmcsIGNvbHVtbkRlZjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHt2YWx1ZX1fJHtjb2x1bW5EZWZ9YDtcclxuICB9XHJcblxyXG4gIG9uUm93UHJlcGFyZWQoZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnJvd1R5cGUgPT0gJ2RhdGEnICYmXHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lICYmXHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lPy5zcGxpdCgnLicpLmxlbmd0aCAmJlxyXG4gICAgICBlLmRhdGFbdGhpcy51cGRhdGVHcmlkPy5oaWdobGlnaHRSb3c/LmNvbHVtbk5hbWUuc3BsaXQoJy4nKVswXV1bXHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lLnNwbGl0KCcuJylbMV1cclxuICAgICAgXSA9PSB0aGlzLnVwZGF0ZUdyaWQ/LmhpZ2hsaWdodFJvdz8uY29sdW1uVmFsdWVcclxuICAgICkge1xyXG4gICAgICBlLnJvd0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy51cGRhdGVHcmlkPy5oaWdobGlnaHRSb3c/LmNvbG9yO1xyXG4gICAgICBlLnJvd0VsZW1lbnQuY2xhc3NOYW1lID0gZS5yb3dFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKCdkeC1yb3ctYWx0JywgJycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DZWxsQ2xpY2soZSkge1xyXG4gICAgZT8uZGF0YT8ucm91dGVkYXRhLm1hcChuID0+IHtcclxuICAgICAgaWYgKG4/LnBmaWVsZCA9PSBlPy5jb2x1bW4/LmRhdGFGaWVsZCkge1xyXG4gICAgICAgIHRoaXMucGFyYW12YWx1ZSA9IGU/LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IFt0YWJsZU5hbWVdID0gbj8ucGZpZWxkLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgdGhpcy5wYXJhbWZpZWxkID0gbj8uZmllbGQ7XHJcbiAgICAgICAgdGhpcy50YWJsZWZpZWxkID0gdGFibGVOYW1lO1xyXG4gICAgICAgIHRoaXMudG9UYWJJZCA9IG4/LmlkO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmICh0aGlzLnRvVGFiSWQpIHtcclxuICAgICAgdGhpcy5keW5hbWljVGFiUGFnZVNlcnZpY2UuZ2V0RHluYW1pY1BhZ2UodGhpcy50b1RhYklkKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcz8uZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBwYWdlaWQgPSByZXM/LmRhdGFbMF0/LmFjdGl2ZVZlcnNpb24uaWQ7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50VVJMID0gdGhpcy5yb3V0ZXIudXJsO1xyXG4gICAgICAgICAgY29uc3QgbmV3dXJsID0gY3VycmVudFVSTC5yZXBsYWNlKC9bXi9dKiQvLCAnLycgKyBwYWdlaWQpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDYXB0aW9uID09ICdhY3Rpb24nIHx8IHRoaXMuc2VsZWN0ZWRDYXB0aW9uID09ICdBY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtuZXd1cmxdKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvcml6YW50YWxUYWJGaWx0ZXIgPSB0aGlzLmxvY2Fsc3RvcmUuZ2V0SXRlbShGSUxURVJfSURfS0VZKTtcclxuICAgICAgICAgICAgaWYgKGhvcml6YW50YWxUYWJGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbShGSUxURVJfSURfS0VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKCdIb3JpemFudGFsUGFnZUlkJywgcGFnZWlkKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldE9iaihGSUxURVJfSURfS0VZLCB7XHJcbiAgICAgICAgICAgICAgaWQ6IHRoaXMucGFyYW12YWx1ZSxcclxuICAgICAgICAgICAgICB0YWJsZTogdGhpcy50YWJsZWZpZWxkLFxyXG4gICAgICAgICAgICAgIGZpZWxkOiB0aGlzLnBhcmFtZmllbGRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlblRhYiA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXZhbHVlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gfVxyXG5cclxuICBhc3luYyB0YXJnZXRQYWdlKHZhbHVlLCB0YXJnZXRWYWx1ZSkge1xyXG4gICAgY29uc3QgdGFyZ2V0VVJMVmFsdWUgPSB0YXJnZXRWYWx1ZT8ubGluaztcclxuICAgIGlmICh0aGlzLmxvY2Fsc3RvcmUuZ2V0T2JqKExPQ0FMX1NUT1JBR0VfS0VZKSkge1xyXG4gICAgICB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCB0aGlzLmdldFZlcnNpb25MaXN0KHRhcmdldFVSTFZhbHVlLCB2YWx1ZSwgdGFyZ2V0VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0VmVyc2lvbkxpc3QodmFsdWUsIG51bWVyaWNWYWx1ZSwgYWN0aW9uKSB7XHJcbiAgICB0aGlzLnBhZ2VCdWlsZGVyU2VydmljZS5nZXRWZXJzaW9uTGlzdCh2YWx1ZSkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKEZJTEVfRVhQT1JUX05BTUVfS0VZLCByZXMuZGF0YVswXT8ucGFnZW5hbWUpO1xyXG4gICAgICAgIHRoaXMucGFnZUxpc3QgPSByZXMuZGF0YTtcclxuICAgICAgICB0aGlzLnRvdGFsY291bnQgPSB0aGlzLnBhZ2VMaXN0Lmxlbmd0aCA/IHRoaXMucGFnZUxpc3QubGVuZ3RoIDogMDtcclxuICAgICAgICBjb25zdCBmaWx0ZXJUYWdzID0gYWN0aW9uO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZmlsdGVyVGFncz8uZmlsdGVyQnk/LnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaWYgKGZpbHRlclZhbHVlICE9ICcnICYmIGZpbHRlclZhbHVlKSB7XHJcbiAgICAgICAgICBjb25zdCByb3dWYWx1ZSA9IG51bWVyaWNWYWx1ZVtmaWx0ZXJWYWx1ZVsxXV07XHJcbiAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKExPQ0FMX1NUT1JBR0VfS0VZLCB7IGlkOiByb3dWYWx1ZSwgdGFibGU6IGZpbHRlclZhbHVlWzBdLCBmaWVsZDogZmlsdGVyVmFsdWVbMV0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VMaXN0WzBdLnRhYmNvbmZpZykgdGhpcy5sb2NhbHN0b3JlLnNldE9iaihTVE9SQUdFX0tFWV9EWU5BTUlDX1RBQl9QQUdFUywgdGhpcy5wYWdlTGlzdFswXS50YWJjb25maWcpO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKCd0aXRsZXRhYicsIG51bWVyaWNWYWx1ZSk7XHJcbiAgICAgICAgaWYgKGZpbHRlclRhZ3M/LmFjdGlvbiA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRPYmooJ2VkaXRWYWx1ZScsIG51bWVyaWNWYWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5yZW1vdmVJdGVtKCdlZGl0VmFsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wYWdlTGlzdFswXT8ucGFnZURldGFpbHM/LnBhZ2V0eXBlID09ICdBVFBCRE0nIHx8IHRoaXMucGFnZUxpc3RbMF0/LnBhZ2VEZXRhaWxzPy5wYWdldHlwZSA9PSAnRkZQJykge1xyXG4gICAgICAgICAgICB0aGlzLmF1dGhTZXJ2aWNlLnNldFNoYXJlZE1lc3NhZ2UoeyBwYWdlSWQ6IHRoaXMucGFnZUxpc3RbMF0ucGFnZWlkIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbXBvbmVudCAmJiAodGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tTWFzdGVyVmlldyB8fCB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LmxvYWRlZEZyb21Db21wb3NpdGVQYWdlKSAmJiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkKVxyXG4gICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocHVibGlzaEV2ZW50KHsgZXZlbnROYW1lOiBhY3Rpb24uYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgbWFwcGluZ0Zvcm1JZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkIH0gfSkpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdtYXN0ZXItdmlldycpID4gLTEgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignY29tcG9zaXRlLXBhZ2UnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ2NvbXBvc2l0ZVRpdGxlJywgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy50aXRsZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdzZXRUYWJBY3Rpb24nLCBhY3Rpb24uYWN0aW9uKTtcclxuICAgICAgICAgICAgICB0aGlzLnNoYXJlZFNlcnZpY2Uuc2VuZE1lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJ2Zvcm0vJywgdGhpcy5wYWdlTGlzdFswXS5wYWdlaWRdLCB7XHJcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ3NldFRhYkFjdGlvbicsIGFjdGlvbi5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2hhcmVkU2VydmljZS5zZW5kTWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnL3BhZ2VzL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycsIHRoaXMucGFnZUxpc3RbMF0ucGFnZWlkXSwge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycuLi8uLi8uLi9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nLCB0aGlzLnBhZ2VMaXN0WzBdLnBhZ2VpZF0sIHtcclxuICAgICAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycuLi8uLi8uLi9keW5hbWljcGFnZS90YWIvJywgdGhpcy5wYWdlTGlzdFswXS5pZF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIHRvZ2dsZUljb25DbGFzcygpIHtcclxuICAgIHRoaXMuaWNvbkNsYXNzID0gJ2ZhIGZhLWV5ZS1zbGFzaCc7XHJcbiAgICAvLyB9XHJcbiAgfVxyXG5cclxuICB1cGxvYWREb2N1bWVudChpdGVtLCBmaWxlcykge1xyXG4gICAgdGhpcy51cGxvYWRlZEZpbGUgPSBmaWxlcy50YXJnZXQuZmlsZXNbMF07XHJcbiAgICBjb25zdCBwYWdlSUQgPSB0aGlzLmZvcm1JZCA/IHRoaXMuZm9ybUlkIDogdGhpcy5wYWdlSWQ7XHJcbiAgICB0aGlzLmltYWdlRGF0YSA9IHtcclxuICAgICAgY29udGVudFR5cGU6IHRoaXMudXBsb2FkZWRGaWxlLnR5cGUsXHJcbiAgICAgIGZpbGVOYW1lOiBgb2NyLyR7cGFnZUlEfS8ke3RoaXMudXBsb2FkZWRGaWxlLm5hbWV9YFxyXG4gICAgfTtcclxuICAgIHRoaXMuYXR0YWNobWVudFNlcnZpY2UudXBsb2FkS2V5KHRoaXMuaW1hZ2VEYXRhKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVwbG9hZEF0dGFjaG1lbnQ6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlJyk7XHJcbiAgICAgICAgY29uc3QgdXBsb2FkQXR0YWNobWVudERldGFpbHMgPSB1cGxvYWRBdHRhY2htZW50LmZpbGVzWzBdO1xyXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UucHV0dXBsb2FkMihyZXMuZGF0YSwgdXBsb2FkQXR0YWNobWVudERldGFpbHMsIHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzLnR5cGUpLnN1YnNjcmliZShcclxuICAgICAgICAgIChyZXNwOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogYG9jci8ke3BhZ2VJRH0vJHt0aGlzLnVwbG9hZGVkRmlsZS5uYW1lfWAsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50dHlwZTogdGhpcy51cGxvYWRlZEZpbGUudHlwZVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldE9iaignT0NST2JqJywgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ3VwbG9hZEZyb21HcmlkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGVTdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLmFjdGlvblswXS50b1VwcGVyQ2FzZSgpICsgaXRlbS5hY3Rpb24uc2xpY2UoMSkgKyAnICcgKyB0aGlzLmZyb21UaXRsZSxcclxuICAgICAgICAgICAgICAgIHBlcnNvbklkOiBudWxsXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBjb25zdCB1cmwgPSBQQUdFX01PRElGWV9ST1VURSArIGl0ZW0ubGluaztcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIFdlbnQgV3JvbmchJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT0gMCkgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyBXZW50IFdyb25nIScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXREYXRlRm9ybWF0KHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvbkluZm8pIHtcclxuICAgICAgaWYgKHZhbHVlID09PSAnZGF0ZScgJiYgdGhpcy5yZWdpc3RyYXRpb25JbmZvPy5kYXRldGltZWZvcm1hdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJhdGlvbkluZm9bJ2RhdGV0aW1lZm9ybWF0J10uc3BsaXQoJyAnKVswXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5yZWdpc3RyYXRpb25JbmZvWydkYXRldGltZWZvcm1hdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdNTS9kZC95eXl5JztcclxuICB9XHJcblxyXG4gIGJ1aWxkQ3JpdGVyaWEocmVzdWx0KSB7XHJcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuO1xyXG4gICAgY29uc3QgdGFibGVzY2hlbWFjb25maWcgPSB0eXBlb2YgcmVzdWx0LnRhYmxlc2NoZW1hY29uZmlnID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzdWx0LnRhYmxlc2NoZW1hY29uZmlnKSA6IHJlc3VsdC50YWJsZXNjaGVtYWNvbmZpZztcclxuICAgIGlmICghdGFibGVzY2hlbWFjb25maWcpIHJldHVybjtcclxuICAgIGNvbnN0IGZpZWxkTWFwcGluZyA9IHRhYmxlc2NoZW1hY29uZmlnLmZpZWxkbWFwcGluZztcclxuICAgIGlmICghZmllbGRNYXBwaW5nKSByZXR1cm47XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2ggPSBmaWVsZE1hcHBpbmcuZmlsdGVyKGUgPT4gZS5jcml0ZXJpYSk7XHJcbiAgICBpZiAoIXRoaXMuZHluYW1pY1NlYXJjaCAmJiAhdGhpcy5keW5hbWljU2VhcmNoLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgdGhpcy50YWJsZURyb3BEb3duID0gW1xyXG4gICAgICAuLi5uZXcgU2V0KFxyXG4gICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaC5tYXAoZSA9PiAoe1xyXG4gICAgICAgICAgbmFtZTogZS50YWJsZW5hbWUsXHJcbiAgICAgICAgICB2YWx1ZTogZS50YWJsZW5hbWVcclxuICAgICAgICB9KSlcclxuICAgICAgKVxyXG4gICAgXTtcclxuICAgIHRoaXMudGFibGVEcm9wRG93biA9IHRoaXMucmVtb3ZlRHVwbGlhY3RlQXJyYXlKc29uKHRoaXMudGFibGVEcm9wRG93bik7XHJcblxyXG4gICAgdGhpcy5jb2x1bW5Ecm9wRG93biA9IHRoaXMuZHluYW1pY1NlYXJjaC5tYXAoZSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gYCR7ZS50YWJsZW5hbWV9LiR7ZS5maWVsZH1gO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IGUubGFiZWwsXHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgZGF0YVR5cGU6IGUuZGF0YXR5cGUsXHJcbiAgICAgICAgdGFibGVOYW1lOiBlLnRhYmxlbmFtZVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVEdXBsaWFjdGVBcnJheUpzb24odmFsdWVzKSB7XHJcbiAgICBjb25zdCBjb25jYXRBcnJheSA9IHZhbHVlcy5tYXAoZWFjaFZhbHVlID0+IE9iamVjdC52YWx1ZXMoZWFjaFZhbHVlKS5qb2luKCcnKSk7XHJcbiAgICByZXR1cm4gdmFsdWVzLmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiBjb25jYXRBcnJheS5pbmRleE9mKGNvbmNhdEFycmF5W2luZGV4XSkgPT09IGluZGV4KTtcclxuICB9XHJcblxyXG4gIGluaXREeW5hbWljU2VhcmNoKCk6IFVudHlwZWRGb3JtQXJyYXkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmdldCgnZHluYW1pY1NlYXJjaEFycmF5JykgYXMgVW50eXBlZEZvcm1BcnJheTtcclxuICB9XHJcblxyXG4gIGFkZEdyaWREeW5hbWljU2VhcmNoKCkge1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLnB1c2godGhpcy5jcmVhdGVEeW5hbWljU2VhcmNoKCkpO1xyXG4gICAgY29uc3QgZHluYW1pY1NlYXJjaCA9IHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmNvbnRyb2xzWydkeW5hbWljU2VhcmNoQXJyYXknXS52YWx1ZTtcclxuICAgIGlmIChkeW5hbWljU2VhcmNoLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhpcy5zYXZlQnV0dG9uRGlzYWJsZSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zYXZlQnV0dG9uRGlzYWJsZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVEeW5hbWljU2VhcmNoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICB0YWJsZU5hbWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGNvbHVtbk5hbWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGNvbmRpdGlvbjogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgZGF0YXR5cGU6IFsnJ10sXHJcbiAgICAgIHZhbHVlOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICB0YWJsZURyb3BEb3duOiBbdGhpcy50YWJsZURyb3BEb3duXSxcclxuICAgICAgY29sdW1uRHJvcERvd246IFt0aGlzLmNvbHVtbkRyb3BEb3duXSxcclxuICAgICAgY29uZGl0aW9uRHJvcGRvd246IFtdXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGJ1aWxkRHluYW1pY1NlYXJjaChyZXM6IGFueSk6IFVudHlwZWRGb3JtR3JvdXAge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICB0YWJsZU5hbWU6IHJlcy50YWJsZU5hbWUsXHJcbiAgICAgIGNvbHVtbk5hbWU6IHJlcy5jb2x1bW5OYW1lLFxyXG4gICAgICBjb25kaXRpb246IHJlcy5jb25kaXRpb24sXHJcbiAgICAgIGRhdGF0eXBlOiByZXMuZGF0YXR5cGUsXHJcbiAgICAgIHZhbHVlOiByZXMudmFsdWUsXHJcbiAgICAgIHRhYmxlRHJvcERvd246IFtyZXMudGFibGVEcm9wRG93bl0sXHJcbiAgICAgIGNvbHVtbkRyb3BEb3duOiBbcmVzLmNvbHVtbkRyb3BEb3duXSxcclxuICAgICAgY29uZGl0aW9uRHJvcGRvd246IFtyZXMuY29uZGl0aW9uRHJvcGRvd25dXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUR5bmFtaWNTZWFyY2goaW5kZXg6IG51bWJlcikge1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLnJlbW92ZUF0KGluZGV4KTtcclxuICAgIGNvbnN0IGR5bmFtaWNTZWFyY2ggPSB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5jb250cm9sc1snZHluYW1pY1NlYXJjaEFycmF5J10udmFsdWU7XHJcbiAgICBpZiAoZHluYW1pY1NlYXJjaC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGR5bmFtaWNTZWFyY2ggPSBkeW5hbWljU2VhcmNoLmZpbHRlcihlID0+IGUudmFsdWUgJiYgZS52YWx1ZS50cmltKCkpO1xyXG4gICAgLy8gY29uc3Qgc2F2ZUR5bmFtaWNTZWFyY2ggPSB7XHJcbiAgICAvLyAgIHBhZ2VJZDogK3RoaXMuZm9ybUlkLFxyXG4gICAgLy8gICBjcml0ZXJpYUlkOiArdGhpcy5jcml0ZXJpYUlkLFxyXG4gICAgLy8gICBkeW5hbWljU2VhcmNoQXJyYXk6IGR5bmFtaWNTZWFyY2hcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnNhdmVDcml0ZXJpYUJ5UGFnZUlkKHNhdmVEeW5hbWljU2VhcmNoKS5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgIC8vICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgIC8vICAgdGhpcy5jcml0ZXJpYUlkID0gcmVzcG9uc2UuY3JpdGVyaWFJZDtcclxuICAgIC8vICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnQ3JpdGVyaWEgZGVsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXREeW5hbWljU2VhcmNoKCkge1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLmNsZWFyKCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgPSBbXTtcclxuICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5kYXRhU291cmNlID0ge1xyXG4gICAgICBkYXRhOiBbXSxcclxuICAgICAgdG90YWxDb3VudDogMFxyXG4gICAgfTtcclxuICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLnlvdXRoU2VhcmNoSnNvbiA9IFtdO1xyXG4gICAgLy8gdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICB9XHJcblxyXG4gIGdldENvbHVtbkxpc3QoaW5kZXg6IG51bWJlciwgdGFibGVWYWx1ZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBnZXRDdXJyZW50Um93ID0gdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLmF0KGluZGV4KTtcclxuICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdjb2x1bW5Ecm9wRG93bicpLnBhdGNoVmFsdWUoW10pO1xyXG4gICAgY29uc3QgY29sdW1uQXJyYXkgPSB0aGlzLmR5bmFtaWNTZWFyY2hcclxuICAgICAgLmZpbHRlcihlID0+IGUudGFibGVuYW1lID09PSB0YWJsZVZhbHVlKVxyXG4gICAgICAubWFwKGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYCR7ZS50YWJsZW5hbWV9LiR7ZS5maWVsZH1gO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBuYW1lOiBlLmxhYmVsLFxyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICBkYXRhVHlwZTogZS5kYXRhdHlwZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgZ2V0Q3VycmVudFJvdy5nZXQoJ2NvbHVtbkRyb3BEb3duJykucGF0Y2hWYWx1ZShjb2x1bW5BcnJheSk7XHJcbiAgfVxyXG5cclxuICBnZXRDb25kaXRpb25MaXN0KGluZGV4OiBudW1iZXIsIGNvbHVtblZhbHVlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGdldEN1cnJlbnRSb3cgPSB0aGlzLmluaXREeW5hbWljU2VhcmNoKCkuYXQoaW5kZXgpO1xyXG4gICAgY29uc3QgY29sdW1uRHJvcERvd24gPSBnZXRDdXJyZW50Um93LmdldCgnY29sdW1uRHJvcERvd24nKS52YWx1ZTtcclxuICAgIGNvbnN0IGNvbHVtbkRyb3BEb3duSnNvbiA9IGNvbHVtbkRyb3BEb3duLmZpbmQoZSA9PiBlLnZhbHVlID09PSBjb2x1bW5WYWx1ZSk7XHJcbiAgICBjb25zdCBjb2x1bW5EYXRhVHlwZSA9IGNvbHVtbkRyb3BEb3duSnNvbi5kYXRhVHlwZTtcclxuICAgIGNvbnN0IGNvbHVtblRhYmxlTmFtZSA9IGNvbHVtbkRyb3BEb3duSnNvbi50YWJsZU5hbWU7XHJcbiAgICBnZXRDdXJyZW50Um93LmdldCgnY29uZGl0aW9uRHJvcGRvd24nKS5wYXRjaFZhbHVlKFtdKTtcclxuICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdkYXRhdHlwZScpLnBhdGNoVmFsdWUoY29sdW1uRGF0YVR5cGUpO1xyXG4gICAgZ2V0Q3VycmVudFJvdy5nZXQoJ3RhYmxlTmFtZScpLnBhdGNoVmFsdWUoY29sdW1uVGFibGVOYW1lKTtcclxuICAgIC8vIGdldEN1cnJlbnRSb3cuZ2V0KCdjb25kaXRpb25Ecm9wZG93bicpLnBhdGNoVmFsdWUoW1xyXG4gICAgLy8gICB7XHJcbiAgICAvLyAgICAgbmFtZTogJ0VxdWFsIFRvJyxcclxuICAgIC8vICAgICB2YWx1ZTogJ0VxdWFsX1RvJ1xyXG4gICAgLy8gICB9LFxyXG4gICAgLy8gICB7XHJcbiAgICAvLyAgICAgbmFtZTogJ0xpa2UnLFxyXG4gICAgLy8gICAgIHZhbHVlOiAnTGlrZSdcclxuICAgIC8vICAgfVxyXG4gICAgLy8gXSk7XHJcbiAgICBpZiAoY29sdW1uRGF0YVR5cGUgPT09ICd0ZXh0ZmllbGQnIHx8IGNvbHVtbkRhdGFUeXBlID09PSAndGV4dGFyZWEnKSB7XHJcbiAgICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdjb25kaXRpb25Ecm9wZG93bicpLnBhdGNoVmFsdWUoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6ICdFcXVhbCBUbycsXHJcbiAgICAgICAgICB2YWx1ZTogJ0VxdWFsX1RvJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogJ0xpa2UnLFxyXG4gICAgICAgICAgdmFsdWU6ICdMaWtlJ1xyXG4gICAgICAgIH1cclxuICAgICAgXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZXRDdXJyZW50Um93LmdldCgnY29uZGl0aW9uRHJvcGRvd24nKS5wYXRjaFZhbHVlKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBuYW1lOiAnRXF1YWwgVG8nLFxyXG4gICAgICAgICAgdmFsdWU6ICdFcXVhbF9UbydcclxuICAgICAgICB9XHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXREeW5hbWljU2VhcmNoVmFsdWUoaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgZ2V0Q3VycmVudFJvdyA9IHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5hdChpbmRleCk7XHJcbiAgICBnZXRDdXJyZW50Um93LmdldCgndmFsdWUnKS5wYXRjaFZhbHVlKCcnKTtcclxuICB9XHJcblxyXG4gIHRyaW1TcGFjZXMoZWxlbWVudCkge1xyXG4gICAgY29uc3QgZ2V0RWxlbWVudCA9IGVsZW1lbnQuY29udHJvbHNbJ3ZhbHVlJ107XHJcbiAgICBjb25zdCBnZXRWYWx1ZSA9IGdldEVsZW1lbnQudmFsdWUudHJpbSgpO1xyXG4gICAgZ2V0RWxlbWVudC5zZXRWYWx1ZShnZXRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKCFnZXRWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgZ2V0RWxlbWVudC50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgZ2V0RWxlbWVudC5lcnJvcnMgPSB0cnVlO1xyXG5cclxuICAgICAgLyogUmVtb3ZlIHRoaXMgcmVkdW5kYW50IGp1bXAgKi9cclxuICAgICAgLy8gcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3VibWl0RHluYW1pY1NlYXJjaCgpIHtcclxuICAgIGlmICghdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0udmFsaWQpIHtcclxuICAgICAgdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0ubWFya0FsbEFzVG91Y2hlZCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkeW5hbWljU2VhcmNoID0gdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0uY29udHJvbHNbJ2R5bmFtaWNTZWFyY2hBcnJheSddLnZhbHVlO1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGR5bmFtaWNTZWFyY2gubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGR5bmFtaWNTZWFyY2hFbGVtZW50ID0gZHluYW1pY1NlYXJjaFtpbmRleF07XHJcbiAgICAgIGlmICghZHluYW1pY1NlYXJjaEVsZW1lbnQgfHwgIWR5bmFtaWNTZWFyY2hFbGVtZW50LnZhbHVlLnRyaW0oKSkge1xyXG4gICAgICAgIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gdHJ1ZTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCA9IGR5bmFtaWNTZWFyY2g7XHJcbiAgICB0aGlzLnNlYXJjaEdyaWQodGhpcy5odHRwLCB0aGlzLnN0b3JhZ2UpO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUR5bmFtaWNTZWFyY2goKSB7XHJcbiAgICBpZiAoIXRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHluYW1pY1NlYXJjaCA9IHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmNvbnRyb2xzWydkeW5hbWljU2VhcmNoQXJyYXknXS52YWx1ZTtcclxuICAgIGlmICghZHluYW1pY1NlYXJjaC5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0Nhbm5vdCBzYXZlIGVtcHR5IGNyaXRlcmlhJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkeW5hbWljU2VhcmNoLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBkeW5hbWljU2VhcmNoRWxlbWVudCA9IGR5bmFtaWNTZWFyY2hbaW5kZXhdO1xyXG4gICAgICBpZiAoIWR5bmFtaWNTZWFyY2hFbGVtZW50IHx8ICFkeW5hbWljU2VhcmNoRWxlbWVudC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5tYXJrQWxsQXNUb3VjaGVkKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2F2ZUR5bmFtaWNTZWFyY2ggPSB7XHJcbiAgICAgIHBhZ2VJZDogK3RoaXMuZm9ybUlkLFxyXG4gICAgICBjcml0ZXJpYUlkOiArdGhpcy5jcml0ZXJpYUlkLFxyXG4gICAgICBkeW5hbWljU2VhcmNoQXJyYXk6IGR5bmFtaWNTZWFyY2hcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zYXZlQ3JpdGVyaWFCeVBhZ2VJZChzYXZlRHluYW1pY1NlYXJjaCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgIHRoaXMuY3JpdGVyaWFJZCA9IHJlc3BvbnNlLmNyaXRlcmlhSWQ7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0NyaXRlcmlhIHNhdmUgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBnZXRDcml0ZXJpYUJ5UGFnZUlkKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqZWN0cykgPT4ge1xyXG4gICAgICBjb25zdCBwYWdlSWQgPSB0aGlzLmZvcm1JZDtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5nZXRDcml0ZXJpYUJ5UGFnZUlkKHBhZ2VJZCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gcmVzcG9uc2UubGVuZ3RoIC0gMTtcclxuICAgICAgICAgIGNvbnN0IGxhc3RSZXNwb25zZSA9IHJlc3BvbnNlW2xhc3RJbmRleF07XHJcbiAgICAgICAgICB0aGlzLmNyaXRlcmlhSWQgPSBsYXN0UmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgICBsZXQgbGFzdER5bmFtaWNTZWFyY2hBcnJheSA9IFtdO1xyXG4gICAgICAgICAgaWYgKGxhc3RSZXNwb25zZS5keW5hbWljU2VhcmNoQXJyYXk/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVCdXR0b25EaXNhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxhc3REeW5hbWljU2VhcmNoQXJyYXkgPSBsYXN0UmVzcG9uc2UuZHluYW1pY1NlYXJjaEFycmF5O1xyXG4gICAgICAgICAgICBsYXN0RHluYW1pY1NlYXJjaEFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLnB1c2godGhpcy5idWlsZER5bmFtaWNTZWFyY2goZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCA9IGxhc3REeW5hbWljU2VhcmNoQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNvbHZlKHt9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUFsbER5bmFtaWNTZWFyY2hDb25kdGlvbigpIHtcclxuICAgIHRoaXMuY3JpdGVyaWFJZCA9IDA7XHJcbiAgICB0aGlzLmluaXREeW5hbWljU2VhcmNoKCkuY2xlYXIoKTtcclxuICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0ID0gW107XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2ggPSBbXTtcclxuICAgIHRoaXMueW91dGhTZWFyY2hKc29uID0gW107XHJcbiAgICB0aGlzLnlvdXRoU2VhcmNoQm9vbGVhbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tSdWxlc0JlZm9yZUFjdGlvbnMoZGF0YTogYW55LCBpdGVtOiBhbnkpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IHBhZ2VEYXRhID0ge1xyXG4gICAgICBwYWdlaWQ6IHRoaXMucGFnZUlkLFxyXG4gICAgICBhY3Rpb246IGl0ZW0uYWN0aW9uLFxyXG4gICAgICBwYWdlRGF0YTogZGF0YT8ucGFnZURhdGEsXHJcbiAgICAgIGN1cnJlbnRVc2VyOiB0aGlzLnVzZXIsXHJcbiAgICAgIHByaW1hcnk6IGRhdGE/LmRhdGE/LnByaW1hcnlDb2x1bW4sXHJcbiAgICAgIHJvd0RhdGE6IGRhdGE/LmRhdGEsXHJcbiAgICAgIGdyaWRhY3Rpb246IGl0ZW1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hlY2tSdWxlc0luV29ya2Zsb3cocGFnZURhdGEpLnBpcGUoXHJcbiAgICAgIG1hcCgocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS50eXBlID09PSAnVkFMSURBVElPTicpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnBlcm1pc3Npb24gPT09ICdBTExPV0VEJykge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5kYXRhLnBlcm1pc3Npb24gPT09ICdDT05GSVJNQVRJT04nKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5idXNpbmVzc1J1bGVNZXNzYWdlID0gcmVzdWx0LmRhdGE/Lm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgdGhpcy5ncmlkQWN0aW9uUGFyYW1zID0ge2RhdGEsIGl0ZW19O1xyXG4gICAgICAgICAgICAgICQoJyNjb25maXJtR3JpZEFjdGlvbicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmRhdGEucGVybWlzc2lvbiA9PT0gJ0RFTklFRCcpIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihyZXN1bHQuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEudHlwZSA9PT0gJ1JFRElSRUNUSU9OJykge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEucm91dGUpIHtcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKHJlc3VsdC5kYXRhLnJvdXRlKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uZmlybUdyaWRBY3Rpb24oKXtcclxuICAgIHRoaXMuZ2V0QWN0aW9uUm91dGVzKHRoaXMuZ3JpZEFjdGlvblBhcmFtcy5kYXRhLHRoaXMuZ3JpZEFjdGlvblBhcmFtcy5pdGVtKTtcclxuICB9XHJcbn1cclxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cclxuPGRpdiBbY2xhc3NdPVwidXNlckFjdGlvbiA9PT0gJ3ZpZXcnID8gJ3JlYWRPbmx5Q2FyZCcgOiAnJ1wiPlxyXG4gIDxkaXYgKm5nSWY9XCJoZWFkZXJcIj5cclxuICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCIgYXJpYS1kZXNjcmliZWRieT1cImJvcmRlclwiPlxyXG4gICAgICA8dGhlYWQ+XHJcbiAgICAgICAgPHRyPlxyXG4gICAgICAgICAgPHRoICpuZ0Zvcj1cImxldCBpdGVtIG9mIHRpdGxldGFiIHwga2V5dmFsdWVcIj57eyBpdGVtLmtleSB9fTwvdGg+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90aGVhZD5cclxuICAgICAgPHRib2R5PlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgaXRlbSBvZiB0aXRsZXRhYiB8IGtleXZhbHVlXCI+e3sgaXRlbS52YWx1ZSB9fTwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90Ym9keT5cclxuICAgIDwvdGFibGU+XHJcbiAgPC9kaXY+XHJcblxyXG5cclxuICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LWZ1bGwgZHluYW1pYy1zZWFyY2hcIiBbYWN0aXZlSW5kZXhdPVwiMVwiIGljb25Qb3M9XCJlbmRWYWxcIlxyXG4gICAgKm5nSWY9XCJkeW5hbWljU2VhcmNoICYmIGR5bmFtaWNTZWFyY2gubGVuZ3RoID4gMFwiPlxyXG4gICAgPHAtYWNjb3JkaW9uVGFiPlxyXG4gICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBoZWFkLXRleHQgZ2FwLTIgdy1mdWxsXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZFwiPlF1aWNrIFNlYXJjaDwvc3Bhbj5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXktMiByb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtbWQtcmlnaHRcIj5cclxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiQWRkIE5ld1wiIHByaXBwbGUgY2xhc3M9XCJwLXJpcHBsZSBwLWVsZW1lbnQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1pY29uXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cImFkZEdyaWREeW5hbWljU2VhcmNoKClcIj5cclxuICAgICAgICAgICAgPGVtIGNsYXNzPVwicGkgcGktcGx1cyBmb250LXdlaWdodC1ib2xkXCI+PC9lbT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJncmlkRHluYW1pY1NlYXJjaEZvcm1cIj5cclxuICAgICAgICA8bmctY29udGFpbmVyIGZvcm1BcnJheU5hbWU9XCJkeW5hbWljU2VhcmNoQXJyYXlcIj5cclxuICAgICAgICAgIDxkaXYgKm5nRm9yPVwibGV0IGR5bmFtaWNTZWFyY2hJdGVtIG9mIGluaXREeW5hbWljU2VhcmNoKCkuY29udHJvbHM7IGxldCBkeW5hbWljU2VhcmNoSW5kZXggPSBpbmRleFwiXHJcbiAgICAgICAgICAgIFtmb3JtR3JvdXBOYW1lXT1cImR5bmFtaWNTZWFyY2hJbmRleFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHJiYWMtY2FyZFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTEgY29sLTEyIHByLTBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiIGZvcj1cInRhYmxlTGlzdFwiPlRhYmxlPC9sYWJlbD4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8cC1kcm9wZG93biAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgW29wdGlvbnNdPVwiZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCd0YWJsZURyb3BEb3duJyk/LnZhbHVlXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBvcHRpb25WYWx1ZT1cInZhbHVlXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIGlkPVwidGFibGVMaXN0X3t7IGR5bmFtaWNTZWFyY2hJbmRleCB9fVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBUYWJsZVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBmb3JtQ29udHJvbE5hbWU9XCJ0YWJsZU5hbWVcIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgdGFiaW5kZXg9XCIwXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIHN0eWxlQ2xhc3M9XCJ3LTEwMFwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAob25DaGFuZ2UpPVwiZ2V0Q29sdW1uTGlzdChkeW5hbWljU2VhcmNoSW5kZXgsIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVOYW1lJyk/LnZhbHVlKVwiPiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgIDwvcC1kcm9wZG93bj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8c3BhbiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgY2xhc3M9XCJ0ZXh0LWRhbmdlciBlcnJvci10ZXh0XCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgICpuZ0lmPVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVOYW1lJyk/Lmhhc0Vycm9yKCdyZXF1aXJlZCcpICYmIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVOYW1lJyk/LnRvdWNoZWQgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIFwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICA+UGxlYXNlIFNlbGVjdCBUYWJsZSBOYW1lPC9zcGFuIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgPiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSA8L2Rpdj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCIgZm9yPVwiY29sdW1uTGlzdFwiPkNvbHVtbiA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5Ecm9wRG93bicpPy52YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImNvbHVtbkxpc3Rfe3sgZHluYW1pY1NlYXJjaEluZGV4IH19XCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBDb2x1bW5cIiBmb3JtQ29udHJvbE5hbWU9XCJjb2x1bW5OYW1lXCIgdGFiaW5kZXg9XCIwXCIgc3R5bGVDbGFzcz1cInctMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJnZXRDb25kaXRpb25MaXN0KGR5bmFtaWNTZWFyY2hJbmRleCwgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5OYW1lJyk/LnZhbHVlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyIGVycm9yLXRleHRcIiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ2NvbHVtbk5hbWUnKT8uaGFzRXJyb3IoJ3JlcXVpcmVkJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5OYW1lJyk/LnRvdWNoZWRcclxuICAgICAgICAgICAgICAgICAgICAgIFwiPlBsZWFzZSBTZWxlY3QgQ29sdW1uIE5hbWU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiIGZvcj1cImNvbmRpdGlvbkxpc3RcIj5Db25kaXRpb24gPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29uZGl0aW9uRHJvcGRvd24nKT8udmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJjb25kaXRpb25MaXN0X3t7IGR5bmFtaWNTZWFyY2hJbmRleCB9fVwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgQ29uZGl0aW9uXCIgZm9ybUNvbnRyb2xOYW1lPVwiY29uZGl0aW9uXCIgdGFiaW5kZXg9XCIwXCIgc3R5bGVDbGFzcz1cInctMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJyZXNldER5bmFtaWNTZWFyY2hWYWx1ZShkeW5hbWljU2VhcmNoSW5kZXgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXIgZXJyb3ItdGV4dFwiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29uZGl0aW9uJyk/Lmhhc0Vycm9yKCdyZXF1aXJlZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29uZGl0aW9uJyk/LnRvdWNoZWRcclxuICAgICAgICAgICAgICAgICAgICAgIFwiPlBsZWFzZSBTZWxlY3QgQ29uZGl0aW9uPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC02IGNvbC0xMiBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIiBmb3I9XCJ2YWx1ZUxpc3RcIj5WYWx1ZSA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwLWlucHV0dGV4dCB3LTEwMFwiIGlkPVwidmFsdWVMaXN0XCIgZm9ybUNvbnRyb2xOYW1lPVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXIgZXJyb3ItdGV4dFwiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndmFsdWUnKT8uaGFzRXJyb3IoJ3JlcXVpcmVkJykgJiYgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCd2YWx1ZScpPy50b3VjaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICBcIj5QbGVhc2UgRmlsbCBWYWx1ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzIGQtbWQtYmxvY2sgZC1ub25lXCIgZm9yPVwiZGVsZXRlRHluYW1pY1NlYXJjaFwiPiYjMTYwOzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIHRleHQtZGFuZ2VyIGRlbGV0ZS1pY29uXCIgcm9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImRlbGV0ZUR5bmFtaWNTZWFyY2hcIiAoY2xpY2spPVwicmVtb3ZlRHluYW1pY1NlYXJjaChkeW5hbWljU2VhcmNoSW5kZXgpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRGVsZXRlXCI+ZGVsZXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwhLS0gPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtbWQtMSBjb2wtMTIgbWItMyB0ZXh0LW1kLWNlbnRlciBkLW1kLWZsZXggYWxpZ24taXRlbXMtbWQtY2VudGVyIGp1c3RpZnktY29udGVudC1tZC1jZW50ZXIgZmxleC1jb2x1bW5cIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzIGQtbWQtYmxvY2sgZC1ub25lXCIgZm9yPVwiZGVsZXRlRHluYW1pY1NlYXJjaFwiPiYjMTYwOzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgdGV4dC1kYW5nZXJcIiByb2xlPVwiYnV0dG9uXCIgaWQ9XCJkZWxldGVEeW5hbWljU2VhcmNoXCJcclxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInJlbW92ZUR5bmFtaWNTZWFyY2goZHluYW1pY1NlYXJjaEluZGV4KVwiIHRpdGxlPVwiRGVsZXRlXCI+ZGVsZXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIChjbGljayk9XCJyZW1vdmVEeW5hbWljU2VhcmNoKClcIj5EZWxldGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj4gLS0+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1zZWxmLWVuZFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRleHQtbWQtcmlnaHQgbXQtMlwiPlxyXG4gICAgICAgICAgICAgIDwhLS0gPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwic2F2ZUR5bmFtaWNTZWFyY2goKVwiXHJcbiAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwic2F2ZUJ1dHRvbkRpc2FibGVcIj5cclxuICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICA8L2J1dHRvbj4gLS0+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWNhbmNlbFwiIChjbGljayk9XCJyZXNldER5bmFtaWNTZWFyY2goKVwiPkNsZWFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwic3VibWl0RHluYW1pY1NlYXJjaCgpXCJcclxuICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJzYXZlQnV0dG9uRGlzYWJsZVwiPlNlYXJjaDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICA8L3AtYWNjb3JkaW9uVGFiPlxyXG4gIDwvcC1hY2NvcmRpb24+XHJcbiAgPGRpdiBjbGFzcz1cInBhZ2Utd3JwIG10LTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxyXG4gICAgICAgIDwhLS0gPGRpdiAqbmdJZj1cInRydWVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIiBbZm9ybUdyb3VwXT1cImZpbHRlckZvcm1cIiAqbmdJZj1cImdyaWRUeXBlICE9PSAndmlldydcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxyXG4gICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IFtvcHRpb25zXT1cImZpbHRlck9wdGlvbnNcIiBzdHlsZUNsYXNzPVwiZmlsdGVyT3B0aW9uc1wiIFtncm91cF09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXNMYWJlbD1cInswfSBpdGVtcyBzZWxlY3RlZFwiIGRlZmF1bHRMYWJlbD1cIlNlbGVjdFwiIG9wdGlvbkxhYmVsPVwibGFiZWxcIiBvcHRpb25WYWx1ZT1cImlkXCJcclxuICAgICAgICAgICAgICAgIGlkPVwiZmlsdGVyb3B0aW9uc1wiIGFyaWFGaWx0ZXJMYWJlbD1cInNlYXJjaGJveFwiIGZvcm1Db250cm9sTmFtZT1cInNlbGVjdGVkRmlsdGVyXCJcclxuICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJjaGFuZ2VGaWx0ZXJPcHRpb25zKCRldmVudClcIj5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtZ3JvdXAgcFRlbXBsYXRlPVwiZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3sgZ3JvdXAuY29sdW1uTmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDwvcC1tdWx0aVNlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj4gLS0+XHJcbiAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImdyaWRUeXBlID09PSAndmlldydcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWNhbmNlbCBtYi0zXCIgKGNsaWNrKT1cImdvQmFjaygpXCI+QmFjazwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRleHQtcmlnaHRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBjb2wtMTJcIiAqbmdJZj1cImdldFRpdGxlKHVwZGF0ZUdyaWQ/LmdyaWRUaXRsZSlcIj5cclxuICAgICAgICAgIDxoNiBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgbWItMFwiPjwvaDY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBpbm1hdGUtYnRuLWFsaWduXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tcHJpbnQgbXktMlwiIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCIgYXJpYS1sYWJlbD1cIkV4YW1wbGUgaWNvbi1idXR0b24gd2l0aCBhIG1lbnVcIlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwic2hvd0V4cG9ydFwiPlxyXG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJleHBvcnRcIiBzcmM9XCIuLi8uLi8uLi9hc3NldHMvaW1hZ2VzL3N2Zy9FeHBvcnRfSWNvbi5zdmdcIiBhbHQ9XCJleHBvcnRcIiAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPG1hdC1tZW51IGNsYXNzPVwiZC1pbmxpbmUtYmxvY2sgbXktMlwiICNtZW51PVwibWF0TWVudVwiICpuZ0lmPVwic2hvd0V4cG9ydFwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwib25DbG9zZSgpXCIgKm5nSWY9XCJwYWdlVHlwZSA9PT0gJ0RTUCcgfHwgcGFnZVR5cGUgPT09ICdCVVNQJ1wiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPnt7IGljb24gfX08L21hdC1pY29uPnt7IG9wZW5jbG9zZSB9fSBTbGlkZWJhclxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQoJ2V4Y2VsJylcIj48bWF0LWljb24+Z3JpZF9vbjwvbWF0LWljb24+IEV4cG9ydCB0byBFeGNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQoJ3BkZicpXCI+PG1hdC1pY29uPnBpY3R1cmVfYXNfcGRmPC9tYXQtaWNvbj4gRXhwb3J0IHRvIFBERjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQoJ3ByaW50JylcIj48bWF0LWljb24+cHJpbnQ8L21hdC1pY29uPiBQcmludDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQocGFnZVR5cGUpXCIgKm5nSWY9XCJwYWdlVHlwZSA9PT0gJ0RTUCcgfHwgcGFnZVR5cGUgPT09ICdCVVNQJ1wiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPnJlc2V0X3R2PC9tYXQtaWNvbj4gUmVzZXQgU2VhcmNoIENyaXRlcmlhXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cInBhZ2VUeXBlID09PSAnRFNQJyB8fCBwYWdlVHlwZSA9PT0gJ0JVU1AnXCIgbWF0LW1lbnUtaXRlbVxyXG4gICAgICAgICAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cInNlYXJjaENyaXRlcmlhTGlzdFwiICNzZWFyY2hjcml0ZXJpYW1lbnV0cmlnZ2VyPVwibWF0TWVudVRyaWdnZXJcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5hZGRfY2lyY2xlX291dGxpbmU8L21hdC1pY29uPiBTYXZlIFNlYXJjaCBDcml0ZXJpYVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L21hdC1tZW51PlxyXG4gICAgICAgICAgICA8ZGl2IFtuZ0NsYXNzXT1cInVwZGF0ZUdyaWQgJiYgdXBkYXRlR3JpZD8uY2hvb3NlciA/ICdkLWlubGluZS1ibG9jayBhZGQtYnRuLXJpZ2h0JyA6ICdkLWlubGluZS1ibG9jaydcIj5cclxuICAgICAgICAgICAgICA8IS0tQWRkIEJ1dHRvbiwgQ29sdW1uIGNob29zZXIgYnV0dG9uIGFyZSByZXBsYWNpbmcgZWFjaG90aGVyIHdoZW4gaXRzIHNlbGVjdGVkLS0+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1pY29uLWJnIGQtaW5saW5lLWJsb2NrIHB1bGwtcmlnaHQgdGV4dC1yaWdodCBtbC0xIG15LTJcIlxyXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJzaG93R3JpZFBhZ2UgJiYgaXRlbSAmJiB1cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZFwiIChjbGljayk9XCJjbG9zZUZvcm0oKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtdGltZXNcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAmJlxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5sZW5ndGhcclxuICAgICAgICAgICAgICAgIFwiIGNsYXNzPVwidXBkYXRlLWdyaWQtYWN0aW9uLWJ1dHRvbi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiISh1cGRhdGVHcmlkPy5pc1Nob3dPblRvcCAmJiBpdGVtPy5hY3Rpb24/LnRvTG93ZXJDYXNlKCkgPT09ICdhZGQnKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJpdGVtPy5pY29uICYmIGl0ZW0uaXNPdXRzaWRlR3JpZCAmJiAhaXRlbS5oaWRlXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXQtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZ2V0T3V0c2lkZUdyaWRBY3Rpb24oaXRlbSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxlbSBbY2xhc3NdPVwiaXRlbS5pY29uXCI+PC9lbT48c3BhbiBjbGFzcz1cIm1sLTJcIiAqbmdJZj1cIiEhaXRlbS5uYW1lXCI+e3sgaXRlbS5uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpdGVtPy5pY29uICYmIGl0ZW0uaXNPdXRzaWRlR3JpZCAmJiBpdGVtLnR5cGUgPT09ICdPY3IgU2NhbidcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWxlXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZW0gW2NsYXNzXT1cIml0ZW0uaWNvblwiPjwvZW0+PHNwYW4gY2xhc3M9XCJtbC0yXCIgKm5nSWY9XCIhIWl0ZW0ubmFtZVwiPnt7IGl0ZW0ubmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiAoY2hhbmdlKT1cInVwbG9hZERvY3VtZW50KGl0ZW0sICRldmVudClcIiBpZD1cImZpbGVcIiBhcmlhLWhpZGRlbj1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjsgZGlzcGxheTogbm9uZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidXBkYXRlR3JpZCAmJiB1cGRhdGVHcmlkPy5jaG9vc2VyXCIgY2xhc3M9XCJjb2wtY3VzdG9tIG15LTJcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1pY29uIG1sLTFcIiAoY2xpY2spPVwiY29sdW1uQ2hvb3NlckNsaWNrKClcIj5cclxuICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWNvbHVtbnNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImlzQWRkQnV0dG9uXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IG15LTJcIiAoY2xpY2spPVwicmVkaXJlY3QoKVwiPkFkZDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPG1hdC1tZW51ICNzZWFyY2hDcml0ZXJpYUxpc3Q9XCJtYXRNZW51XCIgY2xhc3M9XCJzZWFyY2hsaXN0XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJyb3cgY29sLXNtLTEyIG10LTRcIiAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XHJcbiAgICAgICAgICA8bWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgICAgIDxpbnB1dCBtYXRJbnB1dCBbKG5nTW9kZWwpXT1cInNlYXJjaENyaXRlcmlhXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggQ3JpdGVyaWFcIiAvPlxyXG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgbXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpXCIgW2Rpc2FibGVkXT1cIiFzZWFyY2hDcml0ZXJpYVwiIChjbGljayk9XCJzYXZlU2VhcmNoQ3JpdGVyaWEoKVwiPlNhdmU8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJyb3cgY29sLXNtLTEyXCI+XHJcbiAgICAgICAgPHRhYmxlIGFyaWEtZGVzY3JpYmVkYnk9XCJTZWFyY2hfQ3JpdGVyaWFcIj5cclxuICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlNlYXJjaCBDcml0ZXJpYTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5ICpuZ0lmPVwidG90YWxjb3VudFwiPlxyXG4gICAgICAgICAgICA8dHIgKm5nRm9yPVwibGV0IHNjIG9mIHNlYXJjaENyaXRlcmlhQXJyXCI+XHJcbiAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPnNlYXJjaDwvbWF0LWljb24+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKGNsaWNrKT1cInNldFNlYXJjaChzYy5kYXRhKVwiPnt7IHNjLmRhdGEuc2VhcmNoQ3JpdGVyaWEgfX08L2E+XHJcbiAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L21hdC1tZW51PlxyXG4gICAgPGRpdiBjbGFzcz1cInNwbGl0LXBhZ2VcIj5cclxuICAgICAgPGFzLXNwbGl0IHVuaXQ9XCJwZXJjZW50XCIgdXNlVHJhbnNpdGlvbj1cInRydWVcIiBkaXJlY3Rpb249XCJ7eyBsYXlvdXR0eXBlIH19XCI+XHJcbiAgICAgICAgPGFzLXNwbGl0LWFyZWEgc2l6ZT1cInt7IHNwbGl0ZXJTaXplIH19XCI+XHJcbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGFnZVR5cGUgPT09ICdEU1AnIHx8IHBhZ2VUeXBlID09PSAnQlVTUCdcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgICAgICAgICAgIDxmb3JtaW8gI2Zvcm1JTyBbZm9ybV09XCJqc29uRm9ybVwiIFtzdWJtaXNzaW9uXT1cInN1Ym1pdHRlZERhdGFcIiAoc3VibWl0KT1cIm9uU3VibWl0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAoY3VzdG9tRXZlbnQpPVwiY3VzdG9tRXZlbnQoJGV2ZW50KVwiPjwvZm9ybWlvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvYXMtc3BsaXQtYXJlYT5cclxuICAgICAgICA8YXMtc3BsaXQtYXJlYSBzaXplPVwie3sgZ3JpZHNwbGl0ZXJTaXplIH19XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAoKHVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZCkgfHxcclxuICAgICAgICAgICAgICAgICh1cGRhdGVHcmlkPy5pc1Nob3dPblRvcCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wKSkgJiZcclxuICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgPG5kYy1keW5hbWljIGNsYXNzPVwibm8tZHJhZ1wiIFtuZGNEeW5hbWljQ29tcG9uZW50XT1cIml0ZW0uY29tcG9uZW50XCIgW25kY0R5bmFtaWNJbnB1dHNdPVwiaXRlbVwiXHJcbiAgICAgICAgICAgICAgICBbbmRjRHluYW1pY091dHB1dHNdPVwiaXRlbT8ub3V0cHV0c1wiPjwvbmRjLWR5bmFtaWM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJzaG93R3JpZFBhZ2VcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIGdyaWR2aWV3XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHkge3sgZ2V0VGl0bGVDbGFzcyhmcm9tVGl0bGUpIH19XCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gW3JlbW90ZU9wZXJhdGlvbnNdPVwieyBmaWx0ZXJpbmc6IHRydWUsIHNvcnRpbmc6IHRydWUsIHBhZ2luZzogdHJ1ZSB9XCIgIFJlbW92ZWQgc2VydmVyIGZpbHRlcmluZy0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkeC1kYXRhLWdyaWQgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIFtjb2x1bW5NaW5XaWR0aF09XCIxMDBcIiBbd2lkdGhdPVwiJzEwMCUnXCIgW2ZpbHRlclN5bmNFbmFibGVkXT1cInRydWVcIiAjZGF0YUdyaWRcclxuICAgICAgICAgICAgICAgICAgICAgIFtjb2x1bW5SZXNpemluZ01vZGVdPVwiJ3dpZGdldCdcIiBbYWxsb3dDb2x1bW5SZW9yZGVyaW5nXT1cInRydWVcIiBbYWxsb3dDb2x1bW5SZXNpemluZ109XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtjb2x1bW5BdXRvV2lkdGhdPVwidHJ1ZVwiIChvbkNvbnRlbnRSZWFkeSk9XCJjb250ZW50UmVhZHkoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DZWxsUHJlcGFyZWQpPVwib25DZWxsUHJlcGFyZWQoJGV2ZW50KVwiIChvblJvd1ByZXBhcmVkKT1cIm9uUm93UHJlcGFyZWQoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DZWxsQ2xpY2spPVwib25DZWxsQ2xpY2soJGV2ZW50KVwiIChvbkV4cG9ydGluZyk9XCJvbkV4cG9ydGluZygkZXZlbnQpXCIgW3Nob3dCb3JkZXJzXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW3Jvd0FsdGVybmF0aW9uRW5hYmxlZF09XCJ0cnVlXCIgW3Nob3dDb2x1bW5MaW5lc109XCJ0cnVlXCIgW3Nob3dSb3dMaW5lc109XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLXNlbGVjdGlvbiBbc2VsZWN0QWxsTW9kZV09XCJhbGxNb2RlXCIgW3Nob3dDaGVja0JveGVzTW9kZV09XCJjaGVja0JveGVzTW9kZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFttb2RlXT1cImdldEdyaWRTZWxlY3Rpb24odXBkYXRlR3JpZD8uZ3JpZFNlbGVjdGlvbilcIj48L2R4by1zZWxlY3Rpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWxvYWQtcGFuZWwgW2VuYWJsZWRdPVwiZmFsc2VcIj48L2R4by1sb2FkLXBhbmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1leHBvcnQgW2VuYWJsZWRdPVwidHJ1ZVwiIFtmb3JtYXRzXT1cIlsncGRmJywgJ3hsc3gnXVwiPjwvZHhvLWV4cG9ydD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8tZmlsdGVyLXJvdyBbdmlzaWJsZV09XCJzaG93RmlsdGVyUm93UGFuZWxcIj48L2R4by1maWx0ZXItcm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1zdGF0ZS1zdG9yaW5nIFtlbmFibGVkXT1cInRydWVcIiB0eXBlPVwiY3VzdG9tXCIgW2N1c3RvbVNhdmVdPVwiY3VzdG9tU2F2ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjdXN0b21Mb2FkXT1cImN1c3RvbUxvYWRcIj48L2R4by1zdGF0ZS1zdG9yaW5nPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8tY29sdW1uLWNob29zZXIgW2VuYWJsZWRdPVwidHJ1ZVwiIG1vZGU9XCJzZWxlY3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGR4by1wb3NpdGlvbiBteT1cInJpZ2h0IHRvcFwiIGF0PVwicmlnaHQgdG9wXCIgb2Y9XCIuZHgtZGF0YWdyaWQtY29sdW1uLWNob29zZXItYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhvLXBvc2l0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9keG8tY29sdW1uLWNob29zZXI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLUdyaWQgLSBGb290ZXIgZmlsdGVyIHJlbW92ZWQgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLXBhZ2luZyBbcGFnZVNpemVdPWN1cnJlbnRQYWdlU2l6ZT48L2R4by1wYWdpbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLXBhZ2VyIFt2aXNpYmxlXT1cInRydWVcIiBbc2hvd1BhZ2VTaXplU2VsZWN0b3JdPVwidHJ1ZVwiIFthbGxvd2VkUGFnZVNpemVzXT1cIls1LCAxMCwgMTUsIDIwXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNwbGF5TW9kZV09XCJkaXNwbGF5TW9kZVwiIFtzaG93SW5mb109XCJ0cnVlXCIgW3Nob3dOYXZpZ2F0aW9uQnV0dG9uc109XCJ0cnVlXCI+PC9keG8tcGFnZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWZpbHRlci1idWlsZGVyLXBvcHVwIFtwb3NpdGlvbl09XCJwb3B1cFBvc2l0aW9uXCI+IDwvZHhvLWZpbHRlci1idWlsZGVyLXBvcHVwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1oZWFkZXItZmlsdGVyIFt2aXNpYmxlXT1cInRydWVcIj48L2R4by1oZWFkZXItZmlsdGVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbj8uaGlkZSAhPT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/Lmxpbms7IGVsc2Ugbm9MaW5rXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW2ZpeGVkXT1cImNvbHVtbj8uZml4ZWRcIiBbZGF0YUZpZWxkXT1cImNvbHVtbj8uY29sdW1uRGVmXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NhcHRpb25dPVwiY29sdW1uPy5oZWFkZXJcIiBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBjZWxsVGVtcGxhdGU9XCJjZWxsVGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dTb3J0aW5nXT1cImNvbHVtbj8uc29ydFwiIFt3aWR0aF09XCJjb2x1bW4/LndpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ZpbHRlclZhbHVlc109XCJjb2x1bW4/LmZpbHRlclZhbHVlc1wiIFtmaWx0ZXJWYWx1ZV09XCJjb2x1bW4/LmZpbHRlclZhbHVlXCIgW3NvcnRPcmRlcl09XCJjb2x1bW4/LnNvcnRPcmRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0SW5kZXhdPVwiY29sdW1uPy5zb3J0SW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI25vTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/Lmljb247IGVsc2Ugbm9TaG93bW9yZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF0YUZpZWxkXT1cImNvbHVtbj8uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uPy5oZWFkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4/LmZpbHRlclwiIGNlbGxUZW1wbGF0ZT1cImljb25UZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIiBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub1Nob3dtb3JlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbj8uc2hvd21vcmU7IGVsc2Ugbm9JY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uIFt2aXNpYmxlXT1cImdldFZpc2FiaWxpdHlCeUNob29zYWJsZVByb3AodXBkYXRlR3JpZD8uY2hvb3NlciwgY29sdW1uPy52aXNpYmxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93SGlkaW5nXT1cIiFjb2x1bW4/LkNob29zYWJsZVwiIFt3aWR0aF09XCJjb2x1bW4/LndpZHRoXCIgW2ZpeGVkXT1cImNvbHVtbj8uZml4ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhRmllbGRdPVwiY29sdW1uPy5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4/LmhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgY2VsbFRlbXBsYXRlPVwic2hvd21vcmVUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIiBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0ljb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uPy5kYXRlRm9ybWF0OyBlbHNlIG5vRGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbj8uZGF0ZUZvcm1hdCA9PT0gJ2RhdGUnIHx8IGNvbHVtbj8uZGF0ZUZvcm1hdCA9PT0gJ2RhdGV0aW1lJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBkYXRhVHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmb3JtYXRdPVwiZ2V0RGF0ZUZvcm1hdChjb2x1bW4/LmRhdGVGb3JtYXQpXCIgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJWYWx1ZXNdPVwiY29sdW1uPy5maWx0ZXJWYWx1ZXNcIiBbZmlsdGVyVmFsdWVdPVwiY29sdW1uPy5maWx0ZXJWYWx1ZVwiIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0SW5kZXhdPVwiY29sdW1uPy5zb3J0SW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI25vRGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/LmhlYWRlci50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gJ3N0YXR1cyc7IGVsc2Ugbm9TdGF0dXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW3Zpc2libGVdPVwiZ2V0VmlzYWJpbGl0eUJ5Q2hvb3NhYmxlUHJvcCh1cGRhdGVHcmlkPy5jaG9vc2VyLCBjb2x1bW4/LnZpc2libGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW3dpZHRoXT1cImNvbHVtbj8ud2lkdGhcIiBbZml4ZWRdPVwiY29sdW1uPy5maXhlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBjZWxsVGVtcGxhdGU9XCJzdGF0dXNUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIiBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub1N0YXR1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uIFt2aXNpYmxlXT1cImdldFZpc2FiaWxpdHlCeUNob29zYWJsZVByb3AodXBkYXRlR3JpZD8uY2hvb3NlciwgY29sdW1uPy52aXNpYmxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgY2VsbFRlbXBsYXRlPVwiZGF0YVRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydE9yZGVyXT1cImNvbHVtbj8uc29ydE9yZGVyXCIgW3NvcnRJbmRleF09XCJjb2x1bW4/LnNvcnRJbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2hvd0dyaWRBY3Rpb25zKHVwZGF0ZUdyaWQsIHNob3dBY3Rpb25Db2x1bW4sIGdyaWRUeXBlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbd2lkdGhdPVwiMTIwXCIgW2FsbG93RmlsdGVyaW5nXT1cImZhbHNlXCIgW3Nob3dJbkNvbHVtbkNob29zZXJdPVwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd1NvcnRpbmddPVwiZmFsc2VcIiBjYXB0aW9uPVwiQWN0aW9uXCIgY2VsbFRlbXBsYXRlPVwiZWRpdENlbGxUZW1wbGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnY2VsbFRlbXBsYXRlJ1wiIGNsYXNzPVwiZGFzaGJvYXJkLWhvdmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwiZC52YWx1ZSAmJiBkLnZhbHVlICE9PSAnbnVsbCdcIiAoY2xpY2spPVwiZ2V0Um91dGVyKGQsIGl0ZW0pXCI+e3sgZC52YWx1ZSAhPT0gJ251bGwnID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkLnZhbHVlIDogJycgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInNob3dJY29uKGQpXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnaWNvblRlbXBsYXRlJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBkLmRhdGEucmJhY0NvbmRpdGlvbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gKm5nSWY9XCJpdGVtLmFjdGlvbiAhPT0gJ2FkZCdcIiBbY2xhc3NdPVwiaXRlbS5pY29uXCIgKGNsaWNrKT1cInBvcHVwKGQ/LmtleSwgaXRlbSlcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnc2hvd21vcmVUZW1wbGF0ZSdcIiBjbGFzcz1cImRlc2NyaXB0aW9uLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7IHRvZ2dsZVNob3dNb3JlKGQudmFsdWUsIGQuY29sdW1uPy5kYXRhRmllbGQpIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwidG9nZ2xlLWxpbmtcIiAqbmdJZj1cImQudmFsdWUubGVuZ3RoID4gdHJ1bmNhdGVUZXh0VmFsdWVcIiAoY2xpY2spPVwidG9nZ2xlU2hvd01vcmVTdGF0ZShkLnZhbHVlLCBkLmNvbHVtbj8uZGF0YUZpZWxkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgc2hvd01vcmVUZXh0W2dldFRvZ2dsZUtleShkLnZhbHVlLCBkLmNvbHVtbj8uZGF0YUZpZWxkKV0gPyAnU2hvdyBMZXNzJyA6ICdTaG93IE1vcmUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2VkaXRDZWxsVGVtcGxhdGUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0Zvcj1cImxldCBpdGVtIG9mIGQuZGF0YS5yYmFjQ29uZGl0aW9uczsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVG9vbHRpcCBmb3IgZGVsZXRlZCByb3cgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtPy5hY3Rpb24gPT09ICdpbmZvJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm5vLWJnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cIidEZWxldGUgU3RhdHVzOiBQZW5kaW5nXFxuJyArIGl0ZW0/Lm1lc3NhZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBQb3NpdGlvbl09XCInbGVmdCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBTaG93RGVsYXldPVwiMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwSGlkZURlbGF5XT1cIjEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcENsYXNzXT1cIidjdXN0b20tdG9vbHRpcC1jbGFzcydcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBbY2xhc3NdPVwiaXRlbS5pY29uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtPy5pY29uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT8uYWN0aW9uICE9PSAnaW5mbycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXRlbS5pc091dHNpZGVHcmlkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD8uZGF0YT8uc3RhdHVzICE9PSAnQ2xvc2VkJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWN0aW9uICE9PSAnY2hhbmdlcGF0aHdheScgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXRlbT8uaGlkZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBjaGFuZ2VwYXRod2F5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cInt7IHRpdGxlQ2FzZVRvb2xUaXAoaXRlbT8uYWN0aW9uKSB9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZ2V0SW5zaWRlR3JpZEFjdGlvbihkLCBpdGVtKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIFtjbGFzc109XCJpdGVtLmljb25cIiBzdHlsZT1cInBhZGRpbmctcmlnaHQ6IDEwcHhcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNjaGFuZ2VwYXRod2F5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJpdGVtLmFjdGlvbiA9PT0gJ2NoYW5nZXBhdGh3YXknICYmIGQ/LnJvd0luZGV4ID09PSAwXCIgY2xhc3M9XCJuby1iZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJ7eyBpdGVtPy5hY3Rpb24gfX1cIiAoY2xpY2spPVwiZ2V0SW5zaWRlR3JpZEFjdGlvbihkLCBpdGVtKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gW2NsYXNzXT1cIml0ZW0uaWNvblwiIHN0eWxlPVwicGFkZGluZy1yaWdodDogMTBweFwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXk/Lmljb25cIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cIk9wZW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvcGVuTGluayhkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWV4dGVybmFsLWxpbmtcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwidXBkYXRlR3JpZD8uZWRpdFwiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiRWRpdFwiIChjbGljayk9XCJlZGl0RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIHRpdGxlPVwiRWRpdFwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJ1cGRhdGVHcmlkPy52aWV3XCIgY2xhc3M9XCJuby1iZ1wiIG1hdFRvb2x0aXA9XCJWaWV3XCIgKGNsaWNrKT1cInZpZXdEYXRhKGQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZXllXCIgdGl0bGU9XCJWaWV3XCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmRlbGV0ZVwiIGNsYXNzPVwibm8tYmcgdGV4dC1kYW5nZXJcIiBtYXRUb29sdGlwPVwiRGVsZXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXRyYXNoXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwidXBkYXRlR3JpZD8uYWN0aXZlb3JkZWFjdGl2ZVwiIGNsYXNzPVwibm8tYmdcIiAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmUgJiYgZC5kYXRhLmFjdGl2ZWZsYWcgPT09IDFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYSBmYS10b2dnbGUtb25cIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmUgJiYgZC5kYXRhLmFjdGl2ZWZsYWcgPT09IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYSBmYS10b2dnbGUtb2ZmXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnc3RhdHVzVGVtcGxhdGUnXCIgW2NsYXNzXT1cImNoYW5nZVN0YXR1c0NvbG9yKGQudmFsdWUpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7IGQudmFsdWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnZGF0YVRlbXBsYXRlJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ2Rhc2hib2FyZC1ob3Zlci1jb250YWN0JzogZC5jb2x1bW4/LmRhdGFGaWVsZCA9PT0gJ3NlcnZpY2VuYW1lJyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWlubGluZS1ibG9ja1wiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLmNvbHVtbj8uZGF0YUZpZWxkID09PSAnY2xpZW50YWNjb3VudG5vJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5kYXRhLmFjY291bnRzdGF0dXMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuZGF0YS5hY2NvdW50c3RhdHVzID09PSAnSU5BJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXdhcm5pbmcgcmVkLWNvbG9yXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJkLmNvbHVtbj8uZGF0YUZpZWxkID09PSAnc2VydmljZW5hbWUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFycm93LXJpZ2h0XCIgKm5nSWY9XCJkLmRhdGEubmFycmF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGVyc29uLWRldGFpbHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHNwYW4+TmFycmF0aXZlPC9zcGFuPjxzcGFuIFtpbm5lckh0bWxdPVwic3BsaXRpbmdEYXRhKGQsICcuJylcIj48L3NwYW4+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZC5jb2x1bW4/LmRhdGFGaWVsZCA9PT0gJ25hcnJhdGl2ZSc7IGVsc2UgZGF0YVZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZC52YWx1ZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNkYXRhVmFsdWU+e3sgZC52YWx1ZSB9fTwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2R4LWRhdGEtZ3JpZD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2FzLXNwbGl0LWFyZWE+XHJcbiAgICAgIDwvYXMtc3BsaXQ+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbjxuZy10ZW1wbGF0ZSAjY2FsbERpYWxvZ1BvcHVwPlxyXG4gIDxoMiBtYXREaWFsb2dUaXRsZT5OYXJyYXRpdmU8L2gyPlxyXG4gIDxkaXYgW2lubmVySFRNTF09XCJwb3B1cERhdGFcIj48L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodFwiPlxyXG4gICAgPGJ1dHRvbiBtYXQtYnV0dG9uIChjbGljayk9XCJjbG9zZURpYWxvZ1BvcHVwKClcIiBjbGFzcz1cImJ0biBidG4tY2FuY2VsIG1yLTJcIj5DbG9zZTwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG5cclxuPGFwcC1keW5hbWljLWRldGFpbHMgKm5nSWY9XCJvcGVuVGFiXCIgW2tleV09XCJzZWxlY3RlZFJvd0RhdGFcIj48L2FwcC1keW5hbWljLWRldGFpbHM+XHJcblxyXG48bmctdGVtcGxhdGUgI0RlbGV0ZUdyaWRMaXN0PlxyXG4gIDxkaXYgY2xhc3M9XCJwLTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeCBtYi0yXCI+e3sgRGVmYXVsdERlbGV0ZVBvcHVwVGV4dEFmdFRocmVzaG9sZFRpbWUgfX08L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJtYi0yXCI+XHJcbiAgICAgIDxsYWJlbCBmb3I9XCJyZWFzb25mb3JkZWxldGVcIiBjbGFzcz1cImludGFrZS1mb3JtLWxhYmVscyBjbGVhcmZpeCBtYi0yXCI+UmVhc29uIGZvciByZWNvcmQgZGVsZXRpb24gPHNwYW5cclxuICAgICAgICAgIGNsYXNzPVwidGV4dC1kYW5nZXJcIj4qPC9zcGFuPjwvbGFiZWw+XHJcbiAgICAgIDx0ZXh0YXJlYSByb3dzPVwiM1wiIGlkPVwicmVhc29uZm9yZGVsZXRlXCIgY29scz1cIjMwXCIgcElucHV0VGV4dGFyZWFcclxuICAgICAgICBwbGFjZWhvbGRlcj1cIlJlYXNvbiBmb3IgZGVsZXRpb24gKDQwMDAgY2hhcmFjdGVyIGxpbWl0KVwiIG1heGxlbmd0aD1cIjQwMDBcIiBjbGFzcz1cImZvcm0tY29udHJvbCBuby1yZXNpemVcIlxyXG4gICAgICAgIFsobmdNb2RlbCldPVwiZW50ZXJlZFJlYXNvblwiIChpbnB1dCk9XCJjaGVja0lzRGlzYWJsZWQoJGV2ZW50LnRhcmdldC52YWx1ZSlcIj48L3RleHRhcmVhPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHQgcHItM1wiPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgYnRuIGJ0bi1wcmltYXJ5IGRlbGV0ZSBtYi0zXCIgKGNsaWNrKT1cImRlbGV0ZVJlY29yZFdpdGhSZWFzb24oKVwiXHJcbiAgICAgIFtkaXNhYmxlZF09XCJpc0Rpc2FibGVkXCI+WWVzPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtci0yIG1iLTMgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiAoY2xpY2spPVwiY2FuY2VsUG9wdXAoKVwiPk5vPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+XHJcblxyXG48bmctdGVtcGxhdGUgI0RlbGV0ZUdyaWRMaXN0V2l0aG91dFJlYXNvbj5cclxuICA8ZGl2IGNsYXNzPVwicC0zXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggbWItMlwiPnt7IGRlbGV0ZVBvcHVwVGV4dCB9fTwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHByLTNcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IGJ0biBidG4tcHJpbWFyeSBkZWxldGUgbWItM1wiIChjbGljayk9XCJkZWxldGVSZWNvcmRXaXRob3V0UmVhc29uKClcIj5ZZXM8L2J1dHRvbj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1yLTIgbWItMyBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIChjbGljayk9XCJjYW5jZWxQb3B1cCgpXCI+Tm88L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuPC9uZy10ZW1wbGF0ZT5cclxuXHJcbjxuZy10ZW1wbGF0ZSAjQXBwcm92ZURlbGV0ZUdyaWRMaXN0PlxyXG4gIDxkaXYgY2xhc3M9XCJwLTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeCBtYi00XCI+e3t0aGlzLmRlbGV0ZWRSZWFzb259fTwvZGl2PlxyXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggbWItNFwiPkRvIHlvdSBhcHByb3ZlIHRoaXMgZGVsZXRpb24/PC9kaXY+IC0tPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHByLTNcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcclxuICAgICAgKGNsaWNrKT1cImRlbGV0ZVJlY29yZFdpdGhvdXRSZWFzb24oKVwiPlllczwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxyXG4gICAgICAoY2xpY2spPVwiY2FuY2VsUG9wdXAoKVwiPk5vPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+XHJcblxyXG5cclxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJjb25maXJtR3JpZEFjdGlvblwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICA8cD57eyBidXNpbmVzc1J1bGVNZXNzYWdlIH19PC9wPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb24gZGVsZXRlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiAoY2xpY2spPVwiY29uZmlybUdyaWRBY3Rpb24oKVwiPlxyXG4gICAgICAgICAgICBZZXNcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5ObzwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19