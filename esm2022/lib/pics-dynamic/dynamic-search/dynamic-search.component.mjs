import { Location } from '@angular/common';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Component, EventEmitter, HostListener, Inject, Input, Optional, Output, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { MAT_DIALOG_DATA, MatDialog, MatDialogConfig } from '@angular/material/dialog';
import { select } from '@ngrx/store';
import { DxDataGridComponent } from 'devextreme-angular';
import CustomStore from 'devextreme/data/custom_store';
import { exportDataGrid as exportDataGridToPdf } from 'devextreme/pdf_exporter';
import * as jsPDF from 'jspdf';
import moment from 'moment/moment';
import { MultiSelect } from 'primeng/multiselect';
import es6printJS from 'print-js';
import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
import { AppConstants } from '../@core/constants/app-constants';
import { AlertService } from '../@core/service/alert.service';
import { AttachmentsService } from '../@core/service/attachments.service';
import { AuthService } from '../@core/service/auth.service';
import { DataStoreService } from '../@core/service/data-store.service';
import { DynamicTabPageService } from '../@core/service/dynamic-tab-page-service';
import { DynamicsearchService } from '../@core/service/dynamicsearch.service';
import { LocalService } from '../@core/service/local.service';
import { PageBuilderService } from '../@core/service/page-builder.service';
import { DynamicSearchURL } from '../@core/urls/dynamic-search-url.config';
import { DeleteComponent } from '../@shared/delete/delete.component';
import { publishEvent } from '../@shared/master-view-state/master-view.actions';
import { selectComponentConfigById, selectEvent } from '../@shared/master-view-state/master-view.selectors';
import { DynamicPageCleanupComponent } from '../dynamic-tab-page/dynamic-pagecleanup/dynamic-pagecleanup.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/formio.service";
import * as i4 from "../@core/local-storage/local-storage.service";
import * as i5 from "@ngrx/store";
import * as i6 from "../@core/service/platform-data-store.service";
import * as i7 from "../@core/service/shared.service";
import * as i8 from "../@core/service/ConfigService";
import * as i9 from "@angular/common";
import * as i10 from "@formio/angular";
import * as i11 from "../@shared/alert/alert.component";
import * as i12 from "@angular/material/button";
import * as i13 from "@angular/material/icon";
import * as i14 from "@angular/material/input";
import * as i15 from "@angular/material/form-field";
import * as i16 from "@angular/material/menu";
import * as i17 from "@angular/material/tooltip";
import * as i18 from "@angular/material/dialog";
import * as i19 from "devextreme-angular";
import * as i20 from "devextreme-angular/ui/nested";
import * as i21 from "devextreme-angular/core";
import * as i22 from "ng-dynamic-component";
import * as i23 from "primeng/accordion";
import * as i24 from "primeng/api";
import * as i25 from "primeng/dropdown";
import * as i26 from "primeng/inputtextarea";
const LOCAL_STORAGE_KEY = 'target-tab-filter';
const PAGE_MODIFY_ROUTE = '/pages/dynamicpage/page/modify/';
const FILE_EXPORT_NAME_KEY = 'FILE EXPORT NAME';
const GRID_URL = '/solution/dynamicsearch/searchinput/';
const ROLE_CP_PUBLIC = 'role=CP_PUBLIC';
const STORAGE_KEY_DYNAMIC_TAB_PAGES = 'dynamic-tab-pages';
const POPUP_TYPE_OPEN = 'Open PopUp';
const FILTER_ID_KEY = 'horizantal-tab-filter';
export class DynamicSearchComponent {
    router;
    route;
    cdref;
    fb;
    _formIO;
    storageService;
    formBuilder;
    store;
    _PlatformStoreservice;
    sharedService;
    configService;
    searchcriteriamenutrigger;
    dataGrid;
    editPopUpDialogRef;
    formId;
    jsonForm;
    sourceid;
    fromTitle;
    submittedData;
    tableColumns;
    totalcount;
    pageId;
    inputFieldId;
    inputId;
    url;
    dataSource;
    popupPosition;
    pageType;
    searchCriteria;
    searchCriteriaArr;
    layouttype = 'vertical';
    id;
    searchparams;
    targetId;
    columns;
    updateGrid;
    totalCount;
    dublicateGridConfig;
    columnHeader;
    spliterSize = 0;
    gridspliterSize = 100;
    isOpen = true;
    icon = '';
    openclose = '';
    user;
    isAddButton = false;
    pageSaveID = '';
    showFilterRowPanel;
    popupData;
    callDialogPopup;
    popupDialogRef;
    showActionColumn;
    editId;
    isDialogPopup;
    item;
    showGridPage = true;
    manualPostApiUrl;
    // #check moduleid
    moduleid;
    purpose;
    isShowFormPage = false;
    outerRouting = new EventEmitter();
    userAction;
    rowData;
    checkBoxesMode;
    gridType;
    showExport = false;
    dropdownValues;
    gridOptions;
    filterOptions;
    selectedFilter;
    filterForm;
    gridConfig;
    tempaConfig;
    reorderColumns;
    storage;
    dataStoreService;
    alertService;
    dialog;
    http;
    screenWidth;
    currentPageId;
    displayMode;
    isResize;
    isUserPreferenceChange;
    formIO;
    dynamicSearchService;
    dynamicTabPageService;
    sequenceId;
    columnWidth;
    uploadedFile;
    imageData;
    attachmentService;
    paramvalue;
    paramfield;
    tablefield;
    toTabId;
    uniquedata;
    pageList;
    isViewEnable;
    iconClass;
    titletab;
    header;
    openTab = false;
    selectedRowIndex;
    selectedColumnIndex;
    selectedCaption;
    selectedRowData;
    httpService;
    authService;
    localstore;
    pageBuilderService;
    location;
    filterOptionsDropdown;
    registrationInfo;
    checkGridConfig;
    gridDynamicSearchForm;
    dynamicSearchArray;
    dynamicSearch;
    tableDropDown;
    columnDropDown;
    dynamicSearchResult;
    criteriaId = 0;
    saveButtonDisable = true;
    associatedId;
    isBGP;
    youthSearchJson;
    youthSearchBoolean = false;
    isInitialLoad = true;
    isDeleteRequire = false;
    isDeleteTime = 15;
    enteredReason = '';
    isDisabled = true;
    DeleteConfigURL;
    updateByIdAndPageIdWithReasonURL;
    deleteConfigData;
    DeleteRevertConfigURL;
    deletedReason = '';
    primary_column = '';
    adminAccessForDelete;
    isConditionalEditDelete;
    pagename;
    sourceKey;
    sourceValue;
    sourceType;
    currentPageSize = 5;
    componentId;
    selectedComponent;
    componentConfig$;
    eventSubscription;
    deletePopupText = '';
    isEditThresholdRequire = false;
    DeleteGridList;
    DeleteGridListWithoutReason;
    ApproveDeleteGridList;
    DefaultDeletePopupTextAftThresholdTime = `You are requesting to remove a Youth's physical description. A notification will be sent to your Security Coordinator to review this request and remove the description if appropriate.
  Enter the reason for the removal request. The reason cannot contain more than 4000 characters.`;
    environment;
    businessRuleMessage;
    gridActionParams;
    allUrlParams;
    showMoreText = {};
    truncateTextValue;
    constructor(injector, router, route, cdref, fb, _formIO, storageService, formBuilder, store, _PlatformStoreservice, sharedService, configService, data) {
        this.router = router;
        this.route = route;
        this.cdref = cdref;
        this.fb = fb;
        this._formIO = _formIO;
        this.storageService = storageService;
        this.formBuilder = formBuilder;
        this.store = store;
        this._PlatformStoreservice = _PlatformStoreservice;
        this.sharedService = sharedService;
        this.configService = configService;
        this._PlatformStoreservice.currentStore.subscribe((res) => {
            if (res) {
                this.environment = res['RBACORG'];
                this.httpService = res['HTTPSERVICE'];
            }
        });
        this.pageBuilderService = injector.get(PageBuilderService);
        this.location = injector.get(Location);
        this.localstore = injector.get(LocalService);
        this.storage = injector.get(LocalService);
        this.dataStoreService = injector.get(DataStoreService);
        this.attachmentService = injector.get(AttachmentsService);
        this.alertService = injector.get(AlertService);
        this.dialog = injector.get(MatDialog);
        this.http = injector.get(HttpClient);
        this.dynamicSearchService = injector.get(DynamicsearchService);
        this.authService = injector.get(AuthService);
        this.user = this.storage.getObj('user');
        this.userAction = this.dataStoreService.getData('userAction');
        this.manualPostApiUrl = '';
        this.dynamicTabPageService = injector.get(DynamicTabPageService);
        this.isViewEnable = this.localstore.getObj('isViewEnable');
        if (data) {
            this.pageId = data.pageId ? data.pageId : this.pageId;
            this.inputFieldId = data.inputFieldId ? data.inputFieldId : this.inputFieldId;
            this.inputId = data.inputId ? data.inputId : this.inputId;
        }
        this.checkBoxesMode = 'always';
        this.gridOptions = [
            { label: 'Sorting', value: 'sort', code: '' },
            { label: 'Filtering', value: 'filter', code: '' },
            { label: 'Hide', value: 'hide', code: '' },
            { label: 'Fixed', value: 'fixed', code: '' },
            // { label: 'Default Columns', value: 'Choosable', code: '' },
            // { label: 'Visible', value: 'visible', code: '' },
            { label: 'Date', value: 'dateFormat', code: '' },
            { label: 'Mobile', value: 'mobileView', code: '' },
            { label: 'Tablet', value: 'tabView', code: '' }
        ];
        this.displayMode = 'compact';
        this.dataStoreService.setData('uploadFromGrid', false);
        this.titletab = JSON.parse(this.localstore.getItem('titletab'));
        this.header = JSON.parse(this.localstore.getItem(LOCAL_STORAGE_KEY));
        this.gridDynamicSearchForm = this.formBuilder.group({
            dynamicSearchArray: this.formBuilder.array([])
        });
    }
    ngAfterViewInit() {
        const observerConfig = { attributes: false, childList: true, subtree: true };
        function processNode(node, className, callback) {
            const elements = node.querySelectorAll(className);
            if (elements.length > 0) {
                elements.forEach(callback);
                return true;
            }
            return false;
        }
        const callback = (mutationsList, observer) => {
            for (const mutation of mutationsList) {
                if (mutation.type === 'childList' && mutation.addedNodes.length) {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1 && processNode(node, '.dx-checkbox-container', checkbox => {
                            checkbox.setAttribute('tabindex', '0');
                        })) {
                            observer.disconnect();
                        }
                    });
                }
            }
        };
        const observer = new MutationObserver(callback);
        observer.observe(document.body, observerConfig);
        const callback2 = (mutationsList, observer) => {
            mutationsList.forEach(mutation => {
                if (mutation.type === 'childList' && mutation.addedNodes.length) {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1) {
                            processNode(node, '.dx-checkbox-container', checkbox => {
                                checkbox.setAttribute('tabindex', '0');
                            });
                        }
                    });
                }
            });
        };
        const observer2 = new MutationObserver(callback2);
        observer2.observe(document.body, observerConfig);
        combineLatest([this.route.queryParams]).subscribe(([queryParams]) => {
            const responseId = queryParams['responseId'];
            if (this.route.snapshot.routeConfig.path.indexOf('view') > -1 && (this.route.snapshot.routeConfig.path.indexOf('master-view') === -1 || this.route.snapshot.routeConfig.path.indexOf('composite-page') === -1)) {
                this.gridType = 'view';
            }
            else {
                this.gridType = 'search';
            }
            this.tableColumns =
                this.tableColumns && typeof this.tableColumns === 'string' ? JSON.parse(this.tableColumns) : '';
            this.updateGrid = this.updateGrid && typeof this.updateGrid === 'string' ? JSON.parse(this.updateGrid) : '';
            this.formId = this.route.snapshot.paramMap.get('pageId')
                ? this.route.snapshot.paramMap.get('pageId')
                : this.pageId;
            this.inputFieldId = this.inputFieldId ? this.inputFieldId : null;
            this.dynamicSearchService.clickableData = this.inputFieldId;
            this.rowData = this.dynamicSearchService.rowData;
            if (this.route.snapshot.paramMap.get('pageSaveID')) {
                this.isAddButton = true;
            }
            else {
                this.isAddButton = false;
            }
            this.pageSaveID = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('pageSaveID'))?.snapshot.paramMap.get('pageSaveID');
            this.sourceKey = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceKey'))?.snapshot.paramMap.get('sourceKey');
            this.sourceValue = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceValue'))?.snapshot.paramMap.get('sourceValue');
            this.sourceType = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceType'))?.snapshot.paramMap.get('sourceType');
            this.moduleid = this.route.parent.parent.snapshot.paramMap.get('module');
            this.purpose = this.route.parent.parent.snapshot.paramMap.get('purpose');
            this.getTemplate(responseId);
            this.componentConfig$ = this.store.pipe(select(selectComponentConfigById(this.componentId)));
            this.componentConfig$.subscribe(data => this.selectedComponent = data);
            this.eventSubscription = this.store.pipe(select(selectEvent)).subscribe(event => {
                if (event && event.eventName === 'submit' && event.payload.settings.onSubmitRefresh
                    && event.payload.settings.onSubmitRefreshWidgets) {
                    event.payload.settings.onSubmitRefreshWidgets.forEach(x => {
                        if (x.pageType == 'BGP')
                            this.pageId = x.id;
                        this.getGrid();
                    });
                }
            });
        });
        /* Clear data while page navigation */
        this.dynamicSearchService.clickedRowData = null;
        this.screenWidth = window.innerWidth;
        const REGISTRATION = this.storageService.getItem('REGISTRATION');
        if (REGISTRATION) {
            this.registrationInfo = JSON.parse(REGISTRATION);
        }
        if (!Object.keys(this.allUrlParams)?.length) {
            this.route.pathFromRoot?.forEach(x => {
                x.params.subscribe(y => y && Object.keys(y).length ? Object.assign(this.allUrlParams, y) : null);
            });
        }
    }
    ngOnInit() {
        this.gridConfig = '';
        this.localstore.setItem('EditGridPageID', '');
        this.popupPosition = { of: window, at: 'top', my: 'top', offset: { y: 10 } };
        this.columns?.forEach(column => {
            if (column.visible === undefined || column.visible === "") {
                column.visible = true;
            }
        });
        if (this.dynamicSearchService?.clickedIdData === true) {
            this.dynamicSearchService.clickedIdData = false;
        }
        this.loadFilterForm();
        this.removeAllDynamicSearchCondtion();
        // this.localstore.removeItem(LOCAL_STORAGE_KEY)
        this.localstore.setItem('gridAction', '');
        this.truncateTextValue = this.configService.getValue(); // Get the value
    }
    loadFilterForm() {
        this.filterForm = this.fb.group({
            selectedFilter: ['']
        });
    }
    ngAfterContentChecked() {
        this.cdref.detectChanges();
    }
    redirect() {
        this.router.navigate([PAGE_MODIFY_ROUTE + this.pageSaveID]);
    }
    getTemplate(responseId) {
        this.removeAllDynamicSearchCondtion();
        this.dynamicSearchService.getTemplate(this.formId).subscribe(result => {
            if (result) {
                const gridPageInfo = {
                    id: this.formId,
                    name: result['data']['pagename']
                };
                this.isBGP = result['data']?.pageDetails?.pagetype;
                if (this.isBGP && this.isBGP == 'BGP') {
                    this.associatedId = result['data']?.pageid;
                }
                this.setTemplate(result['data']);
                this.isConditionalEditDelete = result['data']['isConditionalEditDelete'];
                this.currentPageId = result['data']['pageid'];
                this.sequenceId = result['data']['id'];
                this.storage.setItem('parentGridPage', JSON.stringify(gridPageInfo));
                this.getUserGridConfig();
                this.getGrid(responseId);
            }
        });
    }
    getPageTabs(_pageId, sourceType, sourceKey, sourceValue, _youthId, navigationState) {
        this.dynamicSearchService.getPageTabs(_pageId).subscribe((result) => {
            if (result) {
                const tabId = result.data[0].activeVersion.id;
                if (result.data[0].activeVersion.tabconfig) {
                    const parentGridPage = {
                        id: this.formId,
                        name: this.fromTitle
                    };
                    this.storage.setItem('backToGridPage', JSON.stringify(parentGridPage));
                    navigationState.isHideBack = true;
                    let url = '';
                    if (result.data[0].pagetype === 'RBTP') {
                        url = '/pages/dynamic-routing/tab/';
                    }
                    else {
                        url = '/pages/dynamicpage/tab/';
                    }
                    const dynamicTab = url + tabId + '/' + _youthId + '/' + sourceKey + '/' + sourceValue + '/' + sourceType;
                    this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
                }
                else {
                    this.routeToDynamicForms(result.data[0].pagetype, _pageId, _youthId, navigationState);
                }
            }
        });
    }
    routeToDynamicForms(type, _pageId, _youthId, navigationState) {
        if (type === 'ATPBDM') {
            if (window.location.href.indexOf('master-view') > 0 || window.location.href.indexOf('composite-page') > 0) {
                const dynamicTab = 'form/' + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
            else if (window.location.href.indexOf('tab') > 0) {
                const dynamicTab = '../../page/' + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
            else {
                const dynamicTab = PAGE_MODIFY_ROUTE + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
        }
    }
    setTemplate(result) {
        //Must Needed for Merge version of PICS
        this.searchparams = result;
        this.searchparams.gridconfig = typeof result?.gridconfig === 'string' ? JSON.parse(result?.gridconfig) : result?.gridconfig;
        this.searchparams.templatejson = typeof result?.templatejson === 'string' ? JSON.parse(result?.templatejson) : result?.templatejson;
        this.searchparams.tableschemaconfig = typeof result?.tableschemaconfig === 'string' ? JSON.parse(result?.tableschemaconfig) : result?.tableschemaconfig;
        this.setLayout(result);
        this.fromTitle = result.pagename;
        this.dataStoreService.setData('Tittle', this.fromTitle);
        this.pageType = result.pageDetails.pagetype ? result.pageDetails.pagetype.trim() : '';
        this.pageId = result && result.pageDetails ? result.pageDetails.id : null;
        if (this.pageType == 'DSP' || this.pageType == 'BUSP') {
            this.spliterSize = 30;
            this.gridspliterSize = 70;
        }
        this.setGrid(this.searchparams);
        this.targetId = this.searchparams?.gridconfig?.gridActionFormArray[0]?.link;
        this.tempaConfig = this.searchparams?.gridconfig;
        this.buildCriteria(result);
    }
    setGrid(result) {
        this.updateGrid = result.gridconfig;
        const filter = this.updateGrid?.gridConfigFormArray.filter(x => x.sort || x.filter);
        if (filter?.length > 0) {
            this.showFilterRowPanel = true;
        }
        if (this.updateGrid?.gridActionFormArray?.some(a => a.action != 'add')) {
            this.showActionColumn = true;
        }
        if (this.updateGrid?.isShowOnTop) {
            this.getOutsideGridAction(this.updateGrid?.gridActionFormArray?.find(a => a?.action?.toLowerCase() === 'add'));
        }
    }
    async getGrid(responseId) {
        this.storage.setObj(FILE_EXPORT_NAME_KEY, this.searchparams?.pagename);
        if (this.searchparams?.templatejson && !this.searchparams?.tableschemaconfig) {
            this.freeFormPageGrid(this.http, this.storage);
        }
        else {
            if (this.dynamicSearch && this.dynamicSearch.length > 0) {
                await this.getCriteriaByPageId();
                this.showGridPage = false;
            }
            else {
                this.showGridPage = true;
                this.removeAllDynamicSearchCondtion();
            }
            this.searchGrid(this.http, this.storage, responseId);
        }
    }
    setLayout(result) {
        if (result.templatejson) {
            this.jsonForm = typeof result.templatejson === 'string' ? JSON.parse(result.templatejson) : result.templatejson;
            this.fromTitle = this.jsonForm && this.jsonForm['page'] ? this.jsonForm['page'] : result.pagename;
            this.layouttype = 'left';
            this.layouttype = this.layouttype === 'left' ? 'horizontal' : 'vertical';
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_more';
                this.openclose = 'Close';
            }
            else {
                this.icon = 'arrow_left';
                this.openclose = 'Close';
            }
        }
    }
    onSubmit(submission) {
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        this.submittedData = submission;
        const data = {
            data: this.submittedData,
            pagedata: [this.searchparams]
        };
        const storagedata = this.storage;
        const http = this.http;
        const baseUrl = this.environment.apiHost;
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storagedata.getItem('jwt-token');
                const user = storagedata.getObj('user');
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'group'].forEach(function (i) {
                    if (i in loadOptions && isNotEmpty(loadOptions[i])) {
                        data[i] = loadOptions[i];
                    }
                    else {
                        delete data[i];
                    }
                });
                return http
                    .post(baseUrl + gridUrl, data, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user.userWorkInfo.organization.id}`,
                        rolekey: `${user.role.rolekey}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => ({
                    data: res.data,
                    totalCount: Number(res.totalCount.count)
                }))
                    .catch(_error => this.alertService.error('Data Loading Error'));
            }
        });
        function isNotEmpty(value) {
            return value !== undefined && value !== null && value !== '';
        }
    }
    afterSubmitted(_event) {
        this.showGridPage = true;
        this.getGrid();
        this.item = null;
        if (this.isShowFormPage) {
            this.getOutsideGridAction(this.updateGrid?.gridActionFormArray?.find(a => a?.action?.toLowerCase() === 'add'));
        }
    }
    saveSearchCriteria() {
        if (this.submittedData && this.submittedData.data) {
            this.submittedData.data['searchCriteria'] = this.searchCriteria;
            const body = {
                id: null,
                pageID: this.formId,
                sourceid: '',
                sourcetype: 'I',
                data: this.submittedData.data,
                metadata: this.submittedData.metadata,
                afterEntityName: '',
                afterRuleAppName: '',
                beforeEntityName: '',
                beforeRuleAppName: '',
                parentsourceid: null
            };
            this.dynamicSearchService.saveSearchCriteria(body).subscribe(result => {
                const response = result['data'];
                this.submittedData = response;
                this.id = response.id;
                this.alertService.success('Seach criteria Saved successfully');
            });
        }
        else {
            this.alertService.success('Please perform search in order to save your search criteria');
        }
    }
    setSearch(newd) {
        this.submittedData = { data: newd };
        this.onSubmit(this.submittedData);
    }
    reset(type) {
        this.submittedData = { data: {} };
        this.getExportData(this.submittedData, type);
    }
    getExportData(submission, type) {
        this.submittedData = submission;
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        const data = {
            inputFieldId: this.inputFieldId,
            pagedata: [this.searchparams],
            requireTotalCount: true,
            skip: 0,
            take: 5000
        };
        if (!data.inputFieldId) {
            data.inputFieldId = this.user?.userWorkInfo?.organization?.id;
        }
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        this.dynamicSearchService.exportData(data, gridUrl).subscribe(value => {
            if (value['data'].length) {
                this.downloadFile(type, value['data']);
            }
            else {
                this.alertService.error('No data available');
            }
        });
    }
    downloadFile(type, data) {
        const fileData = {
            data: data,
            totalcount: data.length,
            pagename: this.fromTitle,
            gridConfigFormArray: this.updateGrid?.gridConfigFormArray
        };
        const fileType = type === 'excel' ? true : false;
        this.dynamicSearchService.generateDocument(fileData, fileType).subscribe(result => {
            if (result) {
                const awsUrl = result['data'].awsUrl;
                this.alertService.success('Document Generated successfully.');
                if (type === 'print') {
                    // If type is print it will open browser print preview
                    es6printJS({ printable: awsUrl, type: 'pdf', showModal: true });
                    return;
                }
                window.open(awsUrl, '_blank');
            }
        }, error => {
            this.alertService.error(error.message);
        });
    }
    searchGrid(http, storage, responseId) {
        const outsideFormID = this.updateGrid?.gridActionFormArray
            ?.find(a => a?.action?.toLowerCase() === 'add')
            ?.link?.split('_sourceform')[0];
        const primary_table = this.searchparams.tableschemaconfig.tablefields.primary;
        const fallbackIdFromRoute = this.searchparams?.gridconfig?.fallbackIdFromRoute;
        console.log(primary_table.replace('_audit', '_id'), 'primary');
        let queryData;
        if (fallbackIdFromRoute) {
            const fallbackIdValue = this.router.url.split('/').pop();
            if (fallbackIdValue) {
                queryData = { data: {} };
                queryData.data[fallbackIdFromRoute] = Number(fallbackIdValue);
            }
        }
        else if (this.sourceKey && this.sourceValue && this.sourceType) {
            queryData = { data: {} };
            queryData.data[this.sourceKey] = (this.sourceType === 'number') ? Number(this.sourceValue) : this.sourceValue;
        }
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        const data = {
            data: this.submittedData,
            queryData: queryData,
            pagedata: [this.searchparams],
            inputFieldId: this.inputFieldId,
            inputId: this.inputId,
            requireTotalCount: true,
            restrict: true,
            associatedFormId: outsideFormID ? outsideFormID : this.associatedId.toString(),
            roleId: sessionStorage.getItem('role_id'),
            selectedValue: this.paramvalue,
            selectedField: this.paramfield,
            paginate: true,
            redirectFilterId: responseId
        };
        const baseUrl = this.environment.apiHost;
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        const ctrl = this;
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        const _this = this;
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storage.getItem('jwt-token');
                const user = storage.getObj('user');
                if (!user) {
                    // fix for user null immediately after login
                    return setTimeout(() => {
                        _this.searchGrid(http, storage);
                    }, 1000);
                }
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'pageconfig', 'group'].forEach(function (item) {
                    if (item in loadOptions && isNotEmpty(loadOptions[item])) {
                        data[item] = loadOptions[item];
                    }
                    else {
                        delete data[item];
                    }
                });
                data.requireTotalCount = true;
                return http
                    .post(baseUrl + gridUrl, data, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user?.userWorkInfo?.organization?.id ? user.userWorkInfo.organization.id : ''}`,
                        rolekey: `${user?.role?.rolekey ? user.role.rolekey : ''}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => {
                    this.primary_column = res.data?.result[0]?.primaryColumn;
                    for (let i = 0; i < res?.data?.data?.length; i++) {
                        for (const key in res?.data?.data[i]) {
                            if (res?.data?.data[i]?.[key]) {
                                const val = res?.data?.data[i]?.[key];
                                if ((typeof val === 'string' || val instanceof String) && val?.includes('[')) {
                                    res.data.data[i][key] = res.data.data[i][key].replace('[', '').replace(']', '').replaceAll('"', '');
                                }
                            }
                        }
                    }
                    ctrl.showGridPage = !((res?.data?.totalCount?.count === 0 || res?.data?.totalCount?.count === 1) &&
                        ctrl.updateGrid?.isInitialFormLoad);
                    this.isShowFormPage = ctrl.showGridPage;
                    if (!ctrl.showGridPage && ctrl.updateGrid?.gridActionFormArray && ctrl.updateGrid?.gridActionFormArray.length) {
                        const formInfo = ctrl.updateGrid?.gridActionFormArray.find(ele => ele.isOutsideGrid);
                        ctrl.item = {
                            component: DynamicPageCleanupComponent,
                            pageId: formInfo?.link,
                            editId: res?.data?.data[0]?.id,
                            outputs: {
                                afterSubmit: event => ctrl.afterSubmitted(event)
                            },
                            isInitialFormLoad: ctrl.updateGrid?.isInitialFormLoad,
                            isShowOnTop: ctrl.updateGrid?.isShowOnTop
                        };
                    }
                    if (ctrl.showGridPage && ctrl.updateGrid?.isShowOnTop && ctrl.updateGrid?.gridActionFormArray && ctrl.updateGrid?.gridActionFormArray.length) {
                        const formInfo = ctrl.updateGrid?.gridActionFormArray.find(ele => ele.isOutsideGrid);
                        ctrl.item = {
                            component: DynamicPageCleanupComponent,
                            pageId: formInfo?.link,
                            outputs: {
                                afterSubmit: event => ctrl.afterSubmitted(event)
                            },
                            isInitialFormLoad: ctrl.updateGrid?.isInitialFormLoad,
                            isShowOnTop: ctrl.updateGrid?.isShowOnTop
                        };
                    }
                    const dynamicSearchData = [];
                    const storedTabData = JSON.parse(JSON.parse(storage.getItem(STORAGE_KEY_DYNAMIC_TAB_PAGES)));
                    const arrresult = [];
                    const resultdata = res.data.result;
                    resultdata.map(n => {
                        n.row.map((c) => {
                            if (storedTabData != null) {
                                storedTabData.map((c1, index) => {
                                    if (index > 0 && c1.pfield == c.name) {
                                        const obj = Object.assign({}, c1);
                                        arrresult.push(obj);
                                    }
                                });
                            }
                        });
                    });
                    this.uniquedata = arrresult.filter((value, index, _array) => index == arrresult.findIndex(item => item.id == value.id));
                    res.data.result.map(n => {
                        const parentObj = {};
                        n.row.forEach((c) => {
                            let columnData = c.value;
                            const [tableName, columnName] = c.name.split('.');
                            columnData = typeof columnData === 'number' ? c.value.toString() : c.value;
                            if (parentObj[tableName]) {
                                parentObj[tableName][columnName] = columnData;
                            }
                            else {
                                parentObj[tableName] = {};
                                parentObj[tableName][columnName] = columnData;
                            }
                            parentObj['rbacConditions'] = n.rbacConditions;
                            parentObj['businessRules'] = n.businessRules ? n.businessRules : [];
                            parentObj['routedata'] = this.uniquedata;
                            parentObj['primaryColumn'] = n.primaryColumn;
                        });
                        dynamicSearchData.push(parentObj);
                    });
                    return {
                        data: dynamicSearchData,
                        totalCount: Number(res?.data.totalCount.count)
                    };
                })
                    .catch(_error => this.alertService.error('Failed to load data'));
            }
        });
        function isNotEmpty(value) {
            return value !== undefined && value !== null && value !== '';
        }
    }
    freeFormPageGrid(http, storage) {
        const data = {
            data: this.submittedData,
            pagedata: [this.searchparams],
            inputFieldId: this.inputFieldId,
            inputId: this.inputId,
            requireTotalCount: true,
            restrict: true,
            roleId: sessionStorage.getItem('role_id')
        };
        const gridActionFormArray = this.updateGrid.gridActionFormArray.map(a => ({
            ...a,
            link: String(this.searchparams.pageid)
        }));
        this.updateGrid = { ...this.updateGrid, gridActionFormArray };
        const baseUrl = this.environment.apiHost;
        const _this = this;
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storage.getItem('jwt-token');
                const user = storage.getObj('user');
                if (!user) {
                    return setTimeout(() => {
                        _this.freeFormPageGrid(http, storage);
                    }, 1000);
                }
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'pageconfig', 'group'].forEach(item => {
                    if (item in loadOptions && loadOptions[item].isNotEmpty()) {
                        data[item] = loadOptions[item];
                    }
                    else {
                        delete data[item];
                    }
                });
                const gridUrl = `/solution/formresponse/getByPageId/${_this.searchparams.pageid}`;
                return http
                    .get(baseUrl + gridUrl, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user?.userWorkInfo?.organization?.id ? user.userWorkInfo.organization.id : ''}`,
                        rolekey: `${user?.role?.rolekey ? user.role.rolekey : ''}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => {
                    const formResponses = res.data.pageResponses.map(a => ({
                        ...a.response,
                        id: a.id,
                        rbacConditions: a.rbacConditions
                    }));
                    const allowedResponseKeys = _this.searchparams.templatejson
                        .components.filter(a => a.key !== 'submit')
                        .map(b => b.key);
                    allowedResponseKeys.push('id', 'rbacConditions');
                    const filteredResponseKeys = formResponses.map(a => Object.keys(a)
                        .filter(key => allowedResponseKeys.includes(key))
                        .reduce((obj, key) => {
                        obj[key] = a[key];
                        return obj;
                    }, {}));
                    return {
                        data: filteredResponseKeys,
                        totalCount: Number(filteredResponseKeys.length)
                    };
                })
                    .catch(_error => this.alertService.error('Failed to load data'));
            }
        });
    }
    onClose() {
        if (this.isOpen) {
            this.spliterSize = 30;
            this.gridspliterSize = 70;
            this.isOpen = false;
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_more';
            }
            else {
                this.icon = 'arrow_left';
            }
            this.openclose = 'Close';
        }
        else {
            this.spliterSize = 0;
            this.gridspliterSize = 100;
            this.isOpen = true;
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_less';
            }
            else {
                this.icon = 'arrow_right';
            }
            this.openclose = 'Open';
        }
    }
    getRouter(data, _item) {
        this.selectedRowData = data;
        this.openTab = false;
        this.selectedRowIndex = data?.rowIndex;
        this.selectedColumnIndex = data?.columnIndex;
        this.selectedCaption = data?.column?.caption;
        const navigateState = {
            externalLink: true,
            isReadOnly: false,
            title: this.fromTitle
        };
        this.dataStoreService.setData('gridAction', null);
        this.dynamicSearchService.clickedIdData = null;
        this.dynamicSearchService.clickedRowData = null;
        let url;
        let datatype;
        this.updateGrid = typeof this.updateGrid === 'string' ? JSON.parse(this.updateGrid) : this.updateGrid;
        const gridArr = this.updateGrid?.gridConfigFormArray;
        const column = data.column.dataField;
        const tableschemaconfig = this.searchparams.tableschemaconfig;
        for (const key of gridArr) {
            if (key.columnDef === column) {
                url = key.link;
                const result = tableschemaconfig.fieldmapping.filter(x => (x.tablename + '.' + x.field) === key.columnDef);
                datatype = result[0].datatype;
                break;
            }
        }
        this.loadRouter(url, datatype, column, data, navigateState);
    }
    loadRouter(url, datatype, column, data, navigateState) {
        if (url) {
            this.dynamicSearchService.clickedRowData = data?.data;
            const URLSs = this.urlget(data, 'editUrl', '');
            this.dynamicSearchService.changePage(true);
            const dataKeys = Object.keys(data?.data);
            if (dataKeys.includes(URLSs)) {
                if (!data?.data[URLSs]) {
                    this.alertService.warn(data.displayValue + ' not generated properly!');
                }
                else {
                    const s3Url = data?.data[URLSs].includes('.com/') ? data?.data[URLSs].split('.com/')[1] : data?.data[URLSs];
                    this.downloadFileInternally(this.environment.s3BucketUrl + '/' + s3Url, data?.data['filename']);
                }
            }
            else {
                data.data.fromGrid = true;
                data.data.externalLink = true;
                this.dynamicSearchService.id.next(data.data[Object.keys(data.data)[0]].id);
                this.getPageTabs(url, datatype, column, data.data[column.split('.')[0]][column.split('.')[1]], data.data[Object.keys(data.data)[0]].id, navigateState);
            }
        }
    }
    editData(data) {
        const URLSs = this.urlget(data, 'editUrl', '');
        this.dynamicSearchService.id.next(data.data[Object.keys(data.data)[0]].id);
        this.router.navigateByUrl(URLSs);
    }
    viewData(data) {
        const URLSs = this.urlget(data, 'editUrl', '');
        this.router.navigateByUrl(URLSs);
    }
    deleteData(data) {
        const URLSs = this.urlget(data, 'deleteUrl', '');
        this.router.navigateByUrl(URLSs);
    }
    openLink(data) {
        const URLSs = this.urlget(data, 'externalLink', '');
        this.router.navigateByUrl(URLSs);
    }
    urlget(data, obj, pUrl) {
        let url = obj ? this.updateGrid[obj] : pUrl;
        if (url) {
            const urlparamArr = url.split('/');
            for (const key of urlparamArr) {
                if (key.indexOf('{') !== -1 && data.data) {
                    url = this.setURL(key, url, data);
                    url = this.setCurrentUrl(key, url);
                }
            }
            url = url.replace('/undefined', '');
            const urlparamArr1 = url.split('/');
            url = this.setUrlParam(urlparamArr1, url, data);
        }
        /* remove duplicate forward slashes from the URL */
        url = url.replace(/([^:]\/)\/+/g, '$1');
        return url;
    }
    setURL(key, url, data) {
        if (key === '{sourceId}') {
            const val = {
                sourceId: this.inputFieldId
            };
            return url.replace(key, val[key.substring(1, key.indexOf('}'))]);
        }
        else if (key === '{purpose}') {
            const val = {
                purpose: this.purpose
            };
            return url.replace(key, val[key.substring(1, key.indexOf('}'))]);
        }
        else {
            return url.replace(key, data.data[key.substring(1, key.indexOf('}'))]);
        }
    }
    setCurrentUrl(key, url) {
        if (this.router.url && key === '{pagepath}') {
            const currentURL = this.router.url.split('mergepage');
            if (currentURL?.length) {
                return url.replace('/pages/dynamicpage/', currentURL[0]);
            }
        }
    }
    setUrlParam(urlparamArr1, url, data) {
        for (const key of urlparamArr1) {
            if (key.indexOf('{') !== -1 && data.data) {
                return url.replace(key, data.data[key.substring(1, key.indexOf('}'))]);
            }
        }
    }
    // dynamic action link
    getInsideGridAction(data, item) {
        this.checkRulesBeforeActions(data, item).subscribe((allowed) => {
            if (!allowed) {
                return false;
            }
            this.getActionRoutes(data, item);
        });
    }
    getActionRoutes(data, item) {
        this.localstore.setItem('gridAction', item.action);
        /* Complexity-14*/
        if (item.action === 'search' || item.action === 'edit' || item.action === 'view' || item.action === 'select' || item.action === 'switch' || item.action === 'copy') {
            /* Complexity splitted function*/
            this.actionCheck(item, data);
        }
        else if (item.action === 'delete') {
            this.deleteConfirmation(data, item);
        }
        else if (item.action === 'complete') {
            this.completeConfirmation(data, item);
        }
        else if (item.action === 'narrative') {
            this.popup(data.data.narrative, item);
        }
        else if (item.action === 'history') {
            if (item.type === POPUP_TYPE_OPEN) {
                /* Complexity splitted function*/
                this.popupTypeCheck(item, data);
            }
        }
        else if (item.action === 'print') {
            /* Complexity splitted function*/
            this.actionPrintCheck(data);
        }
        else if (item.action === 'email') {
            /* Complexity splitted function*/
            this.actionEmailCheck(data);
        }
        else if (item.action === 'download') {
            /* Complexity splitted function*/
            this.actionDownloadCheck(item, data);
        }
        else if (item.action === 'TriggerScheduling') {
            this.startScheduling(data.data[Object.keys(data.data)[0]].id);
        }
        else if (item.action === 'Trigger') {
            this.startScheduling(data.data[Object.keys(data.data)[0]].id, item?.link);
        }
        else if (item.action === 'Survey') {
            this.actionSurveyCheck(data); /* Complexity splitted function*/
        }
        else if (item.action === 'info') {
            this.actionInfoCheck(data, item); /* Complexity splitted function*/
        }
        // else if (item.action === 'copy') {
        //   this.actionCheck(item, data); /* Complexity splitted function*/
        // }
    }
    actionCheck(item, data) {
        /* From getInsideGridAction() */
        const action = item.action;
        let editDataStatus = '';
        const gridConfig = this.searchparams?.gridconfig;
        const tableschemaconfig = this.searchparams?.tableschemaconfig;
        let viewPrimaryTable = '';
        if (tableschemaconfig.objectType == 'view') {
            const firstKey = Object.keys(data.data)[0];
            viewPrimaryTable = data.data[firstKey]['primary_object'];
        }
        if (this.isEditThresholdRequire || gridConfig?.isEditThresholdRequire) {
            this.isEditThresholdRequire = true;
        }
        if (item.action === 'edit') {
            this.localstore.setItem('EditGridPageID', this.pageId.toString());
        }
        if (item.action === 'edit' && this.isEditThresholdRequire) {
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.dynamicSearchService.checkEditStatus(this.pageId, primary_id).subscribe(result => {
                if (result['data'] && result['data'].length > 0 && result['data'][0]['status']) {
                    editDataStatus = result['data'][0]['status'];
                    this.editActionCheck(item, data, editDataStatus);
                }
                else {
                    this.alertService.error('Something went wrong');
                    this.getGrid();
                }
            }, _error => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
        else {
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                isReadOnly: false,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null,
                pageId: null
            };
            if (item.action === 'view') {
                navigateState.isReadOnly = true;
            }
            if (item.type === POPUP_TYPE_OPEN) {
                const dialogConfig = new MatDialogConfig();
                dialogConfig.disableClose = false;
                dialogConfig.height = '90%';
                dialogConfig.width = '100%';
                this.actionViewCheck(item, dialogConfig, data);
                const ref = this.dialog.open(DynamicPageCleanupComponent, dialogConfig);
                ref.afterClosed().subscribe(() => {
                    this.getGrid();
                });
            }
            else {
                if (item.action === 'copytemp') {
                    const user = this.localstore.getObj('user');
                    console.log(data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                    console.log(Object.keys(data.data)[0]);
                    let pageId = '';
                    if (gridConfig?.gridActionFormArray.length) {
                        gridConfig?.gridActionFormArray.find(item => {
                            if (item?.action == 'add')
                                pageId = item?.link;
                        });
                    }
                    const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                        ? data.data?.[data.data.primaryColumn] || data.data?.ID
                        : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                    const requestData = {
                        // "id":data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn],
                        "id": respid,
                        "schema": tableschemaconfig.schema,
                        "tablename": tableschemaconfig.objectType !== 'view' ? Object.keys(data.data)[0] : viewPrimaryTable,
                        "currentUser": user?.id,
                        "pageId": pageId
                    };
                    this.dynamicSearchService.rowVersion(requestData).subscribe((res) => {
                        console.log(res);
                        const url = this.location.path();
                        this.router.navigate([url], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                        this.searchGrid(this.http, this.storage);
                        this.alertService.success('Row added successfully');
                        if (['master-view', 'composite-page'].includes(window.location.href))
                            if (this.selectedComponent) {
                                if ((this.selectedComponent?.loadedFromMasterView || this.selectedComponent?.loadedFromCompositePage) && this.selectedComponent.settings)
                                    this.store.dispatch(publishEvent({ eventName: 'submit', payload: this.selectedComponent }));
                            }
                    }, _error => {
                        this.alertService.error(_error.error.message);
                    });
                }
                //This Routes prioritzing composite-pages as first
                else if (this.router?.url.includes('master-view') || this.router?.url.includes('composite-page')) {
                    const url = this.router.url;
                    if (this.selectedComponent && (this.selectedComponent?.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                        this.selectedComponent.settings.mappingFormId)
                        this.store.dispatch(publishEvent({ eventName: item.action,
                            payload: { id: data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn], mappingFormId: this.selectedComponent.settings.mappingFormId } }));
                    else {
                        if (this.selectedComponent) {
                            this.localstore.setItem('compositeTitle', this.selectedComponent.settings.title);
                        }
                        this.localstore.setItem('setTabAction', item.action);
                        this.sharedService.sendMessage();
                        this.router.navigate([url + '/form/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                        //this.actionRouterConfig(data, item, navigateState);
                    }
                }
                //Below routing handles ribbon and single grid pages
                else if (this.router?.url.includes('dynamic-routing')) {
                    this.localstore.setItem('setTabAction', item.action);
                    this.sharedService.sendMessage();
                    let url;
                    if (item?.pageType == 'COMP') {
                        url = '../../../composite-page/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    else {
                        url = '../../../dynamicpage/page/modify/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                    // this.actionRouterConfig(data, item, navigateState);
                }
                else if (item.link.includes('pages/')) {
                    const link = item.link.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                    this.router.navigateByUrl('/' + link, { state: item });
                }
                else if (item.link.includes('mergepage')) {
                    let url = item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    if (item.link.includes('{sourceId}')) {
                        url = this.urlget(data, '', item.link);
                        url = url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
                else if (item.link.includes('sourceid')) {
                    const formId = item.link.split('_sourceid')[0];
                    const url = '/pages/dynamic-routing/' + data.data.sourceid + '/dynamicpage/page/modify/' + formId;
                    this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                else if (item.link.includes('_page')) {
                    // Transactions Page - edit routing changes
                    const formId = item.link.split('_page')[0];
                    const url = '/pages/dynamic-routing/' + data.data.clientaccountid + '/dynamicpage/page/modify/' + formId;
                    this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                else {
                    const pageid = item.link ? item.link : this.pageId;
                    const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                        ? data.data?.[data.data.primaryColumn] || data.data?.ID
                        : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                    const url = '/pages/dynamicpage/page/modify/' + pageid + '/' + respid;
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
            }
        }
    }
    editActionCheck(item, data, editDataStatus) {
        if (item.action === 'edit' && editDataStatus === 'OWNER_ONLY_EDIT') {
            this.alertService.warn('You do not have permission to edit this record. Only the owner who created the record can make changes.');
            this.getGrid();
        }
        else if (item.action === 'edit' && editDataStatus === 'NO_EDIT') {
            this.alertService.warn('The edit window for this record has expired and changes cannot be made at this time.');
            this.getGrid();
        }
        else {
            const action = item.action;
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                isReadOnly: false,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null,
                pageId: null
            };
            if (this.router?.url.includes('dynamic-routing')) {
                if (this.router?.url.includes('master-view') || this.router?.url.includes('composite-page')) {
                    const url = this.router.url;
                    if (this.selectedComponent && (this.selectedComponent.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                        this.selectedComponent.settings.mappingFormId)
                        this.store.dispatch(publishEvent({
                            eventName: item.action,
                            payload: { id: data.data[Object.keys(data.data)[0]].id, mappingFormId: this.selectedComponent.settings.mappingFormId }
                        }));
                    else {
                        this.router.navigate([url + '/form/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                    }
                }
                else {
                    const url = '../../../dynamicpage/page/modify/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                // this.actionRouterConfig(data, item, navigateState);
            }
            else if (item.link.includes('pages/')) {
                const link = item.link.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                this.router.navigateByUrl('/' + link, { state: item });
            }
            else if (item.link.includes('mergepage')) {
                let url = item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                if (item.link.includes('{sourceId}')) {
                    url = this.urlget(data, '', item.link);
                    url = url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                }
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else if (item.link.includes('sourceid')) {
                const formId = item.link.split('_sourceid')[0];
                const url = '/pages/dynamic-routing/' + data.data.sourceid + '/dynamicpage/page/modify/' + formId;
                this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                    relativeTo: this.route,
                    state: navigateState
                });
            }
            else if (item.link.includes('_page')) {
                // Transactions Page - edit routing changes
                const formId = item.link.split('_page')[0];
                const url = '/pages/dynamic-routing/' + data.data.clientaccountid + '/dynamicpage/page/modify/' + formId;
                this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                    relativeTo: this.route,
                    state: navigateState
                });
            }
            else if (item.action === 'copy') {
                console.log(data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                console.log(Object.keys(data.data)[0]);
                const requestData = {
                    "id": data.data[Object.keys(data.data)[0]]?.id,
                    "schema": "oya",
                    "tablename": Object.keys(data.data)[0],
                    "currentUser": 572
                };
                this.dynamicSearchService.rowVersion(requestData).subscribe((res) => {
                    console.log(res);
                    const url = this.location.path();
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                    this.searchGrid(this.http, this.storage);
                    this.alertService.success('Row added successfully');
                }, _error => {
                    this.alertService.error(_error.error.message);
                });
            }
            else {
                const pageid = item.link ? item.link : this.pageId;
                const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                    ? data.data?.[data.data.primaryColumn] || data.data?.ID
                    : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                const url = '/pages/dynamicpage/page/modify/' + pageid + '/' + respid;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
        }
    }
    actionViewCheck(item, dialogConfig, data) {
        /* From actionCheck()--> getInsideGridAction() */
        if (item.action === 'view') {
            dialogConfig.data = {
                editId: data.data[Object.keys(data.data)[0]].id,
                pageId: item.link,
                isPopup: true,
                isReadOnly: true
            };
        }
        else {
            dialogConfig.data = { editId: data.data[Object.keys(data.data)[0]].id, pageId: item.link, isPopup: true };
        }
    }
    actionRouterConfig(data, item, navigateState) {
        let url = this.router.url;
        if (this.outerRouting?.observers?.length) {
            data.item = item;
            this.dataStoreService.setData('outerRoutingData', data);
            this.outerRouting.emit(data);
        }
        else {
            if (item.link.includes('multipleform')) {
                url = url.split('mergepage')[0];
                const formId = item.link.split('_multipleform')[0];
                url = url + 'dynamicpage/page/modify/' + formId;
            }
            else if (item.link.includes('sourceform')) {
                // for child removal - edit/view routing change
                url = url.split('mergepage')[0];
                const formId = item.link.split('_sourceform')[0];
                url = url + 'page/modify/' + formId;
                if (item.link.split('_sourceform')[1] && item.link.split('_sourceform')[1].includes('_subtab_')) {
                    // External Portal - Staff with subtabs
                    const link = item.link.split('_sourceform')[1];
                    /* Get subtab name for url */
                    const subtab = link.split('_subtab_')[1];
                    url = subtab + '/' + url;
                    /* Disable back button */
                    navigateState.externalLink = false;
                    /* set default page title */
                    navigateState.title = '';
                    this.dynamicSearchService.changePage(true);
                }
            }
            else if (url.indexOf('master-view') > 0 || url.indexOf('composite-page') > 0) {
                url = url + '/form/' + item.link;
            }
            this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                relativeTo: this.route,
                state: navigateState
            });
        }
    }
    popupTypeCheck(item, data) {
        const srcid = this.route?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid')
            ? this.route?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid')
            : this.route?.parent?.parent?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid');
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = false;
        dialogConfig.height = '90%';
        dialogConfig.width = '100%';
        dialogConfig.data = { pageId: item.link, inputFieldId: data.key.id, inputId: srcid };
        const ref = this.dialog.open(DynamicSearchComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            this.getGrid();
        });
    }
    actionPrintCheck(data) {
        /* From getInsideGridAction()*/
        if (!data.data.s3bucketurl) {
            this.alertService.warn('No pdf found');
            return;
        }
        const pdfurl = this.environment.s3BucketUrl + '/' + data.data.s3bucketurl;
        es6printJS({ printable: pdfurl, type: 'pdf', showModal: true });
    }
    actionEmailCheck(data) {
        /* From getInsideGridAction()*/
        if (!data.data.email) {
            this.alertService.warn('Email is not available');
            return;
        }
        if (!data.data.s3bucketurl) {
            this.alertService.warn('No Attachment found');
            return;
        }
        // #check fromaddress is hardcoded
        this.dynamicSearchService
            .sendMail({
            subject: data.data.subject,
            content: `${data.data.content_body}<p>Thanks <br> ${this.user.firstName} ${this.user.lastName} <br>  ${this.user.role.description} </p>`,
            s3bucketkey: data.data.s3bucketurl,
            toadresses: [data.data.email],
            fromaddress: 'vmathew@dminc.com'
        })
            .subscribe(() => {
            this.alertService.success('Email Sent successfully');
        });
    }
    actionDownloadCheck(item, data) {
        /* From getInsideGridAction()*/
        if (item.type === 'Document Report Generation') {
            this.dataStoreService.setData('pageData', this.searchparams);
            this.dataStoreService.setData('gridData', data?.data);
            const dialogConfig = new MatDialogConfig();
            dialogConfig.disableClose = false;
            dialogConfig.height = '90%';
            dialogConfig.width = '100%';
            dialogConfig.data = { editId: data.data[Object.keys(data.data)[0]].id, pageId: item.link, isPopup: true };
            const ref = this.dialog.open(DynamicPageCleanupComponent, dialogConfig);
            ref.afterClosed().subscribe(() => {
                this.getGrid();
            });
        }
    }
    actionSurveyCheck(data) {
        /* From getInsideGridAction()*/
        if (data.data.pagedataid) {
            data.data.isReadOnly = true;
        }
        this.router.navigateByUrl(PAGE_MODIFY_ROUTE +
            data.data[Object.keys(data.data)[0]].id +
            (data.data.pagedataid ? '/' + data.data.pagedataid : ''), { state: data.data });
    }
    getOutsideGridAction(item) {
        this.checkRulesBeforeActions({ pageData: this.allUrlParams }, item).subscribe((allowed) => {
            if (!allowed) {
                return false;
            }
            this.storage.setItem('AddAction', true);
            this.localstore.setItem('gridAction', item.action);
            const data = item;
            const action = item.action;
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null
            };
            // if (navigateState?.title) {
            //   sessionStorage.setItem('add-title', navigateState?.title);
            // }
            if (data.type == 'External Link') {
                this.getVersionList(item?.link, null, item);
            }
            else if (data.type == POPUP_TYPE_OPEN) {
                this.setDialogConfig(item);
            }
            else {
                if (this.router?.url.includes('dynamic-routing')) {
                    this.dynamicRouteCheck(data, item, navigateState);
                }
                else if (data.link.includes('mergepage')) {
                    const url = data.link;
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
                else {
                    this.navigateToGridPage(data, navigateState);
                }
            }
        });
    }
    dynamicRouteCheck(data, item, navigateState) {
        /* From getOutsideGridAction()*/
        let url = this.router.url;
        if (this.outerRouting?.observers?.length) {
            data.item = item;
            this.outerRouting.emit(data);
        }
        else {
            let link = data.link;
            if (data.link.includes('multipleform')) {
                url = url.split('mergepage')[0];
                const formId = data.link.split('_multipleform')[0];
                link = 'dynamicpage/page/modify/' + formId;
            }
            else if (data.link.includes('sourceform')) {
                // for interest transaction add
                url = url.split('mergepage')[0];
                const formId = data.link.split('_sourceform')[0];
                link = 'page/modify/' + formId;
                navigateState = this.setRouteData(data, link, navigateState);
                if (data.link.split('_sourceform')[1] && data.link.split('_sourceform')[1].includes('_subtab_')) {
                    // External Portal - Staff with subtabs
                    const subtabData = data.link.split('_sourceform')[1];
                    /* Get subtab name for url */
                    const subtab = subtabData.split('_subtab_')[1];
                    link = subtab + '/' + link;
                    /* Disable back button */
                    navigateState.externalLink = false;
                    /* set default page title */
                    navigateState.title = '';
                    this.dynamicSearchService.changePage(true);
                }
            }
            this.router.navigate([url + '/' + link], { relativeTo: this.route, state: navigateState });
        }
    }
    setRouteData(data, _link, navigateState) {
        if (data.link.split('_sourceform')[1] && data.link.split('_sourceform')[1].includes('_subtab_')) {
            // External Portal - Staff with subtabs
            // Get subtab name for url
            /* Disable back button */
            navigateState.externalLink = false;
            /* set default page title */
            navigateState.title = '';
            this.dynamicSearchService.changePage(true);
        }
        return navigateState;
    }
    navigateToGridPage(data, navigateState) {
        if (data.link.includes('pages/')) {
            if (data.link.includes('{organizationid}')) {
                const sourceid = this.user?.userWorkInfo?.organization?.id;
                const link = data.link.replace('{organizationid}', sourceid);
                const url = '/' + link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else {
                this.router.navigateByUrl('/' + data.link);
            }
        }
        else {
            if (window.location.href.indexOf('tab') > 0) {
                const url = '../../page/' + data.link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else {
                const url = PAGE_MODIFY_ROUTE + data.link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
        }
    }
    setDialogConfig(item) {
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = false;
        dialogConfig.height = '90%';
        dialogConfig.width = '100%';
        dialogConfig.data = { pageId: item.link, isPopup: true };
        const ref = this.dialog.open(DynamicPageCleanupComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            // refresh grid
            this.getGrid();
        });
    }
    convertToISOFormat(dateString) {
        const date = new Date(dateString);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-based
        const day = String(date.getDate()).padStart(2, '0');
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');
        const seconds = String(date.getSeconds()).padStart(2, '0');
        const milliseconds = String(date.getMilliseconds()).padStart(3, '0');
        return `${year}-${month}-${day}T${hours}:${minutes}:${seconds}.${milliseconds}Z`;
    }
    addMinutes(dateString, minutes) {
        const date = new Date(dateString);
        date.setMinutes(date.getMinutes() + minutes);
        return date.toISOString();
    }
    getPrimaryColumnId(primaryColumn, data) {
        const firstKey = Object.keys(data.data)[0];
        return data.data[firstKey][primaryColumn];
    }
    getAsJSON(json) {
        return typeof json === 'string' ? JSON.parse(json) : json;
    }
    deleteConfirmation(data, item) {
        this.isDisabled = true;
        this.pagename = this.searchparams?.pagename;
        const gridConigForDeleteRequire = this.getAsJSON(this.searchparams?.gridconfig);
        const tableschemaconfig = this.getAsJSON(this.searchparams?.tableschemaconfig);
        let viewPrimaryTable = '';
        if (tableschemaconfig.objectType == 'view') {
            const firstKey = Object.keys(data.data)[0];
            viewPrimaryTable = data.data[firstKey]['primary_object'];
        }
        this.deletePopupText = gridConigForDeleteRequire?.isDeletePopupText;
        if (this.isDeleteRequire || gridConigForDeleteRequire?.isDeleteRequire) {
            this.isDeleteRequire = true;
        }
        if (this.isConditionalEditDelete !== 'true' || !this.isDeleteRequire) {
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.DeleteConfigURL = `${DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id)}/${this.pageId}?name=${viewPrimaryTable}`;
            this.popupDialogRef = this.dialog.open(this.DeleteGridListWithoutReason, {
                panelClass: 'delete-grid-without-reason'
            });
        }
        else {
            this.adminAccessForDelete = false;
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.DeleteConfigURL = `${DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id)}/${this.pageId}?name=${viewPrimaryTable}`;
            this.updateByIdAndPageIdWithReasonURL = `${DynamicSearchURL.EndPoints.formResponse.updateByIdAndPageIdWithReason.replace('{id}', primary_id)}/${this.pageId}?primarytable=${viewPrimaryTable}`;
            const tbName = this.gridConfig.highlightRow.tableName;
            this.deleteConfigData = {};
            this.deleteConfigData = { 'data': data.data[tbName] };
            this.dynamicSearchService.checkDeleteStatus(this.pageId, primary_id, viewPrimaryTable).subscribe(result => {
                if (result['data'] && result['data'].length > 0) {
                    if (result['data'][0]['status'] === 'DEL_PEND') {
                        // const infoDetails = data['data'].rbacConditions.filter(item => item.action == 'info');
                        // this.deletedReason = infoDetails[0]?.message;
                        this.deletedReason = result['data'][0]['popupText'];
                        this.popupDialogRef = this.dialog.open(this.ApproveDeleteGridList, {
                            panelClass: 'approve-delete-grid-list'
                        });
                    }
                    else if (result['data'][0]['status'] === 'DEL_ALLOW') {
                        this.popupDialogRef = this.dialog.open(this.DeleteGridListWithoutReason, {
                            panelClass: 'delete-grid-without-reason'
                        });
                    }
                    else if (result['data'][0]['status'] === 'DEL_REQ') {
                        this.popupDialogRef = this.dialog.open(this.DeleteGridList, {
                            panelClass: 'delete-drid-with-reason'
                        });
                    }
                    else {
                        this.alertService.error('Something went wrong');
                    }
                }
                else {
                    this.alertService.error('Something went wrong');
                }
            }, _error => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
        // const dialogConfig = new MatDialogConfig();
        // dialogConfig.disableClose = true;
        // dialogConfig.data = {
        //   action: 'delete',
        //   deleteId: this.pageId,
        //   message: 'Are you sure you want to delete?',
        //   url: DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]),
        //   portConfig: item.portConfig,
        //   successMsg: 'Record deleted Successfully'
        // };
        // const ref = this.dialog.open(DeleteComponent, dialogConfig);
        // ref.afterClosed().subscribe(() => {
        //   // refresh grid
        //   this.getGrid();
        // });
    }
    actionInfoCheck(data, item) {
        // const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
        // this.DeleteConfigURL = DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id);
        // this.deletedReason = item.message;
        // $('#ApproveDeleteGridList').modal('show');
    }
    deleteRecord() {
        this.httpService.delete(`${this.DeleteConfigURL}`).subscribe(_result => {
            this.alertService.success('Deleted Successfully');
            this.reloadPopup();
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    deleteRecordWithReason() {
        this.rowData = { ...this.deleteConfigData, 'reason': this.enteredReason, 'pageURL': this.router.url };
        this.httpService.post(`${this.updateByIdAndPageIdWithReasonURL}`, this.rowData).subscribe(_result1 => {
            this.reloadPopup();
            this.alertService.success('Delete Requested Successfully');
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    deleteRecordWithoutReason() {
        this.httpService.delete(`${this.DeleteConfigURL}`).subscribe(_result => {
            if (_result && _result['data'] === 'DEL_REQ') {
                this.alertService.error('Deletion Failed: The threshold time for deleting this record has expired.');
            }
            else if (_result && _result['data']) {
                if (window.location.href.includes('composite-page') || window.location.href.includes('master-view'))
                    if (this.selectedComponent) {
                        if ((this.selectedComponent?.loadedFromMasterView || this.selectedComponent?.loadedFromCompositePage) && this.selectedComponent.settings)
                            this.store.dispatch(publishEvent({ eventName: 'submit', payload: this.selectedComponent }));
                    }
                this.alertService.success('Deleted Successfully');
            }
            else {
                this.alertService.error('Something Went Wrong');
            }
            this.reloadPopup();
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    cancelPopup() {
        this.closeDialogPopup();
        this.enteredReason = '';
    }
    reloadPopup() {
        this.closeDialogPopup();
        this.getGrid();
        this.enteredReason = '';
    }
    checkIsDisabled(text) {
        if (text && text.trim() != '') {
            this.isDisabled = false;
            this.enteredReason = text;
        }
        else {
            this.isDisabled = true;
            this.enteredReason = text;
        }
    }
    completeConfirmation(data, _item) {
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = true;
        dialogConfig.data = {
            action: 'complete',
            deleteId: data.data[Object.keys(data.data)[0]].id,
            message: 'Are you sure you want to complete?',
            url: DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', data.data[Object.keys(data.data)[0]].id),
            portConfig: null,
            successMsg: 'Data completed Successfully',
            data: data.data
        };
        const ref = this.dialog.open(DeleteComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            this.getGrid();
        });
    }
    closePopup() {
        this.editPopUpDialogRef.close();
    }
    popup(data, action) {
        const table_name = this.searchparams.tableschemaconfig.tablelist[0];
        const tabdata = data;
        const value = tabdata ? tabdata[table_name] : '';
        this.targetPage(value, action);
        // } else {
        //   this.popupDialogRef = this.dialog.open(this.callDialogPopup);
        //   // tslint:disable-next-line: prefer-for-of
        //   this.popupData = data;
        // }
    }
    closeDialogPopup() {
        this.popupDialogRef.close();
    }
    showIcon(data) {
        if (data.data.timeleft) {
            if (data.data.timeleft.includes(' ')) {
                let timeleft = data.data.timeleft.split(' ');
                timeleft = timeleft[0];
                if (timeleft < 0) {
                    return true;
                }
            }
            else if (data.data.timeleft.includes(':')) {
                let timeleft = data.data.timeleft.split(':');
                timeleft = timeleft[0];
                if (timeleft < 0 || (timeleft == '-00' && timeleft.indexOf('-') != -1)) {
                    return true;
                }
            }
            else {
                return false;
            }
        }
        return false;
    }
    splitingData(data, splitter = ',') {
        if (data.data.narrative) {
            const detail = data.data.narrative;
            const div = document.createElement('div');
            div.innerHTML = detail;
            ///.join("<br/>")
            const finalString = div.innerText.split(splitter);
            for (let i = 0; i < finalString.length; i++) {
                finalString[i] = finalString[i].toLowerCase();
                finalString[i] = finalString[i][0].toUpperCase() + finalString[i].substring(1, 2);
            }
            return finalString.join('<br/>');
        }
        return '';
    }
    getTitleClass(title) {
        if (title) {
            return title.split(' ').join('').toLowerCase();
        }
        return '';
    }
    changeStatusColor(value) {
        if (value === 'Completed') {
            return 'completed';
        }
        else if (value === 'Draft') {
            return 'draft';
        }
        else if (value === 'Open') {
            return 'open';
        }
        else if (value === 'Closed') {
            return 'closed';
        }
        else if (value === 'Pending') {
            return 'pending';
        }
        else if (value === 'Pending Approval' || value === 'In-Progress') {
            return 'pending-approval';
        }
        else if (value === 'Approved' || value === 'Accepted - Screen In') {
            return 'approved';
        }
        else if (value === 'Return to Worker' || value === 'Returned') {
            return 'returned';
        }
        return '';
    }
    titleCaseToolTip(value) {
        return value[0].toUpperCase() + value.slice(1);
    }
    closeForm() {
        this.item = null;
    }
    downloadFileInternally(s3BucketUrlName, filename) {
        const a = document.createElement('a');
        a.href = s3BucketUrlName.trim();
        a.download = filename || 'download';
        a.click();
        a.remove();
    }
    /* for Grid Selection enable/disable */
    getGridSelection(item) {
        if (item === true) {
            return 'multiple';
        }
        return 'none';
    }
    startScheduling(id, url = null) {
        if (url) {
            this.dynamicSearchService.startScheduling({}, url.replace('{id}', id)).subscribe(() => {
                this.alertService.success('Report Triggered Successfully');
            }, _error => {
                this.alertService.success('Report Trigger failed. Try Again!');
            });
        }
        else {
            this.dynamicSearchService.startSchedulingNoUrl({}, id).subscribe(() => {
                this.alertService.success('Report Triggered Successfully');
            }, _error => {
                this.alertService.success('Report Trigger failed. Try Again!');
            });
        }
    }
    customSave = (state) => {
        for (const item in state) {
            if (item !== 'columns')
                delete state[item];
        }
        this.gridConfig.pageSize = this.dataGrid.instance.pageSize();
        const prevWidth = this.columnWidth;
        this.columnWidth = state;
        const validatePageId = this.sequenceId === Number(this.route.snapshot.paramMap.get('pageId'));
        const validate = JSON.stringify(prevWidth) === JSON.stringify(this.columnWidth);
        if (validatePageId) {
            if (state?.columns != undefined) {
                state.columns.forEach((stateColumn) => {
                    const configItem = this.gridConfig.gridConfigFormArray.find(c => c.columnDef === stateColumn.dataField && !c.hide);
                    if (configItem) {
                        configItem.width = stateColumn.width;
                        configItem.filterValues = stateColumn.filterValues;
                        configItem.sortOrder = stateColumn.sortOrder;
                        configItem.sortIndex = stateColumn.sortIndex;
                        configItem.visible = stateColumn.visible ?? true;
                        configItem.visibleIndex = stateColumn.visibleIndex;
                        configItem.filterValue = stateColumn.filterValue;
                        configItem.filterType = stateColumn.filterType;
                        configItem.selectedFilterOperation = stateColumn.selectedFilterOperation;
                    }
                });
                if (this.screenWidth > 1025) {
                    this.columns = this.gridConfig.gridConfigFormArray;
                }
                const body = {
                    type: 'PAGE',
                    mappedid: this.currentPageId,
                    config: JSON.stringify(this.gridConfig)
                };
                this.dynamicSearchService.saveGridUserPreference(body).subscribe(() => {
                    // This is intentional
                });
            }
            // const body = {
            //   type: 'PAGE',
            //   mappedid: this.currentPageId,
            //   config: JSON.stringify(this.gridConfig)
            // };
            // this.dynamicSearchService.saveGridUserPreference(body).subscribe(() => {
            //   // This is intentional
            // });
        }
    };
    columnChooserClick() {
        this.dataGrid.instance.showColumnChooser();
    }
    contentReady = e => {
        const componentInstance = e.component.instance();
        const currentColumns = componentInstance.option('columns');
        if (this.gridConfig && this.gridConfig.userPreferenceGridConfig) {
            if (this.gridConfig.pageSize) {
                this.currentPageSize = this.gridConfig.pageSize;
            }
            let changesMade = false;
            currentColumns.forEach((column, index) => {
                const configItem = this.gridConfig.userPreferenceGridConfig.find(c => c.columnDef === column.dataField);
                if (configItem) {
                    const targetVisibility = configItem.hide ? false : (configItem.visible === "" ? true : configItem.visible);
                    if (column.visible !== targetVisibility) {
                        changesMade = true;
                        currentColumns[index].visible = targetVisibility;
                    }
                    // Check and update the visibleIndex if different
                    if (column.visibleIndex !== configItem.visibleIndex) {
                        changesMade = true;
                        currentColumns[index].visibleIndex = configItem.visibleIndex;
                    }
                }
            });
            if (changesMade) {
                componentInstance.option('columns', currentColumns);
            }
            this.isInitialLoad = false;
            this.isResize = false;
            this.isUserPreferenceChange = false;
        }
    };
    getVisabilityByChoosableProp(chooser, visible) {
        if (chooser) {
            return visible;
        }
        else {
            return true;
        }
    }
    getSortOrder(defaultSortColumn, defaultSortType, columnDef) {
        if (defaultSortColumn && defaultSortType) {
            return defaultSortColumn === columnDef ? defaultSortType : '';
        }
        return '';
    }
    goBack() {
        this.location.back();
    }
    showGridActions(updateGrid, showActionColumn, gridType) {
        const gridActions = updateGrid?.gridActionFormArray
            ? updateGrid?.gridActionFormArray.filter(x => x.action?.toLowerCase() !== 'add')
            : [];
        const hiddenColumns = gridActions?.filter(a => a?.hide);
        return (gridActions.length > 0 &&
            showActionColumn &&
            gridType != 'view' &&
            hiddenColumns.length !== gridActions.length);
    }
    changeFilterOptions(e) {
        this.filterOptionsDropdown.close(e.originalEvent);
        this.isUserPreferenceChange = true;
        this.setPermissions(e.itemValue);
    }
    setPermissions(modal) {
        const [code, value] = modal.split('-');
        const isExist = this.gridConfig.gridConfigFormArray.filter(c => c.columnDef === code && !!c[value]);
        if (isExist.length === 0) {
            this.gridConfig.gridConfigFormArray.map((c) => {
                c[value] = c.columnDef === code ? true : c[value];
                if (c.columnDef === code) {
                    c?.selected?.push(value);
                }
                return c;
            });
        }
        else {
            this.setSelectedGridForm(code, value);
        }
        this.columns = this.gridConfig.gridConfigFormArray;
        this.updateUserGridConfig();
    }
    onResize() {
        const prevWidth = this.screenWidth;
        this.screenWidth = window.innerWidth;
        this.columns = this.gridConfig.gridConfigFormArray;
        if (this.screenWidth < 767) {
            const mobileColumns = this.gridConfig.gridConfigFormArray.filter(c => c.mobileView);
            this.checkOnresize(mobileColumns);
            // this.columns = this.gridConfig.gridConfigFormArray;
        }
        else if (this.screenWidth >= 768 && this.screenWidth < 990) {
            const tabColumns = this.gridConfig.gridConfigFormArray.filter(c => c.tabView);
            if (tabColumns.length) {
                this.columns = this.gridConfig.gridConfigFormArray.filter(x => x.tabView);
            }
            else {
                // const maxVisibleCount = 5;
                // const visibleCount = 0;
                this.columns = this.gridConfig.gridConfigFormArray.filter((t, i) => i < 3);
            }
            // this.columns = this.gridConfig.gridConfigFormArray;
        }
        else if (prevWidth && prevWidth !== this.screenWidth) {
            //to fix loading issue when changing from mobile to web/tab view
            this.columns = this.gridConfig.gridConfigFormArray;
            // this.columns = this.checkGridConfig;
            this.getUserGridConfig();
            // window.location.reload();
        }
    }
    checkOnresize(mobileColumns) {
        if (mobileColumns.length) {
            this.columns = this.gridConfig.gridConfigFormArray.filter(x => x.mobileView);
        }
        else {
            // const maxVisibleCount = 3;
            // const visibleCount = 0;
            this.columns = this.gridConfig.gridConfigFormArray.filter((m, i) => i < 3);
        }
    }
    setSelectedGridForm(code, value) {
        this.gridConfig.gridConfigFormArray.map(c => {
            c[value] = c.columnDef === code ? '' : c[value];
            if (c.columnDef === code && c.selected) {
                c.selected = c.selected.filter(s => s !== value);
                // c?.selected?.map((m, i) => {
                //   m === value && c.selected.splice(i, 1);
                // });
            }
            return c;
        });
    }
    updateUserGridConfig() {
        const body = {
            type: 'PAGE',
            mappedid: this.currentPageId,
            config: JSON.stringify(this.gridConfig)
        };
        if (this.screenWidth > 990) {
            this.dynamicSearchService.saveGridUserPreference(body).subscribe(_res => {
                this.getUserGridConfig();
            });
        }
    }
    getUserGridConfig() {
        this.dataGrid.instance.clearFilter();
        this.dynamicSearchService.getGridUserPreference(this.currentPageId).subscribe((res) => {
            if (res.data && res.data?.config) {
                const configArray = typeof res.data.config === "string" ? JSON.parse(res.data.config) : res.data.config;
                if (configArray && configArray.gridConfigFormArray) {
                    const userPreferenceGridConfig = this.applyUserPreference(this.tempaConfig.gridConfigFormArray, configArray.gridConfigFormArray);
                    configArray.userPreferenceGridConfig = userPreferenceGridConfig;
                    configArray.gridConfigFormArray = userPreferenceGridConfig;
                    this.gridConfig = configArray;
                    this.columnHeader = configArray.gridConfigFormArray.map(column => column?.header);
                    this.columns = configArray.gridConfigFormArray;
                    // this.checkGridConfig = configArray.gridConfigFormArray;
                    this.isDeleteRequire = configArray?.isDeleteRequire;
                    this.isEditThresholdRequire = configArray?.isEditThresholdRequire;
                    this.isDeleteTime = configArray?.isDeleteTime;
                    // const storedTabData = JSON.parse(JSON.parse(this.storage.getItem('dynamic-tab-pages')));
                    const storedTabData = JSON.parse(JSON.parse(this.storage.getItem(STORAGE_KEY_DYNAMIC_TAB_PAGES)));
                    storedTabData?.map(item => {
                        this.columns.map(item1 => {
                            if (item.pfield == item1.columnDef) {
                                item1.link = item.pfield;
                            }
                        });
                    });
                    this.columns.map(c => {
                        c?.selected?.map(s => Object.assign({ col_ref: `${c.columnDef}-${s}` }, c));
                    });
                    const options = [];
                    const arr = [];
                    configArray.gridConfigFormArray.map(a => {
                        options.push({
                            columnName: a.header,
                            items: this.gridOptions.map(p => ({
                                id: `${a.columnDef}-${p.value}`,
                                label: p.label,
                                value: p.value,
                                code: a.columnDef,
                                active: a[p.value] !== '' ? true : ''
                            }))
                        });
                        a?.selected?.map(r => arr.push(`${a.columnDef}-${r}`));
                    });
                    this.columnsFilteration();
                    this.onResize();
                    this.filterOptions = options;
                    this.filterForm?.patchValue({ selectedFilter: arr });
                }
                else {
                    this.patchMultipleOptions();
                }
            }
            else {
                this.patchMultipleOptions();
            }
        });
    }
    applyUserPreference(gridConfig, userPreferenceConfig) {
        const options = ['width', 'filterValues', 'sortOrder', 'sortIndex', 'visible', 'visibleIndex', 'filterValue', 'filterType', 'selectedFilterOperation'];
        for (const column of gridConfig) {
            const columnPreferences = userPreferenceConfig.find(preferenceColumn => preferenceColumn.columnDef === column.columnDef);
            if (columnPreferences) {
                for (const option of options) {
                    if (option === 'visibleIndex' && columnPreferences.hide) {
                        delete column[option];
                    }
                    else if (columnPreferences.hasOwnProperty(option)) {
                        column[option] = columnPreferences[option];
                    }
                }
            }
        }
        return this.assignVisibleIndexes(gridConfig);
    }
    assignVisibleIndexes(gridConfig) {
        const visibleColumns = gridConfig?.length && gridConfig?.filter(col => !col.hide)?.sort((a, b) => a.visibleIndex - b.visibleIndex) || [];
        const nonVisibleColumns = gridConfig?.length && gridConfig?.filter(col => col.hide || col?.visibleIndex < 0)?.sort((a, b) => a.visibleIndex - b.visibleIndex) || [];
        if (visibleColumns && visibleColumns.length) {
            for (const [index, column] of visibleColumns.entries()) {
                column.visibleIndex = index;
            }
        }
        if (nonVisibleColumns && nonVisibleColumns.length) {
            for (const [index, column] of nonVisibleColumns.entries()) {
                column.visibleIndex = visibleColumns?.length + (index + 1);
            }
        }
        return [...visibleColumns, ...nonVisibleColumns];
    }
    patchMultipleOptions() {
        if (this.tempaConfig && this.tempaConfig.gridConfigFormArray) {
            this.columnHeader = this.tempaConfig.gridConfigFormArray.map(column => column.header);
            this.gridConfig = this.tempaConfig;
            this.columns = this.tempaConfig.gridConfigFormArray;
            this.columns.map(c => {
                c?.selected?.map(s => Object.assign({ col_ref: `${c.columnDef}-${s}` }, c));
            });
            const options = [];
            const arr = [];
            this.tempaConfig.gridConfigFormArray.map(grid => {
                options.push({
                    columnName: grid.header,
                    items: this.gridOptions.map(p => ({
                        id: `${grid.columnDef}-${p.value}`,
                        label: p.label,
                        value: p.value,
                        code: grid.columnDef,
                        active: grid[p.value] !== '' ? true : ''
                    }))
                });
                grid?.selected?.map(r => arr.push(`${grid.columnDef}-${r}`));
            });
            this.columnsFilteration();
            this.onResize();
            this.filterOptions = options;
            this.filterForm.patchValue({ selectedFilter: arr });
        }
    }
    columnsFilteration() {
        this.columns = this.columns.map(x => {
            if (x['concatenate']) {
                const columnName = x.header.toLowerCase();
                const cName = columnName.replace(/ /g, '_');
                x.columnDef = `alias.${cName}`;
                return x;
            }
            else {
                return x;
            }
        });
    }
    customEvent(event) {
        this._formIO.customEvent(event, this.formIO);
    }
    onExporting(e) {
        const pageName = this.storage.getObj(FILE_EXPORT_NAME_KEY);
        const currentDate = moment().format('YYYY-MM-DD');
        let fileName;
        if (pageName) {
            fileName = `${pageName} ${currentDate}`;
        }
        else {
            fileName = `Data-Grid ${currentDate}`;
        }
        e.component.columnOption('Action', 'visible', false);
        if (e.format === 'pdf') {
            const doc = new jsPDF.jsPDF();
            exportDataGridToPdf({
                jsPDFDocument: doc,
                component: e.component,
                customizeCell: grid => {
                    grid.pdfCell.wordWrapEnabled = true;
                }
            }).then(() => {
                doc.save(`${fileName}.pdf`);
                e.component.columnOption('Action', 'visible', true);
            });
        }
        else if (e.format === 'xlsx') {
            e.fileName = fileName;
            setTimeout(() => {
                e.component.columnOption('Action', 'visible', true);
            }, 500);
        }
    }
    ngOnDestroy() {
        this.storage.removeItem(FILE_EXPORT_NAME_KEY);
        if (this.eventSubscription) {
            this.eventSubscription.unsubscribe();
        }
    }
    getTitle(c) {
        return c ? c : false;
    }
    onCellPrepared(e) {
        if (e.rowType == 'data' &&
            e.data.businessRules.length > 0 &&
            e.column.dataField === e.data.businessRules[0].name) {
            const element = e.cellElement;
            const rules = '<em class="RULES" aria-hidden="true"></em>'.replace('RULES', e.data.businessRules[0].style ? e.data.businessRules[0].style : '');
            const livetext = document.createElement('div');
            element.classList.add('business-group');
            livetext.classList.add('business-alert');
            livetext.classList.add('ml-2');
            livetext.innerHTML = rules;
            element.appendChild(livetext);
        }
    }
    toggleShowMore(value, columnDef) {
        const key = this.getToggleKey(value, columnDef);
        // Check if the length of the value exceeds 60
        if (value.length > this.truncateTextValue) {
            // If "Show More" is active, return the full value; otherwise, return the truncated value
            if (this.showMoreText[key]) {
                return value; // Show full value
            }
            else {
                return value.substring(0, this.truncateTextValue).trim() + '...'; // Truncate and add ellipsis
            }
        }
        return value;
    }
    toggleShowMoreState(value, columnDef) {
        const key = this.getToggleKey(value, columnDef);
        this.showMoreText[key] = !this.showMoreText[key];
    }
    getToggleKey(value, columnDef) {
        return `${value}_${columnDef}`;
    }
    onRowPrepared(e) {
        if (e.rowType == 'data' &&
            this.updateGrid?.highlightRow?.columnName &&
            this.updateGrid?.highlightRow?.columnName?.split('.').length &&
            e.data[this.updateGrid?.highlightRow?.columnName.split('.')[0]][this.updateGrid?.highlightRow?.columnName.split('.')[1]] == this.updateGrid?.highlightRow?.columnValue) {
            e.rowElement.style.backgroundColor = this.updateGrid?.highlightRow?.color;
            e.rowElement.className = e.rowElement.className.replace('dx-row-alt', '');
        }
    }
    onCellClick(e) {
        e?.data?.routedata.map(n => {
            if (n?.pfield == e?.column?.dataField) {
                this.paramvalue = e?.value;
                const [tableName] = n?.pfield.split('.');
                this.paramfield = n?.field;
                this.tablefield = tableName;
                this.toTabId = n?.id;
            }
        });
        if (this.toTabId) {
            this.dynamicTabPageService.getDynamicPage(this.toTabId).subscribe((res) => {
                if (res?.data.length > 0) {
                    const pageid = res?.data[0]?.activeVersion.id;
                    const currentURL = this.router.url;
                    const newurl = currentURL.replace(/[^/]*$/, '/' + pageid);
                    if (this.selectedCaption == 'action' || this.selectedCaption == 'Action') {
                        this.router.navigate([newurl]);
                    }
                    else {
                        const horizantalTabFilter = this.localstore.getItem(FILTER_ID_KEY);
                        if (horizantalTabFilter) {
                            this.localstore.removeItem(FILTER_ID_KEY);
                        }
                        this.localstore.setObj('HorizantalPageId', pageid);
                        this.localstore.setObj(FILTER_ID_KEY, {
                            id: this.paramvalue,
                            table: this.tablefield,
                            field: this.paramfield
                        });
                        this.openTab = true;
                    }
                    setTimeout(() => {
                        this.paramvalue = undefined;
                    }, 5000);
                }
            });
        }
    }
    // }
    async targetPage(value, targetValue) {
        const targetURLValue = targetValue?.link;
        if (this.localstore.getObj(LOCAL_STORAGE_KEY)) {
            this.localstore.removeItem(LOCAL_STORAGE_KEY);
        }
        await this.getVersionList(targetURLValue, value, targetValue);
    }
    async getVersionList(value, numericValue, action) {
        this.pageBuilderService.getVersionList(value).subscribe(res => {
            if (res.data && res.data.length) {
                this.localstore.setObj(FILE_EXPORT_NAME_KEY, res.data[0]?.pagename);
                this.pageList = res.data;
                this.totalcount = this.pageList.length ? this.pageList.length : 0;
                const filterTags = action;
                const filterValue = filterTags?.filterBy?.split('.');
                if (filterValue != '' && filterValue) {
                    const rowValue = numericValue[filterValue[1]];
                    this.localstore.setObj(LOCAL_STORAGE_KEY, { id: rowValue, table: filterValue[0], field: filterValue[1] });
                }
                if (this.pageList[0].tabconfig)
                    this.localstore.setObj(STORAGE_KEY_DYNAMIC_TAB_PAGES, this.pageList[0].tabconfig);
                this.localstore.setObj('titletab', numericValue);
                if (filterTags?.action == 'edit') {
                    this.localstore.setObj('editValue', numericValue);
                }
                else {
                    this.localstore.removeItem('editValue');
                }
                if (value) {
                    if (this.pageList[0]?.pageDetails?.pagetype == 'ATPBDM' || this.pageList[0]?.pageDetails?.pagetype == 'FFP') {
                        this.authService.setSharedMessage({ pageId: this.pageList[0].pageid });
                        if (this.selectedComponent && (this.selectedComponent.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                            this.selectedComponent.settings.mappingFormId)
                            this.store.dispatch(publishEvent({ eventName: action.action,
                                payload: { mappingFormId: this.selectedComponent.settings.mappingFormId } }));
                        else if (window.location.href.indexOf('master-view') > -1 || window.location.href.indexOf('composite-page') > -1) {
                            if (this.selectedComponent) {
                                this.localstore.setItem('compositeTitle', this.selectedComponent.settings.title);
                            }
                            this.localstore.setItem('setTabAction', action.action);
                            this.sharedService.sendMessage();
                            this.router.navigate(['form/', this.pageList[0].pageid], {
                                relativeTo: this.route
                            });
                        }
                        else {
                            this.localstore.setItem('setTabAction', action.action);
                            this.sharedService.sendMessage();
                            // this.router.navigate(['/pages/dynamicpage/page/modify/', this.pageList[0].pageid], {
                            this.router.navigate(['../../../dynamicpage/page/modify/', this.pageList[0].pageid], {
                                relativeTo: this.route
                            });
                        }
                    }
                    else {
                        this.router.navigate(['../../../dynamicpage/tab/', this.pageList[0].id], { relativeTo: this.route });
                    }
                }
            }
        });
    }
    toggleIconClass() {
        this.iconClass = 'fa fa-eye-slash';
        // }
    }
    uploadDocument(item, files) {
        this.uploadedFile = files.target.files[0];
        const pageID = this.formId ? this.formId : this.pageId;
        this.imageData = {
            contentType: this.uploadedFile.type,
            fileName: `ocr/${pageID}/${this.uploadedFile.name}`
        };
        this.attachmentService.uploadKey(this.imageData).subscribe((res) => {
            if (res.data) {
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putupload2(res.data, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((resp) => {
                    if (resp && resp.status == 200) {
                        const object = {
                            path: `ocr/${pageID}/${this.uploadedFile.name}`,
                            attachmenttype: this.uploadedFile.type
                        };
                        this.storage.setObj('OCRObj', JSON.stringify(object));
                        this.dataStoreService.setData('uploadFromGrid', true);
                        const navigateState = {
                            externalLink: true,
                            title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                            personId: null
                        };
                        const url = PAGE_MODIFY_ROUTE + item.link;
                        this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                    }
                    else {
                        this.alertService.error('Something Went Wrong!');
                    }
                }, error => {
                    if (error.status == 0)
                        this.alertService.error('Something Went Wrong!');
                });
            }
        });
    }
    getDateFormat(value) {
        if (this.registrationInfo) {
            if (value === 'date' && this.registrationInfo?.datetimeformat) {
                return this.registrationInfo['datetimeformat'].split(' ')[0];
            }
            return this.registrationInfo['datetimeformat'];
        }
        return 'MM/dd/yyyy';
    }
    buildCriteria(result) {
        if (!result)
            return;
        const tableschemaconfig = typeof result.tableschemaconfig === 'string' ? JSON.parse(result.tableschemaconfig) : result.tableschemaconfig;
        if (!tableschemaconfig)
            return;
        const fieldMapping = tableschemaconfig.fieldmapping;
        if (!fieldMapping)
            return;
        this.dynamicSearch = fieldMapping.filter(e => e.criteria);
        if (!this.dynamicSearch && !this.dynamicSearch.length)
            return;
        this.tableDropDown = [
            ...new Set(this.dynamicSearch.map(e => ({
                name: e.tablename,
                value: e.tablename
            })))
        ];
        this.tableDropDown = this.removeDupliacteArrayJson(this.tableDropDown);
        this.columnDropDown = this.dynamicSearch.map(e => {
            const value = `${e.tablename}.${e.field}`;
            return {
                name: e.label,
                value,
                dataType: e.datatype,
                tableName: e.tablename
            };
        });
    }
    removeDupliacteArrayJson(values) {
        const concatArray = values.map(eachValue => Object.values(eachValue).join(''));
        return values.filter((value, index) => concatArray.indexOf(concatArray[index]) === index);
    }
    initDynamicSearch() {
        return this.gridDynamicSearchForm.get('dynamicSearchArray');
    }
    addGridDynamicSearch() {
        this.initDynamicSearch().push(this.createDynamicSearch());
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (dynamicSearch.length > 0) {
            this.saveButtonDisable = false;
        }
        else {
            this.saveButtonDisable = true;
        }
    }
    createDynamicSearch() {
        return this.formBuilder.group({
            tableName: ['', Validators.required],
            columnName: ['', Validators.required],
            condition: ['', Validators.required],
            datatype: [''],
            value: ['', Validators.required],
            tableDropDown: [this.tableDropDown],
            columnDropDown: [this.columnDropDown],
            conditionDropdown: []
        });
    }
    buildDynamicSearch(res) {
        return this.formBuilder.group({
            tableName: res.tableName,
            columnName: res.columnName,
            condition: res.condition,
            datatype: res.datatype,
            value: res.value,
            tableDropDown: [res.tableDropDown],
            columnDropDown: [res.columnDropDown],
            conditionDropdown: [res.conditionDropdown]
        });
    }
    removeDynamicSearch(index) {
        this.initDynamicSearch().removeAt(index);
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (dynamicSearch.length > 0) {
            this.saveButtonDisable = false;
        }
        else {
            this.saveButtonDisable = true;
        }
        // dynamicSearch = dynamicSearch.filter(e => e.value && e.value.trim());
        // const saveDynamicSearch = {
        //   pageId: +this.formId,
        //   criteriaId: +this.criteriaId,
        //   dynamicSearchArray: dynamicSearch
        // };
        // this.dynamicSearchService.saveCriteriaByPageId(saveDynamicSearch).subscribe(result => {
        //   const response = result['data'];
        //   this.criteriaId = response.criteriaId;
        //   this.alertService.success('Criteria deleted successfully');
        // });
    }
    resetDynamicSearch() {
        this.initDynamicSearch().clear();
        this.dynamicSearchResult = [];
        this.saveButtonDisable = true;
        this.dataSource = {
            data: [],
            totalCount: 0
        };
        this.showGridPage = false;
        this.youthSearchJson = [];
        // this.searchGrid(this.http, this.storage);
    }
    getColumnList(index, tableValue) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        getCurrentRow.get('columnDropDown').patchValue([]);
        const columnArray = this.dynamicSearch
            .filter(e => e.tablename === tableValue)
            .map(e => {
            const value = `${e.tablename}.${e.field}`;
            return {
                name: e.label,
                value,
                dataType: e.datatype
            };
        });
        getCurrentRow.get('columnDropDown').patchValue(columnArray);
    }
    getConditionList(index, columnValue) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        const columnDropDown = getCurrentRow.get('columnDropDown').value;
        const columnDropDownJson = columnDropDown.find(e => e.value === columnValue);
        const columnDataType = columnDropDownJson.dataType;
        const columnTableName = columnDropDownJson.tableName;
        getCurrentRow.get('conditionDropdown').patchValue([]);
        getCurrentRow.get('datatype').patchValue(columnDataType);
        getCurrentRow.get('tableName').patchValue(columnTableName);
        // getCurrentRow.get('conditionDropdown').patchValue([
        //   {
        //     name: 'Equal To',
        //     value: 'Equal_To'
        //   },
        //   {
        //     name: 'Like',
        //     value: 'Like'
        //   }
        // ]);
        if (columnDataType === 'textfield' || columnDataType === 'textarea') {
            getCurrentRow.get('conditionDropdown').patchValue([
                {
                    name: 'Equal To',
                    value: 'Equal_To'
                },
                {
                    name: 'Like',
                    value: 'Like'
                }
            ]);
        }
        else {
            getCurrentRow.get('conditionDropdown').patchValue([
                {
                    name: 'Equal To',
                    value: 'Equal_To'
                }
            ]);
        }
    }
    resetDynamicSearchValue(index) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        getCurrentRow.get('value').patchValue('');
    }
    trimSpaces(element) {
        const getElement = element.controls['value'];
        const getValue = getElement.value.trim();
        getElement.setValue(getValue);
        if (!getValue.length) {
            getElement.touched = true;
            getElement.errors = true;
            /* Remove this redundant jump */
            // return;
        }
    }
    submitDynamicSearch() {
        if (!this.gridDynamicSearchForm.valid) {
            this.gridDynamicSearchForm.markAllAsTouched();
            return;
        }
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        for (let index = 0; index < dynamicSearch.length; index++) {
            const dynamicSearchElement = dynamicSearch[index];
            if (!dynamicSearchElement || !dynamicSearchElement.value.trim()) {
                this.gridDynamicSearchForm.markAllAsTouched();
                return;
            }
        }
        this.showGridPage = true;
        this.dynamicSearchResult = dynamicSearch;
        this.searchGrid(this.http, this.storage);
    }
    saveDynamicSearch() {
        if (!this.gridDynamicSearchForm.valid) {
            this.gridDynamicSearchForm.markAllAsTouched();
            return;
        }
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (!dynamicSearch.length) {
            this.alertService.error('Cannot save empty criteria');
            return;
        }
        for (let index = 0; index < dynamicSearch.length; index++) {
            const dynamicSearchElement = dynamicSearch[index];
            if (!dynamicSearchElement || !dynamicSearchElement.value.trim()) {
                this.gridDynamicSearchForm.markAllAsTouched();
                return;
            }
        }
        const saveDynamicSearch = {
            pageId: +this.formId,
            criteriaId: +this.criteriaId,
            dynamicSearchArray: dynamicSearch
        };
        this.dynamicSearchService.saveCriteriaByPageId(saveDynamicSearch).subscribe(result => {
            const response = result['data'];
            this.criteriaId = response.criteriaId;
            this.alertService.success('Criteria save successfully');
        });
    }
    getCriteriaByPageId() {
        return new Promise((resolve, _rejects) => {
            const pageId = this.formId;
            this.dynamicSearchService.getCriteriaByPageId(pageId).subscribe(result => {
                const response = result['data'];
                if (response && response.length > 0) {
                    const lastIndex = response.length - 1;
                    const lastResponse = response[lastIndex];
                    this.criteriaId = lastResponse.id;
                    let lastDynamicSearchArray = [];
                    if (lastResponse.dynamicSearchArray?.length) {
                        this.saveButtonDisable = false;
                        lastDynamicSearchArray = lastResponse.dynamicSearchArray;
                        lastDynamicSearchArray.forEach(element => {
                            this.initDynamicSearch().push(this.buildDynamicSearch(element));
                        });
                    }
                    this.dynamicSearchResult = lastDynamicSearchArray;
                }
                return resolve({});
            });
        });
    }
    removeAllDynamicSearchCondtion() {
        this.criteriaId = 0;
        this.initDynamicSearch().clear();
        this.saveButtonDisable = true;
        this.dynamicSearchResult = [];
        this.dynamicSearch = [];
        this.youthSearchJson = [];
        this.youthSearchBoolean = false;
    }
    checkRulesBeforeActions(data, item) {
        const pageData = {
            pageid: this.pageId,
            action: item.action,
            pageData: data?.pageData,
            currentUser: this.user,
            primary: data?.data?.primaryColumn,
            rowData: data?.data,
            gridaction: item
        };
        return this.dynamicSearchService.checkRulesInWorkflow(pageData).pipe(map((result) => {
            if (result.data) {
                if (result.data.type === 'VALIDATION') {
                    if (result.data.permission === 'ALLOWED') {
                        return true;
                    }
                    else if (result.data.permission === 'CONFIRMATION') {
                        this.businessRuleMessage = result.data?.message;
                        this.gridActionParams = { data, item };
                        $('#confirmGridAction').modal('show');
                        return false;
                    }
                    else if (result.data.permission === 'DENIED') {
                        this.alertService.error(result.data.message);
                        return false;
                    }
                }
                else if (result.data.type === 'REDIRECTION') {
                    if (result.data.route) {
                        this.router.navigateByUrl(result.data.route);
                        return false;
                    }
                }
            }
            return true;
        }));
    }
    confirmGridAction() {
        this.getActionRoutes(this.gridActionParams.data, this.gridActionParams.item);
    }
    static fac = i0.ngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicSearchComponent, deps: [{ token: i0.Injector }, { token: i1.Router }, { token: i1.ActivatedRoute }, { token: i0.ChangeDetectorRef }, { token: i2.UntypedFormBuilder }, { token: i3.FormioService }, { token: i4.LocalStorageService }, { token: i2.UntypedFormBuilder }, { token: i5.Store }, { token: i6.PlatformDataStoreService }, { token: i7.SharedService }, { token: i8.ConfigService }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.FactoryTarget.Component });
    static cmp = i0.ngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: DynamicSearchComponent, selector: "app-dynamic-search", inputs: { formId: "formId", pageId: "pageId", componentId: "componentId" }, outputs: { outerRouting: "outerRouting" }, host: { listeners: { "window:resize": "onResize($event)" } }, viewQueries: [{ propertyName: "searchcriteriamenutrigger", first: true, predicate: ["searchcriteriamenutrigger"], descendants: true }, { propertyName: "dataGrid", first: true, predicate: DxDataGridComponent, descendants: true }, { propertyName: "callDialogPopup", first: true, predicate: ["callDialogPopup"], descendants: true }, { propertyName: "formIO", first: true, predicate: ["formIO"], descendants: true }, { propertyName: "filterOptionsDropdown", first: true, predicate: MultiSelect, descendants: true }, { propertyName: "DeleteGridList", first: true, predicate: ["DeleteGridList"], descendants: true }, { propertyName: "DeleteGridListWithoutReason", first: true, predicate: ["DeleteGridListWithoutReason"], descendants: true }, { propertyName: "ApproveDeleteGridList", first: true, predicate: ["ApproveDeleteGridList"], descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div [class]=\"userAction === 'view' ? 'readOnlyCard' : ''\">\r\n  <div *ngIf=\"header\">\r\n    <table class=\"table table-bordered\" aria-describedby=\"border\">\r\n      <thead>\r\n        <tr>\r\n          <th *ngFor=\"let item of titletab | keyvalue\">{{ item.key }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td *ngFor=\"let item of titletab | keyvalue\">{{ item.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <p-accordion class=\"w-full dynamic-search\" [activeIndex]=\"1\" iconPos=\"endVal\"\r\n    *ngIf=\"dynamicSearch && dynamicSearch.length > 0\">\r\n    <p-accordionTab>\r\n      <ng-template pTemplate=\"header\">\r\n        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n          <span class=\"font-bold\">Quick Search</span>\r\n        </span>\r\n      </ng-template>\r\n      <div class=\"d-flex my-2 row\">\r\n        <div class=\"col-12 text-md-right\">\r\n          <button type=\"button\" title=\"Add New\" pripple class=\"p-ripple p-element btn btn-primary btn-icon\"\r\n            (click)=\"addGridDynamicSearch()\">\r\n            <em class=\"pi pi-plus font-weight-bold\"></em>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]=\"gridDynamicSearchForm\">\r\n        <ng-container formArrayName=\"dynamicSearchArray\">\r\n          <div *ngFor=\"let dynamicSearchItem of initDynamicSearch().controls; let dynamicSearchIndex = index\"\r\n            [formGroupName]=\"dynamicSearchIndex\">\r\n            <div class=\"row rbac-card\">\r\n              <div class=\"col-md-11 col-12 pr-0\">\r\n                <div class=\"row\">\r\n                  <!-- <div class=\"col-lg-3 col-md-6 col-12 mb-3\"> -->\r\n                  <!--   <label class=\"referral-form-labels\" for=\"tableList\">Table</label> -->\r\n                  <!--   <p-dropdown -->\r\n                  <!--     [options]=\"dynamicSearchItem.get('tableDropDown')?.value\" -->\r\n                  <!--     optionLabel=\"name\" -->\r\n                  <!--     optionValue=\"value\" -->\r\n                  <!--     id=\"tableList_{{ dynamicSearchIndex }}\" -->\r\n                  <!--     placeholder=\"Select Table\" -->\r\n                  <!--     formControlName=\"tableName\" -->\r\n                  <!--     tabindex=\"0\" -->\r\n                  <!--     styleClass=\"w-100\" -->\r\n                  <!--     (onChange)=\"getColumnList(dynamicSearchIndex, dynamicSearchItem.get('tableName')?.value)\"> -->\r\n                  <!--   </p-dropdown> -->\r\n                  <!--   <span -->\r\n                  <!--     class=\"text-danger error-text\" -->\r\n                  <!--     *ngIf=\" -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.hasError('required') && -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.touched -->\r\n                  <!--     \" -->\r\n                  <!--     >Please Select Table Name</span -->\r\n                  <!--   > -->\r\n                  <!-- </div> -->\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"columnList\">Column <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('columnDropDown')?.value\"\r\n                      id=\"columnList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Column\" formControlName=\"columnName\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"getConditionList(dynamicSearchIndex, dynamicSearchItem.get('columnName')?.value)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('columnName')?.hasError('required') &&\r\n                        dynamicSearchItem.get('columnName')?.touched\r\n                      \">Please Select Column Name</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"conditionList\">Condition <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('conditionDropdown')?.value\"\r\n                      id=\"conditionList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Condition\" formControlName=\"condition\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"resetDynamicSearchValue(dynamicSearchIndex)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('condition')?.hasError('required') &&\r\n                        dynamicSearchItem.get('condition')?.touched\r\n                      \">Please Select Condition</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"valueList\">Value <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <input type=\"text\" class=\"p-inputtext w-100\" id=\"valueList\" formControlName=\"value\"\r\n                      placeholder=\"\" />\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('value')?.hasError('required') && dynamicSearchItem.get('value')?.touched\r\n                      \">Please Fill Value</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                    <span class=\"material-symbols-outlined text-danger delete-icon\" role=\"button\"\r\n                      id=\"deleteDynamicSearch\" (click)=\"removeDynamicSearch(dynamicSearchIndex)\"\r\n                      title=\"Delete\">delete</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                class=\"col-md-1 col-12 mb-3 text-md-center d-md-flex align-items-md-center justify-content-md-center flex-column\">\r\n                <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                <span class=\"material-symbols-outlined text-danger\" role=\"button\" id=\"deleteDynamicSearch\"\r\n                  (click)=\"removeDynamicSearch(dynamicSearchIndex)\" title=\"Delete\">delete</span>\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"removeDynamicSearch()\">Delete</button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex flex-column align-self-end\">\r\n            <div class=\"col-md-12 text-md-right mt-2\">\r\n              <!-- <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"saveDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">\r\n                Save\r\n              </button> -->\r\n              <button type=\"button\" class=\"btn btn-cancel\" (click)=\"resetDynamicSearch()\">Clear</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">Search</button>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n    </p-accordionTab>\r\n  </p-accordion>\r\n  <div class=\"page-wrp mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <!-- <div *ngIf=\"true\">\r\n          <div class=\"d-flex\" [formGroup]=\"filterForm\" *ngIf=\"gridType !== 'view'\">\r\n            <div class=\"col-md-12\">\r\n              <p-multiSelect [options]=\"filterOptions\" styleClass=\"filterOptions\" [group]=\"true\"\r\n                selectedItemsLabel=\"{0} items selected\" defaultLabel=\"Select\" optionLabel=\"label\" optionValue=\"id\"\r\n                id=\"filteroptions\" ariaFilterLabel=\"searchbox\" formControlName=\"selectedFilter\"\r\n                (onChange)=\"changeFilterOptions($event)\">\r\n                <ng-template let-group pTemplate=\"group\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <span>{{ group.columnName }}</span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <button *ngIf=\"gridType === 'view'\" type=\"button\" class=\"btn btn-cancel mb-3\" (click)=\"goBack()\">Back</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 text-right\">\r\n        <div class=\"d-flex justify-content-between align-items-center col-12\" *ngIf=\"getTitle(updateGrid?.gridTitle)\">\r\n          <h6 class=\"font-weight-bold mb-0\"></h6>\r\n\r\n          <div class=\"d-flex inmate-btn-align\">\r\n            <button class=\"btn-print my-2\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\"\r\n              *ngIf=\"showExport\">\r\n              <img class=\"export\" src=\"../../../assets/images/svg/Export_Icon.svg\" alt=\"export\" />\r\n            </button>\r\n            <mat-menu class=\"d-inline-block my-2\" #menu=\"matMenu\" *ngIf=\"showExport\">\r\n              <button mat-menu-item (click)=\"onClose()\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>{{ icon }}</mat-icon>{{ openclose }} Slidebar\r\n              </button>\r\n              <button mat-menu-item (click)=\"reset('excel')\"><mat-icon>grid_on</mat-icon> Export to Excel</button>\r\n              <button mat-menu-item (click)=\"reset('pdf')\"><mat-icon>picture_as_pdf</mat-icon> Export to PDF</button>\r\n              <button mat-menu-item (click)=\"reset('print')\"><mat-icon>print</mat-icon> Print</button>\r\n              <button mat-menu-item (click)=\"reset(pageType)\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>reset_tv</mat-icon> Reset Search Criteria\r\n              </button>\r\n              <button *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\" mat-menu-item\r\n                [matMenuTriggerFor]=\"searchCriteriaList\" #searchcriteriamenutrigger=\"matMenuTrigger\">\r\n                <mat-icon>add_circle_outline</mat-icon> Save Search Criteria\r\n              </button>\r\n            </mat-menu>\r\n            <div [ngClass]=\"updateGrid && updateGrid?.chooser ? 'd-inline-block add-btn-right' : 'd-inline-block'\">\r\n              <!--Add Button, Column chooser button are replacing eachother when its selected-->\r\n              <button class=\"btn-icon-bg d-inline-block pull-right text-right ml-1 my-2\"\r\n                *ngIf=\"showGridPage && item && updateGrid?.isInitialFormLoad\" (click)=\"closeForm()\">\r\n                <em class=\"fa fa-times\"></em>\r\n              </button>\r\n              <div *ngIf=\"\r\n                  updateGrid?.gridActionFormArray !== null &&\r\n                  updateGrid?.gridActionFormArray !== undefined &&\r\n                  updateGrid?.gridActionFormArray &&\r\n                  updateGrid?.gridActionFormArray?.length\r\n                \" class=\"update-grid-action-button-container\">\r\n                <ng-container *ngFor=\"let item of updateGrid?.gridActionFormArray; let i = index\">\r\n                  <ng-container *ngIf=\"!(updateGrid?.isShowOnTop && item?.action?.toLowerCase() === 'add')\">\r\n                    <button *ngIf=\"item?.icon && item.isOutsideGrid && !item.hide\" class=\"btn btn-primary mt-2\"\r\n                      (click)=\"getOutsideGridAction(item)\">\r\n                      <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                    </button>\r\n                    <ng-container *ngIf=\"item?.icon && item.isOutsideGrid && item.type === 'Ocr Scan'\">\r\n                      <label for=\"file\" class=\"btn btn-primary mt-2\">\r\n                        <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                      </label>\r\n                      <input type=\"file\" (change)=\"uploadDocument(item, $event)\" id=\"file\" aria-hidden=\"true\"\r\n                        style=\"visibility: hidden; display: none\" />\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"updateGrid && updateGrid?.chooser\" class=\"col-custom my-2\">\r\n              <button class=\"btn btn-primary btn-icon ml-1\" (click)=\"columnChooserClick()\">\r\n                <em class=\"fa fa-columns\" aria-hidden=\"true\"></em>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button *ngIf=\"isAddButton\" type=\"button\" class=\"btn btn-primary my-2\" (click)=\"redirect()\">Add</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-menu #searchCriteriaList=\"matMenu\" class=\"searchlist\">\r\n      <div class=\"row col-sm-12 mt-4\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"col-sm-6\">\r\n          <mat-form-field>\r\n            <input matInput [(ngModel)]=\"searchCriteria\" placeholder=\"Search Criteria\" />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-sm-2 mt-2\">\r\n          <button class=\"btn btn-pri\" [disabled]=\"!searchCriteria\" (click)=\"saveSearchCriteria()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row col-sm-12\">\r\n        <table aria-describedby=\"Search_Criteria\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Search Criteria</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody *ngIf=\"totalcount\">\r\n            <tr *ngFor=\"let sc of searchCriteriaArr\">\r\n              <td>\r\n                <mat-icon>search</mat-icon>\r\n                <a href=\"javascript:void(0)\" (click)=\"setSearch(sc.data)\">{{ sc.data.searchCriteria }}</a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </mat-menu>\r\n    <div class=\"split-page\">\r\n      <as-split unit=\"percent\" useTransition=\"true\" direction=\"{{ layouttype }}\">\r\n        <as-split-area size=\"{{ spliterSize }}\">\r\n          <div *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <formio #formIO [form]=\"jsonForm\" [submission]=\"submittedData\" (submit)=\"onSubmit($event)\"\r\n                  (customEvent)=\"customEvent($event)\"></formio>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n        <as-split-area size=\"{{ gridspliterSize }}\">\r\n          <div class=\"row\" *ngIf=\"\r\n              ((updateGrid?.isInitialFormLoad !== undefined &&\r\n                updateGrid?.isInitialFormLoad !== null &&\r\n                updateGrid?.isInitialFormLoad) ||\r\n                (updateGrid?.isShowOnTop !== undefined &&\r\n                  updateGrid?.isShowOnTop !== null &&\r\n                  updateGrid?.isShowOnTop)) &&\r\n              item\r\n            \">\r\n            <div class=\"col-12\">\r\n              <ndc-dynamic class=\"no-drag\" [ndcDynamicComponent]=\"item.component\" [ndcDynamicInputs]=\"item\"\r\n                [ndcDynamicOutputs]=\"item?.outputs\"></ndc-dynamic>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"row\" *ngIf=\"showGridPage\">\r\n              <div class=\"col-lg-12 gridview\">\r\n                <div class=\"card mb-2\">\r\n                  <div class=\"card-body {{ getTitleClass(fromTitle) }}\">\r\n\r\n                    <!-- [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"  Removed server filtering-->\r\n                    <dx-data-grid [dataSource]=\"dataSource\" [columnMinWidth]=\"100\" [width]=\"'100%'\" [filterSyncEnabled]=\"true\" #dataGrid\r\n                      [columnResizingMode]=\"'widget'\" [allowColumnReordering]=\"true\" [allowColumnResizing]=\"true\"\r\n                      [columnAutoWidth]=\"true\" (onContentReady)=\"contentReady($event)\"\r\n                      (onCellPrepared)=\"onCellPrepared($event)\" (onRowPrepared)=\"onRowPrepared($event)\"\r\n                      (onCellClick)=\"onCellClick($event)\" (onExporting)=\"onExporting($event)\" [showBorders]=\"true\"\r\n                      [rowAlternationEnabled]=\"true\" [showColumnLines]=\"true\" [showRowLines]=\"true\">\r\n                      <dxo-selection [selectAllMode]=\"allMode\" [showCheckBoxesMode]=\"checkBoxesMode\"\r\n                        [mode]=\"getGridSelection(updateGrid?.gridSelection)\"></dxo-selection>\r\n                      <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n                      <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n                      <dxo-filter-row [visible]=\"showFilterRowPanel\"></dxo-filter-row>\r\n                      <dxo-state-storing [enabled]=\"true\" type=\"custom\" [customSave]=\"customSave\"\r\n                        [customLoad]=\"customLoad\"></dxo-state-storing>\r\n\r\n                      <dxo-column-chooser [enabled]=\"true\" mode=\"select\">\r\n                        <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n                        </dxo-position>\r\n                      </dxo-column-chooser>\r\n\r\n                      <!--Grid - Footer filter removed -->\r\n                      <dxo-paging [pageSize]=currentPageSize></dxo-paging>\r\n                      <dxo-pager [visible]=\"true\" [showPageSizeSelector]=\"true\" [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n                        [displayMode]=\"displayMode\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                      <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n                      <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n                      <ng-container *ngFor=\"let column of columns; let i = index\">\r\n                        <ng-container *ngIf=\"column?.hide !== true\">\r\n                          <ng-container *ngIf=\"column?.link; else noLink\">\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [fixed]=\"column?.fixed\" [dataField]=\"column?.columnDef\"\r\n                              [caption]=\"column?.header\" [allowFiltering]=\"column?.filter\" cellTemplate=\"cellTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [width]=\"column?.width\"\r\n                              [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                              [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-container>\r\n                          <ng-template #noLink>\r\n                            <ng-container *ngIf=\"column?.icon; else noShowmore\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"iconTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noShowmore>\r\n                            <ng-container *ngIf=\"column?.showmore; else noIcon\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"showmoreTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noIcon>\r\n                            <ng-container *ngIf=\"column?.dateFormat; else noDate\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                *ngIf=\"column?.dateFormat === 'date' || column?.dateFormat === 'datetime'\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" dataType=\"date\"\r\n                                [format]=\"getDateFormat(column?.dateFormat)\" [allowSorting]=\"column?.sort\"\r\n                                [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                                [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noDate>\r\n                            <ng-container *ngIf=\"column?.header.toLowerCase().trim() === 'status'; else noStatus\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"statusTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noStatus>\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                              [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                              [allowFiltering]=\"column?.filter\" cellTemplate=\"dataTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                              [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-template>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showGridActions(updateGrid, showActionColumn, gridType)\">\r\n                        <dxi-column [width]=\"120\" [allowFiltering]=\"false\" [showInColumnChooser]=\"false\"\r\n                          [allowSorting]=\"false\" caption=\"Action\" cellTemplate=\"editCellTemplate\">\r\n                        </dxi-column>\r\n                      </ng-container>\r\n                      <div *dxTemplate=\"let d of 'cellTemplate'\" class=\"dashboard-hover\">\r\n                        <a *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d, item)\">{{ d.value !== 'null' ?\r\n                          d.value : '' }}\r\n                          <span *ngIf=\"showIcon(d)\"></span>\r\n                        </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <em *ngIf=\"item.action !== 'add'\" [class]=\"item.icon\" (click)=\"popup(d?.key, item)\"></em>\r\n                        </span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'showmoreTemplate'\" class=\"description-container\">\r\n                          <span>{{ toggleShowMore(d.value, d.column?.dataField) }}</span>\r\n                          <a class=\"toggle-link\" *ngIf=\"d.value.length > truncateTextValue\" (click)=\"toggleShowMoreState(d.value, d.column?.dataField)\">\r\n                            {{ showMoreText[getToggleKey(d.value, d.column?.dataField)] ? 'Show Less' : 'Show More' }}\r\n                          </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'editCellTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <!-- Tooltip for deleted row -->\r\n                          <a *ngIf=\"\r\n                          item?.action === 'info'\"\r\n                            class=\"no-bg\"\r\n                            [matTooltip]=\"'Delete Status: Pending\\n' + item?.message\"\r\n                            [matTooltipPosition]=\"'left'\"\r\n                            [matTooltipShowDelay]=\"100\"\r\n                            [matTooltipHideDelay]=\"100\"\r\n                            [matTooltipClass]=\"'custom-tooltip-class'\">\r\n                            <em [class]=\"item.icon\"></em>\r\n                          </a>\r\n                          <a *ngIf=\"\r\n                                item?.icon &&\r\n                                item?.action !== 'info' &&\r\n                                !item.isOutsideGrid &&\r\n                                d?.data?.status !== 'Closed' &&\r\n                                item.action !== 'changepathway' &&\r\n                                !item?.hide;\r\n                              else changepathway\r\n                            \" class=\"no-bg\" matTooltip=\"{{ titleCaseToolTip(item?.action) }}\"\r\n                            (click)=\"getInsideGridAction(d, item)\">\r\n                            <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                          </a>\r\n\r\n                          <ng-template #changepathway>\r\n                            <a *ngIf=\"item.action === 'changepathway' && d?.rowIndex === 0\" class=\"no-bg\"\r\n                              matTooltip=\"{{ item?.action }}\" (click)=\"getInsideGridAction(d, item)\">\r\n                              <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                            </a>\r\n                          </ng-template>\r\n                        </span>\r\n                        <a *ngIf=\"updateGrid?.gridActionFormArray?.icon\" class=\"no-bg\" matTooltip=\"Open\"\r\n                          (click)=\"openLink(d)\">\r\n                          <em class=\"fa fa-external-link\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.edit\" class=\"no-bg\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                          <em class=\"fa fa-pencil\" title=\"Edit\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.view\" class=\"no-bg\" matTooltip=\"View\" (click)=\"viewData(d)\">\r\n                          <em class=\"fa fa-eye\" title=\"View\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.delete\" class=\"no-bg text-danger\" matTooltip=\"Delete\"\r\n                          (click)=\"deleteData(d)\">\r\n                          <em class=\"fa fa-trash\"></em>\r\n                        </a>\r\n                        <button *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\"\r\n                            class=\"fa fa-toggle-on\"></em>\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\"\r\n                            class=\"fa fa-toggle-off\"></em>\r\n                        </button>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'statusTemplate'\" [class]=\"changeStatusColor(d.value)\">\r\n                        <span>{{ d.value }}</span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'dataTemplate'\"\r\n                        [ngClass]=\"{ 'dashboard-hover-contact': d.column?.dataField === 'servicename' }\">\r\n                        <div class=\"d-inline-block\" *ngIf=\"\r\n                            d.column?.dataField === 'clientaccountno' &&\r\n                            d.data.accountstatus &&\r\n                            d.data.accountstatus === 'INA'\r\n                          \">\r\n                          <em class=\"fa fa-warning red-color\"></em>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'servicename'\">\r\n                          <div class=\"arrow-right\" *ngIf=\"d.data.narrative\">\r\n                            <div class=\"person-details\">\r\n                              <p><span>Narrative</span><span [innerHtml]=\"splitingData(d, '.')\"></span></p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'narrative'; else dataValue\">\r\n                          {{ d.value }}\r\n                        </div>\r\n                        <ng-template #dataValue>{{ d.value }}</ng-template>\r\n                      </div>\r\n                    </dx-data-grid>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n      </as-split>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #callDialogPopup>\r\n  <h2 matDialogTitle>Narrative</h2>\r\n  <div [innerHTML]=\"popupData\"></div>\r\n  <div class=\"text-right\">\r\n    <button mat-button (click)=\"closeDialogPopup()\" class=\"btn btn-cancel mr-2\">Close</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<app-dynamic-details *ngIf=\"openTab\" [key]=\"selectedRowData\"></app-dynamic-details>\r\n\r\n<ng-template #DeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ DefaultDeletePopupTextAftThresholdTime }}</div>\r\n    <div class=\"mb-2\">\r\n      <label for=\"reasonfordelete\" class=\"intake-form-labels clearfix mb-2\">Reason for record deletion <span\r\n          class=\"text-danger\">*</span></label>\r\n      <textarea rows=\"3\" id=\"reasonfordelete\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Reason for deletion (4000 character limit)\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"enteredReason\" (input)=\"checkIsDisabled($event.target.value)\"></textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithReason()\"\r\n      [disabled]=\"isDisabled\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #DeleteGridListWithoutReason>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ deletePopupText }}</div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #ApproveDeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-4\">{{this.deletedReason}}</div>\r\n    <!-- <div class=\"clearfix mb-4\">Do you approve this deletion?</div> -->\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right mb-2 btn btn-primary delete\" data-dismiss=\"modal\"\r\n      (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n      (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n<div class=\"modal\" id=\"confirmGridAction\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ businessRuleMessage }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"confirmGridAction()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">No</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".split-page{outline:3px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.card-title{position:absolute;left:15px;font-size:bold}.red-color{color:#ff6252}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding-bottom:2px!important;text-align:center!important;font-family:Roboto,sans-serif!important}.dx-datagrid-rowsview .dx-row{height:40px!important;font-size:var(--base-font-size)}.dx-datagrid-rowsview .dx-row.dx-row-lines>td{vertical-align:middle!important;overflow:unset;padding-left:6px!important;padding-right:6px!important}.card{box-shadow:none!important;border:none!important}.card-header{padding-left:0;background:#eff8ff;height:auto}.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>td,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>tr>td{overflow:unset!important}.dashboard-hover{position:relative}.dashboard-hover:hover .arrow-right{display:block;z-index:1}.dashboard-hover .person-details{display:inline-block;width:100%}.dashboard-hover .person-details p{margin:0}.dashboard-hover .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top}.dashboard-hover .person-details p span:last-child{width:160px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal}.dashboard-hover .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover .arrow-right{width:280px;min-height:95px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.dashboard-hover-contact{position:relative}.dashboard-hover-contact:hover .arrow-right{display:block;z-index:1}.dashboard-hover-contact .person-details{display:inline-block;width:100%}.dashboard-hover-contact .person-details p{margin:0}.dashboard-hover-contact .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top;word-break:break-word;white-space:normal}.dashboard-hover-contact .person-details p span:last-child{width:135px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal;text-align:left}.dashboard-hover-contact .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover-contact .arrow-right{width:280px;min-height:50px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover-contact .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.open{color:#ff6252;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.draft,.returned{color:red;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.closed,.completed,.approved{color:#2ecd53;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.orange{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.blue{color:#2c2863;border-radius:6px;font-weight:700;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending{color:#e29866;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending-approval{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.readOnlyCard{pointer-events:none!important;opacity:.7!important}.page-wrp{background:var(--bg-light)}.page-wrp h6{color:var(--text-dark)}:host ::ng-deep .as-split-gutter{background:var(--table-header)!important}.title{font-weight:700;font-size:17px;text-transform:capitalize;color:#2c2863}.col-custom .btn-icon-bg{padding:5px 8px!important}:host ::ng-deep .split-page .card-body{padding:0 15px!important}:host ::ng-deep .filterOptions{width:250px}:host ::ng-deep .p-multiselect-items{font-size:12px}:host ::ng-deep .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{padding:.2rem .5rem}:host ::ng-deep .dashboard-hover a{color:var(--interactive-color)!important;cursor:pointer}:host ::ng-deep .dx-datagrid .dx-column-indicators{position:relative;right:1px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-column-chooser{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-checkbox-icon{border:1px solid var(--bg-light)!important}:host ::ng-deep .dx-datagrid .business-group .dx-template-wrapper,:host ::ng-deep .dx-datagrid .business-group .business-alert{display:inline-flex}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .as-vertical .as-split-gutter{display:none!important}.no-resize{resize:none}:host ::ng-deep .custom-mat-tooltip{width:150px;font-size:var(--font-14)}:host ::ng-deep .mdc-tooltip__surface-animation{will-change:auto!important}\n"], dependencies: [{ kind: "directive", type: i9.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i9.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i10.FormioComponent, selector: "formio" }, { kind: "component", type: i11.AlertComponent, selector: "app-alert" }, { kind: "directive", type: i2.NgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i2.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { kind: "directive", type: i2.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { kind: "component", type: i12.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i13.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i14.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i15.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "component", type: i16.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i16.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i16.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "directive", type: i17.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i18.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "component", type: i19.DxDataGridComponent, selector: "dx-data-grid", inputs: ["accessKey", "activeStateEnabled", "allowColumnReordering", "allowColumnResizing", "autoNavigateToFocusedRow", "cacheEnabled", "cellHintEnabled", "columnAutoWidth", "columnChooser", "columnFixing", "columnHidingEnabled", "columnMinWidth", "columnResizingMode", "columns", "columnWidth", "customizeColumns", "dataRowTemplate", "dataSource", "dateSerializationFormat", "disabled", "editing", "elementAttr", "errorRowEnabled", "export", "filterBuilder", "filterBuilderPopup", "filterPanel", "filterRow", "filterSyncEnabled", "filterValue", "focusedColumnIndex", "focusedRowEnabled", "focusedRowIndex", "focusedRowKey", "grouping", "groupPanel", "headerFilter", "height", "highlightChanges", "hint", "hoverStateEnabled", "keyboardNavigation", "keyExpr", "loadPanel", "masterDetail", "noDataText", "pager", "paging", "remoteOperations", "renderAsync", "repaintChangesOnly", "rowAlternationEnabled", "rowDragging", "rowTemplate", "rtlEnabled", "scrolling", "searchPanel", "selectedRowKeys", "selection", "selectionFilter", "showBorders", "showColumnHeaders", "showColumnLines", "showRowLines", "sortByGroupSummaryInfo", "sorting", "stateStoring", "summary", "syncLookupFilterValues", "tabIndex", "toolbar", "twoWayBindingEnabled", "visible", "width", "wordWrapEnabled"], outputs: ["onAdaptiveDetailRowPreparing", "onCellClick", "onCellDblClick", "onCellHoverChanged", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDataErrorOccurred", "onDisposing", "onEditCanceled", "onEditCanceling", "onEditingStart", "onEditorPrepared", "onEditorPreparing", "onExporting", "onFocusedCellChanged", "onFocusedCellChanging", "onFocusedRowChanged", "onFocusedRowChanging", "onInitialized", "onInitNewRow", "onKeyDown", "onOptionChanged", "onRowClick", "onRowCollapsed", "onRowCollapsing", "onRowDblClick", "onRowExpanded", "onRowExpanding", "onRowInserted", "onRowInserting", "onRowPrepared", "onRowRemoved", "onRowRemoving", "onRowUpdated", "onRowUpdating", "onRowValidating", "onSaved", "onSaving", "onSelectionChanged", "onToolbarPreparing", "accessKeyChange", "activeStateEnabledChange", "allowColumnReorderingChange", "allowColumnResizingChange", "autoNavigateToFocusedRowChange", "cacheEnabledChange", "cellHintEnabledChange", "columnAutoWidthChange", "columnChooserChange", "columnFixingChange", "columnHidingEnabledChange", "columnMinWidthChange", "columnResizingModeChange", "columnsChange", "columnWidthChange", "customizeColumnsChange", "dataRowTemplateChange", "dataSourceChange", "dateSerializationFormatChange", "disabledChange", "editingChange", "elementAttrChange", "errorRowEnabledChange", "exportChange", "filterBuilderChange", "filterBuilderPopupChange", "filterPanelChange", "filterRowChange", "filterSyncEnabledChange", "filterValueChange", "focusedColumnIndexChange", "focusedRowEnabledChange", "focusedRowIndexChange", "focusedRowKeyChange", "groupingChange", "groupPanelChange", "headerFilterChange", "heightChange", "highlightChangesChange", "hintChange", "hoverStateEnabledChange", "keyboardNavigationChange", "keyExprChange", "loadPanelChange", "masterDetailChange", "noDataTextChange", "pagerChange", "pagingChange", "remoteOperationsChange", "renderAsyncChange", "repaintChangesOnlyChange", "rowAlternationEnabledChange", "rowDraggingChange", "rowTemplateChange", "rtlEnabledChange", "scrollingChange", "searchPanelChange", "selectedRowKeysChange", "selectionChange", "selectionFilterChange", "showBordersChange", "showColumnHeadersChange", "showColumnLinesChange", "showRowLinesChange", "sortByGroupSummaryInfoChange", "sortingChange", "stateStoringChange", "summaryChange", "syncLookupFilterValuesChange", "tabIndexChange", "toolbarChange", "twoWayBindingEnabledChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { kind: "component", type: i20.DxoColumnChooserComponent, selector: "dxo-column-chooser", inputs: ["allowSearch", "container", "emptyPanelText", "enabled", "height", "mode", "position", "search", "searchTimeout", "selection", "sortOrder", "title", "width"] }, { kind: "component", type: i20.DxoPositionComponent, selector: "dxo-position", inputs: ["at", "boundary", "boundaryOffset", "collision", "my", "of", "offset"] }, { kind: "component", type: i20.DxoSelectionComponent, selector: "dxo-selection", inputs: ["allowSelectAll", "recursive", "selectByClick", "deferred", "mode", "selectAllMode", "showCheckBoxesMode"] }, { kind: "component", type: i20.DxiColumnComponent, selector: "dxi-column", inputs: ["alignment", "allowEditing", "allowExporting", "allowFiltering", "allowFixing", "allowGrouping", "allowHeaderFiltering", "allowHiding", "allowReordering", "allowResizing", "allowSearch", "allowSorting", "autoExpandGroup", "buttons", "calculateCellValue", "calculateDisplayValue", "calculateFilterExpression", "calculateGroupValue", "calculateSortValue", "caption", "cellTemplate", "columns", "cssClass", "customizeText", "dataField", "dataType", "editCellTemplate", "editorOptions", "encodeHtml", "falseText", "filterOperations", "filterType", "filterValue", "filterValues", "fixed", "fixedPosition", "format", "formItem", "groupCellTemplate", "groupIndex", "headerCellTemplate", "headerFilter", "hidingPriority", "isBand", "lookup", "minWidth", "name", "ownerBand", "renderAsync", "selectedFilterOperation", "setCellValue", "showEditorAlways", "showInColumnChooser", "showWhenGrouped", "sortIndex", "sortingMethod", "sortOrder", "trueText", "type", "validationRules", "visible", "visibleIndex", "width"], outputs: ["filterValueChange", "filterValuesChange", "groupIndexChange", "selectedFilterOperationChange", "sortIndexChange", "sortOrderChange", "visibleChange", "visibleIndexChange"] }, { kind: "component", type: i20.DxoHeaderFilterComponent, selector: "dxo-header-filter", inputs: ["allowSearch", "allowSelectAll", "dataSource", "groupInterval", "height", "search", "searchMode", "width", "searchTimeout", "texts", "visible", "showRelevantValues"] }, { kind: "component", type: i20.DxoExportComponent, selector: "dxo-export", inputs: ["backgroundColor", "enabled", "fileName", "formats", "margin", "printingEnabled", "svgToCanvas", "allowExportSelectedData", "texts"] }, { kind: "component", type: i20.DxoFilterBuilderPopupComponent, selector: "dxo-filter-builder-popup", inputs: ["accessKey", "animation", "closeOnOutsideClick", "container", "contentTemplate", "copyRootClassesToWrapper", "deferRendering", "disabled", "dragAndResizeArea", "dragEnabled", "dragOutsideBoundary", "elementAttr", "enableBodyScroll", "focusStateEnabled", "fullScreen", "height", "hideOnOutsideClick", "hideOnParentScroll", "hint", "hoverStateEnabled", "maxHeight", "maxWidth", "minHeight", "minWidth", "onContentReady", "onDisposing", "onHidden", "onHiding", "onInitialized", "onOptionChanged", "onResize", "onResizeEnd", "onResizeStart", "onShowing", "onShown", "onTitleRendered", "position", "resizeEnabled", "restorePosition", "rtlEnabled", "shading", "shadingColor", "showCloseButton", "showTitle", "tabIndex", "title", "titleTemplate", "toolbarItems", "visible", "width", "wrapperAttr"], outputs: ["heightChange", "positionChange", "visibleChange", "widthChange"] }, { kind: "component", type: i20.DxoFilterRowComponent, selector: "dxo-filter-row", inputs: ["applyFilter", "applyFilterText", "betweenEndText", "betweenStartText", "operationDescriptions", "resetOperationText", "showAllText", "showOperationChooser", "visible"] }, { kind: "component", type: i20.DxoLoadPanelComponent, selector: "dxo-load-panel", inputs: ["enabled", "height", "indicatorSrc", "shading", "shadingColor", "showIndicator", "showPane", "text", "width"] }, { kind: "component", type: i20.DxoPagerComponent, selector: "dxo-pager", inputs: ["allowedPageSizes", "displayMode", "infoText", "label", "showInfo", "showNavigationButtons", "showPageSizeSelector", "visible"] }, { kind: "component", type: i20.DxoPagingComponent, selector: "dxo-paging", inputs: ["enabled", "pageIndex", "pageSize"], outputs: ["pageIndexChange", "pageSizeChange"] }, { kind: "component", type: i20.DxoStateStoringComponent, selector: "dxo-state-storing", inputs: ["customLoad", "customSave", "enabled", "savingTimeout", "storageKey", "type"] }, { kind: "directive", type: i21.DxTemplateDirective, selector: "[dxTemplate]", inputs: ["dxTemplateOf"] }, { kind: "directive", type: i22.DynamicIoDirective, selector: "[ndcDynamicInputs],[ndcDynamicOutputs]", inputs: ["ndcDynamicInputs", "ndcDynamicOutputs"], exportAs: ["ndcDynamicIo"] }, { kind: "component", type: i22.DynamicComponent, selector: "ndc-dynamic", inputs: ["ndcDynamicComponent", "ndcDynamicInjector", "ndcDynamicProviders", "ndcDynamicContent", "ndcDynamicNgModuleRef", "ndcDynamicEnvironmentInjector"], outputs: ["ndcDynamicCreated"] }, { kind: "component", type: i23.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex", "selectOnFocus", "headerAriaLevel"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { kind: "component", type: i23.AccordionTab, selector: "p-accordionTab", inputs: ["id", "header", "headerStyle", "tabStyle", "contentStyle", "tabStyleClass", "headerStyleClass", "contentStyleClass", "disabled", "cache", "transitionOptions", "iconPos", "selected", "headerAriaLevel"], outputs: ["selectedChange"] }, { kind: "directive", type: i24.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "component", type: i25.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "directive", type: i26.InputTextarea, selector: "[pInputTextarea]", inputs: ["autoResize"], outputs: ["onResize"] }, { kind: "pipe", type: i9.KeyValuePipe, name: "keyvalue" }] });
}
i0.ngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicSearchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-dynamic-search', template: "<app-alert></app-alert>\r\n<div [class]=\"userAction === 'view' ? 'readOnlyCard' : ''\">\r\n  <div *ngIf=\"header\">\r\n    <table class=\"table table-bordered\" aria-describedby=\"border\">\r\n      <thead>\r\n        <tr>\r\n          <th *ngFor=\"let item of titletab | keyvalue\">{{ item.key }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td *ngFor=\"let item of titletab | keyvalue\">{{ item.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <p-accordion class=\"w-full dynamic-search\" [activeIndex]=\"1\" iconPos=\"endVal\"\r\n    *ngIf=\"dynamicSearch && dynamicSearch.length > 0\">\r\n    <p-accordionTab>\r\n      <ng-template pTemplate=\"header\">\r\n        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n          <span class=\"font-bold\">Quick Search</span>\r\n        </span>\r\n      </ng-template>\r\n      <div class=\"d-flex my-2 row\">\r\n        <div class=\"col-12 text-md-right\">\r\n          <button type=\"button\" title=\"Add New\" pripple class=\"p-ripple p-element btn btn-primary btn-icon\"\r\n            (click)=\"addGridDynamicSearch()\">\r\n            <em class=\"pi pi-plus font-weight-bold\"></em>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]=\"gridDynamicSearchForm\">\r\n        <ng-container formArrayName=\"dynamicSearchArray\">\r\n          <div *ngFor=\"let dynamicSearchItem of initDynamicSearch().controls; let dynamicSearchIndex = index\"\r\n            [formGroupName]=\"dynamicSearchIndex\">\r\n            <div class=\"row rbac-card\">\r\n              <div class=\"col-md-11 col-12 pr-0\">\r\n                <div class=\"row\">\r\n                  <!-- <div class=\"col-lg-3 col-md-6 col-12 mb-3\"> -->\r\n                  <!--   <label class=\"referral-form-labels\" for=\"tableList\">Table</label> -->\r\n                  <!--   <p-dropdown -->\r\n                  <!--     [options]=\"dynamicSearchItem.get('tableDropDown')?.value\" -->\r\n                  <!--     optionLabel=\"name\" -->\r\n                  <!--     optionValue=\"value\" -->\r\n                  <!--     id=\"tableList_{{ dynamicSearchIndex }}\" -->\r\n                  <!--     placeholder=\"Select Table\" -->\r\n                  <!--     formControlName=\"tableName\" -->\r\n                  <!--     tabindex=\"0\" -->\r\n                  <!--     styleClass=\"w-100\" -->\r\n                  <!--     (onChange)=\"getColumnList(dynamicSearchIndex, dynamicSearchItem.get('tableName')?.value)\"> -->\r\n                  <!--   </p-dropdown> -->\r\n                  <!--   <span -->\r\n                  <!--     class=\"text-danger error-text\" -->\r\n                  <!--     *ngIf=\" -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.hasError('required') && -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.touched -->\r\n                  <!--     \" -->\r\n                  <!--     >Please Select Table Name</span -->\r\n                  <!--   > -->\r\n                  <!-- </div> -->\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"columnList\">Column <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('columnDropDown')?.value\"\r\n                      id=\"columnList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Column\" formControlName=\"columnName\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"getConditionList(dynamicSearchIndex, dynamicSearchItem.get('columnName')?.value)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('columnName')?.hasError('required') &&\r\n                        dynamicSearchItem.get('columnName')?.touched\r\n                      \">Please Select Column Name</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"conditionList\">Condition <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('conditionDropdown')?.value\"\r\n                      id=\"conditionList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Condition\" formControlName=\"condition\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"resetDynamicSearchValue(dynamicSearchIndex)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('condition')?.hasError('required') &&\r\n                        dynamicSearchItem.get('condition')?.touched\r\n                      \">Please Select Condition</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"valueList\">Value <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <input type=\"text\" class=\"p-inputtext w-100\" id=\"valueList\" formControlName=\"value\"\r\n                      placeholder=\"\" />\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('value')?.hasError('required') && dynamicSearchItem.get('value')?.touched\r\n                      \">Please Fill Value</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                    <span class=\"material-symbols-outlined text-danger delete-icon\" role=\"button\"\r\n                      id=\"deleteDynamicSearch\" (click)=\"removeDynamicSearch(dynamicSearchIndex)\"\r\n                      title=\"Delete\">delete</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                class=\"col-md-1 col-12 mb-3 text-md-center d-md-flex align-items-md-center justify-content-md-center flex-column\">\r\n                <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                <span class=\"material-symbols-outlined text-danger\" role=\"button\" id=\"deleteDynamicSearch\"\r\n                  (click)=\"removeDynamicSearch(dynamicSearchIndex)\" title=\"Delete\">delete</span>\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"removeDynamicSearch()\">Delete</button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex flex-column align-self-end\">\r\n            <div class=\"col-md-12 text-md-right mt-2\">\r\n              <!-- <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"saveDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">\r\n                Save\r\n              </button> -->\r\n              <button type=\"button\" class=\"btn btn-cancel\" (click)=\"resetDynamicSearch()\">Clear</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">Search</button>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n    </p-accordionTab>\r\n  </p-accordion>\r\n  <div class=\"page-wrp mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <!-- <div *ngIf=\"true\">\r\n          <div class=\"d-flex\" [formGroup]=\"filterForm\" *ngIf=\"gridType !== 'view'\">\r\n            <div class=\"col-md-12\">\r\n              <p-multiSelect [options]=\"filterOptions\" styleClass=\"filterOptions\" [group]=\"true\"\r\n                selectedItemsLabel=\"{0} items selected\" defaultLabel=\"Select\" optionLabel=\"label\" optionValue=\"id\"\r\n                id=\"filteroptions\" ariaFilterLabel=\"searchbox\" formControlName=\"selectedFilter\"\r\n                (onChange)=\"changeFilterOptions($event)\">\r\n                <ng-template let-group pTemplate=\"group\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <span>{{ group.columnName }}</span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <button *ngIf=\"gridType === 'view'\" type=\"button\" class=\"btn btn-cancel mb-3\" (click)=\"goBack()\">Back</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 text-right\">\r\n        <div class=\"d-flex justify-content-between align-items-center col-12\" *ngIf=\"getTitle(updateGrid?.gridTitle)\">\r\n          <h6 class=\"font-weight-bold mb-0\"></h6>\r\n\r\n          <div class=\"d-flex inmate-btn-align\">\r\n            <button class=\"btn-print my-2\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\"\r\n              *ngIf=\"showExport\">\r\n              <img class=\"export\" src=\"../../../assets/images/svg/Export_Icon.svg\" alt=\"export\" />\r\n            </button>\r\n            <mat-menu class=\"d-inline-block my-2\" #menu=\"matMenu\" *ngIf=\"showExport\">\r\n              <button mat-menu-item (click)=\"onClose()\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>{{ icon }}</mat-icon>{{ openclose }} Slidebar\r\n              </button>\r\n              <button mat-menu-item (click)=\"reset('excel')\"><mat-icon>grid_on</mat-icon> Export to Excel</button>\r\n              <button mat-menu-item (click)=\"reset('pdf')\"><mat-icon>picture_as_pdf</mat-icon> Export to PDF</button>\r\n              <button mat-menu-item (click)=\"reset('print')\"><mat-icon>print</mat-icon> Print</button>\r\n              <button mat-menu-item (click)=\"reset(pageType)\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>reset_tv</mat-icon> Reset Search Criteria\r\n              </button>\r\n              <button *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\" mat-menu-item\r\n                [matMenuTriggerFor]=\"searchCriteriaList\" #searchcriteriamenutrigger=\"matMenuTrigger\">\r\n                <mat-icon>add_circle_outline</mat-icon> Save Search Criteria\r\n              </button>\r\n            </mat-menu>\r\n            <div [ngClass]=\"updateGrid && updateGrid?.chooser ? 'd-inline-block add-btn-right' : 'd-inline-block'\">\r\n              <!--Add Button, Column chooser button are replacing eachother when its selected-->\r\n              <button class=\"btn-icon-bg d-inline-block pull-right text-right ml-1 my-2\"\r\n                *ngIf=\"showGridPage && item && updateGrid?.isInitialFormLoad\" (click)=\"closeForm()\">\r\n                <em class=\"fa fa-times\"></em>\r\n              </button>\r\n              <div *ngIf=\"\r\n                  updateGrid?.gridActionFormArray !== null &&\r\n                  updateGrid?.gridActionFormArray !== undefined &&\r\n                  updateGrid?.gridActionFormArray &&\r\n                  updateGrid?.gridActionFormArray?.length\r\n                \" class=\"update-grid-action-button-container\">\r\n                <ng-container *ngFor=\"let item of updateGrid?.gridActionFormArray; let i = index\">\r\n                  <ng-container *ngIf=\"!(updateGrid?.isShowOnTop && item?.action?.toLowerCase() === 'add')\">\r\n                    <button *ngIf=\"item?.icon && item.isOutsideGrid && !item.hide\" class=\"btn btn-primary mt-2\"\r\n                      (click)=\"getOutsideGridAction(item)\">\r\n                      <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                    </button>\r\n                    <ng-container *ngIf=\"item?.icon && item.isOutsideGrid && item.type === 'Ocr Scan'\">\r\n                      <label for=\"file\" class=\"btn btn-primary mt-2\">\r\n                        <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                      </label>\r\n                      <input type=\"file\" (change)=\"uploadDocument(item, $event)\" id=\"file\" aria-hidden=\"true\"\r\n                        style=\"visibility: hidden; display: none\" />\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"updateGrid && updateGrid?.chooser\" class=\"col-custom my-2\">\r\n              <button class=\"btn btn-primary btn-icon ml-1\" (click)=\"columnChooserClick()\">\r\n                <em class=\"fa fa-columns\" aria-hidden=\"true\"></em>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button *ngIf=\"isAddButton\" type=\"button\" class=\"btn btn-primary my-2\" (click)=\"redirect()\">Add</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-menu #searchCriteriaList=\"matMenu\" class=\"searchlist\">\r\n      <div class=\"row col-sm-12 mt-4\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"col-sm-6\">\r\n          <mat-form-field>\r\n            <input matInput [(ngModel)]=\"searchCriteria\" placeholder=\"Search Criteria\" />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-sm-2 mt-2\">\r\n          <button class=\"btn btn-pri\" [disabled]=\"!searchCriteria\" (click)=\"saveSearchCriteria()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row col-sm-12\">\r\n        <table aria-describedby=\"Search_Criteria\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Search Criteria</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody *ngIf=\"totalcount\">\r\n            <tr *ngFor=\"let sc of searchCriteriaArr\">\r\n              <td>\r\n                <mat-icon>search</mat-icon>\r\n                <a href=\"javascript:void(0)\" (click)=\"setSearch(sc.data)\">{{ sc.data.searchCriteria }}</a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </mat-menu>\r\n    <div class=\"split-page\">\r\n      <as-split unit=\"percent\" useTransition=\"true\" direction=\"{{ layouttype }}\">\r\n        <as-split-area size=\"{{ spliterSize }}\">\r\n          <div *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <formio #formIO [form]=\"jsonForm\" [submission]=\"submittedData\" (submit)=\"onSubmit($event)\"\r\n                  (customEvent)=\"customEvent($event)\"></formio>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n        <as-split-area size=\"{{ gridspliterSize }}\">\r\n          <div class=\"row\" *ngIf=\"\r\n              ((updateGrid?.isInitialFormLoad !== undefined &&\r\n                updateGrid?.isInitialFormLoad !== null &&\r\n                updateGrid?.isInitialFormLoad) ||\r\n                (updateGrid?.isShowOnTop !== undefined &&\r\n                  updateGrid?.isShowOnTop !== null &&\r\n                  updateGrid?.isShowOnTop)) &&\r\n              item\r\n            \">\r\n            <div class=\"col-12\">\r\n              <ndc-dynamic class=\"no-drag\" [ndcDynamicComponent]=\"item.component\" [ndcDynamicInputs]=\"item\"\r\n                [ndcDynamicOutputs]=\"item?.outputs\"></ndc-dynamic>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"row\" *ngIf=\"showGridPage\">\r\n              <div class=\"col-lg-12 gridview\">\r\n                <div class=\"card mb-2\">\r\n                  <div class=\"card-body {{ getTitleClass(fromTitle) }}\">\r\n\r\n                    <!-- [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"  Removed server filtering-->\r\n                    <dx-data-grid [dataSource]=\"dataSource\" [columnMinWidth]=\"100\" [width]=\"'100%'\" [filterSyncEnabled]=\"true\" #dataGrid\r\n                      [columnResizingMode]=\"'widget'\" [allowColumnReordering]=\"true\" [allowColumnResizing]=\"true\"\r\n                      [columnAutoWidth]=\"true\" (onContentReady)=\"contentReady($event)\"\r\n                      (onCellPrepared)=\"onCellPrepared($event)\" (onRowPrepared)=\"onRowPrepared($event)\"\r\n                      (onCellClick)=\"onCellClick($event)\" (onExporting)=\"onExporting($event)\" [showBorders]=\"true\"\r\n                      [rowAlternationEnabled]=\"true\" [showColumnLines]=\"true\" [showRowLines]=\"true\">\r\n                      <dxo-selection [selectAllMode]=\"allMode\" [showCheckBoxesMode]=\"checkBoxesMode\"\r\n                        [mode]=\"getGridSelection(updateGrid?.gridSelection)\"></dxo-selection>\r\n                      <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n                      <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n                      <dxo-filter-row [visible]=\"showFilterRowPanel\"></dxo-filter-row>\r\n                      <dxo-state-storing [enabled]=\"true\" type=\"custom\" [customSave]=\"customSave\"\r\n                        [customLoad]=\"customLoad\"></dxo-state-storing>\r\n\r\n                      <dxo-column-chooser [enabled]=\"true\" mode=\"select\">\r\n                        <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n                        </dxo-position>\r\n                      </dxo-column-chooser>\r\n\r\n                      <!--Grid - Footer filter removed -->\r\n                      <dxo-paging [pageSize]=currentPageSize></dxo-paging>\r\n                      <dxo-pager [visible]=\"true\" [showPageSizeSelector]=\"true\" [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n                        [displayMode]=\"displayMode\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                      <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n                      <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n                      <ng-container *ngFor=\"let column of columns; let i = index\">\r\n                        <ng-container *ngIf=\"column?.hide !== true\">\r\n                          <ng-container *ngIf=\"column?.link; else noLink\">\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [fixed]=\"column?.fixed\" [dataField]=\"column?.columnDef\"\r\n                              [caption]=\"column?.header\" [allowFiltering]=\"column?.filter\" cellTemplate=\"cellTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [width]=\"column?.width\"\r\n                              [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                              [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-container>\r\n                          <ng-template #noLink>\r\n                            <ng-container *ngIf=\"column?.icon; else noShowmore\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"iconTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noShowmore>\r\n                            <ng-container *ngIf=\"column?.showmore; else noIcon\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"showmoreTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noIcon>\r\n                            <ng-container *ngIf=\"column?.dateFormat; else noDate\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                *ngIf=\"column?.dateFormat === 'date' || column?.dateFormat === 'datetime'\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" dataType=\"date\"\r\n                                [format]=\"getDateFormat(column?.dateFormat)\" [allowSorting]=\"column?.sort\"\r\n                                [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                                [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noDate>\r\n                            <ng-container *ngIf=\"column?.header.toLowerCase().trim() === 'status'; else noStatus\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"statusTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noStatus>\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                              [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                              [allowFiltering]=\"column?.filter\" cellTemplate=\"dataTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                              [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-template>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showGridActions(updateGrid, showActionColumn, gridType)\">\r\n                        <dxi-column [width]=\"120\" [allowFiltering]=\"false\" [showInColumnChooser]=\"false\"\r\n                          [allowSorting]=\"false\" caption=\"Action\" cellTemplate=\"editCellTemplate\">\r\n                        </dxi-column>\r\n                      </ng-container>\r\n                      <div *dxTemplate=\"let d of 'cellTemplate'\" class=\"dashboard-hover\">\r\n                        <a *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d, item)\">{{ d.value !== 'null' ?\r\n                          d.value : '' }}\r\n                          <span *ngIf=\"showIcon(d)\"></span>\r\n                        </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <em *ngIf=\"item.action !== 'add'\" [class]=\"item.icon\" (click)=\"popup(d?.key, item)\"></em>\r\n                        </span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'showmoreTemplate'\" class=\"description-container\">\r\n                          <span>{{ toggleShowMore(d.value, d.column?.dataField) }}</span>\r\n                          <a class=\"toggle-link\" *ngIf=\"d.value.length > truncateTextValue\" (click)=\"toggleShowMoreState(d.value, d.column?.dataField)\">\r\n                            {{ showMoreText[getToggleKey(d.value, d.column?.dataField)] ? 'Show Less' : 'Show More' }}\r\n                          </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'editCellTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <!-- Tooltip for deleted row -->\r\n                          <a *ngIf=\"\r\n                          item?.action === 'info'\"\r\n                            class=\"no-bg\"\r\n                            [matTooltip]=\"'Delete Status: Pending\\n' + item?.message\"\r\n                            [matTooltipPosition]=\"'left'\"\r\n                            [matTooltipShowDelay]=\"100\"\r\n                            [matTooltipHideDelay]=\"100\"\r\n                            [matTooltipClass]=\"'custom-tooltip-class'\">\r\n                            <em [class]=\"item.icon\"></em>\r\n                          </a>\r\n                          <a *ngIf=\"\r\n                                item?.icon &&\r\n                                item?.action !== 'info' &&\r\n                                !item.isOutsideGrid &&\r\n                                d?.data?.status !== 'Closed' &&\r\n                                item.action !== 'changepathway' &&\r\n                                !item?.hide;\r\n                              else changepathway\r\n                            \" class=\"no-bg\" matTooltip=\"{{ titleCaseToolTip(item?.action) }}\"\r\n                            (click)=\"getInsideGridAction(d, item)\">\r\n                            <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                          </a>\r\n\r\n                          <ng-template #changepathway>\r\n                            <a *ngIf=\"item.action === 'changepathway' && d?.rowIndex === 0\" class=\"no-bg\"\r\n                              matTooltip=\"{{ item?.action }}\" (click)=\"getInsideGridAction(d, item)\">\r\n                              <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                            </a>\r\n                          </ng-template>\r\n                        </span>\r\n                        <a *ngIf=\"updateGrid?.gridActionFormArray?.icon\" class=\"no-bg\" matTooltip=\"Open\"\r\n                          (click)=\"openLink(d)\">\r\n                          <em class=\"fa fa-external-link\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.edit\" class=\"no-bg\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                          <em class=\"fa fa-pencil\" title=\"Edit\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.view\" class=\"no-bg\" matTooltip=\"View\" (click)=\"viewData(d)\">\r\n                          <em class=\"fa fa-eye\" title=\"View\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.delete\" class=\"no-bg text-danger\" matTooltip=\"Delete\"\r\n                          (click)=\"deleteData(d)\">\r\n                          <em class=\"fa fa-trash\"></em>\r\n                        </a>\r\n                        <button *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\"\r\n                            class=\"fa fa-toggle-on\"></em>\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\"\r\n                            class=\"fa fa-toggle-off\"></em>\r\n                        </button>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'statusTemplate'\" [class]=\"changeStatusColor(d.value)\">\r\n                        <span>{{ d.value }}</span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'dataTemplate'\"\r\n                        [ngClass]=\"{ 'dashboard-hover-contact': d.column?.dataField === 'servicename' }\">\r\n                        <div class=\"d-inline-block\" *ngIf=\"\r\n                            d.column?.dataField === 'clientaccountno' &&\r\n                            d.data.accountstatus &&\r\n                            d.data.accountstatus === 'INA'\r\n                          \">\r\n                          <em class=\"fa fa-warning red-color\"></em>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'servicename'\">\r\n                          <div class=\"arrow-right\" *ngIf=\"d.data.narrative\">\r\n                            <div class=\"person-details\">\r\n                              <p><span>Narrative</span><span [innerHtml]=\"splitingData(d, '.')\"></span></p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'narrative'; else dataValue\">\r\n                          {{ d.value }}\r\n                        </div>\r\n                        <ng-template #dataValue>{{ d.value }}</ng-template>\r\n                      </div>\r\n                    </dx-data-grid>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n      </as-split>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #callDialogPopup>\r\n  <h2 matDialogTitle>Narrative</h2>\r\n  <div [innerHTML]=\"popupData\"></div>\r\n  <div class=\"text-right\">\r\n    <button mat-button (click)=\"closeDialogPopup()\" class=\"btn btn-cancel mr-2\">Close</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<app-dynamic-details *ngIf=\"openTab\" [key]=\"selectedRowData\"></app-dynamic-details>\r\n\r\n<ng-template #DeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ DefaultDeletePopupTextAftThresholdTime }}</div>\r\n    <div class=\"mb-2\">\r\n      <label for=\"reasonfordelete\" class=\"intake-form-labels clearfix mb-2\">Reason for record deletion <span\r\n          class=\"text-danger\">*</span></label>\r\n      <textarea rows=\"3\" id=\"reasonfordelete\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Reason for deletion (4000 character limit)\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"enteredReason\" (input)=\"checkIsDisabled($event.target.value)\"></textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithReason()\"\r\n      [disabled]=\"isDisabled\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #DeleteGridListWithoutReason>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ deletePopupText }}</div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #ApproveDeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-4\">{{this.deletedReason}}</div>\r\n    <!-- <div class=\"clearfix mb-4\">Do you approve this deletion?</div> -->\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right mb-2 btn btn-primary delete\" data-dismiss=\"modal\"\r\n      (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n      (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n<div class=\"modal\" id=\"confirmGridAction\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ businessRuleMessage }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"confirmGridAction()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">No</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".split-page{outline:3px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.card-title{position:absolute;left:15px;font-size:bold}.red-color{color:#ff6252}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding-bottom:2px!important;text-align:center!important;font-family:Roboto,sans-serif!important}.dx-datagrid-rowsview .dx-row{height:40px!important;font-size:var(--base-font-size)}.dx-datagrid-rowsview .dx-row.dx-row-lines>td{vertical-align:middle!important;overflow:unset;padding-left:6px!important;padding-right:6px!important}.card{box-shadow:none!important;border:none!important}.card-header{padding-left:0;background:#eff8ff;height:auto}.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>td,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>tr>td{overflow:unset!important}.dashboard-hover{position:relative}.dashboard-hover:hover .arrow-right{display:block;z-index:1}.dashboard-hover .person-details{display:inline-block;width:100%}.dashboard-hover .person-details p{margin:0}.dashboard-hover .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top}.dashboard-hover .person-details p span:last-child{width:160px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal}.dashboard-hover .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover .arrow-right{width:280px;min-height:95px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.dashboard-hover-contact{position:relative}.dashboard-hover-contact:hover .arrow-right{display:block;z-index:1}.dashboard-hover-contact .person-details{display:inline-block;width:100%}.dashboard-hover-contact .person-details p{margin:0}.dashboard-hover-contact .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top;word-break:break-word;white-space:normal}.dashboard-hover-contact .person-details p span:last-child{width:135px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal;text-align:left}.dashboard-hover-contact .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover-contact .arrow-right{width:280px;min-height:50px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover-contact .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.open{color:#ff6252;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.draft,.returned{color:red;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.closed,.completed,.approved{color:#2ecd53;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.orange{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.blue{color:#2c2863;border-radius:6px;font-weight:700;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending{color:#e29866;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending-approval{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.readOnlyCard{pointer-events:none!important;opacity:.7!important}.page-wrp{background:var(--bg-light)}.page-wrp h6{color:var(--text-dark)}:host ::ng-deep .as-split-gutter{background:var(--table-header)!important}.title{font-weight:700;font-size:17px;text-transform:capitalize;color:#2c2863}.col-custom .btn-icon-bg{padding:5px 8px!important}:host ::ng-deep .split-page .card-body{padding:0 15px!important}:host ::ng-deep .filterOptions{width:250px}:host ::ng-deep .p-multiselect-items{font-size:12px}:host ::ng-deep .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{padding:.2rem .5rem}:host ::ng-deep .dashboard-hover a{color:var(--interactive-color)!important;cursor:pointer}:host ::ng-deep .dx-datagrid .dx-column-indicators{position:relative;right:1px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-column-chooser{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-checkbox-icon{border:1px solid var(--bg-light)!important}:host ::ng-deep .dx-datagrid .business-group .dx-template-wrapper,:host ::ng-deep .dx-datagrid .business-group .business-alert{display:inline-flex}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .as-vertical .as-split-gutter{display:none!important}.no-resize{resize:none}:host ::ng-deep .custom-mat-tooltip{width:150px;font-size:var(--font-14)}:host ::ng-deep .mdc-tooltip__surface-animation{will-change:auto!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.Router }, { type: i1.ActivatedRoute }, { type: i0.ChangeDetectorRef }, { type: i2.UntypedFormBuilder }, { type: i3.FormioService }, { type: i4.LocalStorageService }, { type: i2.UntypedFormBuilder }, { type: i5.Store }, { type: i6.PlatformDataStoreService }, { type: i7.SharedService }, { type: i8.ConfigService }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }]; }, propDecorators: { searchcriteriamenutrigger: [{
                type: ViewChild,
                args: ['searchcriteriamenutrigger']
            }], dataGrid: [{
                type: ViewChild,
                args: [DxDataGridComponent, { static: false }]
            }], formId: [{
                type: Input
            }], pageId: [{
                type: Input
            }], callDialogPopup: [{
                type: ViewChild,
                args: ['callDialogPopup']
            }], outerRouting: [{
                type: Output
            }], formIO: [{
                type: ViewChild,
                args: ['formIO']
            }], filterOptionsDropdown: [{
                type: ViewChild,
                args: [MultiSelect]
            }], componentId: [{
                type: Input
            }], DeleteGridList: [{
                type: ViewChild,
                args: ['DeleteGridList']
            }], DeleteGridListWithoutReason: [{
                type: ViewChild,
                args: ['DeleteGridListWithoutReason']
            }], ApproveDeleteGridList: [{
                type: ViewChild,
                args: ['ApproveDeleteGridList']
            }], onResize: [{
                type: HostListener,
                args: ['window:resize', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy1zZWFyY2guY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2R5bmFtaWMvc3JjL2xpYi9waWNzLWR5bmFtaWMvZHluYW1pYy1zZWFyY2gvZHluYW1pYy1zZWFyY2guY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2R5bmFtaWMvc3JjL2xpYi9waWNzLWR5bmFtaWMvZHluYW1pYy1zZWFyY2gvZHluYW1pYy1zZWFyY2guY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0QsT0FBTyxFQUdMLFNBQVMsRUFDVCxZQUFZLEVBQ1osWUFBWSxFQUNaLE1BQU0sRUFFTixLQUFLLEVBR0wsUUFBUSxFQUNSLE1BQU0sRUFFTixTQUFTLEVBQ1YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUEwRCxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRyxPQUFPLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQWdCLE1BQU0sMEJBQTBCLENBQUM7QUFJckcsT0FBTyxFQUFFLE1BQU0sRUFBUyxNQUFNLGFBQWEsQ0FBQztBQUM1QyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN6RCxPQUFPLFdBQVcsTUFBTSw4QkFBOEIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsY0FBYyxJQUFJLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDaEYsT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDL0IsT0FBTyxNQUFNLE1BQU0sZUFBZSxDQUFDO0FBQ25DLE9BQU8sRUFB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QUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzlILElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDcEksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxL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QkE2NkRsQyxRQUFRO3NCQURQLFlBQVk7dUJBQUMsZUFBZSxFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHtcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSG9zdExpc3RlbmVyLFxyXG4gIEluamVjdCxcclxuICBJbmplY3RvcixcclxuICBJbnB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9wdGlvbmFsLFxyXG4gIE91dHB1dCxcclxuICBUZW1wbGF0ZVJlZixcclxuICBWaWV3Q2hpbGRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVW50eXBlZEZvcm1BcnJheSwgVW50eXBlZEZvcm1CdWlsZGVyLCBVbnR5cGVkRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZywgTWF0RGlhbG9nQ29uZmlnLCBNYXREaWFsb2dSZWYgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBNYXRNZW51VHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL21lbnUnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgRm9ybWlvQ29tcG9uZW50IH0gZnJvbSAnQGZvcm1pby9hbmd1bGFyJztcclxuaW1wb3J0IHsgc2VsZWN0LCBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgRHhEYXRhR3JpZENvbXBvbmVudCB9IGZyb20gJ2RldmV4dHJlbWUtYW5ndWxhcic7XHJcbmltcG9ydCBDdXN0b21TdG9yZSBmcm9tICdkZXZleHRyZW1lL2RhdGEvY3VzdG9tX3N0b3JlJztcclxuaW1wb3J0IHsgZXhwb3J0RGF0YUdyaWQgYXMgZXhwb3J0RGF0YUdyaWRUb1BkZiB9IGZyb20gJ2RldmV4dHJlbWUvcGRmX2V4cG9ydGVyJztcclxuaW1wb3J0ICogYXMganNQREYgZnJvbSAnanNwZGYnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC9tb21lbnQnO1xyXG5pbXBvcnQgeyBNdWx0aVNlbGVjdCB9IGZyb20gJ3ByaW1lbmcvbXVsdGlzZWxlY3QnO1xyXG5pbXBvcnQgZXM2cHJpbnRKUyBmcm9tICdwcmludC1qcyc7XHJcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IEFwcENvbnN0YW50cyB9IGZyb20gJy4uL0Bjb3JlL2NvbnN0YW50cy9hcHAtY29uc3RhbnRzJztcclxuaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuLi9AY29yZS9jb3JlLnN0YXRlJztcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL2xvY2FsLXN0b3JhZ2UvbG9jYWwtc3RvcmFnZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXR0YWNobWVudHNTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hdHRhY2htZW50cy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IER5bmFtaWNUYWJQYWdlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvZHluYW1pYy10YWItcGFnZS1zZXJ2aWNlJztcclxuaW1wb3J0IHsgRHluYW1pY3NlYXJjaFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2R5bmFtaWNzZWFyY2guc2VydmljZSc7XHJcbmltcG9ydCB7IEZvcm1pb1NlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2Zvcm1pby5zZXJ2aWNlJztcclxuaW1wb3J0IHsgTG9jYWxTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9sb2NhbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUGFnZUJ1aWxkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9wYWdlLWJ1aWxkZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IFBsYXRmb3JtRGF0YVN0b3JlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvcGxhdGZvcm0tZGF0YS1zdG9yZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRHluYW1pY1NlYXJjaFVSTCB9IGZyb20gJy4uL0Bjb3JlL3VybHMvZHluYW1pYy1zZWFyY2gtdXJsLmNvbmZpZyc7XHJcbmltcG9ydCB7IERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uL0BzaGFyZWQvZGVsZXRlL2RlbGV0ZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBwdWJsaXNoRXZlbnQgfSBmcm9tICcuLi9Ac2hhcmVkL21hc3Rlci12aWV3LXN0YXRlL21hc3Rlci12aWV3LmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBzZWxlY3RDb21wb25lbnRDb25maWdCeUlkLCBzZWxlY3RFdmVudCB9IGZyb20gJy4uL0BzaGFyZWQvbWFzdGVyLXZpZXctc3RhdGUvbWFzdGVyLXZpZXcuc2VsZWN0b3JzJztcclxuaW1wb3J0IHsgQ29tcG9uZW50U3RhdGUgfSBmcm9tICcuLi9Ac2hhcmVkL21hc3Rlci12aWV3LXN0YXRlL21hc3Rlci12aWV3LnN0YXRlJztcclxuaW1wb3J0IHsgRHluYW1pY1BhZ2VDbGVhbnVwQ29tcG9uZW50IH0gZnJvbSAnLi4vZHluYW1pYy10YWItcGFnZS9keW5hbWljLXBhZ2VjbGVhbnVwL2R5bmFtaWMtcGFnZWNsZWFudXAuY29tcG9uZW50JztcclxuaW1wb3J0IHsgU2hhcmVkU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2Uvc2hhcmVkLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9Db25maWdTZXJ2aWNlJztcclxuZGVjbGFyZSBsZXQgXyQ6IGFueTtcclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcbmNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gJ3RhcmdldC10YWItZmlsdGVyJztcclxuY29uc3QgUEFHRV9NT0RJRllfUk9VVEUgPSAnL3BhZ2VzL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5Lyc7XHJcbmNvbnN0IEZJTEVfRVhQT1JUX05BTUVfS0VZID0gJ0ZJTEUgRVhQT1JUIE5BTUUnO1xyXG5jb25zdCBHUklEX1VSTCA9ICcvc29sdXRpb24vZHluYW1pY3NlYXJjaC9zZWFyY2hpbnB1dC8nO1xyXG5jb25zdCBST0xFX0NQX1BVQkxJQyA9ICdyb2xlPUNQX1BVQkxJQyc7XHJcbmNvbnN0IFNUT1JBR0VfS0VZX0RZTkFNSUNfVEFCX1BBR0VTID0gJ2R5bmFtaWMtdGFiLXBhZ2VzJztcclxuY29uc3QgUE9QVVBfVFlQRV9PUEVOID0gJ09wZW4gUG9wVXAnO1xyXG5jb25zdCBGSUxURVJfSURfS0VZID0gJ2hvcml6YW50YWwtdGFiLWZpbHRlcic7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtZHluYW1pYy1zZWFyY2gnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9keW5hbWljLXNlYXJjaC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZHluYW1pYy1zZWFyY2guY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRHluYW1pY1NlYXJjaENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBBZnRlclZpZXdJbml0IHtcclxuICBAVmlld0NoaWxkKCdzZWFyY2hjcml0ZXJpYW1lbnV0cmlnZ2VyJykgc2VhcmNoY3JpdGVyaWFtZW51dHJpZ2dlcjogTWF0TWVudVRyaWdnZXI7XHJcbiAgQFZpZXdDaGlsZChEeERhdGFHcmlkQ29tcG9uZW50LCB7IHN0YXRpYzogZmFsc2UgfSkgZGF0YUdyaWQ6IER4RGF0YUdyaWRDb21wb25lbnQ7XHJcbiAgcHJpdmF0ZSBlZGl0UG9wVXBEaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxUZW1wbGF0ZVJlZjxhbnk+PjtcclxuICBASW5wdXQoKVxyXG4gIGZvcm1JZDogYW55O1xyXG4gIGpzb25Gb3JtOiBhbnk7XHJcbiAgc291cmNlaWQ6IHN0cmluZztcclxuICBmcm9tVGl0bGU6IGFueTtcclxuICBzdWJtaXR0ZWREYXRhOiBhbnk7XHJcbiAgdGFibGVDb2x1bW5zOiBhbnk7XHJcbiAgdG90YWxjb3VudDogYW55O1xyXG4gIEBJbnB1dCgpIHBhZ2VJZDogYW55O1xyXG4gIGlucHV0RmllbGRJZDogYW55O1xyXG4gIGlucHV0SWQ6IGFueTtcclxuICB1cmw6IHN0cmluZztcclxuICBkYXRhU291cmNlOiBhbnk7XHJcbiAgcG9wdXBQb3NpdGlvbjogYW55O1xyXG4gIHBhZ2VUeXBlOiBhbnk7XHJcbiAgc2VhcmNoQ3JpdGVyaWE6IGFueTtcclxuICBzZWFyY2hDcml0ZXJpYUFycjogYW55O1xyXG4gIGxheW91dHR5cGUgPSAndmVydGljYWwnO1xyXG4gIGlkOiBhbnk7XHJcbiAgc2VhcmNocGFyYW1zOiBhbnk7XHJcbiAgdGFyZ2V0SWQ6IGFueTtcclxuICBjb2x1bW5zOiBhbnk7XHJcbiAgdXBkYXRlR3JpZDogYW55O1xyXG4gIHRvdGFsQ291bnQ6IG51bWJlcjtcclxuICBkdWJsaWNhdGVHcmlkQ29uZmlnOiBhbnlbXTtcclxuICBjb2x1bW5IZWFkZXI6IGFueTtcclxuICBzcGxpdGVyU2l6ZSA9IDA7XHJcbiAgZ3JpZHNwbGl0ZXJTaXplID0gMTAwO1xyXG4gIGlzT3BlbiA9IHRydWU7XHJcbiAgaWNvbiA9ICcnO1xyXG4gIG9wZW5jbG9zZSA9ICcnO1xyXG4gIHVzZXI6IGFueTtcclxuICBpc0FkZEJ1dHRvbiA9IGZhbHNlO1xyXG4gIHBhZ2VTYXZlSUQgPSAnJztcclxuICBzaG93RmlsdGVyUm93UGFuZWw6IGJvb2xlYW47XHJcbiAgcG9wdXBEYXRhOiBzdHJpbmc7XHJcbiAgQFZpZXdDaGlsZCgnY2FsbERpYWxvZ1BvcHVwJykgY2FsbERpYWxvZ1BvcHVwOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIHByaXZhdGUgcG9wdXBEaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxUZW1wbGF0ZVJlZjxhbnk+PjtcclxuICBzaG93QWN0aW9uQ29sdW1uOiBib29sZWFuO1xyXG4gIGVkaXRJZDogYW55O1xyXG4gIGlzRGlhbG9nUG9wdXA6IGJvb2xlYW47XHJcbiAgaXRlbTogYW55O1xyXG4gIHNob3dHcmlkUGFnZSA9IHRydWU7XHJcbiAgbWFudWFsUG9zdEFwaVVybDogc3RyaW5nO1xyXG4gIC8vICNjaGVjayBtb2R1bGVpZFxyXG4gIG1vZHVsZWlkOiBzdHJpbmc7XHJcbiAgcHVycG9zZTogc3RyaW5nO1xyXG4gIGlzU2hvd0Zvcm1QYWdlID0gZmFsc2U7XHJcbiAgQE91dHB1dCgpIG91dGVyUm91dGluZyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIHVzZXJBY3Rpb246IGFueTtcclxuICByb3dEYXRhOiBhbnk7XHJcbiAgY2hlY2tCb3hlc01vZGU6IHN0cmluZztcclxuICBncmlkVHlwZTogc3RyaW5nO1xyXG4gIHNob3dFeHBvcnQgPSBmYWxzZTtcclxuICBkcm9wZG93blZhbHVlczogYW55O1xyXG4gIGdyaWRPcHRpb25zOiB7IHZhbHVlOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9W107XHJcbiAgZmlsdGVyT3B0aW9uczogYW55W107XHJcbiAgc2VsZWN0ZWRGaWx0ZXI6IGFueVtdO1xyXG4gIGZpbHRlckZvcm0hOiBVbnR5cGVkRm9ybUdyb3VwO1xyXG4gIGdyaWRDb25maWc6IGFueTtcclxuICB0ZW1wYUNvbmZpZzogYW55O1xyXG4gIHJlb3JkZXJDb2x1bW5zOiBhbnk7XHJcbiAgc3RvcmFnZTogTG9jYWxTZXJ2aWNlO1xyXG4gIGRhdGFTdG9yZVNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2U7XHJcbiAgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2U7XHJcbiAgZGlhbG9nOiBNYXREaWFsb2c7XHJcbiAgaHR0cDogSHR0cENsaWVudDtcclxuICBzY3JlZW5XaWR0aDogbnVtYmVyO1xyXG4gIGN1cnJlbnRQYWdlSWQ6IHZvaWQ7XHJcbiAgZGlzcGxheU1vZGU6IHN0cmluZztcclxuICBpc1Jlc2l6ZTogYm9vbGVhbjtcclxuICBpc1VzZXJQcmVmZXJlbmNlQ2hhbmdlOiBib29sZWFuO1xyXG4gIEBWaWV3Q2hpbGQoJ2Zvcm1JTycpXHJcbiAgZm9ybUlPOiBGb3JtaW9Db21wb25lbnQ7XHJcbiAgZHluYW1pY1NlYXJjaFNlcnZpY2U6IER5bmFtaWNzZWFyY2hTZXJ2aWNlO1xyXG4gIGR5bmFtaWNUYWJQYWdlU2VydmljZTogRHluYW1pY1RhYlBhZ2VTZXJ2aWNlO1xyXG4gIHNlcXVlbmNlSWQ6IGFueTtcclxuICBjb2x1bW5XaWR0aDogYW55O1xyXG4gIHVwbG9hZGVkRmlsZTogYW55O1xyXG4gIGltYWdlRGF0YTogeyBjb250ZW50VHlwZTogYW55OyBmaWxlTmFtZTogc3RyaW5nIH07XHJcbiAgYXR0YWNobWVudFNlcnZpY2U6IEF0dGFjaG1lbnRzU2VydmljZTtcclxuICBwYXJhbXZhbHVlOiBhbnk7XHJcbiAgcGFyYW1maWVsZDogYW55O1xyXG4gIHRhYmxlZmllbGQ6IGFueTtcclxuICB0b1RhYklkOiBhbnk7XHJcbiAgdW5pcXVlZGF0YTogYW55O1xyXG4gIHBhZ2VMaXN0OiBhbnk7XHJcbiAgaXNWaWV3RW5hYmxlOiBzdHJpbmc7XHJcbiAgaWNvbkNsYXNzOiBzdHJpbmc7XHJcbiAgdGl0bGV0YWI6IGFueTtcclxuICBoZWFkZXI6IGFueTtcclxuICBvcGVuVGFiID0gZmFsc2U7XHJcbiAgc2VsZWN0ZWRSb3dJbmRleDogYW55O1xyXG4gIHNlbGVjdGVkQ29sdW1uSW5kZXg6IGFueTtcclxuICBzZWxlY3RlZENhcHRpb246IGFueTtcclxuICBzZWxlY3RlZFJvd0RhdGE6IGFueTtcclxuICBodHRwU2VydmljZTogYW55O1xyXG4gIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTtcclxuICBsb2NhbHN0b3JlOiBMb2NhbFNlcnZpY2U7XHJcbiAgcGFnZUJ1aWxkZXJTZXJ2aWNlOiBhbnk7XHJcbiAgbG9jYXRpb246IExvY2F0aW9uO1xyXG4gIEBWaWV3Q2hpbGQoTXVsdGlTZWxlY3QpIGZpbHRlck9wdGlvbnNEcm9wZG93bjogTXVsdGlTZWxlY3Q7XHJcbiAgcmVnaXN0cmF0aW9uSW5mbzogYW55O1xyXG4gIGNoZWNrR3JpZENvbmZpZzogYW55O1xyXG4gIGdyaWREeW5hbWljU2VhcmNoRm9ybTogVW50eXBlZEZvcm1Hcm91cDtcclxuICBkeW5hbWljU2VhcmNoQXJyYXk6IFVudHlwZWRGb3JtQXJyYXk7XHJcbiAgZHluYW1pY1NlYXJjaDogYW55W107XHJcbiAgdGFibGVEcm9wRG93bjogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfVtdO1xyXG4gIGNvbHVtbkRyb3BEb3duOiB7fVtdO1xyXG4gIGR5bmFtaWNTZWFyY2hSZXN1bHQ6IGFueVtdO1xyXG4gIGNyaXRlcmlhSWQgPSAwO1xyXG4gIHNhdmVCdXR0b25EaXNhYmxlID0gdHJ1ZTtcclxuICBhc3NvY2lhdGVkSWQ6IGFueTtcclxuICBpc0JHUDogYW55O1xyXG4gIHlvdXRoU2VhcmNoSnNvbjogYW55W107XHJcbiAgeW91dGhTZWFyY2hCb29sZWFuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgaXNJbml0aWFsTG9hZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgaXNEZWxldGVSZXF1aXJlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgaXNEZWxldGVUaW1lOiBudW1iZXIgPSAxNTtcclxuICBlbnRlcmVkUmVhc29uOiBzdHJpbmcgPSAnJztcclxuICBpc0Rpc2FibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICBEZWxldGVDb25maWdVUkw6IHN0cmluZztcclxuICB1cGRhdGVCeUlkQW5kUGFnZUlkV2l0aFJlYXNvblVSTDogc3RyaW5nO1xyXG4gIGRlbGV0ZUNvbmZpZ0RhdGE6IGFueTtcclxuICBEZWxldGVSZXZlcnRDb25maWdVUkw6IHN0cmluZztcclxuICBkZWxldGVkUmVhc29uOiBzdHJpbmcgPSAnJztcclxuICBwcmltYXJ5X2NvbHVtbjogc3RyaW5nID0gJyc7XHJcbiAgYWRtaW5BY2Nlc3NGb3JEZWxldGU6IGFueTtcclxuICBpc0NvbmRpdGlvbmFsRWRpdERlbGV0ZTogYW55O1xyXG4gIHBhZ2VuYW1lOiBhbnk7XHJcbiAgc291cmNlS2V5OiBzdHJpbmc7XHJcbiAgc291cmNlVmFsdWU6IHN0cmluZztcclxuICBzb3VyY2VUeXBlOiBzdHJpbmc7XHJcbiAgY3VycmVudFBhZ2VTaXplOiBudW1iZXIgPSA1O1xyXG4gIEBJbnB1dCgpIGNvbXBvbmVudElkOiBhbnk7XHJcbiAgc2VsZWN0ZWRDb21wb25lbnQ6IENvbXBvbmVudFN0YXRlO1xyXG4gIGNvbXBvbmVudENvbmZpZyQ6IE9ic2VydmFibGU8Q29tcG9uZW50U3RhdGU+O1xyXG4gIGV2ZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XHJcbiAgZGVsZXRlUG9wdXBUZXh0OiBzdHJpbmcgPSAnJztcclxuICBpc0VkaXRUaHJlc2hvbGRSZXF1aXJlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQFZpZXdDaGlsZCgnRGVsZXRlR3JpZExpc3QnKSBEZWxldGVHcmlkTGlzdDogVGVtcGxhdGVSZWY8YW55PjtcclxuICBAVmlld0NoaWxkKCdEZWxldGVHcmlkTGlzdFdpdGhvdXRSZWFzb24nKSBEZWxldGVHcmlkTGlzdFdpdGhvdXRSZWFzb246IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgQFZpZXdDaGlsZCgnQXBwcm92ZURlbGV0ZUdyaWRMaXN0JykgQXBwcm92ZURlbGV0ZUdyaWRMaXN0OiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIERlZmF1bHREZWxldGVQb3B1cFRleHRBZnRUaHJlc2hvbGRUaW1lOiBTdHJpbmcgPSBgWW91IGFyZSByZXF1ZXN0aW5nIHRvIHJlbW92ZSBhIFlvdXRoJ3MgcGh5c2ljYWwgZGVzY3JpcHRpb24uIEEgbm90aWZpY2F0aW9uIHdpbGwgYmUgc2VudCB0byB5b3VyIFNlY3VyaXR5IENvb3JkaW5hdG9yIHRvIHJldmlldyB0aGlzIHJlcXVlc3QgYW5kIHJlbW92ZSB0aGUgZGVzY3JpcHRpb24gaWYgYXBwcm9wcmlhdGUuXHJcbiAgRW50ZXIgdGhlIHJlYXNvbiBmb3IgdGhlIHJlbW92YWwgcmVxdWVzdC4gVGhlIHJlYXNvbiBjYW5ub3QgY29udGFpbiBtb3JlIHRoYW4gNDAwMCBjaGFyYWN0ZXJzLmA7XHJcbiAgZW52aXJvbm1lbnQ6YW55O1xyXG4gIGJ1c2luZXNzUnVsZU1lc3NhZ2U6c3RyaW5nO1xyXG4gIGdyaWRBY3Rpb25QYXJhbXM6YW55O1xyXG4gIGFsbFVybFBhcmFtczphbnk7XHJcbiAgc2hvd01vcmVUZXh0OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gIHRydW5jYXRlVGV4dFZhbHVlOiBudW1iZXI7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpbmplY3RvcjogSW5qZWN0b3IsXHJcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxyXG4gICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXHJcbiAgICBwcml2YXRlIGNkcmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIHByaXZhdGUgZmI6IFVudHlwZWRGb3JtQnVpbGRlcixcclxuICAgIHByaXZhdGUgX2Zvcm1JTzogRm9ybWlvU2VydmljZSxcclxuICAgIHByaXZhdGUgc3RvcmFnZVNlcnZpY2U6IExvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBVbnR5cGVkRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIHN0b3JlOiBTdG9yZTxBcHBTdGF0ZT4sXHJcbiAgICBwcml2YXRlIF9QbGF0Zm9ybVN0b3Jlc2VydmljZTogUGxhdGZvcm1EYXRhU3RvcmVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBzaGFyZWRTZXJ2aWNlOiBTaGFyZWRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBjb25maWdTZXJ2aWNlOiBDb25maWdTZXJ2aWNlLFxyXG5cclxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoTUFUX0RJQUxPR19EQVRBKSBkYXRhXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9QbGF0Zm9ybVN0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UgPSByZXNbJ0hUVFBTRVJWSUNFJ11cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMucGFnZUJ1aWxkZXJTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PFBhZ2VCdWlsZGVyU2VydmljZT4oUGFnZUJ1aWxkZXJTZXJ2aWNlKTtcclxuICAgIHRoaXMubG9jYXRpb24gPSBpbmplY3Rvci5nZXQ8TG9jYXRpb24+KExvY2F0aW9uKTtcclxuICAgIHRoaXMubG9jYWxzdG9yZSA9IGluamVjdG9yLmdldDxMb2NhbFNlcnZpY2U+KExvY2FsU2VydmljZSk7XHJcbiAgICB0aGlzLnN0b3JhZ2UgPSBpbmplY3Rvci5nZXQ8TG9jYWxTZXJ2aWNlPihMb2NhbFNlcnZpY2UpO1xyXG4gICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PERhdGFTdG9yZVNlcnZpY2U+KERhdGFTdG9yZVNlcnZpY2UpO1xyXG4gICAgdGhpcy5hdHRhY2htZW50U2VydmljZSA9IGluamVjdG9yLmdldDxBdHRhY2htZW50c1NlcnZpY2U+KEF0dGFjaG1lbnRzU2VydmljZSk7XHJcbiAgICB0aGlzLmFsZXJ0U2VydmljZSA9IGluamVjdG9yLmdldDxBbGVydFNlcnZpY2U+KEFsZXJ0U2VydmljZSk7XHJcbiAgICB0aGlzLmRpYWxvZyA9IGluamVjdG9yLmdldDxNYXREaWFsb2c+KE1hdERpYWxvZyk7XHJcbiAgICB0aGlzLmh0dHAgPSBpbmplY3Rvci5nZXQ8SHR0cENsaWVudD4oSHR0cENsaWVudCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PER5bmFtaWNzZWFyY2hTZXJ2aWNlPihEeW5hbWljc2VhcmNoU2VydmljZSk7XHJcbiAgICB0aGlzLmF1dGhTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PEF1dGhTZXJ2aWNlPihBdXRoU2VydmljZSk7XHJcbiAgICB0aGlzLnVzZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0T2JqKCd1c2VyJyk7XHJcbiAgICB0aGlzLnVzZXJBY3Rpb24gPSB0aGlzLmRhdGFTdG9yZVNlcnZpY2UuZ2V0RGF0YSgndXNlckFjdGlvbicpO1xyXG4gICAgdGhpcy5tYW51YWxQb3N0QXBpVXJsID0gJyc7XHJcbiAgICB0aGlzLmR5bmFtaWNUYWJQYWdlU2VydmljZSA9IGluamVjdG9yLmdldDxEeW5hbWljVGFiUGFnZVNlcnZpY2U+KER5bmFtaWNUYWJQYWdlU2VydmljZSk7XHJcbiAgICB0aGlzLmlzVmlld0VuYWJsZSA9IHRoaXMubG9jYWxzdG9yZS5nZXRPYmooJ2lzVmlld0VuYWJsZScpO1xyXG5cclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIHRoaXMucGFnZUlkID0gZGF0YS5wYWdlSWQgPyBkYXRhLnBhZ2VJZCA6IHRoaXMucGFnZUlkO1xyXG4gICAgICB0aGlzLmlucHV0RmllbGRJZCA9IGRhdGEuaW5wdXRGaWVsZElkID8gZGF0YS5pbnB1dEZpZWxkSWQgOiB0aGlzLmlucHV0RmllbGRJZDtcclxuICAgICAgdGhpcy5pbnB1dElkID0gZGF0YS5pbnB1dElkID8gZGF0YS5pbnB1dElkIDogdGhpcy5pbnB1dElkO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jaGVja0JveGVzTW9kZSA9ICdhbHdheXMnO1xyXG4gICAgdGhpcy5ncmlkT3B0aW9ucyA9IFtcclxuICAgICAgeyBsYWJlbDogJ1NvcnRpbmcnLCB2YWx1ZTogJ3NvcnQnLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnRmlsdGVyaW5nJywgdmFsdWU6ICdmaWx0ZXInLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnSGlkZScsIHZhbHVlOiAnaGlkZScsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdGaXhlZCcsIHZhbHVlOiAnZml4ZWQnLCBjb2RlOiAnJyB9LFxyXG4gICAgICAvLyB7IGxhYmVsOiAnRGVmYXVsdCBDb2x1bW5zJywgdmFsdWU6ICdDaG9vc2FibGUnLCBjb2RlOiAnJyB9LFxyXG4gICAgICAvLyB7IGxhYmVsOiAnVmlzaWJsZScsIHZhbHVlOiAndmlzaWJsZScsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdEYXRlJywgdmFsdWU6ICdkYXRlRm9ybWF0JywgY29kZTogJycgfSxcclxuICAgICAgeyBsYWJlbDogJ01vYmlsZScsIHZhbHVlOiAnbW9iaWxlVmlldycsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdUYWJsZXQnLCB2YWx1ZTogJ3RhYlZpZXcnLCBjb2RlOiAnJyB9XHJcbiAgICBdO1xyXG4gICAgdGhpcy5kaXNwbGF5TW9kZSA9ICdjb21wYWN0JztcclxuICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCd1cGxvYWRGcm9tR3JpZCcsIGZhbHNlKTtcclxuICAgIHRoaXMudGl0bGV0YWIgPSBKU09OLnBhcnNlKHRoaXMubG9jYWxzdG9yZS5nZXRJdGVtKCd0aXRsZXRhYicpKTtcclxuICAgIHRoaXMuaGVhZGVyID0gSlNPTi5wYXJzZSh0aGlzLmxvY2Fsc3RvcmUuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSkpO1xyXG5cclxuXHJcbiAgICB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICBkeW5hbWljU2VhcmNoQXJyYXk6IHRoaXMuZm9ybUJ1aWxkZXIuYXJyYXkoW10pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyQ29uZmlnID0geyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzTm9kZShub2RlLCBjbGFzc05hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3NOYW1lKTtcclxuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JyAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmIHByb2Nlc3NOb2RlKG5vZGUsICcuZHgtY2hlY2tib3gtY29udGFpbmVyJywgY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTtcclxuICAgIGNvbnN0IGNhbGxiYWNrMiA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgIG11dGF0aW9uc0xpc3QuZm9yRWFjaChtdXRhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JyAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NOb2RlKG5vZGUsICcuZHgtY2hlY2tib3gtY29udGFpbmVyJywgY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXIyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2syKTtcclxuICAgIG9ic2VydmVyMi5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTtcclxuICAgIGNvbWJpbmVMYXRlc3QoW3RoaXMucm91dGUucXVlcnlQYXJhbXMgXSkuc3Vic2NyaWJlKChbcXVlcnlQYXJhbXNdKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlSWQgPSBxdWVyeVBhcmFtc1sncmVzcG9uc2VJZCddO1xyXG4gICAgICBpZiAodGhpcy5yb3V0ZS5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRoLmluZGV4T2YoJ3ZpZXcnKSA+IC0xICYmICh0aGlzLnJvdXRlLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGguaW5kZXhPZignbWFzdGVyLXZpZXcnKSA9PT0gLTEgfHwgdGhpcy5yb3V0ZS5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRoLmluZGV4T2YoJ2NvbXBvc2l0ZS1wYWdlJykgPT09IC0xKSkge1xyXG4gICAgICAgIHRoaXMuZ3JpZFR5cGUgPSAndmlldyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5ncmlkVHlwZSA9ICdzZWFyY2gnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGFibGVDb2x1bW5zID1cclxuICAgICAgICB0aGlzLnRhYmxlQ29sdW1ucyAmJiB0eXBlb2YgdGhpcy50YWJsZUNvbHVtbnMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0aGlzLnRhYmxlQ29sdW1ucykgOiAnJztcclxuICAgICAgdGhpcy51cGRhdGVHcmlkID0gdGhpcy51cGRhdGVHcmlkICYmIHR5cGVvZiB0aGlzLnVwZGF0ZUdyaWQgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0aGlzLnVwZGF0ZUdyaWQpIDogJyc7XHJcbiAgICAgIHRoaXMuZm9ybUlkID0gdGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VJZCcpXHJcbiAgICAgICAgPyB0aGlzLnJvdXRlLnNuYXBzaG90LnBhcmFtTWFwLmdldCgncGFnZUlkJylcclxuICAgICAgICA6IHRoaXMucGFnZUlkO1xyXG4gICAgICB0aGlzLmlucHV0RmllbGRJZCA9IHRoaXMuaW5wdXRGaWVsZElkID8gdGhpcy5pbnB1dEZpZWxkSWQgOiBudWxsO1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrYWJsZURhdGEgPSB0aGlzLmlucHV0RmllbGRJZDtcclxuICAgICAgdGhpcy5yb3dEYXRhID0gdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5yb3dEYXRhO1xyXG4gICAgICBpZiAodGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VTYXZlSUQnKSkge1xyXG4gICAgICAgIHRoaXMuaXNBZGRCdXR0b24gPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNBZGRCdXR0b24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhZ2VTYXZlSUQgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdwYWdlU2F2ZUlEJykpPy5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VTYXZlSUQnKTtcclxuICAgICAgdGhpcy5zb3VyY2VLZXkgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdzb3VyY2VLZXknKSk/LnNuYXBzaG90LnBhcmFtTWFwLmdldCgnc291cmNlS2V5Jyk7XHJcbiAgICAgIHRoaXMuc291cmNlVmFsdWUgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdzb3VyY2VWYWx1ZScpKT8uc25hcHNob3QucGFyYW1NYXAuZ2V0KCdzb3VyY2VWYWx1ZScpO1xyXG4gICAgICB0aGlzLnNvdXJjZVR5cGUgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdzb3VyY2VUeXBlJykpPy5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3NvdXJjZVR5cGUnKTtcclxuICAgICAgdGhpcy5tb2R1bGVpZCA9IHRoaXMucm91dGUucGFyZW50LnBhcmVudC5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ21vZHVsZScpO1xyXG4gICAgICB0aGlzLnB1cnBvc2UgPSB0aGlzLnJvdXRlLnBhcmVudC5wYXJlbnQuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdwdXJwb3NlJyk7XHJcbiAgICAgIHRoaXMuZ2V0VGVtcGxhdGUocmVzcG9uc2VJZCk7XHJcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnJCA9IHRoaXMuc3RvcmUucGlwZShzZWxlY3Qoc2VsZWN0Q29tcG9uZW50Q29uZmlnQnlJZCh0aGlzLmNvbXBvbmVudElkKSkpO1xyXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZyQuc3Vic2NyaWJlKGRhdGEgPT4gdGhpcy5zZWxlY3RlZENvbXBvbmVudCA9IGRhdGEpO1xyXG4gICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uID0gdGhpcy5zdG9yZS5waXBlKHNlbGVjdChzZWxlY3RFdmVudCkpLnN1YnNjcmliZShldmVudCA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmV2ZW50TmFtZSA9PT0gJ3N1Ym1pdCcgJiYgZXZlbnQucGF5bG9hZC5zZXR0aW5ncy5vblN1Ym1pdFJlZnJlc2hcclxuICAgICAgICAgICYmIGV2ZW50LnBheWxvYWQuc2V0dGluZ3Mub25TdWJtaXRSZWZyZXNoV2lkZ2V0cykge1xyXG4gICAgICAgICAgICBldmVudC5wYXlsb2FkLnNldHRpbmdzLm9uU3VibWl0UmVmcmVzaFdpZGdldHMuZm9yRWFjaCh4ID0+e1xyXG4gICAgICAgICAgICBpZih4LnBhZ2VUeXBlID09ICdCR1AnKSB0aGlzLnBhZ2VJZCA9IHguaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBDbGVhciBkYXRhIHdoaWxlIHBhZ2UgbmF2aWdhdGlvbiAqL1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2VkUm93RGF0YSA9IG51bGw7XHJcbiAgICB0aGlzLnNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICBjb25zdCBSRUdJU1RSQVRJT04gPSB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmdldEl0ZW0oJ1JFR0lTVFJBVElPTicpO1xyXG4gICAgaWYgKFJFR0lTVFJBVElPTikge1xyXG4gICAgICB0aGlzLnJlZ2lzdHJhdGlvbkluZm8gPSBKU09OLnBhcnNlKFJFR0lTVFJBVElPTik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoIU9iamVjdC5rZXlzKHRoaXMuYWxsVXJsUGFyYW1zKT8ubGVuZ3RoKXtcclxuICAgICAgdGhpcy5yb3V0ZS5wYXRoRnJvbVJvb3Q/LmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgeC5wYXJhbXMuc3Vic2NyaWJlKHkgPT4geSAmJiBPYmplY3Qua2V5cyh5KS5sZW5ndGggPyBPYmplY3QuYXNzaWduKHRoaXMuYWxsVXJsUGFyYW1zLCB5KSA6IG51bGwpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZ3JpZENvbmZpZyA9ICcnO1xyXG4gICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ0VkaXRHcmlkUGFnZUlEJywgJycpO1xyXG4gICAgdGhpcy5wb3B1cFBvc2l0aW9uID0geyBvZjogd2luZG93LCBhdDogJ3RvcCcsIG15OiAndG9wJywgb2Zmc2V0OiB7IHk6IDEwIH0gfTtcclxuICAgIHRoaXMuY29sdW1ucz8uZm9yRWFjaChjb2x1bW4gPT4ge1xyXG4gICAgICBpZiAoY29sdW1uLnZpc2libGUgPT09IHVuZGVmaW5lZCB8fCBjb2x1bW4udmlzaWJsZSA9PT0gXCJcIikge1xyXG4gICAgICAgIGNvbHVtbi52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAodGhpcy5keW5hbWljU2VhcmNoU2VydmljZT8uY2xpY2tlZElkRGF0YSA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrZWRJZERhdGEgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMubG9hZEZpbHRlckZvcm0oKTtcclxuICAgIHRoaXMucmVtb3ZlQWxsRHluYW1pY1NlYXJjaENvbmR0aW9uKCk7XHJcbiAgICAvLyB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSlcclxuICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdncmlkQWN0aW9uJywgJycpO1xyXG5cclxuICAgIHRoaXMudHJ1bmNhdGVUZXh0VmFsdWUgPSB0aGlzLmNvbmZpZ1NlcnZpY2UuZ2V0VmFsdWUoKTsgLy8gR2V0IHRoZSB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgbG9hZEZpbHRlckZvcm0oKSB7XHJcbiAgICB0aGlzLmZpbHRlckZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgc2VsZWN0ZWRGaWx0ZXI6IFsnJ11cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xyXG4gICAgdGhpcy5jZHJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgfVxyXG5cclxuICByZWRpcmVjdCgpIHtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtQQUdFX01PRElGWV9ST1VURSArIHRoaXMucGFnZVNhdmVJRF0pO1xyXG4gIH1cclxuICBwcml2YXRlIGdldFRlbXBsYXRlKHJlc3BvbnNlSWQ/OiBhbnkpIHtcclxuICAgIHRoaXMucmVtb3ZlQWxsRHluYW1pY1NlYXJjaENvbmR0aW9uKCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmdldFRlbXBsYXRlKHRoaXMuZm9ybUlkKS5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWRQYWdlSW5mbyA9IHtcclxuICAgICAgICAgIGlkOiB0aGlzLmZvcm1JZCxcclxuICAgICAgICAgIG5hbWU6IHJlc3VsdFsnZGF0YSddWydwYWdlbmFtZSddXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmlzQkdQID0gcmVzdWx0WydkYXRhJ10/LnBhZ2VEZXRhaWxzPy5wYWdldHlwZTtcclxuICAgICAgICBpZiAodGhpcy5pc0JHUCAmJiB0aGlzLmlzQkdQID09ICdCR1AnKSB7XHJcbiAgICAgICAgICB0aGlzLmFzc29jaWF0ZWRJZCA9IHJlc3VsdFsnZGF0YSddPy5wYWdlaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0VGVtcGxhdGUocmVzdWx0WydkYXRhJ10pO1xyXG4gICAgICAgIHRoaXMuaXNDb25kaXRpb25hbEVkaXREZWxldGUgID0gcmVzdWx0WydkYXRhJ11bJ2lzQ29uZGl0aW9uYWxFZGl0RGVsZXRlJ107XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZUlkID0gcmVzdWx0WydkYXRhJ11bJ3BhZ2VpZCddO1xyXG4gICAgICAgIHRoaXMuc2VxdWVuY2VJZCA9IHJlc3VsdFsnZGF0YSddWydpZCddO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKCdwYXJlbnRHcmlkUGFnZScsIEpTT04uc3RyaW5naWZ5KGdyaWRQYWdlSW5mbykpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckdyaWRDb25maWcoKTtcclxuICAgICAgICB0aGlzLmdldEdyaWQocmVzcG9uc2VJZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXRQYWdlVGFicyhfcGFnZUlkLCBzb3VyY2VUeXBlLCBzb3VyY2VLZXksIHNvdXJjZVZhbHVlLCBfeW91dGhJZCwgbmF2aWdhdGlvblN0YXRlPzogYW55KSB7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmdldFBhZ2VUYWJzKF9wYWdlSWQpLnN1YnNjcmliZSgocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IHRhYklkID0gcmVzdWx0LmRhdGFbMF0uYWN0aXZlVmVyc2lvbi5pZDtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGFbMF0uYWN0aXZlVmVyc2lvbi50YWJjb25maWcpIHtcclxuICAgICAgICAgIGNvbnN0IHBhcmVudEdyaWRQYWdlID0ge1xyXG4gICAgICAgICAgICBpZDogdGhpcy5mb3JtSWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuZnJvbVRpdGxlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oJ2JhY2tUb0dyaWRQYWdlJywgSlNPTi5zdHJpbmdpZnkocGFyZW50R3JpZFBhZ2UpKTtcclxuICAgICAgICAgIG5hdmlnYXRpb25TdGF0ZS5pc0hpZGVCYWNrID0gdHJ1ZTtcclxuICAgICAgICAgIGxldCB1cmwgPSAnJztcclxuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YVswXS5wYWdldHlwZSA9PT0gJ1JCVFAnKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nL3RhYi8nO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXJsID0gJy9wYWdlcy9keW5hbWljcGFnZS90YWIvJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSB1cmwgKyB0YWJJZCArICcvJyArIF95b3V0aElkICsgJy8nICsgc291cmNlS2V5ICsgJy8nICsgc291cmNlVmFsdWUgKyAnLycgKyBzb3VyY2VUeXBlO1xyXG4gICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2R5bmFtaWNUYWJdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0aW9uU3RhdGUgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucm91dGVUb0R5bmFtaWNGb3JtcyhyZXN1bHQuZGF0YVswXS5wYWdldHlwZSwgX3BhZ2VJZCwgX3lvdXRoSWQsIG5hdmlnYXRpb25TdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJvdXRlVG9EeW5hbWljRm9ybXModHlwZSwgX3BhZ2VJZCwgX3lvdXRoSWQsIG5hdmlnYXRpb25TdGF0ZT86IGFueSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdBVFBCRE0nKSB7XHJcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdtYXN0ZXItdmlldycpID4gMCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdjb21wb3NpdGUtcGFnZScpID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSAnZm9ybS8nICsgX3BhZ2VJZCArICcvJyArIF95b3V0aElkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtkeW5hbWljVGFiXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGlvblN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3RhYicpID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSAnLi4vLi4vcGFnZS8nICsgX3BhZ2VJZCArICcvJyArIF95b3V0aElkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtkeW5hbWljVGFiXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGlvblN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSBQQUdFX01PRElGWV9ST1VURSArIF9wYWdlSWQgKyAnLycgKyBfeW91dGhJZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbZHluYW1pY1RhYl0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRpb25TdGF0ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VGVtcGxhdGUocmVzdWx0OiBhbnkpIHtcclxuICAgIC8vTXVzdCBOZWVkZWQgZm9yIE1lcmdlIHZlcnNpb24gb2YgUElDU1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXMgPSByZXN1bHQ7XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtcy5ncmlkY29uZmlnID0gdHlwZW9mIHJlc3VsdD8uZ3JpZGNvbmZpZyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHJlc3VsdD8uZ3JpZGNvbmZpZykgOiByZXN1bHQ/LmdyaWRjb25maWc7XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtcy50ZW1wbGF0ZWpzb24gPSB0eXBlb2YgcmVzdWx0Py50ZW1wbGF0ZWpzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyZXN1bHQ/LnRlbXBsYXRlanNvbikgOiByZXN1bHQ/LnRlbXBsYXRlanNvbjtcclxuICAgIHRoaXMuc2VhcmNocGFyYW1zLnRhYmxlc2NoZW1hY29uZmlnID0gdHlwZW9mIHJlc3VsdD8udGFibGVzY2hlbWFjb25maWcgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyZXN1bHQ/LnRhYmxlc2NoZW1hY29uZmlnKSA6IHJlc3VsdD8udGFibGVzY2hlbWFjb25maWc7XHJcbiAgICB0aGlzLnNldExheW91dChyZXN1bHQpO1xyXG4gICAgdGhpcy5mcm9tVGl0bGUgPSByZXN1bHQucGFnZW5hbWU7XHJcbiAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnVGl0dGxlJywgdGhpcy5mcm9tVGl0bGUpO1xyXG4gICAgdGhpcy5wYWdlVHlwZSA9IHJlc3VsdC5wYWdlRGV0YWlscy5wYWdldHlwZSA/IHJlc3VsdC5wYWdlRGV0YWlscy5wYWdldHlwZS50cmltKCkgOiAnJztcclxuICAgIHRoaXMucGFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5wYWdlRGV0YWlscyA/IHJlc3VsdC5wYWdlRGV0YWlscy5pZCA6IG51bGw7XHJcbiAgICBpZiAodGhpcy5wYWdlVHlwZSA9PSAnRFNQJyB8fCB0aGlzLnBhZ2VUeXBlID09ICdCVVNQJykge1xyXG4gICAgICB0aGlzLnNwbGl0ZXJTaXplID0gMzA7XHJcbiAgICAgIHRoaXMuZ3JpZHNwbGl0ZXJTaXplID0gNzA7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldEdyaWQodGhpcy5zZWFyY2hwYXJhbXMpO1xyXG4gICAgdGhpcy50YXJnZXRJZCA9IHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnPy5ncmlkQWN0aW9uRm9ybUFycmF5WzBdPy5saW5rO1xyXG4gICAgdGhpcy50ZW1wYUNvbmZpZyA9IHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnO1xyXG4gICAgdGhpcy5idWlsZENyaXRlcmlhKHJlc3VsdCk7XHJcbiAgfVxyXG5cclxuICBzZXRHcmlkKHJlc3VsdDogYW55KSB7XHJcbiAgICB0aGlzLnVwZGF0ZUdyaWQgPSByZXN1bHQuZ3JpZGNvbmZpZztcclxuICAgIGNvbnN0IGZpbHRlciA9IHRoaXMudXBkYXRlR3JpZD8uZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoeCA9PiB4LnNvcnQgfHwgeC5maWx0ZXIpO1xyXG4gICAgaWYgKGZpbHRlcj8ubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnNob3dGaWx0ZXJSb3dQYW5lbCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5zb21lKGEgPT4gYS5hY3Rpb24gIT0gJ2FkZCcpKSB7XHJcbiAgICAgIHRoaXMuc2hvd0FjdGlvbkNvbHVtbiA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy51cGRhdGVHcmlkPy5pc1Nob3dPblRvcCkge1xyXG4gICAgICB0aGlzLmdldE91dHNpZGVHcmlkQWN0aW9uKHRoaXMudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheT8uZmluZChhID0+IGE/LmFjdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gJ2FkZCcpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEdyaWQocmVzcG9uc2VJZD86IGFueSkge1xyXG4gICAgdGhpcy5zdG9yYWdlLnNldE9iaihGSUxFX0VYUE9SVF9OQU1FX0tFWSwgdGhpcy5zZWFyY2hwYXJhbXM/LnBhZ2VuYW1lKTtcclxuICAgIGlmICh0aGlzLnNlYXJjaHBhcmFtcz8udGVtcGxhdGVqc29uICYmICF0aGlzLnNlYXJjaHBhcmFtcz8udGFibGVzY2hlbWFjb25maWcpIHtcclxuICAgICAgdGhpcy5mcmVlRm9ybVBhZ2VHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmR5bmFtaWNTZWFyY2ggJiYgdGhpcy5keW5hbWljU2VhcmNoLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5nZXRDcml0ZXJpYUJ5UGFnZUlkKCk7XHJcbiAgICAgICAgdGhpcy5zaG93R3JpZFBhZ2UgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNob3dHcmlkUGFnZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxEeW5hbWljU2VhcmNoQ29uZHRpb24oKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlYXJjaEdyaWQodGhpcy5odHRwLCB0aGlzLnN0b3JhZ2UsIHJlc3BvbnNlSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TGF5b3V0KHJlc3VsdDogYW55KSB7XHJcbiAgICBpZiAocmVzdWx0LnRlbXBsYXRlanNvbikge1xyXG4gICAgICB0aGlzLmpzb25Gb3JtID0gdHlwZW9mIHJlc3VsdC50ZW1wbGF0ZWpzb249PT0nc3RyaW5nJyA/ICBKU09OLnBhcnNlKHJlc3VsdC50ZW1wbGF0ZWpzb24pIDpyZXN1bHQudGVtcGxhdGVqc29uIDtcclxuICAgICAgdGhpcy5mcm9tVGl0bGUgPSB0aGlzLmpzb25Gb3JtICYmIHRoaXMuanNvbkZvcm1bJ3BhZ2UnXSA/IHRoaXMuanNvbkZvcm1bJ3BhZ2UnXSA6IHJlc3VsdC5wYWdlbmFtZTtcclxuICAgICAgdGhpcy5sYXlvdXR0eXBlID0gJ2xlZnQnO1xyXG4gICAgICB0aGlzLmxheW91dHR5cGUgPSB0aGlzLmxheW91dHR5cGUgPT09ICdsZWZ0JyA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCc7XHJcbiAgICAgIGlmICh0aGlzLmxheW91dHR5cGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnZXhwYW5kX21vcmUnO1xyXG4gICAgICAgIHRoaXMub3BlbmNsb3NlID0gJ0Nsb3NlJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnYXJyb3dfbGVmdCc7XHJcbiAgICAgICAgdGhpcy5vcGVuY2xvc2UgPSAnQ2xvc2UnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblN1Ym1pdChzdWJtaXNzaW9uKTogdm9pZCB7XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtc1snZmlsdGVySWQnXSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xyXG4gICAgdGhpcy5zdWJtaXR0ZWREYXRhID0gc3VibWlzc2lvbjtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YSxcclxuICAgICAgcGFnZWRhdGE6IFt0aGlzLnNlYXJjaHBhcmFtc11cclxuICAgIH07XHJcbiAgICBjb25zdCBzdG9yYWdlZGF0YSA9IHRoaXMuc3RvcmFnZTtcclxuICAgIGNvbnN0IGh0dHAgPSB0aGlzLmh0dHA7XHJcbiAgICBjb25zdCBiYXNlVXJsID0gdGhpcy5lbnZpcm9ubWVudC5hcGlIb3N0O1xyXG5cclxuICAgIGlmICh0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgJiYgdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZGF0YVsnZHluYW1pY1NlYXJjaEFycmF5J10gPSB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdyaWRVcmw7XHJcbiAgICBpZiAodGhpcy5tYW51YWxQb3N0QXBpVXJsICE9ICcnKSB7XHJcbiAgICAgIGdyaWRVcmwgPSB0aGlzLm1hbnVhbFBvc3RBcGlVcmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBncmlkVXJsID0gR1JJRF9VUkw7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgQ3VzdG9tU3RvcmUoe1xyXG4gICAgICBsb2FkOiBmdW5jdGlvbiAobG9hZE9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHN0b3JhZ2VkYXRhLmdldEl0ZW0oJ2p3dC10b2tlbicpO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBzdG9yYWdlZGF0YS5nZXRPYmooJ3VzZXInKTtcclxuICAgICAgICBbJ3NraXAnLCAndGFrZScsICdyZXF1aXJlVG90YWxDb3VudCcsICdyZXF1aXJlR3JvdXBDb3VudCcsICdzb3J0JywgJ2ZpbHRlcicsICdncm91cCddLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgIGlmIChpIGluIGxvYWRPcHRpb25zICYmIGlzTm90RW1wdHkobG9hZE9wdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgIGRhdGFbaV0gPSBsb2FkT3B0aW9uc1tpXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBodHRwXHJcbiAgICAgICAgICAucG9zdChiYXNlVXJsICsgZ3JpZFVybCwgZGF0YSwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSHR0cEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGhUb2tlbn1gLFxyXG4gICAgICAgICAgICAgIHVuaXF1ZWlkOiBgJHt1c2VyLmlkfWAsXHJcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uaWQ6IGAke3VzZXIudXNlcldvcmtJbmZvLm9yZ2FuaXphdGlvbi5pZH1gLFxyXG4gICAgICAgICAgICAgIHJvbGVrZXk6IGAke3VzZXIucm9sZS5yb2xla2V5fWAsXHJcbiAgICAgICAgICAgICAgcm9sZTogUk9MRV9DUF9QVUJMSUNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudG9Qcm9taXNlKClcclxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4gKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzLmRhdGEsXHJcbiAgICAgICAgICAgIHRvdGFsQ291bnQ6IE51bWJlcihyZXMudG90YWxDb3VudC5jb3VudClcclxuICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgLmNhdGNoKF9lcnJvciA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRGF0YSBMb2FkaW5nIEVycm9yJykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIGlzTm90RW1wdHkodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZnRlclN1Ym1pdHRlZChfZXZlbnQpIHtcclxuICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gdHJ1ZTtcclxuICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgdGhpcy5pdGVtID0gbnVsbDtcclxuICAgIGlmICh0aGlzLmlzU2hvd0Zvcm1QYWdlKSB7XHJcbiAgICAgIHRoaXMuZ2V0T3V0c2lkZUdyaWRBY3Rpb24odGhpcy51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5maW5kKGEgPT4gYT8uYWN0aW9uPy50b0xvd2VyQ2FzZSgpID09PSAnYWRkJykpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2F2ZVNlYXJjaENyaXRlcmlhKCkge1xyXG4gICAgaWYgKHRoaXMuc3VibWl0dGVkRGF0YSAmJiB0aGlzLnN1Ym1pdHRlZERhdGEuZGF0YSkge1xyXG4gICAgICB0aGlzLnN1Ym1pdHRlZERhdGEuZGF0YVsnc2VhcmNoQ3JpdGVyaWEnXSA9IHRoaXMuc2VhcmNoQ3JpdGVyaWE7XHJcbiAgICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgcGFnZUlEOiB0aGlzLmZvcm1JZCxcclxuICAgICAgICBzb3VyY2VpZDogJycsXHJcbiAgICAgICAgc291cmNldHlwZTogJ0knLFxyXG4gICAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YS5kYXRhLFxyXG4gICAgICAgIG1ldGFkYXRhOiB0aGlzLnN1Ym1pdHRlZERhdGEubWV0YWRhdGEsXHJcbiAgICAgICAgYWZ0ZXJFbnRpdHlOYW1lOiAnJyxcclxuICAgICAgICBhZnRlclJ1bGVBcHBOYW1lOiAnJyxcclxuICAgICAgICBiZWZvcmVFbnRpdHlOYW1lOiAnJyxcclxuICAgICAgICBiZWZvcmVSdWxlQXBwTmFtZTogJycsXHJcbiAgICAgICAgcGFyZW50c291cmNlaWQ6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zYXZlU2VhcmNoQ3JpdGVyaWEoYm9keSkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSByZXNwb25zZTtcclxuICAgICAgICB0aGlzLmlkID0gcmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnU2VhY2ggY3JpdGVyaWEgU2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUGxlYXNlIHBlcmZvcm0gc2VhcmNoIGluIG9yZGVyIHRvIHNhdmUgeW91ciBzZWFyY2ggY3JpdGVyaWEnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFNlYXJjaChuZXdkKSB7XHJcbiAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSB7IGRhdGE6IG5ld2QgfTtcclxuICAgIHRoaXMub25TdWJtaXQodGhpcy5zdWJtaXR0ZWREYXRhKTtcclxuICB9XHJcblxyXG4gIHJlc2V0KHR5cGUpIHtcclxuICAgIHRoaXMuc3VibWl0dGVkRGF0YSA9IHsgZGF0YToge30gfTtcclxuICAgIHRoaXMuZ2V0RXhwb3J0RGF0YSh0aGlzLnN1Ym1pdHRlZERhdGEsIHR5cGUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RXhwb3J0RGF0YShzdWJtaXNzaW9uLCB0eXBlKTogdm9pZCB7XHJcbiAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSBzdWJtaXNzaW9uO1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXNbJ2ZpbHRlcklkJ10gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGlucHV0RmllbGRJZDogdGhpcy5pbnB1dEZpZWxkSWQsXHJcbiAgICAgIHBhZ2VkYXRhOiBbdGhpcy5zZWFyY2hwYXJhbXNdLFxyXG4gICAgICByZXF1aXJlVG90YWxDb3VudDogdHJ1ZSxcclxuICAgICAgc2tpcDogMCxcclxuICAgICAgdGFrZTogNTAwMFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWRhdGEuaW5wdXRGaWVsZElkKSB7XHJcbiAgICAgIGRhdGEuaW5wdXRGaWVsZElkID0gdGhpcy51c2VyPy51c2VyV29ya0luZm8/Lm9yZ2FuaXphdGlvbj8uaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCAmJiB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBkYXRhWydkeW5hbWljU2VhcmNoQXJyYXknXSA9IHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ3JpZFVybDtcclxuICAgIGlmICh0aGlzLm1hbnVhbFBvc3RBcGlVcmwgIT0gJycpIHtcclxuICAgICAgZ3JpZFVybCA9IHRoaXMubWFudWFsUG9zdEFwaVVybDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdyaWRVcmwgPSBHUklEX1VSTDtcclxuICAgIH1cclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuZXhwb3J0RGF0YShkYXRhLCBncmlkVXJsKS5zdWJzY3JpYmUodmFsdWUgPT4ge1xyXG4gICAgICBpZiAodmFsdWVbJ2RhdGEnXS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmRvd25sb2FkRmlsZSh0eXBlLCB2YWx1ZVsnZGF0YSddKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignTm8gZGF0YSBhdmFpbGFibGUnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkb3dubG9hZEZpbGUodHlwZSwgZGF0YSkge1xyXG4gICAgY29uc3QgZmlsZURhdGEgPSB7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHRvdGFsY291bnQ6IGRhdGEubGVuZ3RoLFxyXG4gICAgICBwYWdlbmFtZTogdGhpcy5mcm9tVGl0bGUsXHJcbiAgICAgIGdyaWRDb25maWdGb3JtQXJyYXk6IHRoaXMudXBkYXRlR3JpZD8uZ3JpZENvbmZpZ0Zvcm1BcnJheVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGZpbGVUeXBlID0gdHlwZSA9PT0gJ2V4Y2VsJyA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChmaWxlRGF0YSwgZmlsZVR5cGUpLnN1YnNjcmliZShcclxuICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICBjb25zdCBhd3NVcmwgPSByZXN1bHRbJ2RhdGEnXS5hd3NVcmw7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdEb2N1bWVudCBHZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlID09PSAncHJpbnQnKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHR5cGUgaXMgcHJpbnQgaXQgd2lsbCBvcGVuIGJyb3dzZXIgcHJpbnQgcHJldmlld1xyXG4gICAgICAgICAgICBlczZwcmludEpTKHsgcHJpbnRhYmxlOiBhd3NVcmwsIHR5cGU6ICdwZGYnLCBzaG93TW9kYWw6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHdpbmRvdy5vcGVuKGF3c1VybCwgJ19ibGFuaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2VhcmNoR3JpZChodHRwLCBzdG9yYWdlLCByZXNwb25zZUlkPzogYW55KSB7XHJcbiAgICBjb25zdCBvdXRzaWRlRm9ybUlEID0gdGhpcy51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5XHJcbiAgICAgID8uZmluZChhID0+IGE/LmFjdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gJ2FkZCcpXHJcbiAgICAgID8ubGluaz8uc3BsaXQoJ19zb3VyY2Vmb3JtJylbMF07XHJcbiAgICBjb25zdCBwcmltYXJ5X3RhYmxlID0gdGhpcy5zZWFyY2hwYXJhbXMudGFibGVzY2hlbWFjb25maWcudGFibGVmaWVsZHMucHJpbWFyeTtcclxuICAgIGNvbnN0IGZhbGxiYWNrSWRGcm9tUm91dGUgID0gdGhpcy5zZWFyY2hwYXJhbXM/LmdyaWRjb25maWc/LmZhbGxiYWNrSWRGcm9tUm91dGU7XHJcbiAgICBjb25zb2xlLmxvZyhwcmltYXJ5X3RhYmxlLnJlcGxhY2UoJ19hdWRpdCcsICdfaWQnKSwgJ3ByaW1hcnknKTtcclxuICAgIGxldCBxdWVyeURhdGE6IGFueTtcclxuXHJcbiAgICBpZihmYWxsYmFja0lkRnJvbVJvdXRlKXtcclxuICAgIGNvbnN0IGZhbGxiYWNrSWRWYWx1ZSA9IHRoaXMucm91dGVyLnVybC5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgaWYoZmFsbGJhY2tJZFZhbHVlKXtcclxuICAgICAgcXVlcnlEYXRhID0geyBkYXRhOiB7fSB9O1xyXG4gICAgICBxdWVyeURhdGEuZGF0YVtmYWxsYmFja0lkRnJvbVJvdXRlXSA9IE51bWJlcihmYWxsYmFja0lkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNvdXJjZUtleSAmJiB0aGlzLnNvdXJjZVZhbHVlICYmIHRoaXMuc291cmNlVHlwZSkge1xyXG4gICAgICBxdWVyeURhdGEgPSB7IGRhdGE6IHt9IH07XHJcbiAgICAgIHF1ZXJ5RGF0YS5kYXRhW3RoaXMuc291cmNlS2V5XSA9ICh0aGlzLnNvdXJjZVR5cGUgPT09ICdudW1iZXInKSA/IE51bWJlcih0aGlzLnNvdXJjZVZhbHVlKSA6IHRoaXMuc291cmNlVmFsdWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtc1snZmlsdGVySWQnXSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YSxcclxuICAgICAgcXVlcnlEYXRhOiBxdWVyeURhdGEsXHJcbiAgICAgIHBhZ2VkYXRhOiBbdGhpcy5zZWFyY2hwYXJhbXNdLFxyXG4gICAgICBpbnB1dEZpZWxkSWQ6IHRoaXMuaW5wdXRGaWVsZElkLFxyXG4gICAgICBpbnB1dElkOiB0aGlzLmlucHV0SWQsXHJcbiAgICAgIHJlcXVpcmVUb3RhbENvdW50OiB0cnVlLFxyXG4gICAgICByZXN0cmljdDogdHJ1ZSxcclxuICAgICAgYXNzb2NpYXRlZEZvcm1JZDogb3V0c2lkZUZvcm1JRCA/IG91dHNpZGVGb3JtSUQgOiB0aGlzLmFzc29jaWF0ZWRJZC50b1N0cmluZygpLFxyXG4gICAgICByb2xlSWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JvbGVfaWQnKSxcclxuICAgICAgc2VsZWN0ZWRWYWx1ZTogdGhpcy5wYXJhbXZhbHVlLFxyXG4gICAgICBzZWxlY3RlZEZpZWxkOiB0aGlzLnBhcmFtZmllbGQsXHJcbiAgICAgIHBhZ2luYXRlOiB0cnVlLFxyXG4gICAgICByZWRpcmVjdEZpbHRlcklkOiByZXNwb25zZUlkXHJcbiAgICB9O1xyXG4gICAgY29uc3QgYmFzZVVybCA9IHRoaXMuZW52aXJvbm1lbnQuYXBpSG9zdDtcclxuXHJcbiAgICBpZiAodGhpcy5keW5hbWljU2VhcmNoUmVzdWx0ICYmIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGRhdGFbJ2R5bmFtaWNTZWFyY2hBcnJheSddID0gdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN0cmwgPSB0aGlzO1xyXG4gICAgbGV0IGdyaWRVcmw7XHJcbiAgICBpZiAodGhpcy5tYW51YWxQb3N0QXBpVXJsICE9ICcnKSB7XHJcbiAgICAgIGdyaWRVcmwgPSB0aGlzLm1hbnVhbFBvc3RBcGlVcmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBncmlkVXJsID0gR1JJRF9VUkw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcbiAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgQ3VzdG9tU3RvcmUoe1xyXG4gICAgICBsb2FkOiBmdW5jdGlvbiAobG9hZE9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHN0b3JhZ2UuZ2V0SXRlbSgnand0LXRva2VuJyk7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IHN0b3JhZ2UuZ2V0T2JqKCd1c2VyJyk7XHJcblxyXG4gICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgLy8gZml4IGZvciB1c2VyIG51bGwgaW1tZWRpYXRlbHkgYWZ0ZXIgbG9naW5cclxuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgX3RoaXMuc2VhcmNoR3JpZChodHRwLCBzdG9yYWdlKTtcclxuICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBbJ3NraXAnLCAndGFrZScsICdyZXF1aXJlVG90YWxDb3VudCcsICdyZXF1aXJlR3JvdXBDb3VudCcsICdzb3J0JywgJ2ZpbHRlcicsICdwYWdlY29uZmlnJywgJ2dyb3VwJ10uZm9yRWFjaChcclxuICAgICAgICAgIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtIGluIGxvYWRPcHRpb25zICYmIGlzTm90RW1wdHkobG9hZE9wdGlvbnNbaXRlbV0pKSB7XHJcbiAgICAgICAgICAgICAgZGF0YVtpdGVtXSA9IGxvYWRPcHRpb25zW2l0ZW1dO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2l0ZW1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZGF0YS5yZXF1aXJlVG90YWxDb3VudCA9IHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiBodHRwXHJcbiAgICAgICAgICAucG9zdChiYXNlVXJsICsgZ3JpZFVybCwgZGF0YSwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSHR0cEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGhUb2tlbn1gLFxyXG4gICAgICAgICAgICAgIHVuaXF1ZWlkOiBgJHt1c2VyLmlkfWAsXHJcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uaWQ6IGAke3VzZXI/LnVzZXJXb3JrSW5mbz8ub3JnYW5pemF0aW9uPy5pZCA/IHVzZXIudXNlcldvcmtJbmZvLm9yZ2FuaXphdGlvbi5pZCA6ICcnfWAsXHJcbiAgICAgICAgICAgICAgcm9sZWtleTogYCR7dXNlcj8ucm9sZT8ucm9sZWtleSA/IHVzZXIucm9sZS5yb2xla2V5IDogJyd9YCxcclxuICAgICAgICAgICAgICByb2xlOiBST0xFX0NQX1BVQkxJQ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50b1Byb21pc2UoKVxyXG4gICAgICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJpbWFyeV9jb2x1bW4gPSByZXMuZGF0YT8ucmVzdWx0WzBdPy5wcmltYXJ5Q29sdW1uO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcz8uZGF0YT8uZGF0YT8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXM/LmRhdGE/LmRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXM/LmRhdGE/LmRhdGFbaV0/LltrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHJlcz8uZGF0YT8uZGF0YVtpXT8uW2tleV07XHJcbiAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgdmFsIGluc3RhbmNlb2YgU3RyaW5nKSAmJiB2YWw/LmluY2x1ZGVzKCdbJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5kYXRhW2ldW2tleV0gPSByZXMuZGF0YS5kYXRhW2ldW2tleV0ucmVwbGFjZSgnWycsICcnKS5yZXBsYWNlKCddJywgJycpLnJlcGxhY2VBbGwoJ1wiJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0cmwuc2hvd0dyaWRQYWdlID0gIShcclxuICAgICAgICAgICAgICAocmVzPy5kYXRhPy50b3RhbENvdW50Py5jb3VudCA9PT0gMCB8fCByZXM/LmRhdGE/LnRvdGFsQ291bnQ/LmNvdW50ID09PSAxKSAmJlxyXG4gICAgICAgICAgICAgIGN0cmwudXBkYXRlR3JpZD8uaXNJbml0aWFsRm9ybUxvYWRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5pc1Nob3dGb3JtUGFnZSA9IGN0cmwuc2hvd0dyaWRQYWdlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjdHJsLnNob3dHcmlkUGFnZSAmJiBjdHJsLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkgJiYgY3RybC51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGZvcm1JbmZvID0gY3RybC51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5LmZpbmQoZWxlID0+IGVsZS5pc091dHNpZGVHcmlkKTtcclxuICAgICAgICAgICAgICBjdHJsLml0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IER5bmFtaWNQYWdlQ2xlYW51cENvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZDogZm9ybUluZm8/LmxpbmssXHJcbiAgICAgICAgICAgICAgICBlZGl0SWQ6IHJlcz8uZGF0YT8uZGF0YVswXT8uaWQsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGFmdGVyU3VibWl0OiBldmVudCA9PiBjdHJsLmFmdGVyU3VibWl0dGVkKGV2ZW50KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzSW5pdGlhbEZvcm1Mb2FkOiBjdHJsLnVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkLFxyXG4gICAgICAgICAgICAgICAgaXNTaG93T25Ub3A6IGN0cmwudXBkYXRlR3JpZD8uaXNTaG93T25Ub3BcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdHJsLnNob3dHcmlkUGFnZSAmJiBjdHJsLnVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wICYmIGN0cmwudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAmJiBjdHJsLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZm9ybUluZm8gPSBjdHJsLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkuZmluZChlbGUgPT4gZWxlLmlzT3V0c2lkZUdyaWQpO1xyXG4gICAgICAgICAgICAgIGN0cmwuaXRlbSA9IHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogRHluYW1pY1BhZ2VDbGVhbnVwQ29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgcGFnZUlkOiBmb3JtSW5mbz8ubGluayxcclxuICAgICAgICAgICAgICAgIG91dHB1dHM6IHtcclxuICAgICAgICAgICAgICAgICAgYWZ0ZXJTdWJtaXQ6IGV2ZW50ID0+IGN0cmwuYWZ0ZXJTdWJtaXR0ZWQoZXZlbnQpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaXNJbml0aWFsRm9ybUxvYWQ6IGN0cmwudXBkYXRlR3JpZD8uaXNJbml0aWFsRm9ybUxvYWQsXHJcbiAgICAgICAgICAgICAgICBpc1Nob3dPblRvcDogY3RybC51cGRhdGVHcmlkPy5pc1Nob3dPblRvcFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZHluYW1pY1NlYXJjaERhdGEgPSBbXTtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcmVkVGFiRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5wYXJzZShzdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlfRFlOQU1JQ19UQUJfUEFHRVMpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycnJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRkYXRhID0gcmVzLmRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICByZXN1bHRkYXRhLm1hcChuID0+IHtcclxuICAgICAgICAgICAgICBuLnJvdy5tYXAoKGM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0b3JlZFRhYkRhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICBzdG9yZWRUYWJEYXRhLm1hcCgoYzEsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMCAmJiBjMS5wZmllbGQgPT0gYy5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBPYmplY3QuYXNzaWduKHt9LCBjMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcnJyZXN1bHQucHVzaChvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51bmlxdWVkYXRhID0gYXJycmVzdWx0LmZpbHRlcihcclxuICAgICAgICAgICAgICAodmFsdWUsIGluZGV4LCBfYXJyYXkpID0+IGluZGV4ID09IGFycnJlc3VsdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09IHZhbHVlLmlkKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmVzLmRhdGEucmVzdWx0Lm1hcChuID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPYmogPSB7fTtcclxuICAgICAgICAgICAgICBuLnJvdy5mb3JFYWNoKChjOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2x1bW5EYXRhID0gYy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt0YWJsZU5hbWUsIGNvbHVtbk5hbWVdID0gYy5uYW1lLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5EYXRhID0gdHlwZW9mIGNvbHVtbkRhdGEgPT09ICdudW1iZXInID8gYy52YWx1ZS50b1N0cmluZygpIDogYy52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50T2JqW3RhYmxlTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgcGFyZW50T2JqW3RhYmxlTmFtZV1bY29sdW1uTmFtZV0gPSBjb2x1bW5EYXRhO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcGFyZW50T2JqW3RhYmxlTmFtZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgcGFyZW50T2JqW3RhYmxlTmFtZV1bY29sdW1uTmFtZV0gPSBjb2x1bW5EYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyZW50T2JqWydyYmFjQ29uZGl0aW9ucyddID0gbi5yYmFjQ29uZGl0aW9ucztcclxuICAgICAgICAgICAgICAgIHBhcmVudE9ialsnYnVzaW5lc3NSdWxlcyddID0gbi5idXNpbmVzc1J1bGVzID8gbi5idXNpbmVzc1J1bGVzIDogW107XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPYmpbJ3JvdXRlZGF0YSddID0gdGhpcy51bmlxdWVkYXRhO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50T2JqWydwcmltYXJ5Q29sdW1uJ10gPSBuLnByaW1hcnlDb2x1bW47XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZHluYW1pY1NlYXJjaERhdGEucHVzaChwYXJlbnRPYmopO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBkYXRhOiBkeW5hbWljU2VhcmNoRGF0YSxcclxuICAgICAgICAgICAgICB0b3RhbENvdW50OiBOdW1iZXIocmVzPy5kYXRhLnRvdGFsQ291bnQuY291bnQpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKF9lcnJvciA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZGF0YScpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBmdW5jdGlvbiBpc05vdEVtcHR5KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICcnO1xyXG4gICAgfVxyXG4gIH1cclxuICBmcmVlRm9ybVBhZ2VHcmlkKGh0dHAsIHN0b3JhZ2UpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YSxcclxuICAgICAgcGFnZWRhdGE6IFt0aGlzLnNlYXJjaHBhcmFtc10sXHJcbiAgICAgIGlucHV0RmllbGRJZDogdGhpcy5pbnB1dEZpZWxkSWQsXHJcbiAgICAgIGlucHV0SWQ6IHRoaXMuaW5wdXRJZCxcclxuICAgICAgcmVxdWlyZVRvdGFsQ291bnQ6IHRydWUsXHJcbiAgICAgIHJlc3RyaWN0OiB0cnVlLFxyXG4gICAgICByb2xlSWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JvbGVfaWQnKVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBncmlkQWN0aW9uRm9ybUFycmF5ID0gdGhpcy51cGRhdGVHcmlkLmdyaWRBY3Rpb25Gb3JtQXJyYXkubWFwKGEgPT4gKHtcclxuICAgICAgLi4uYSxcclxuICAgICAgbGluazogU3RyaW5nKHRoaXMuc2VhcmNocGFyYW1zLnBhZ2VpZClcclxuICAgIH0pKTtcclxuICAgIHRoaXMudXBkYXRlR3JpZCA9IHsgLi4udGhpcy51cGRhdGVHcmlkLCBncmlkQWN0aW9uRm9ybUFycmF5IH07XHJcbiAgICBjb25zdCBiYXNlVXJsID0gdGhpcy5lbnZpcm9ubWVudC5hcGlIb3N0O1xyXG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG4gICAgdGhpcy5kYXRhU291cmNlID0gbmV3IEN1c3RvbVN0b3JlKHtcclxuICAgICAgbG9hZDogZnVuY3Rpb24gKGxvYWRPcHRpb25zOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSBzdG9yYWdlLmdldEl0ZW0oJ2p3dC10b2tlbicpO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBzdG9yYWdlLmdldE9iaigndXNlcicpO1xyXG4gICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBfdGhpcy5mcmVlRm9ybVBhZ2VHcmlkKGh0dHAsIHN0b3JhZ2UpO1xyXG4gICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFsnc2tpcCcsICd0YWtlJywgJ3JlcXVpcmVUb3RhbENvdW50JywgJ3JlcXVpcmVHcm91cENvdW50JywgJ3NvcnQnLCAnZmlsdGVyJywgJ3BhZ2Vjb25maWcnLCAnZ3JvdXAnXS5mb3JFYWNoKFxyXG4gICAgICAgICAgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtIGluIGxvYWRPcHRpb25zICYmIGxvYWRPcHRpb25zW2l0ZW1dLmlzTm90RW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgIGRhdGFbaXRlbV0gPSBsb2FkT3B0aW9uc1tpdGVtXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBkZWxldGUgZGF0YVtpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgZ3JpZFVybCA9IGAvc29sdXRpb24vZm9ybXJlc3BvbnNlL2dldEJ5UGFnZUlkLyR7X3RoaXMuc2VhcmNocGFyYW1zLnBhZ2VpZH1gO1xyXG4gICAgICAgIHJldHVybiBodHRwXHJcbiAgICAgICAgICAuZ2V0KGJhc2VVcmwgKyBncmlkVXJsLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IG5ldyBIdHRwSGVhZGVycyh7XHJcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXV0aFRva2VufWAsXHJcbiAgICAgICAgICAgICAgdW5pcXVlaWQ6IGAke3VzZXIuaWR9YCxcclxuICAgICAgICAgICAgICBvcmdhbml6YXRpb25pZDogYCR7dXNlcj8udXNlcldvcmtJbmZvPy5vcmdhbml6YXRpb24/LmlkID8gdXNlci51c2VyV29ya0luZm8ub3JnYW5pemF0aW9uLmlkIDogJyd9YCxcclxuICAgICAgICAgICAgICByb2xla2V5OiBgJHt1c2VyPy5yb2xlPy5yb2xla2V5ID8gdXNlci5yb2xlLnJvbGVrZXkgOiAnJ31gLFxyXG4gICAgICAgICAgICAgIHJvbGU6IFJPTEVfQ1BfUFVCTElDXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRvUHJvbWlzZSgpXHJcbiAgICAgICAgICAudGhlbigocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZm9ybVJlc3BvbnNlcyA9IHJlcy5kYXRhLnBhZ2VSZXNwb25zZXMubWFwKGEgPT4gKHtcclxuICAgICAgICAgICAgICAuLi5hLnJlc3BvbnNlLFxyXG4gICAgICAgICAgICAgIGlkOiBhLmlkLFxyXG4gICAgICAgICAgICAgIHJiYWNDb25kaXRpb25zOiBhLnJiYWNDb25kaXRpb25zXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgY29uc3QgYWxsb3dlZFJlc3BvbnNlS2V5cyA9IF90aGlzLnNlYXJjaHBhcmFtcy50ZW1wbGF0ZWpzb25cclxuICAgICAgICAgICAgICAuY29tcG9uZW50cy5maWx0ZXIoYSA9PiBhLmtleSAhPT0gJ3N1Ym1pdCcpXHJcbiAgICAgICAgICAgICAgLm1hcChiID0+IGIua2V5KTtcclxuICAgICAgICAgICAgYWxsb3dlZFJlc3BvbnNlS2V5cy5wdXNoKCdpZCcsICdyYmFjQ29uZGl0aW9ucycpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFJlc3BvbnNlS2V5cyA9IGZvcm1SZXNwb25zZXMubWFwKGEgPT5cclxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihrZXkgPT4gYWxsb3dlZFJlc3BvbnNlS2V5cy5pbmNsdWRlcyhrZXkpKVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgICAgICB9LCB7fSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBkYXRhOiBmaWx0ZXJlZFJlc3BvbnNlS2V5cyxcclxuICAgICAgICAgICAgICB0b3RhbENvdW50OiBOdW1iZXIoZmlsdGVyZWRSZXNwb25zZUtleXMubGVuZ3RoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChfZXJyb3IgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGRhdGEnKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpIHtcclxuICAgIGlmICh0aGlzLmlzT3Blbikge1xyXG4gICAgICB0aGlzLnNwbGl0ZXJTaXplID0gMzA7XHJcbiAgICAgIHRoaXMuZ3JpZHNwbGl0ZXJTaXplID0gNzA7XHJcbiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgIGlmICh0aGlzLmxheW91dHR5cGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnZXhwYW5kX21vcmUnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaWNvbiA9ICdhcnJvd19sZWZ0JztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm9wZW5jbG9zZSA9ICdDbG9zZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNwbGl0ZXJTaXplID0gMDtcclxuICAgICAgdGhpcy5ncmlkc3BsaXRlclNpemUgPSAxMDA7XHJcbiAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgaWYgKHRoaXMubGF5b3V0dHlwZSA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgIHRoaXMuaWNvbiA9ICdleHBhbmRfbGVzcyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pY29uID0gJ2Fycm93X3JpZ2h0JztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm9wZW5jbG9zZSA9ICdPcGVuJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFJvdXRlcihkYXRhLCBfaXRlbSkge1xyXG4gICAgdGhpcy5zZWxlY3RlZFJvd0RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5vcGVuVGFiID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbGVjdGVkUm93SW5kZXggPSBkYXRhPy5yb3dJbmRleDtcclxuICAgIHRoaXMuc2VsZWN0ZWRDb2x1bW5JbmRleCA9IGRhdGE/LmNvbHVtbkluZGV4O1xyXG4gICAgdGhpcy5zZWxlY3RlZENhcHRpb24gPSBkYXRhPy5jb2x1bW4/LmNhcHRpb247XHJcbiAgICBjb25zdCBuYXZpZ2F0ZVN0YXRlID0ge1xyXG4gICAgICBleHRlcm5hbExpbms6IHRydWUsXHJcbiAgICAgIGlzUmVhZE9ubHk6IGZhbHNlLFxyXG4gICAgICB0aXRsZTogdGhpcy5mcm9tVGl0bGVcclxuICAgIH07XHJcbiAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnZ3JpZEFjdGlvbicsIG51bGwpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2VkSWREYXRhID0gbnVsbDtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2xpY2tlZFJvd0RhdGEgPSBudWxsO1xyXG4gICAgbGV0IHVybDsgbGV0IGRhdGF0eXBlO1xyXG4gICAgdGhpcy51cGRhdGVHcmlkID0gdHlwZW9mIHRoaXMudXBkYXRlR3JpZCA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHRoaXMudXBkYXRlR3JpZCkgOiB0aGlzLnVwZGF0ZUdyaWQ7XHJcbiAgICBjb25zdCBncmlkQXJyID0gdGhpcy51cGRhdGVHcmlkPy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgY29uc3QgY29sdW1uID0gZGF0YS5jb2x1bW4uZGF0YUZpZWxkO1xyXG4gICAgY29uc3QgdGFibGVzY2hlbWFjb25maWcgPSB0aGlzLnNlYXJjaHBhcmFtcy50YWJsZXNjaGVtYWNvbmZpZztcclxuICAgIGZvciAoY29uc3Qga2V5IG9mIGdyaWRBcnIpIHtcclxuICAgICAgaWYgKGtleS5jb2x1bW5EZWYgPT09IGNvbHVtbikge1xyXG4gICAgICAgIHVybCA9IGtleS5saW5rO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRhYmxlc2NoZW1hY29uZmlnLmZpZWxkbWFwcGluZy5maWx0ZXIoeCA9PiAoeC50YWJsZW5hbWUgKyAnLicgKyB4LmZpZWxkKSA9PT0ga2V5LmNvbHVtbkRlZik7XHJcbiAgICAgICAgZGF0YXR5cGUgPSByZXN1bHRbMF0uZGF0YXR5cGU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMubG9hZFJvdXRlcih1cmwsIGRhdGF0eXBlLCBjb2x1bW4sIGRhdGEsIG5hdmlnYXRlU3RhdGUpO1xyXG4gIH1cclxuICBsb2FkUm91dGVyKHVybCwgZGF0YXR5cGUsIGNvbHVtbiwgZGF0YSwgbmF2aWdhdGVTdGF0ZT86IGFueSkge1xyXG4gICAgaWYgKHVybCkge1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrZWRSb3dEYXRhID0gZGF0YT8uZGF0YTtcclxuICAgICAgY29uc3QgVVJMU3MgPSB0aGlzLnVybGdldChkYXRhLCAnZWRpdFVybCcsICcnKTtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jaGFuZ2VQYWdlKHRydWUpO1xyXG5cclxuICAgICAgY29uc3QgZGF0YUtleXMgPSBPYmplY3Qua2V5cyhkYXRhPy5kYXRhKTtcclxuICAgICAgaWYgKGRhdGFLZXlzLmluY2x1ZGVzKFVSTFNzKSkge1xyXG4gICAgICAgIGlmICghZGF0YT8uZGF0YVtVUkxTc10pIHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oZGF0YS5kaXNwbGF5VmFsdWUgKyAnIG5vdCBnZW5lcmF0ZWQgcHJvcGVybHkhJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHMzVXJsID0gZGF0YT8uZGF0YVtVUkxTc10uaW5jbHVkZXMoJy5jb20vJykgPyBkYXRhPy5kYXRhW1VSTFNzXS5zcGxpdCgnLmNvbS8nKVsxXSA6IGRhdGE/LmRhdGFbVVJMU3NdO1xyXG4gICAgICAgICAgdGhpcy5kb3dubG9hZEZpbGVJbnRlcm5hbGx5KHRoaXMuZW52aXJvbm1lbnQuczNCdWNrZXRVcmwgKyAnLycgKyBzM1VybCwgZGF0YT8uZGF0YVsnZmlsZW5hbWUnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGEuZGF0YS5mcm9tR3JpZCA9IHRydWU7XHJcbiAgICAgICAgZGF0YS5kYXRhLmV4dGVybmFsTGluayA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5pZC5uZXh0KGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0UGFnZVRhYnModXJsLCBkYXRhdHlwZSwgY29sdW1uLCBkYXRhLmRhdGFbY29sdW1uLnNwbGl0KCcuJylbMF1dW2NvbHVtbi5zcGxpdCgnLicpWzFdXSwgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZWRpdERhdGEoZGF0YSkge1xyXG4gICAgY29uc3QgVVJMU3MgPSB0aGlzLnVybGdldChkYXRhLCAnZWRpdFVybCcsICcnKTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuaWQubmV4dChkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQpO1xyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChVUkxTcyk7XHJcbiAgfVxyXG5cclxuICB2aWV3RGF0YShkYXRhKSB7XHJcbiAgICBjb25zdCBVUkxTcyA9IHRoaXMudXJsZ2V0KGRhdGEsICdlZGl0VXJsJywgJycpO1xyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChVUkxTcyk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVEYXRhKGRhdGEpIHtcclxuICAgIGNvbnN0IFVSTFNzID0gdGhpcy51cmxnZXQoZGF0YSwgJ2RlbGV0ZVVybCcsICcnKTtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoVVJMU3MpO1xyXG4gIH1cclxuXHJcbiAgb3BlbkxpbmsoZGF0YSkge1xyXG4gICAgY29uc3QgVVJMU3MgPSB0aGlzLnVybGdldChkYXRhLCAnZXh0ZXJuYWxMaW5rJywgJycpO1xyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChVUkxTcyk7XHJcbiAgfVxyXG5cclxuICB1cmxnZXQoZGF0YSwgb2JqLCBwVXJsKSB7XHJcbiAgICBsZXQgdXJsID0gb2JqID8gdGhpcy51cGRhdGVHcmlkW29ial0gOiBwVXJsO1xyXG4gICAgaWYgKHVybCkge1xyXG4gICAgICBjb25zdCB1cmxwYXJhbUFyciA9IHVybC5zcGxpdCgnLycpO1xyXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiB1cmxwYXJhbUFycikge1xyXG4gICAgICAgIGlmIChrZXkuaW5kZXhPZigneycpICE9PSAtMSAmJiBkYXRhLmRhdGEpIHtcclxuICAgICAgICAgIHVybCA9IHRoaXMuc2V0VVJMKGtleSwgdXJsLCBkYXRhKTtcclxuICAgICAgICAgIHVybCA9IHRoaXMuc2V0Q3VycmVudFVybChrZXksIHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKCcvdW5kZWZpbmVkJywgJycpO1xyXG4gICAgICBjb25zdCB1cmxwYXJhbUFycjEgPSB1cmwuc3BsaXQoJy8nKTtcclxuICAgICAgdXJsID0gdGhpcy5zZXRVcmxQYXJhbSh1cmxwYXJhbUFycjEsIHVybCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogcmVtb3ZlIGR1cGxpY2F0ZSBmb3J3YXJkIHNsYXNoZXMgZnJvbSB0aGUgVVJMICovXHJcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgvKFteOl1cXC8pXFwvKy9nLCAnJDEnKTtcclxuICAgIHJldHVybiB1cmw7XHJcbiAgfVxyXG5cclxuICBzZXRVUkwoa2V5OiBhbnksIHVybDogYW55LCBkYXRhOiBhbnkpIHtcclxuICAgIGlmIChrZXkgPT09ICd7c291cmNlSWR9Jykge1xyXG4gICAgICBjb25zdCB2YWwgPSB7XHJcbiAgICAgICAgc291cmNlSWQ6IHRoaXMuaW5wdXRGaWVsZElkXHJcbiAgICAgIH07XHJcbiAgICAgIHJldHVybiB1cmwucmVwbGFjZShrZXksIHZhbFtrZXkuc3Vic3RyaW5nKDEsIGtleS5pbmRleE9mKCd9JykpXSk7XHJcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3twdXJwb3NlfScpIHtcclxuICAgICAgY29uc3QgdmFsID0ge1xyXG4gICAgICAgIHB1cnBvc2U6IHRoaXMucHVycG9zZVxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gdXJsLnJlcGxhY2Uoa2V5LCB2YWxba2V5LnN1YnN0cmluZygxLCBrZXkuaW5kZXhPZignfScpKV0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGtleSwgZGF0YS5kYXRhW2tleS5zdWJzdHJpbmcoMSwga2V5LmluZGV4T2YoJ30nKSldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRVcmwoa2V5OiBhbnksIHVybDogYW55KSB7XHJcbiAgICBpZiAodGhpcy5yb3V0ZXIudXJsICYmIGtleSA9PT0gJ3twYWdlcGF0aH0nKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRVUkwgPSB0aGlzLnJvdXRlci51cmwuc3BsaXQoJ21lcmdlcGFnZScpO1xyXG4gICAgICBpZiAoY3VycmVudFVSTD8ubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKCcvcGFnZXMvZHluYW1pY3BhZ2UvJywgY3VycmVudFVSTFswXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFVybFBhcmFtKHVybHBhcmFtQXJyMTogYW55LCB1cmw6IGFueSwgZGF0YTogYW55KSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1cmxwYXJhbUFycjEpIHtcclxuICAgICAgaWYgKGtleS5pbmRleE9mKCd7JykgIT09IC0xICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgIHJldHVybiB1cmwucmVwbGFjZShrZXksIGRhdGEuZGF0YVtrZXkuc3Vic3RyaW5nKDEsIGtleS5pbmRleE9mKCd9JykpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGR5bmFtaWMgYWN0aW9uIGxpbmtcclxuICBnZXRJbnNpZGVHcmlkQWN0aW9uKGRhdGEsIGl0ZW0pIHtcclxuXHJcbiAgICB0aGlzLmNoZWNrUnVsZXNCZWZvcmVBY3Rpb25zKGRhdGEsIGl0ZW0pLnN1YnNjcmliZSgoYWxsb3dlZDogYm9vbGVhbikgPT4ge1xyXG4gICAgICBpZiAoIWFsbG93ZWQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmdldEFjdGlvblJvdXRlcyhkYXRhLCBpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0QWN0aW9uUm91dGVzKGRhdGEsIGl0ZW0pe1xyXG4gICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ2dyaWRBY3Rpb24nLCBpdGVtLmFjdGlvbik7XHJcbiAgICAvKiBDb21wbGV4aXR5LTE0Ki9cclxuICAgIGlmIChpdGVtLmFjdGlvbiA9PT0gJ3NlYXJjaCcgfHwgaXRlbS5hY3Rpb24gPT09ICdlZGl0JyB8fCBpdGVtLmFjdGlvbiA9PT0gJ3ZpZXcnIHx8IGl0ZW0uYWN0aW9uID09PSAnc2VsZWN0JyB8fCBpdGVtLmFjdGlvbiA9PT0gJ3N3aXRjaCcgfHwgaXRlbS5hY3Rpb24gPT09ICdjb3B5Jykge1xyXG4gICAgICAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgICAgdGhpcy5hY3Rpb25DaGVjayhpdGVtLCBkYXRhKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdkZWxldGUnKSB7XHJcbiAgICAgIHRoaXMuZGVsZXRlQ29uZmlybWF0aW9uKGRhdGEsIGl0ZW0pO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICB0aGlzLmNvbXBsZXRlQ29uZmlybWF0aW9uKGRhdGEsIGl0ZW0pO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ25hcnJhdGl2ZScpIHtcclxuICAgICAgdGhpcy5wb3B1cChkYXRhLmRhdGEubmFycmF0aXZlLCBpdGVtKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdoaXN0b3J5Jykge1xyXG4gICAgICBpZiAoaXRlbS50eXBlID09PSBQT1BVUF9UWVBFX09QRU4pIHtcclxuXHJcbiAgICAgICAgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICAgICAgdGhpcy5wb3B1cFR5cGVDaGVjayhpdGVtLCBkYXRhKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ3ByaW50Jykge1xyXG5cclxuICAgICAgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICAgIHRoaXMuYWN0aW9uUHJpbnRDaGVjayhkYXRhKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdlbWFpbCcpIHtcclxuXHJcbiAgICAgIC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgICB0aGlzLmFjdGlvbkVtYWlsQ2hlY2soZGF0YSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnZG93bmxvYWQnKSB7XHJcblxyXG4gICAgICAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgICAgdGhpcy5hY3Rpb25Eb3dubG9hZENoZWNrKGl0ZW0sIGRhdGEpO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ1RyaWdnZXJTY2hlZHVsaW5nJykge1xyXG4gICAgICB0aGlzLnN0YXJ0U2NoZWR1bGluZyhkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQpO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ1RyaWdnZXInKSB7XHJcbiAgICAgIHRoaXMuc3RhcnRTY2hlZHVsaW5nKGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgaXRlbT8ubGluayk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnU3VydmV5Jykge1xyXG4gICAgICB0aGlzLmFjdGlvblN1cnZleUNoZWNrKGRhdGEpOyAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdpbmZvJykge1xyXG4gICAgICB0aGlzLmFjdGlvbkluZm9DaGVjayhkYXRhLCBpdGVtKTsgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICB9XHJcbiAgICAvLyBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2NvcHknKSB7XHJcbiAgICAvLyAgIHRoaXMuYWN0aW9uQ2hlY2soaXRlbSwgZGF0YSk7IC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgYWN0aW9uQ2hlY2soaXRlbSwgZGF0YSkge1xyXG4gICAgLyogRnJvbSBnZXRJbnNpZGVHcmlkQWN0aW9uKCkgKi9cclxuICAgIGNvbnN0IGFjdGlvbiA9IGl0ZW0uYWN0aW9uO1xyXG4gICAgbGV0IGVkaXREYXRhU3RhdHVzID0gJyc7XHJcbiAgICBjb25zdCBncmlkQ29uZmlnID0gdGhpcy5zZWFyY2hwYXJhbXM/LmdyaWRjb25maWc7XHJcbiAgICBjb25zdCB0YWJsZXNjaGVtYWNvbmZpZyA9IHRoaXMuc2VhcmNocGFyYW1zPy50YWJsZXNjaGVtYWNvbmZpZztcclxuICAgIGxldCB2aWV3UHJpbWFyeVRhYmxlID0gJyc7XHJcbiAgICBpZih0YWJsZXNjaGVtYWNvbmZpZy5vYmplY3RUeXBlID09ICd2aWV3Jyl7XHJcbiAgICAgIGNvbnN0IGZpcnN0S2V5ID0gT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXTtcclxuICAgICAgdmlld1ByaW1hcnlUYWJsZSA9IGRhdGEuZGF0YVtmaXJzdEtleV1bJ3ByaW1hcnlfb2JqZWN0J107XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLmlzRWRpdFRocmVzaG9sZFJlcXVpcmUgfHwgZ3JpZENvbmZpZz8uaXNFZGl0VGhyZXNob2xkUmVxdWlyZSl7XHJcbiAgICAgIHRoaXMuaXNFZGl0VGhyZXNob2xkUmVxdWlyZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZihpdGVtLmFjdGlvbiA9PT0gJ2VkaXQnKXtcclxuICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ0VkaXRHcmlkUGFnZUlEJywgdGhpcy5wYWdlSWQudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcbiAgICBpZihpdGVtLmFjdGlvbiA9PT0gJ2VkaXQnICYmIHRoaXMuaXNFZGl0VGhyZXNob2xkUmVxdWlyZSl7XHJcbiAgICAgIGNvbnN0IHByaW1hcnlfaWQgPSB0aGlzLmdldFByaW1hcnlDb2x1bW5JZChkYXRhLmRhdGEucHJpbWFyeUNvbHVtbiwgZGF0YSk7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hlY2tFZGl0U3RhdHVzKHRoaXMucGFnZUlkLCBwcmltYXJ5X2lkKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICAgIGlmKHJlc3VsdFsnZGF0YSddICYmIHJlc3VsdFsnZGF0YSddLmxlbmd0aCA+IDAgJiYgcmVzdWx0WydkYXRhJ11bMF1bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgIGVkaXREYXRhU3RhdHVzID0gcmVzdWx0WydkYXRhJ11bMF1bJ3N0YXR1cyddO1xyXG4gICAgICAgICAgICB0aGlzLmVkaXRBY3Rpb25DaGVjayhpdGVtLCBkYXRhLCBlZGl0RGF0YVN0YXR1cylcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZycpO1xyXG4gICAgICAgICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ2dyaWRBY3Rpb24nLCBhY3Rpb24pO1xyXG4gICAgY29uc3QgbmF2aWdhdGVTdGF0ZSA9IHtcclxuICAgICAgZXh0ZXJuYWxMaW5rOiB0cnVlLFxyXG4gICAgICBpc1JlYWRPbmx5OiBmYWxzZSxcclxuICAgICAgdGl0bGU6IGl0ZW0uYWN0aW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBpdGVtLmFjdGlvbi5zbGljZSgxKSArICcgJyArIHRoaXMuZnJvbVRpdGxlLFxyXG4gICAgICBwZXJzb25JZDogbnVsbCxcclxuICAgICAgcGFnZUlkOiBudWxsXHJcbiAgICB9O1xyXG4gICAgaWYgKGl0ZW0uYWN0aW9uID09PSAndmlldycpIHtcclxuICAgICAgbmF2aWdhdGVTdGF0ZS5pc1JlYWRPbmx5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChpdGVtLnR5cGUgPT09IFBPUFVQX1RZUEVfT1BFTikge1xyXG4gICAgICBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcclxuICAgICAgZGlhbG9nQ29uZmlnLmhlaWdodCA9ICc5MCUnO1xyXG4gICAgICBkaWFsb2dDb25maWcud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIHRoaXMuYWN0aW9uVmlld0NoZWNrKGl0ZW0sIGRpYWxvZ0NvbmZpZywgZGF0YSk7XHJcbiAgICAgIGNvbnN0IHJlZiA9IHRoaXMuZGlhbG9nLm9wZW4oRHluYW1pY1BhZ2VDbGVhbnVwQ29tcG9uZW50LCBkaWFsb2dDb25maWcpO1xyXG4gICAgICByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2NvcHl0ZW1wJykge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLmxvY2Fsc3RvcmUuZ2V0T2JqKCd1c2VyJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdKTtcclxuICAgICAgICBsZXQgcGFnZUlkID0gJyc7XHJcbiAgICAgICAgaWYoZ3JpZENvbmZpZz8uZ3JpZEFjdGlvbkZvcm1BcnJheS5sZW5ndGgpe1xyXG4gICAgICAgICAgZ3JpZENvbmZpZz8uZ3JpZEFjdGlvbkZvcm1BcnJheS5maW5kKGl0ZW0gPT57XHJcbiAgICAgICAgICAgIGlmKGl0ZW0/LmFjdGlvbiA9PSAnYWRkJykgcGFnZUlkID0gaXRlbT8ubGlua1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BpZCA9XHJcbiAgICAgICAgdHlwZW9mIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXSA9PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gZGF0YS5kYXRhPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dIHx8IGRhdGEuZGF0YT8uSURcclxuICAgICAgICA6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkIDtcclxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHtcclxuICAgICAgICAgIC8vIFwiaWRcIjpkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0sXHJcbiAgICAgICAgICBcImlkXCI6IHJlc3BpZCxcclxuICAgICAgICAgIFwic2NoZW1hXCI6IHRhYmxlc2NoZW1hY29uZmlnLnNjaGVtYSxcclxuICAgICAgICAgIFwidGFibGVuYW1lXCI6IHRhYmxlc2NoZW1hY29uZmlnLm9iamVjdFR5cGUgIT09ICd2aWV3Jz8gT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXSA6IHZpZXdQcmltYXJ5VGFibGUsXHJcbiAgICAgICAgICBcImN1cnJlbnRVc2VyXCI6dXNlcj8uaWQsXHJcbiAgICAgICAgICBcInBhZ2VJZFwiOiBwYWdlSWRcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5yb3dWZXJzaW9uKHJlcXVlc3REYXRhKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5wYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7XHJcbiAgICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcclxuICAgICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm93IGFkZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICBpZiAoWydtYXN0ZXItdmlldycsICdjb21wb3NpdGUtcGFnZSddLmluY2x1ZGVzKCB3aW5kb3cubG9jYXRpb24uaHJlZikpXHJcbiAgICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYoKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21NYXN0ZXJWaWV3IHx8IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21Db21wb3NpdGVQYWdlKSYmIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MpXHJcbiAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7ZXZlbnROYW1lOiAnc3VibWl0JywgcGF5bG9hZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudH0pKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKF9lcnJvci5lcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vVGhpcyBSb3V0ZXMgcHJpb3JpdHppbmcgY29tcG9zaXRlLXBhZ2VzIGFzIGZpcnN0XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ21hc3Rlci12aWV3JykgfHwgdGhpcy5yb3V0ZXI/LnVybC5pbmNsdWRlcygnY29tcG9zaXRlLXBhZ2UnKSkge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMucm91dGVyLnVybDtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbXBvbmVudCAmJiAodGhpcy5zZWxlY3RlZENvbXBvbmVudD8ubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tQ29tcG9zaXRlUGFnZSApICAmJiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzICYmXHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzLm1hcHBpbmdGb3JtSWQpXHJcbiAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7IGV2ZW50TmFtZTogaXRlbS5hY3Rpb24sXHJcbiAgICAgICAgICAgICBwYXlsb2FkOiB7IGlkOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0sIG1hcHBpbmdGb3JtSWQ6IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MubWFwcGluZ0Zvcm1JZCB9IH0pKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ2NvbXBvc2l0ZVRpdGxlJywgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy50aXRsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnc2V0VGFiQWN0aW9uJywgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlLnNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy9mb3JtLycgKyBpdGVtLmxpbmsgKyAnLycgKyAgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dXSwge1xyXG4gICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy90aGlzLmFjdGlvblJvdXRlckNvbmZpZyhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy9CZWxvdyByb3V0aW5nIGhhbmRsZXMgcmliYm9uIGFuZCBzaW5nbGUgZ3JpZCBwYWdlc1xyXG4gICAgICBlbHNlIGlmICh0aGlzLnJvdXRlcj8udXJsLmluY2x1ZGVzKCdkeW5hbWljLXJvdXRpbmcnKSkge1xyXG4gICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdzZXRUYWJBY3Rpb24nLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlLnNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgbGV0IHVybDtcclxuICAgICAgICBpZihpdGVtPy5wYWdlVHlwZSA9PSAnQ09NUCcpe1xyXG4gICAgICAgICAgdXJsID0gJy4uLy4uLy4uL2NvbXBvc2l0ZS1wYWdlLycgKyBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHVybCA9ICcuLi8uLi8uLi9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgaXRlbS5saW5rICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dO1xyXG4gICAgICAgfVxyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwge1xyXG4gICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgfSlcclxuICAgICAgICAvLyB0aGlzLmFjdGlvblJvdXRlckNvbmZpZyhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ3BhZ2VzLycpKSB7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGl0ZW0ubGluay5yZXBsYWNlKCd7aWR9JywgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvJyArIGxpbmssIHsgc3RhdGU6IGl0ZW0gfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdtZXJnZXBhZ2UnKSkge1xyXG4gICAgICAgIGxldCB1cmwgPSBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygne3NvdXJjZUlkfScpKSB7XHJcbiAgICAgICAgICB1cmwgPSB0aGlzLnVybGdldChkYXRhLCAnJywgaXRlbS5saW5rKTtcclxuICAgICAgICAgIHVybCA9IHVybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdzb3VyY2VpZCcpKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfc291cmNlaWQnKVswXTtcclxuICAgICAgICBjb25zdCB1cmwgPSAnL3BhZ2VzL2R5bmFtaWMtcm91dGluZy8nICsgZGF0YS5kYXRhLnNvdXJjZWlkICsgJy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ19wYWdlJykpIHtcclxuICAgICAgICAvLyBUcmFuc2FjdGlvbnMgUGFnZSAtIGVkaXQgcm91dGluZyBjaGFuZ2VzXHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nLycgKyBkYXRhLmRhdGEuY2xpZW50YWNjb3VudGlkICsgJy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBwYWdlaWQgPSBpdGVtLmxpbmsgPyBpdGVtLmxpbmsgOiB0aGlzLnBhZ2VJZDtcclxuICAgICAgICBjb25zdCByZXNwaWQgPVxyXG4gICAgICAgICAgdHlwZW9mIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXSA9PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICA/IGRhdGEuZGF0YT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGE/LklEXHJcbiAgICAgICAgICAgIDogZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dIHx8IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uaWQ7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgcGFnZWlkICsgJy8nICsgcmVzcGlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlZGl0QWN0aW9uQ2hlY2soaXRlbSwgZGF0YSwgZWRpdERhdGFTdGF0dXMpe1xyXG4gICAgaWYoaXRlbS5hY3Rpb24gPT09ICdlZGl0JyAmJiBlZGl0RGF0YVN0YXR1cyA9PT0gJ09XTkVSX09OTFlfRURJVCcpe1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBlZGl0IHRoaXMgcmVjb3JkLiBPbmx5IHRoZSBvd25lciB3aG8gY3JlYXRlZCB0aGUgcmVjb3JkIGNhbiBtYWtlIGNoYW5nZXMuJyk7XHJcbiAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgfSBlbHNlIGlmKGl0ZW0uYWN0aW9uID09PSAnZWRpdCcgJiYgZWRpdERhdGFTdGF0dXMgPT09ICdOT19FRElUJyl7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ1RoZSBlZGl0IHdpbmRvdyBmb3IgdGhpcyByZWNvcmQgaGFzIGV4cGlyZWQgYW5kIGNoYW5nZXMgY2Fubm90IGJlIG1hZGUgYXQgdGhpcyB0aW1lLicpO1xyXG4gICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGl0ZW0uYWN0aW9uO1xyXG4gICAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnZ3JpZEFjdGlvbicsIGFjdGlvbik7XHJcbiAgICAgIGNvbnN0IG5hdmlnYXRlU3RhdGUgPSB7XHJcbiAgICAgICAgZXh0ZXJuYWxMaW5rOiB0cnVlLFxyXG4gICAgICAgIGlzUmVhZE9ubHk6IGZhbHNlLFxyXG4gICAgICAgIHRpdGxlOiBpdGVtLmFjdGlvblswXS50b1VwcGVyQ2FzZSgpICsgaXRlbS5hY3Rpb24uc2xpY2UoMSkgKyAnICcgKyB0aGlzLmZyb21UaXRsZSxcclxuICAgICAgICBwZXJzb25JZDogbnVsbCxcclxuICAgICAgICBwYWdlSWQ6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ2R5bmFtaWMtcm91dGluZycpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ21hc3Rlci12aWV3JykgfHwgdGhpcy5yb3V0ZXI/LnVybC5pbmNsdWRlcygnY29tcG9zaXRlLXBhZ2UnKSkge1xyXG4gICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5yb3V0ZXIudXJsO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQgJiYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tQ29tcG9zaXRlUGFnZSkgJiYgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncyAmJlxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzLm1hcHBpbmdGb3JtSWQpXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocHVibGlzaEV2ZW50KHtcclxuICAgICAgICAgICAgICBldmVudE5hbWU6IGl0ZW0uYWN0aW9uLFxyXG4gICAgICAgICAgICAgIHBheWxvYWQ6IHsgaWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgbWFwcGluZ0Zvcm1JZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkIH1cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnL2Zvcm0vJyArIGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCB1cmwgPSAnLi4vLi4vLi4vZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7XHJcbiAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYWN0aW9uUm91dGVyQ29uZmlnKGRhdGEsIGl0ZW0sIG5hdmlnYXRlU3RhdGUpO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygncGFnZXMvJykpIHtcclxuICAgICAgICBjb25zdCBsaW5rID0gaXRlbS5saW5rLnJlcGxhY2UoJ3tpZH0nLCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0pO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoJy8nICsgbGluaywgeyBzdGF0ZTogaXRlbSB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ21lcmdlcGFnZScpKSB7XHJcbiAgICAgICAgbGV0IHVybCA9IGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCd7c291cmNlSWR9JykpIHtcclxuICAgICAgICAgIHVybCA9IHRoaXMudXJsZ2V0KGRhdGEsICcnLCBpdGVtLmxpbmspO1xyXG4gICAgICAgICAgdXJsID0gdXJsICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ3NvdXJjZWlkJykpIHtcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBpdGVtLmxpbmsuc3BsaXQoJ19zb3VyY2VpZCcpWzBdO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nLycgKyBkYXRhLmRhdGEuc291cmNlaWQgKyAnL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygnX3BhZ2UnKSkge1xyXG4gICAgICAgIC8vIFRyYW5zYWN0aW9ucyBQYWdlIC0gZWRpdCByb3V0aW5nIGNoYW5nZXNcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBpdGVtLmxpbmsuc3BsaXQoJ19wYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljLXJvdXRpbmcvJyArIGRhdGEuZGF0YS5jbGllbnRhY2NvdW50aWQgKyAnL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ICBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2NvcHknKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHtcclxuICAgICAgICAgIFwiaWRcIjpkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkLFxyXG4gICAgICAgICAgXCJzY2hlbWFcIjpcIm95YVwiLFxyXG4gICAgICAgICAgXCJ0YWJsZW5hbWVcIjpPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdLFxyXG4gICAgICAgICAgXCJjdXJyZW50VXNlclwiOjU3MlxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnJvd1ZlcnNpb24ocmVxdWVzdERhdGEpLnN1YnNjcmliZShcclxuICAgICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24ucGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHtcclxuICAgICAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEdyaWQodGhpcy5odHRwLCB0aGlzLnN0b3JhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm93IGFkZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKF9lcnJvci5lcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHBhZ2VpZCA9IGl0ZW0ubGluayA/IGl0ZW0ubGluayA6IHRoaXMucGFnZUlkO1xyXG4gICAgICAgIGNvbnN0IHJlc3BpZCA9XHJcbiAgICAgICAgdHlwZW9mIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXSA9PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gZGF0YS5kYXRhPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dIHx8IGRhdGEuZGF0YT8uSURcclxuICAgICAgICA6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkXHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgcGFnZWlkICsgJy8nICsgcmVzcGlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhY3Rpb25WaWV3Q2hlY2soaXRlbSwgZGlhbG9nQ29uZmlnLCBkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGFjdGlvbkNoZWNrKCktLT4gZ2V0SW5zaWRlR3JpZEFjdGlvbigpICovXHJcbiAgICBpZiAoaXRlbS5hY3Rpb24gPT09ICd2aWV3Jykge1xyXG4gICAgICBkaWFsb2dDb25maWcuZGF0YSA9IHtcclxuICAgICAgICBlZGl0SWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCxcclxuICAgICAgICBwYWdlSWQ6IGl0ZW0ubGluayxcclxuICAgICAgICBpc1BvcHVwOiB0cnVlLFxyXG4gICAgICAgIGlzUmVhZE9ubHk6IHRydWVcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBlZGl0SWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgcGFnZUlkOiBpdGVtLmxpbmssIGlzUG9wdXA6IHRydWUgfTtcclxuICAgIH1cclxuICB9XHJcbiAgYWN0aW9uUm91dGVyQ29uZmlnKGRhdGEsIGl0ZW0sIG5hdmlnYXRlU3RhdGUpIHtcclxuICAgIGxldCB1cmwgPSB0aGlzLnJvdXRlci51cmw7XHJcbiAgICBpZiAodGhpcy5vdXRlclJvdXRpbmc/Lm9ic2VydmVycz8ubGVuZ3RoKSB7XHJcbiAgICAgIGRhdGEuaXRlbSA9IGl0ZW07XHJcbiAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdvdXRlclJvdXRpbmdEYXRhJywgZGF0YSk7XHJcbiAgICAgIHRoaXMub3V0ZXJSb3V0aW5nLmVtaXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdtdWx0aXBsZWZvcm0nKSkge1xyXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnbWVyZ2VwYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfbXVsdGlwbGVmb3JtJylbMF07XHJcbiAgICAgICAgdXJsID0gdXJsICsgJ2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdzb3VyY2Vmb3JtJykpIHtcclxuICAgICAgICAvLyBmb3IgY2hpbGQgcmVtb3ZhbCAtIGVkaXQvdmlldyByb3V0aW5nIGNoYW5nZVxyXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnbWVyZ2VwYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzBdO1xyXG4gICAgICAgIHVybCA9IHVybCArICdwYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIGlmIChpdGVtLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV0gJiYgaXRlbS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdLmluY2x1ZGVzKCdfc3VidGFiXycpKSB7XHJcbiAgICAgICAgICAvLyBFeHRlcm5hbCBQb3J0YWwgLSBTdGFmZiB3aXRoIHN1YnRhYnNcclxuICAgICAgICAgIGNvbnN0IGxpbmsgPSBpdGVtLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV07XHJcblxyXG4gICAgICAgICAgLyogR2V0IHN1YnRhYiBuYW1lIGZvciB1cmwgKi9cclxuICAgICAgICAgIGNvbnN0IHN1YnRhYiA9IGxpbmsuc3BsaXQoJ19zdWJ0YWJfJylbMV07XHJcbiAgICAgICAgICB1cmwgPSBzdWJ0YWIgKyAnLycgKyB1cmw7XHJcblxyXG4gICAgICAgICAgLyogRGlzYWJsZSBiYWNrIGJ1dHRvbiAqL1xyXG4gICAgICAgICAgbmF2aWdhdGVTdGF0ZS5leHRlcm5hbExpbmsgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvKiBzZXQgZGVmYXVsdCBwYWdlIHRpdGxlICovXHJcbiAgICAgICAgICBuYXZpZ2F0ZVN0YXRlLnRpdGxlID0gJyc7XHJcbiAgICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoYW5nZVBhZ2UodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHVybC5pbmRleE9mKCdtYXN0ZXItdmlldycpID4gMCB8fCB1cmwuaW5kZXhPZignY29tcG9zaXRlLXBhZ2UnKSA+IDApIHtcclxuICAgICAgICB1cmwgPSB1cmwgKyAnL2Zvcm0vJyArIGl0ZW0ubGluaztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dXSwge1xyXG4gICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHBvcHVwVHlwZUNoZWNrKGl0ZW0sIGRhdGEpIHtcclxuICAgIGNvbnN0IHNyY2lkID0gdGhpcy5yb3V0ZT8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5zbmFwc2hvdD8ucGFyYW1NYXAuZ2V0KCdzb3VyY2VpZCcpXHJcbiAgICAgID8gdGhpcy5yb3V0ZT8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5zbmFwc2hvdD8ucGFyYW1NYXAuZ2V0KCdzb3VyY2VpZCcpXHJcbiAgICAgIDogdGhpcy5yb3V0ZT8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8uc25hcHNob3Q/LnBhcmFtTWFwLmdldCgnc291cmNlaWQnKTtcclxuICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcclxuICAgIGRpYWxvZ0NvbmZpZy5oZWlnaHQgPSAnOTAlJztcclxuICAgIGRpYWxvZ0NvbmZpZy53aWR0aCA9ICcxMDAlJztcclxuICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBwYWdlSWQ6IGl0ZW0ubGluaywgaW5wdXRGaWVsZElkOiBkYXRhLmtleS5pZCwgaW5wdXRJZDogc3JjaWQgfTtcclxuICAgIGNvbnN0IHJlZiA9IHRoaXMuZGlhbG9nLm9wZW4oRHluYW1pY1NlYXJjaENvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhY3Rpb25QcmludENoZWNrKGRhdGEpIHtcclxuICAgIC8qIEZyb20gZ2V0SW5zaWRlR3JpZEFjdGlvbigpKi9cclxuICAgIGlmICghZGF0YS5kYXRhLnMzYnVja2V0dXJsKSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ05vIHBkZiBmb3VuZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBwZGZ1cmwgPSB0aGlzLmVudmlyb25tZW50LnMzQnVja2V0VXJsICsgJy8nICsgZGF0YS5kYXRhLnMzYnVja2V0dXJsO1xyXG4gICAgZXM2cHJpbnRKUyh7IHByaW50YWJsZTogcGRmdXJsLCB0eXBlOiAncGRmJywgc2hvd01vZGFsOiB0cnVlIH0pO1xyXG4gIH1cclxuXHJcbiAgYWN0aW9uRW1haWxDaGVjayhkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGdldEluc2lkZUdyaWRBY3Rpb24oKSovXHJcbiAgICBpZiAoIWRhdGEuZGF0YS5lbWFpbCkge1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdFbWFpbCBpcyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghZGF0YS5kYXRhLnMzYnVja2V0dXJsKSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ05vIEF0dGFjaG1lbnQgZm91bmQnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gI2NoZWNrIGZyb21hZGRyZXNzIGlzIGhhcmRjb2RlZFxyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZVxyXG4gICAgICAuc2VuZE1haWwoe1xyXG4gICAgICAgIHN1YmplY3Q6IGRhdGEuZGF0YS5zdWJqZWN0LFxyXG4gICAgICAgIGNvbnRlbnQ6IGAke2RhdGEuZGF0YS5jb250ZW50X2JvZHl9PHA+VGhhbmtzIDxicj4gJHt0aGlzLnVzZXIuZmlyc3ROYW1lfSAke3RoaXMudXNlci5sYXN0TmFtZX0gPGJyPiAgJHt0aGlzLnVzZXIucm9sZS5kZXNjcmlwdGlvbn0gPC9wPmAsXHJcbiAgICAgICAgczNidWNrZXRrZXk6IGRhdGEuZGF0YS5zM2J1Y2tldHVybCxcclxuICAgICAgICB0b2FkcmVzc2VzOiBbZGF0YS5kYXRhLmVtYWlsXSxcclxuICAgICAgICBmcm9tYWRkcmVzczogJ3ZtYXRoZXdAZG1pbmMuY29tJ1xyXG4gICAgICB9KVxyXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdFbWFpbCBTZW50IHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFjdGlvbkRvd25sb2FkQ2hlY2soaXRlbSwgZGF0YSkge1xyXG4gICAgLyogRnJvbSBnZXRJbnNpZGVHcmlkQWN0aW9uKCkqL1xyXG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ0RvY3VtZW50IFJlcG9ydCBHZW5lcmF0aW9uJykge1xyXG4gICAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgncGFnZURhdGEnLCB0aGlzLnNlYXJjaHBhcmFtcyk7XHJcbiAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdncmlkRGF0YScsIGRhdGE/LmRhdGEpO1xyXG4gICAgICBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcclxuICAgICAgZGlhbG9nQ29uZmlnLmhlaWdodCA9ICc5MCUnO1xyXG4gICAgICBkaWFsb2dDb25maWcud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBlZGl0SWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgcGFnZUlkOiBpdGVtLmxpbmssIGlzUG9wdXA6IHRydWUgfTtcclxuICAgICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihEeW5hbWljUGFnZUNsZWFudXBDb21wb25lbnQsIGRpYWxvZ0NvbmZpZyk7XHJcbiAgICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWN0aW9uU3VydmV5Q2hlY2soZGF0YSkge1xyXG4gICAgLyogRnJvbSBnZXRJbnNpZGVHcmlkQWN0aW9uKCkqL1xyXG4gICAgaWYgKGRhdGEuZGF0YS5wYWdlZGF0YWlkKSB7XHJcbiAgICAgIGRhdGEuZGF0YS5pc1JlYWRPbmx5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoXHJcbiAgICAgIFBBR0VfTU9ESUZZX1JPVVRFICtcclxuICAgICAgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkICtcclxuICAgICAgKGRhdGEuZGF0YS5wYWdlZGF0YWlkID8gJy8nICsgZGF0YS5kYXRhLnBhZ2VkYXRhaWQgOiAnJyksXHJcbiAgICAgIHsgc3RhdGU6IGRhdGEuZGF0YSB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0T3V0c2lkZUdyaWRBY3Rpb24oaXRlbSkge1xyXG4gICAgdGhpcy5jaGVja1J1bGVzQmVmb3JlQWN0aW9ucyh7IHBhZ2VEYXRhOiB0aGlzLmFsbFVybFBhcmFtcyB9LCBpdGVtKS5zdWJzY3JpYmUoKGFsbG93ZWQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgaWYgKCFhbGxvd2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oJ0FkZEFjdGlvbicsIHRydWUpO1xyXG4gICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnZ3JpZEFjdGlvbicsIGl0ZW0uYWN0aW9uKTtcclxuICAgICAgY29uc3QgZGF0YSA9IGl0ZW07XHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGl0ZW0uYWN0aW9uO1xyXG4gICAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnZ3JpZEFjdGlvbicsIGFjdGlvbik7XHJcbiAgICAgIGNvbnN0IG5hdmlnYXRlU3RhdGUgPSB7XHJcbiAgICAgICAgZXh0ZXJuYWxMaW5rOiB0cnVlLFxyXG4gICAgICAgIHRpdGxlOiBpdGVtLmFjdGlvblswXS50b1VwcGVyQ2FzZSgpICsgaXRlbS5hY3Rpb24uc2xpY2UoMSkgKyAnICcgKyB0aGlzLmZyb21UaXRsZSxcclxuICAgICAgICBwZXJzb25JZDogbnVsbFxyXG4gICAgICB9O1xyXG4gICAgICAvLyBpZiAobmF2aWdhdGVTdGF0ZT8udGl0bGUpIHtcclxuICAgICAgLy8gICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdhZGQtdGl0bGUnLCBuYXZpZ2F0ZVN0YXRlPy50aXRsZSk7XHJcbiAgICAgIC8vIH1cclxuICAgICAgaWYgKGRhdGEudHlwZSA9PSAnRXh0ZXJuYWwgTGluaycpIHtcclxuICAgICAgICB0aGlzLmdldFZlcnNpb25MaXN0KGl0ZW0/LmxpbmssIG51bGwsIGl0ZW0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSBQT1BVUF9UWVBFX09QRU4pIHtcclxuICAgICAgICB0aGlzLnNldERpYWxvZ0NvbmZpZyhpdGVtKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodGhpcy5yb3V0ZXI/LnVybC5pbmNsdWRlcygnZHluYW1pYy1yb3V0aW5nJykpIHtcclxuICAgICAgICAgIHRoaXMuZHluYW1pY1JvdXRlQ2hlY2soZGF0YSwgaXRlbSwgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmxpbmsuaW5jbHVkZXMoJ21lcmdlcGFnZScpKSB7XHJcbiAgICAgICAgICBjb25zdCB1cmwgPSBkYXRhLmxpbms7XHJcbiAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvR3JpZFBhZ2UoZGF0YSwgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZHluYW1pY1JvdXRlQ2hlY2soZGF0YSwgaXRlbSwgbmF2aWdhdGVTdGF0ZSkge1xyXG4gICAgLyogRnJvbSBnZXRPdXRzaWRlR3JpZEFjdGlvbigpKi9cclxuICAgIGxldCB1cmwgPSB0aGlzLnJvdXRlci51cmw7XHJcbiAgICBpZiAodGhpcy5vdXRlclJvdXRpbmc/Lm9ic2VydmVycz8ubGVuZ3RoKSB7XHJcbiAgICAgIGRhdGEuaXRlbSA9IGl0ZW07XHJcbiAgICAgIHRoaXMub3V0ZXJSb3V0aW5nLmVtaXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgbGluayA9IGRhdGEubGluaztcclxuXHJcbiAgICAgIGlmIChkYXRhLmxpbmsuaW5jbHVkZXMoJ211bHRpcGxlZm9ybScpKSB7XHJcbiAgICAgICAgdXJsID0gdXJsLnNwbGl0KCdtZXJnZXBhZ2UnKVswXTtcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBkYXRhLmxpbmsuc3BsaXQoJ19tdWx0aXBsZWZvcm0nKVswXTtcclxuICAgICAgICBsaW5rID0gJ2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5saW5rLmluY2x1ZGVzKCdzb3VyY2Vmb3JtJykpIHtcclxuICAgICAgICAvLyBmb3IgaW50ZXJlc3QgdHJhbnNhY3Rpb24gYWRkXHJcbiAgICAgICAgdXJsID0gdXJsLnNwbGl0KCdtZXJnZXBhZ2UnKVswXTtcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBkYXRhLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMF07XHJcbiAgICAgICAgbGluayA9ICdwYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIG5hdmlnYXRlU3RhdGUgPSB0aGlzLnNldFJvdXRlRGF0YShkYXRhLCBsaW5rLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgICBpZiAoZGF0YS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdICYmIGRhdGEubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVsxXS5pbmNsdWRlcygnX3N1YnRhYl8nKSkge1xyXG4gICAgICAgICAgLy8gRXh0ZXJuYWwgUG9ydGFsIC0gU3RhZmYgd2l0aCBzdWJ0YWJzXHJcbiAgICAgICAgICBjb25zdCBzdWJ0YWJEYXRhID0gZGF0YS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdO1xyXG5cclxuICAgICAgICAgIC8qIEdldCBzdWJ0YWIgbmFtZSBmb3IgdXJsICovXHJcbiAgICAgICAgICBjb25zdCBzdWJ0YWIgPSBzdWJ0YWJEYXRhLnNwbGl0KCdfc3VidGFiXycpWzFdO1xyXG4gICAgICAgICAgbGluayA9IHN1YnRhYiArICcvJyArIGxpbms7XHJcblxyXG4gICAgICAgICAgLyogRGlzYWJsZSBiYWNrIGJ1dHRvbiAqL1xyXG4gICAgICAgICAgbmF2aWdhdGVTdGF0ZS5leHRlcm5hbExpbmsgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvKiBzZXQgZGVmYXVsdCBwYWdlIHRpdGxlICovXHJcbiAgICAgICAgICBuYXZpZ2F0ZVN0YXRlLnRpdGxlID0gJyc7XHJcbiAgICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoYW5nZVBhZ2UodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBsaW5rXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFJvdXRlRGF0YShkYXRhLCBfbGluaywgbmF2aWdhdGVTdGF0ZSkge1xyXG4gICAgaWYgKGRhdGEubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVsxXSAmJiBkYXRhLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV0uaW5jbHVkZXMoJ19zdWJ0YWJfJykpIHtcclxuICAgICAgLy8gRXh0ZXJuYWwgUG9ydGFsIC0gU3RhZmYgd2l0aCBzdWJ0YWJzXHJcbiAgICAgIC8vIEdldCBzdWJ0YWIgbmFtZSBmb3IgdXJsXHJcblxyXG4gICAgICAvKiBEaXNhYmxlIGJhY2sgYnV0dG9uICovXHJcbiAgICAgIG5hdmlnYXRlU3RhdGUuZXh0ZXJuYWxMaW5rID0gZmFsc2U7XHJcblxyXG4gICAgICAvKiBzZXQgZGVmYXVsdCBwYWdlIHRpdGxlICovXHJcbiAgICAgIG5hdmlnYXRlU3RhdGUudGl0bGUgPSAnJztcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jaGFuZ2VQYWdlKHRydWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hdmlnYXRlU3RhdGU7XHJcbiAgfVxyXG5cclxuICBuYXZpZ2F0ZVRvR3JpZFBhZ2UoZGF0YTogYW55LCBuYXZpZ2F0ZVN0YXRlOiBhbnkpIHtcclxuICAgIGlmIChkYXRhLmxpbmsuaW5jbHVkZXMoJ3BhZ2VzLycpKSB7XHJcbiAgICAgIGlmIChkYXRhLmxpbmsuaW5jbHVkZXMoJ3tvcmdhbml6YXRpb25pZH0nKSkge1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZWlkID0gdGhpcy51c2VyPy51c2VyV29ya0luZm8/Lm9yZ2FuaXphdGlvbj8uaWQ7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGRhdGEubGluay5yZXBsYWNlKCd7b3JnYW5pemF0aW9uaWR9Jywgc291cmNlaWQpO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvJyArIGxpbms7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCgnLycgKyBkYXRhLmxpbmspO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigndGFiJykgPiAwKSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy4uLy4uL3BhZ2UvJyArIGRhdGEubGluaztcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBQQUdFX01PRElGWV9ST1VURSArIGRhdGEubGluaztcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RGlhbG9nQ29uZmlnKGl0ZW06IGFueSkge1xyXG4gICAgY29uc3QgZGlhbG9nQ29uZmlnID0gbmV3IE1hdERpYWxvZ0NvbmZpZygpO1xyXG4gICAgZGlhbG9nQ29uZmlnLmRpc2FibGVDbG9zZSA9IGZhbHNlO1xyXG4gICAgZGlhbG9nQ29uZmlnLmhlaWdodCA9ICc5MCUnO1xyXG4gICAgZGlhbG9nQ29uZmlnLndpZHRoID0gJzEwMCUnO1xyXG4gICAgZGlhbG9nQ29uZmlnLmRhdGEgPSB7IHBhZ2VJZDogaXRlbS5saW5rLCBpc1BvcHVwOiB0cnVlIH07XHJcbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKER5bmFtaWNQYWdlQ2xlYW51cENvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIC8vIHJlZnJlc2ggZ3JpZFxyXG4gICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29udmVydFRvSVNPRm9ybWF0KGRhdGVTdHJpbmcpIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpOyAvLyBNb250aHMgYXJlIDAtYmFzZWRcclxuICAgIGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IGhvdXJzID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBTdHJpbmcoZGF0ZS5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgbWlsbGlzZWNvbmRzID0gU3RyaW5nKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpLnBhZFN0YXJ0KDMsICcwJyk7XHJcbiAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VCR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfS4ke21pbGxpc2Vjb25kc31aYDtcclxuICB9XHJcblxyXG4gIGFkZE1pbnV0ZXMoZGF0ZVN0cmluZzogc3RyaW5nLCBtaW51dGVzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xyXG4gICAgZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgbWludXRlcyk7XHJcbiAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UHJpbWFyeUNvbHVtbklkKHByaW1hcnlDb2x1bW46IGFueSwgZGF0YTogYW55KSB7XHJcbiAgICBjb25zdCBmaXJzdEtleSA9IE9iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF07XHJcbiAgICByZXR1cm4gZGF0YS5kYXRhW2ZpcnN0S2V5XVtwcmltYXJ5Q29sdW1uXTtcclxuICB9XHJcblxyXG4gIGdldEFzSlNPTihqc29uKXtcclxuICAgIHJldHVybiB0eXBlb2YganNvbj09PSdzdHJpbmcnID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XHJcbiAgfVxyXG5cclxuICBkZWxldGVDb25maXJtYXRpb24oZGF0YSwgaXRlbSkge1xyXG4gICAgdGhpcy5pc0Rpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMucGFnZW5hbWUgPSB0aGlzLnNlYXJjaHBhcmFtcz8ucGFnZW5hbWU7XHJcbiAgICBjb25zdCBncmlkQ29uaWdGb3JEZWxldGVSZXF1aXJlID0gdGhpcy5nZXRBc0pTT04odGhpcy5zZWFyY2hwYXJhbXM/LmdyaWRjb25maWcpO1xyXG4gICAgY29uc3QgdGFibGVzY2hlbWFjb25maWcgPSB0aGlzLmdldEFzSlNPTih0aGlzLnNlYXJjaHBhcmFtcz8udGFibGVzY2hlbWFjb25maWcpO1xyXG4gICAgbGV0IHZpZXdQcmltYXJ5VGFibGUgPSAnJztcclxuICAgIGlmKHRhYmxlc2NoZW1hY29uZmlnLm9iamVjdFR5cGUgPT0gJ3ZpZXcnKXtcclxuICAgICAgY29uc3QgZmlyc3RLZXkgPSBPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdO1xyXG4gICAgICB2aWV3UHJpbWFyeVRhYmxlID0gZGF0YS5kYXRhW2ZpcnN0S2V5XVsncHJpbWFyeV9vYmplY3QnXTtcclxuICAgIH1cclxuICAgIHRoaXMuZGVsZXRlUG9wdXBUZXh0ID0gZ3JpZENvbmlnRm9yRGVsZXRlUmVxdWlyZT8uaXNEZWxldGVQb3B1cFRleHQ7XHJcbiAgICBpZih0aGlzLmlzRGVsZXRlUmVxdWlyZSB8fCBncmlkQ29uaWdGb3JEZWxldGVSZXF1aXJlPy5pc0RlbGV0ZVJlcXVpcmUpe1xyXG4gICAgICB0aGlzLmlzRGVsZXRlUmVxdWlyZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc0NvbmRpdGlvbmFsRWRpdERlbGV0ZSAhPT0gJ3RydWUnIHx8ICF0aGlzLmlzRGVsZXRlUmVxdWlyZSkge1xyXG4gICAgICBjb25zdCBwcmltYXJ5X2lkID0gdGhpcy5nZXRQcmltYXJ5Q29sdW1uSWQoZGF0YS5kYXRhLnByaW1hcnlDb2x1bW4sIGRhdGEpO1xyXG4gICAgICB0aGlzLkRlbGV0ZUNvbmZpZ1VSTCA9IGAke0R5bmFtaWNTZWFyY2hVUkwuRW5kUG9pbnRzLmZvcm1SZXNwb25zZS5kZWxldGUucmVwbGFjZSgne2lkfScsIHByaW1hcnlfaWQpfS8ke3RoaXMucGFnZUlkfT9uYW1lPSR7dmlld1ByaW1hcnlUYWJsZX1gXHJcbiAgICAgIHRoaXMucG9wdXBEaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKHRoaXMuRGVsZXRlR3JpZExpc3RXaXRob3V0UmVhc29uLCB7XHJcbiAgICAgICAgcGFuZWxDbGFzczogJ2RlbGV0ZS1ncmlkLXdpdGhvdXQtcmVhc29uJ1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRtaW5BY2Nlc3NGb3JEZWxldGUgPSBmYWxzZTtcclxuICAgICAgY29uc3QgcHJpbWFyeV9pZCA9IHRoaXMuZ2V0UHJpbWFyeUNvbHVtbklkKGRhdGEuZGF0YS5wcmltYXJ5Q29sdW1uLCBkYXRhKTtcclxuICAgICAgdGhpcy5EZWxldGVDb25maWdVUkwgPSBgJHtEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKX0vJHt0aGlzLnBhZ2VJZH0/bmFtZT0ke3ZpZXdQcmltYXJ5VGFibGV9YFxyXG4gICAgICB0aGlzLnVwZGF0ZUJ5SWRBbmRQYWdlSWRXaXRoUmVhc29uVVJMID0gYCR7RHluYW1pY1NlYXJjaFVSTC5FbmRQb2ludHMuZm9ybVJlc3BvbnNlLnVwZGF0ZUJ5SWRBbmRQYWdlSWRXaXRoUmVhc29uLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKX0vJHt0aGlzLnBhZ2VJZH0/cHJpbWFyeXRhYmxlPSR7dmlld1ByaW1hcnlUYWJsZX1gXHJcbiAgICAgIGNvbnN0IHRiTmFtZSA9IHRoaXMuZ3JpZENvbmZpZy5oaWdobGlnaHRSb3cudGFibGVOYW1lO1xyXG4gICAgICB0aGlzLmRlbGV0ZUNvbmZpZ0RhdGEgPSB7fTtcclxuICAgICAgdGhpcy5kZWxldGVDb25maWdEYXRhID0geydkYXRhJzpkYXRhLmRhdGFbdGJOYW1lXX07XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hlY2tEZWxldGVTdGF0dXModGhpcy5wYWdlSWQsIHByaW1hcnlfaWQsIHZpZXdQcmltYXJ5VGFibGUpLnN1YnNjcmliZShcclxuICAgICAgICByZXN1bHQgPT4ge1xyXG4gICAgICAgICAgaWYocmVzdWx0WydkYXRhJ10gJiYgcmVzdWx0WydkYXRhJ10ubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGlmKHJlc3VsdFsnZGF0YSddWzBdWydzdGF0dXMnXSA9PT0gJ0RFTF9QRU5EJyl7XHJcbiAgICAgICAgICAgICAgLy8gY29uc3QgaW5mb0RldGFpbHMgPSBkYXRhWydkYXRhJ10ucmJhY0NvbmRpdGlvbnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5hY3Rpb24gPT0gJ2luZm8nKTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLmRlbGV0ZWRSZWFzb24gPSBpbmZvRGV0YWlsc1swXT8ubWVzc2FnZTtcclxuICAgICAgICAgICAgICB0aGlzLmRlbGV0ZWRSZWFzb24gPSByZXN1bHRbJ2RhdGEnXVswXVsncG9wdXBUZXh0J107XHJcbiAgICAgICAgICAgICAgdGhpcy5wb3B1cERpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4odGhpcy5BcHByb3ZlRGVsZXRlR3JpZExpc3QsIHtcclxuICAgICAgICAgICAgICAgIHBhbmVsQ2xhc3M6ICdhcHByb3ZlLWRlbGV0ZS1ncmlkLWxpc3QnXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihyZXN1bHRbJ2RhdGEnXVswXVsnc3RhdHVzJ10gPT09ICdERUxfQUxMT1cnKXtcclxuICAgICAgICAgICAgICB0aGlzLnBvcHVwRGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3Blbih0aGlzLkRlbGV0ZUdyaWRMaXN0V2l0aG91dFJlYXNvbiwge1xyXG4gICAgICAgICAgICAgICAgcGFuZWxDbGFzczogJ2RlbGV0ZS1ncmlkLXdpdGhvdXQtcmVhc29uJ1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYocmVzdWx0WydkYXRhJ11bMF1bJ3N0YXR1cyddID09PSAnREVMX1JFUScpe1xyXG4gICAgICAgICAgICAgIHRoaXMucG9wdXBEaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKHRoaXMuRGVsZXRlR3JpZExpc3QsIHtcclxuICAgICAgICAgICAgICAgIHBhbmVsQ2xhc3M6ICdkZWxldGUtZHJpZC13aXRoLXJlYXNvbidcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2Vycm9yID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIC8vIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSB0cnVlO1xyXG4gICAgLy8gZGlhbG9nQ29uZmlnLmRhdGEgPSB7XHJcbiAgICAvLyAgIGFjdGlvbjogJ2RlbGV0ZScsXHJcbiAgICAvLyAgIGRlbGV0ZUlkOiB0aGlzLnBhZ2VJZCxcclxuICAgIC8vICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU/JyxcclxuICAgIC8vICAgdXJsOiBEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0pLFxyXG4gICAgLy8gICBwb3J0Q29uZmlnOiBpdGVtLnBvcnRDb25maWcsXHJcbiAgICAvLyAgIHN1Y2Nlc3NNc2c6ICdSZWNvcmQgZGVsZXRlZCBTdWNjZXNzZnVsbHknXHJcbiAgICAvLyB9O1xyXG4gICAgLy8gY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihEZWxldGVDb21wb25lbnQsIGRpYWxvZ0NvbmZpZyk7XHJcbiAgICAvLyByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgLy8gICAvLyByZWZyZXNoIGdyaWRcclxuICAgIC8vICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIGFjdGlvbkluZm9DaGVjayhkYXRhLCBpdGVtKSB7XHJcbiAgICAvLyBjb25zdCBwcmltYXJ5X2lkID0gdGhpcy5nZXRQcmltYXJ5Q29sdW1uSWQoZGF0YS5kYXRhLnByaW1hcnlDb2x1bW4sIGRhdGEpO1xyXG4gICAgLy8gdGhpcy5EZWxldGVDb25maWdVUkwgPSBEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKTtcclxuICAgIC8vIHRoaXMuZGVsZXRlZFJlYXNvbiA9IGl0ZW0ubWVzc2FnZTtcclxuICAgIC8vICQoJyNBcHByb3ZlRGVsZXRlR3JpZExpc3QnKS5tb2RhbCgnc2hvdycpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlUmVjb3JkKCl7XHJcbiAgICB0aGlzLmh0dHBTZXJ2aWNlLmRlbGV0ZShgJHt0aGlzLkRlbGV0ZUNvbmZpZ1VSTH1gKS5zdWJzY3JpYmUoXHJcbiAgICAgIF9yZXN1bHQgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0RlbGV0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRQb3B1cCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsUG9wdXAoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVJlY29yZFdpdGhSZWFzb24oKXtcclxuICAgIHRoaXMucm93RGF0YSA9IHsuLi50aGlzLmRlbGV0ZUNvbmZpZ0RhdGEsICdyZWFzb24nIDp0aGlzLmVudGVyZWRSZWFzb24sICdwYWdlVVJMJzogdGhpcy5yb3V0ZXIudXJsfTtcclxuICAgIHRoaXMuaHR0cFNlcnZpY2UucG9zdChgJHt0aGlzLnVwZGF0ZUJ5SWRBbmRQYWdlSWRXaXRoUmVhc29uVVJMfWAsIHRoaXMucm93RGF0YSkuc3Vic2NyaWJlKFxyXG4gICAgICBfcmVzdWx0MSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWxvYWRQb3B1cCgpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0RlbGV0ZSBSZXF1ZXN0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxQb3B1cCgpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlUmVjb3JkV2l0aG91dFJlYXNvbigpe1xyXG4gICAgdGhpcy5odHRwU2VydmljZS5kZWxldGUoYCR7dGhpcy5EZWxldGVDb25maWdVUkx9YCkuc3Vic2NyaWJlKFxyXG4gICAgICBfcmVzdWx0ID0+IHtcclxuICAgICAgICBpZihfcmVzdWx0ICYmIF9yZXN1bHRbJ2RhdGEnXSA9PT0gJ0RFTF9SRVEnKXtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdEZWxldGlvbiBGYWlsZWQ6IFRoZSB0aHJlc2hvbGQgdGltZSBmb3IgZGVsZXRpbmcgdGhpcyByZWNvcmQgaGFzIGV4cGlyZWQuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmKF9yZXN1bHQgJiYgX3Jlc3VsdFsnZGF0YSddKSB7XHJcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ2NvbXBvc2l0ZS1wYWdlJykgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ21hc3Rlci12aWV3JykpXHJcbiAgICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICBpZigodGhpcy5zZWxlY3RlZENvbXBvbmVudD8ubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudD8ubG9hZGVkRnJvbUNvbXBvc2l0ZVBhZ2UpJiYgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncylcclxuICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7ZXZlbnROYW1lOiAnc3VibWl0JywgcGF5bG9hZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0RlbGV0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIFdlbnQgV3JvbmcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWxvYWRQb3B1cCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsUG9wdXAoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNhbmNlbFBvcHVwKCkge1xyXG4gICAgdGhpcy5jbG9zZURpYWxvZ1BvcHVwKCk7XHJcbiAgICB0aGlzLmVudGVyZWRSZWFzb24gPSAnJztcclxuICB9XHJcblxyXG4gIHJlbG9hZFBvcHVwKCkge1xyXG4gICAgdGhpcy5jbG9zZURpYWxvZ1BvcHVwKCk7XHJcbiAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIHRoaXMuZW50ZXJlZFJlYXNvbiA9ICcnO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0Rpc2FibGVkKHRleHQ6IHN0cmluZykge1xyXG4gICAgaWYgKHRleHQgJiYgdGV4dC50cmltKCkgIT0gJycpIHtcclxuICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZW50ZXJlZFJlYXNvbiA9IHRleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmVudGVyZWRSZWFzb24gPSB0ZXh0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcGxldGVDb25maXJtYXRpb24oZGF0YSwgX2l0ZW0pIHtcclxuICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSB0cnVlO1xyXG4gICAgZGlhbG9nQ29uZmlnLmRhdGEgPSB7XHJcbiAgICAgIGFjdGlvbjogJ2NvbXBsZXRlJyxcclxuICAgICAgZGVsZXRlSWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCxcclxuICAgICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb21wbGV0ZT8nLFxyXG4gICAgICB1cmw6IER5bmFtaWNTZWFyY2hVUkwuRW5kUG9pbnRzLmZvcm1SZXNwb25zZS5kZWxldGUucmVwbGFjZSgne2lkfScsIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCksXHJcbiAgICAgIHBvcnRDb25maWc6IG51bGwsXHJcbiAgICAgIHN1Y2Nlc3NNc2c6ICdEYXRhIGNvbXBsZXRlZCBTdWNjZXNzZnVsbHknLFxyXG4gICAgICBkYXRhOiBkYXRhLmRhdGFcclxuICAgIH07XHJcbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKERlbGV0ZUNvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgdGhpcy5lZGl0UG9wVXBEaWFsb2dSZWYuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHBvcHVwKGRhdGEsIGFjdGlvbikge1xyXG4gICAgY29uc3QgdGFibGVfbmFtZSA9IHRoaXMuc2VhcmNocGFyYW1zLnRhYmxlc2NoZW1hY29uZmlnLnRhYmxlbGlzdFswXTtcclxuICAgIGNvbnN0IHRhYmRhdGEgPSBkYXRhO1xyXG4gICAgY29uc3QgdmFsdWUgPSB0YWJkYXRhID8gdGFiZGF0YVt0YWJsZV9uYW1lXSA6ICcnO1xyXG4gICAgdGhpcy50YXJnZXRQYWdlKHZhbHVlLCBhY3Rpb24pO1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgdGhpcy5wb3B1cERpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4odGhpcy5jYWxsRGlhbG9nUG9wdXApO1xyXG4gICAgLy8gICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1mb3Itb2ZcclxuICAgIC8vICAgdGhpcy5wb3B1cERhdGEgPSBkYXRhO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgY2xvc2VEaWFsb2dQb3B1cCgpIHtcclxuICAgIHRoaXMucG9wdXBEaWFsb2dSZWYuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNob3dJY29uKGRhdGEpIHtcclxuICAgIGlmIChkYXRhLmRhdGEudGltZWxlZnQpIHtcclxuICAgICAgaWYgKGRhdGEuZGF0YS50aW1lbGVmdC5pbmNsdWRlcygnICcpKSB7XHJcbiAgICAgICAgbGV0IHRpbWVsZWZ0ID0gZGF0YS5kYXRhLnRpbWVsZWZ0LnNwbGl0KCcgJyk7XHJcbiAgICAgICAgdGltZWxlZnQgPSB0aW1lbGVmdFswXTtcclxuICAgICAgICBpZiAodGltZWxlZnQgPCAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhLnRpbWVsZWZ0LmluY2x1ZGVzKCc6JykpIHtcclxuICAgICAgICBsZXQgdGltZWxlZnQgPSBkYXRhLmRhdGEudGltZWxlZnQuc3BsaXQoJzonKTtcclxuICAgICAgICB0aW1lbGVmdCA9IHRpbWVsZWZ0WzBdO1xyXG4gICAgICAgIGlmICh0aW1lbGVmdCA8IDAgfHwgKHRpbWVsZWZ0ID09ICctMDAnICYmIHRpbWVsZWZ0LmluZGV4T2YoJy0nKSAhPSAtMSkpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHNwbGl0aW5nRGF0YShkYXRhLCBzcGxpdHRlciA9ICcsJykge1xyXG4gICAgaWYgKGRhdGEuZGF0YS5uYXJyYXRpdmUpIHtcclxuICAgICAgY29uc3QgZGV0YWlsID0gZGF0YS5kYXRhLm5hcnJhdGl2ZTtcclxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIGRpdi5pbm5lckhUTUwgPSBkZXRhaWw7XHJcblxyXG4gICAgICAvLy8uam9pbihcIjxici8+XCIpXHJcbiAgICAgIGNvbnN0IGZpbmFsU3RyaW5nID0gZGl2LmlubmVyVGV4dC5zcGxpdChzcGxpdHRlcik7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsU3RyaW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZmluYWxTdHJpbmdbaV0gPSBmaW5hbFN0cmluZ1tpXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGZpbmFsU3RyaW5nW2ldID0gZmluYWxTdHJpbmdbaV1bMF0udG9VcHBlckNhc2UoKSArIGZpbmFsU3RyaW5nW2ldLnN1YnN0cmluZygxLCAyKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmluYWxTdHJpbmcuam9pbignPGJyLz4nKTtcclxuICAgIH1cclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGdldFRpdGxlQ2xhc3ModGl0bGUpIHtcclxuICAgIGlmICh0aXRsZSkge1xyXG4gICAgICByZXR1cm4gdGl0bGUuc3BsaXQoJyAnKS5qb2luKCcnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlU3RhdHVzQ29sb3IodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gJ0NvbXBsZXRlZCcpIHtcclxuICAgICAgcmV0dXJuICdjb21wbGV0ZWQnO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0RyYWZ0Jykge1xyXG4gICAgICByZXR1cm4gJ2RyYWZ0JztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdPcGVuJykge1xyXG4gICAgICByZXR1cm4gJ29wZW4nO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ0Nsb3NlZCcpIHtcclxuICAgICAgcmV0dXJuICdjbG9zZWQnO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1BlbmRpbmcnKSB7XHJcbiAgICAgIHJldHVybiAncGVuZGluZyc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUGVuZGluZyBBcHByb3ZhbCcgfHwgdmFsdWUgPT09ICdJbi1Qcm9ncmVzcycpIHtcclxuICAgICAgcmV0dXJuICdwZW5kaW5nLWFwcHJvdmFsJztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdBcHByb3ZlZCcgfHwgdmFsdWUgPT09ICdBY2NlcHRlZCAtIFNjcmVlbiBJbicpIHtcclxuICAgICAgcmV0dXJuICdhcHByb3ZlZCc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUmV0dXJuIHRvIFdvcmtlcicgfHwgdmFsdWUgPT09ICdSZXR1cm5lZCcpIHtcclxuICAgICAgcmV0dXJuICdyZXR1cm5lZCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG4gIHRpdGxlQ2FzZVRvb2xUaXAodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZVswXS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSk7XHJcbiAgfVxyXG4gIGNsb3NlRm9ybSgpIHtcclxuICAgIHRoaXMuaXRlbSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBkb3dubG9hZEZpbGVJbnRlcm5hbGx5KHMzQnVja2V0VXJsTmFtZSwgZmlsZW5hbWUpIHtcclxuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBhLmhyZWYgPSBzM0J1Y2tldFVybE5hbWUudHJpbSgpO1xyXG4gICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lIHx8ICdkb3dubG9hZCc7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyogZm9yIEdyaWQgU2VsZWN0aW9uIGVuYWJsZS9kaXNhYmxlICovXHJcbiAgZ2V0R3JpZFNlbGVjdGlvbihpdGVtKSB7XHJcbiAgICBpZiAoaXRlbSA9PT0gdHJ1ZSkge1xyXG4gICAgICByZXR1cm4gJ211bHRpcGxlJztcclxuICAgIH1cclxuICAgIHJldHVybiAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICBzdGFydFNjaGVkdWxpbmcoaWQsIHVybCA9IG51bGwpIHtcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zdGFydFNjaGVkdWxpbmcoe30sIHVybC5yZXBsYWNlKCd7aWR9JywgaWQpKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUmVwb3J0IFRyaWdnZXJlZCBTdWNjZXNzZnVsbHknKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdSZXBvcnQgVHJpZ2dlciBmYWlsZWQuIFRyeSBBZ2FpbiEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnN0YXJ0U2NoZWR1bGluZ05vVXJsKHt9LCBpZCkuc3Vic2NyaWJlKFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JlcG9ydCBUcmlnZ2VyZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUmVwb3J0IFRyaWdnZXIgZmFpbGVkLiBUcnkgQWdhaW4hJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3VzdG9tU2F2ZSA9IChzdGF0ZTogYW55KSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gc3RhdGUpIHtcclxuICAgICAgaWYgKGl0ZW0gIT09ICdjb2x1bW5zJykgZGVsZXRlIHN0YXRlW2l0ZW1dO1xyXG4gICAgfVxyXG4gICAgdGhpcy5ncmlkQ29uZmlnLnBhZ2VTaXplID0gdGhpcy5kYXRhR3JpZC5pbnN0YW5jZS5wYWdlU2l6ZSgpO1xyXG4gICAgY29uc3QgcHJldldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aDtcclxuICAgIHRoaXMuY29sdW1uV2lkdGggPSBzdGF0ZTtcclxuICAgIGNvbnN0IHZhbGlkYXRlUGFnZUlkID0gdGhpcy5zZXF1ZW5jZUlkID09PSBOdW1iZXIodGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VJZCcpKTtcclxuICAgIGNvbnN0IHZhbGlkYXRlID0gSlNPTi5zdHJpbmdpZnkocHJldldpZHRoKSA9PT0gSlNPTi5zdHJpbmdpZnkodGhpcy5jb2x1bW5XaWR0aCk7XHJcbiAgICBpZiAodmFsaWRhdGVQYWdlSWQpIHtcclxuICAgICAgaWYgKHN0YXRlPy5jb2x1bW5zICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHN0YXRlLmNvbHVtbnMuZm9yRWFjaCgoc3RhdGVDb2x1bW4pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNvbmZpZ0l0ZW0gPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maW5kKGMgPT4gYy5jb2x1bW5EZWYgPT09IHN0YXRlQ29sdW1uLmRhdGFGaWVsZCAmJiAhYy5oaWRlKTtcclxuICAgICAgICAgIGlmIChjb25maWdJdGVtKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0ud2lkdGggPSBzdGF0ZUNvbHVtbi53aWR0aDtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5maWx0ZXJWYWx1ZXMgPSBzdGF0ZUNvbHVtbi5maWx0ZXJWYWx1ZXM7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0uc29ydE9yZGVyID0gc3RhdGVDb2x1bW4uc29ydE9yZGVyO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnNvcnRJbmRleCA9IHN0YXRlQ29sdW1uLnNvcnRJbmRleDtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS52aXNpYmxlID0gc3RhdGVDb2x1bW4udmlzaWJsZSA/PyB0cnVlO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnZpc2libGVJbmRleCA9IHN0YXRlQ29sdW1uLnZpc2libGVJbmRleDtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5maWx0ZXJWYWx1ZSA9IHN0YXRlQ29sdW1uLmZpbHRlclZhbHVlO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLmZpbHRlclR5cGUgPSBzdGF0ZUNvbHVtbi5maWx0ZXJUeXBlO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnNlbGVjdGVkRmlsdGVyT3BlcmF0aW9uID0gc3RhdGVDb2x1bW4uc2VsZWN0ZWRGaWx0ZXJPcGVyYXRpb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuV2lkdGggPiAxMDI1KSB7XHJcbiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAgIHR5cGU6ICdQQUdFJyxcclxuICAgICAgICAgIG1hcHBlZGlkOiB0aGlzLmN1cnJlbnRQYWdlSWQsXHJcbiAgICAgICAgICBjb25maWc6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ3JpZENvbmZpZylcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc2F2ZUdyaWRVc2VyUHJlZmVyZW5jZShib2R5KS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjb25zdCBib2R5ID0ge1xyXG4gICAgICAvLyAgIHR5cGU6ICdQQUdFJyxcclxuICAgICAgLy8gICBtYXBwZWRpZDogdGhpcy5jdXJyZW50UGFnZUlkLFxyXG4gICAgICAvLyAgIGNvbmZpZzogSlNPTi5zdHJpbmdpZnkodGhpcy5ncmlkQ29uZmlnKVxyXG4gICAgICAvLyB9O1xyXG4gICAgICAvLyB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnNhdmVHcmlkVXNlclByZWZlcmVuY2UoYm9keSkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgLy8gICAvLyBUaGlzIGlzIGludGVudGlvbmFsXHJcbiAgICAgIC8vIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29sdW1uQ2hvb3NlckNsaWNrKCkge1xyXG4gICAgdGhpcy5kYXRhR3JpZC5pbnN0YW5jZS5zaG93Q29sdW1uQ2hvb3NlcigpO1xyXG4gIH1cclxuICBjb250ZW50UmVhZHkgPSBlID0+IHtcclxuICAgIGNvbnN0IGNvbXBvbmVudEluc3RhbmNlID0gZS5jb21wb25lbnQuaW5zdGFuY2UoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRDb2x1bW5zID0gY29tcG9uZW50SW5zdGFuY2Uub3B0aW9uKCdjb2x1bW5zJyk7XHJcbiAgICBpZiAodGhpcy5ncmlkQ29uZmlnICYmIHRoaXMuZ3JpZENvbmZpZy51c2VyUHJlZmVyZW5jZUdyaWRDb25maWcpIHtcclxuICAgICAgaWYgKHRoaXMuZ3JpZENvbmZpZy5wYWdlU2l6ZSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2VTaXplID0gdGhpcy5ncmlkQ29uZmlnLnBhZ2VTaXplO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBjaGFuZ2VzTWFkZSA9IGZhbHNlO1xyXG4gICAgICBjdXJyZW50Q29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29uZmlnSXRlbSA9IHRoaXMuZ3JpZENvbmZpZy51c2VyUHJlZmVyZW5jZUdyaWRDb25maWcuZmluZChjID0+IGMuY29sdW1uRGVmID09PSBjb2x1bW4uZGF0YUZpZWxkKTtcclxuICAgICAgICBpZiAoY29uZmlnSXRlbSkge1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0VmlzaWJpbGl0eSA9IGNvbmZpZ0l0ZW0uaGlkZSA/IGZhbHNlIDogKGNvbmZpZ0l0ZW0udmlzaWJsZSA9PT0gXCJcIiA/IHRydWUgOiBjb25maWdJdGVtLnZpc2libGUpO1xyXG4gICAgICAgICAgaWYgKGNvbHVtbi52aXNpYmxlICE9PSB0YXJnZXRWaXNpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNNYWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3VycmVudENvbHVtbnNbaW5kZXhdLnZpc2libGUgPSB0YXJnZXRWaXNpYmlsaXR5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ2hlY2sgYW5kIHVwZGF0ZSB0aGUgdmlzaWJsZUluZGV4IGlmIGRpZmZlcmVudFxyXG4gICAgICAgICAgaWYgKGNvbHVtbi52aXNpYmxlSW5kZXggIT09IGNvbmZpZ0l0ZW0udmlzaWJsZUluZGV4KSB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNNYWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY3VycmVudENvbHVtbnNbaW5kZXhdLnZpc2libGVJbmRleCA9IGNvbmZpZ0l0ZW0udmlzaWJsZUluZGV4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoY2hhbmdlc01hZGUpIHtcclxuICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5vcHRpb24oJ2NvbHVtbnMnLCBjdXJyZW50Q29sdW1ucyk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5pc0luaXRpYWxMb2FkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuaXNSZXNpemUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5pc1VzZXJQcmVmZXJlbmNlQ2hhbmdlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuICBnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKGNob29zZXIsIHZpc2libGUpIHtcclxuICAgIGlmIChjaG9vc2VyKSB7XHJcbiAgICAgIHJldHVybiB2aXNpYmxlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTb3J0T3JkZXIoZGVmYXVsdFNvcnRDb2x1bW4sIGRlZmF1bHRTb3J0VHlwZSwgY29sdW1uRGVmKSB7XHJcbiAgICBpZiAoZGVmYXVsdFNvcnRDb2x1bW4gJiYgZGVmYXVsdFNvcnRUeXBlKSB7XHJcbiAgICAgIHJldHVybiBkZWZhdWx0U29ydENvbHVtbiA9PT0gY29sdW1uRGVmID8gZGVmYXVsdFNvcnRUeXBlIDogJyc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBnb0JhY2soKTogdm9pZCB7XHJcbiAgICB0aGlzLmxvY2F0aW9uLmJhY2soKTtcclxuICB9XHJcbiAgc2hvd0dyaWRBY3Rpb25zKHVwZGF0ZUdyaWQsIHNob3dBY3Rpb25Db2x1bW4sIGdyaWRUeXBlKTogYW55IHtcclxuICAgIGNvbnN0IGdyaWRBY3Rpb25zID0gdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheVxyXG4gICAgICA/IHVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkuZmlsdGVyKHggPT4geC5hY3Rpb24/LnRvTG93ZXJDYXNlKCkgIT09ICdhZGQnKVxyXG4gICAgICA6IFtdO1xyXG4gICAgY29uc3QgaGlkZGVuQ29sdW1ucyA9IGdyaWRBY3Rpb25zPy5maWx0ZXIoYSA9PiBhPy5oaWRlKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGdyaWRBY3Rpb25zLmxlbmd0aCA+IDAgJiZcclxuICAgICAgc2hvd0FjdGlvbkNvbHVtbiAmJlxyXG4gICAgICBncmlkVHlwZSAhPSAndmlldycgJiZcclxuICAgICAgaGlkZGVuQ29sdW1ucy5sZW5ndGggIT09IGdyaWRBY3Rpb25zLmxlbmd0aFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUZpbHRlck9wdGlvbnMoZSkge1xyXG4gICAgdGhpcy5maWx0ZXJPcHRpb25zRHJvcGRvd24uY2xvc2UoZS5vcmlnaW5hbEV2ZW50KTtcclxuICAgIHRoaXMuaXNVc2VyUHJlZmVyZW5jZUNoYW5nZSA9IHRydWU7XHJcbiAgICB0aGlzLnNldFBlcm1pc3Npb25zKGUuaXRlbVZhbHVlKTtcclxuICB9XHJcblxyXG4gIHNldFBlcm1pc3Npb25zKG1vZGFsKSB7XHJcbiAgICBjb25zdCBbY29kZSwgdmFsdWVdID0gbW9kYWwuc3BsaXQoJy0nKTtcclxuICAgIGNvbnN0IGlzRXhpc3QgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoYyA9PiBjLmNvbHVtbkRlZiA9PT0gY29kZSAmJiAhIWNbdmFsdWVdKTtcclxuXHJcbiAgICBpZiAoaXNFeGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkubWFwKChjOiBhbnkpID0+IHtcclxuICAgICAgICBjW3ZhbHVlXSA9IGMuY29sdW1uRGVmID09PSBjb2RlID8gdHJ1ZSA6IGNbdmFsdWVdO1xyXG4gICAgICAgIGlmIChjLmNvbHVtbkRlZiA9PT0gY29kZSkge1xyXG4gICAgICAgICAgYz8uc2VsZWN0ZWQ/LnB1c2godmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYztcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFNlbGVjdGVkR3JpZEZvcm0oY29kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICB0aGlzLnVwZGF0ZVVzZXJHcmlkQ29uZmlnKCk7XHJcbiAgfVxyXG5cclxuICBASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJywgWyckZXZlbnQnXSlcclxuICBvblJlc2l6ZSgpIHtcclxuICAgIGNvbnN0IHByZXZXaWR0aCA9IHRoaXMuc2NyZWVuV2lkdGg7XHJcbiAgICB0aGlzLnNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgIGlmICh0aGlzLnNjcmVlbldpZHRoIDwgNzY3KSB7XHJcbiAgICAgIGNvbnN0IG1vYmlsZUNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoYyA9PiBjLm1vYmlsZVZpZXcpO1xyXG4gICAgICB0aGlzLmNoZWNrT25yZXNpemUobW9iaWxlQ29sdW1ucyk7XHJcbiAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcmVlbldpZHRoID49IDc2OCAmJiB0aGlzLnNjcmVlbldpZHRoIDwgOTkwKSB7XHJcbiAgICAgIGNvbnN0IHRhYkNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoYyA9PiBjLnRhYlZpZXcpO1xyXG4gICAgICBpZiAodGFiQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoeCA9PiB4LnRhYlZpZXcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNvbnN0IG1heFZpc2libGVDb3VudCA9IDU7XHJcbiAgICAgICAgLy8gY29uc3QgdmlzaWJsZUNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoKHQsIGkpID0+IGkgPCAzKTtcclxuXHJcblxyXG4gICAgICB9XHJcbiAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgfSBlbHNlIGlmIChwcmV2V2lkdGggJiYgcHJldldpZHRoICE9PSB0aGlzLnNjcmVlbldpZHRoKSB7XHJcbiAgICAgIC8vdG8gZml4IGxvYWRpbmcgaXNzdWUgd2hlbiBjaGFuZ2luZyBmcm9tIG1vYmlsZSB0byB3ZWIvdGFiIHZpZXdcclxuICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgIC8vIHRoaXMuY29sdW1ucyA9IHRoaXMuY2hlY2tHcmlkQ29uZmlnO1xyXG4gICAgICB0aGlzLmdldFVzZXJHcmlkQ29uZmlnKCk7XHJcbiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgIH1cclxuICB9XHJcbiAgY2hlY2tPbnJlc2l6ZShtb2JpbGVDb2x1bW5zKSB7XHJcbiAgICBpZiAobW9iaWxlQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKHggPT4geC5tb2JpbGVWaWV3KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGNvbnN0IG1heFZpc2libGVDb3VudCA9IDM7XHJcbiAgICAgIC8vIGNvbnN0IHZpc2libGVDb3VudCA9IDA7XHJcbiAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5LmZpbHRlcigobSwgaSkgPT4gaSA8IDMpO1xyXG5cclxuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZEdyaWRGb3JtKGNvZGUsIHZhbHVlKSB7XHJcbiAgICB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoYyA9PiB7XHJcbiAgICAgIGNbdmFsdWVdID0gYy5jb2x1bW5EZWYgPT09IGNvZGUgPyAnJyA6IGNbdmFsdWVdO1xyXG4gICAgICBpZiAoYy5jb2x1bW5EZWYgPT09IGNvZGUgJiYgYy5zZWxlY3RlZCkge1xyXG4gICAgICAgIGMuc2VsZWN0ZWQgPSBjLnNlbGVjdGVkLmZpbHRlcihzID0+IHMgIT09IHZhbHVlKTtcclxuICAgICAgICAvLyBjPy5zZWxlY3RlZD8ubWFwKChtLCBpKSA9PiB7XHJcbiAgICAgICAgLy8gICBtID09PSB2YWx1ZSAmJiBjLnNlbGVjdGVkLnNwbGljZShpLCAxKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYztcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckdyaWRDb25maWcoKSB7XHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICB0eXBlOiAnUEFHRScsXHJcbiAgICAgIG1hcHBlZGlkOiB0aGlzLmN1cnJlbnRQYWdlSWQsXHJcbiAgICAgIGNvbmZpZzogSlNPTi5zdHJpbmdpZnkodGhpcy5ncmlkQ29uZmlnKVxyXG4gICAgfTtcclxuICAgIGlmICh0aGlzLnNjcmVlbldpZHRoID4gOTkwKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc2F2ZUdyaWRVc2VyUHJlZmVyZW5jZShib2R5KS5zdWJzY3JpYmUoX3JlcyA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXRVc2VyR3JpZENvbmZpZygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFVzZXJHcmlkQ29uZmlnKCkge1xyXG4gICAgdGhpcy5kYXRhR3JpZC5pbnN0YW5jZS5jbGVhckZpbHRlcigpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5nZXRHcmlkVXNlclByZWZlcmVuY2UodGhpcy5jdXJyZW50UGFnZUlkKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YT8uY29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgY29uZmlnQXJyYXkgPSB0eXBlb2YgcmVzLmRhdGEuY29uZmlnID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShyZXMuZGF0YS5jb25maWcpIDogcmVzLmRhdGEuY29uZmlnO1xyXG4gICAgICAgIGlmIChjb25maWdBcnJheSAmJiBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5KSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyUHJlZmVyZW5jZUdyaWRDb25maWcgPSB0aGlzLmFwcGx5VXNlclByZWZlcmVuY2UodGhpcy50ZW1wYUNvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5LCBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5KTtcclxuICAgICAgICAgIGNvbmZpZ0FycmF5LnVzZXJQcmVmZXJlbmNlR3JpZENvbmZpZyA9IHVzZXJQcmVmZXJlbmNlR3JpZENvbmZpZztcclxuICAgICAgICAgIGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXkgPSB1c2VyUHJlZmVyZW5jZUdyaWRDb25maWc7XHJcbiAgICAgICAgICB0aGlzLmdyaWRDb25maWcgPSBjb25maWdBcnJheTtcclxuICAgICAgICAgIHRoaXMuY29sdW1uSGVhZGVyID0gY29uZmlnQXJyYXkuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoY29sdW1uID0+IGNvbHVtbj8uaGVhZGVyKTtcclxuICAgICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgICAgICAvLyB0aGlzLmNoZWNrR3JpZENvbmZpZyA9IGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgICAgICB0aGlzLmlzRGVsZXRlUmVxdWlyZSA9IGNvbmZpZ0FycmF5Py5pc0RlbGV0ZVJlcXVpcmU7XHJcbiAgICAgICAgICB0aGlzLmlzRWRpdFRocmVzaG9sZFJlcXVpcmUgPSBjb25maWdBcnJheT8uaXNFZGl0VGhyZXNob2xkUmVxdWlyZTtcclxuICAgICAgICAgIHRoaXMuaXNEZWxldGVUaW1lID0gY29uZmlnQXJyYXk/LmlzRGVsZXRlVGltZTtcclxuICAgICAgICAgIC8vIGNvbnN0IHN0b3JlZFRhYkRhdGEgPSBKU09OLnBhcnNlKEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0oJ2R5bmFtaWMtdGFiLXBhZ2VzJykpKTtcclxuICAgICAgICAgIGNvbnN0IHN0b3JlZFRhYkRhdGEgPSBKU09OLnBhcnNlKEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlfRFlOQU1JQ19UQUJfUEFHRVMpKSk7XHJcbiAgICAgICAgICBzdG9yZWRUYWJEYXRhPy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5tYXAoaXRlbTEgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChpdGVtLnBmaWVsZCA9PSBpdGVtMS5jb2x1bW5EZWYpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0xLmxpbmsgPSBpdGVtLnBmaWVsZDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdGhpcy5jb2x1bW5zLm1hcChjID0+IHtcclxuICAgICAgICAgICAgYz8uc2VsZWN0ZWQ/Lm1hcChzID0+IE9iamVjdC5hc3NpZ24oeyBjb2xfcmVmOiBgJHtjLmNvbHVtbkRlZn0tJHtzfWAgfSwgYykpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb25zdCBvcHRpb25zID0gW107XHJcbiAgICAgICAgICBjb25zdCBhcnIgPSBbXTtcclxuICAgICAgICAgIGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXkubWFwKGEgPT4ge1xyXG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgIGNvbHVtbk5hbWU6IGEuaGVhZGVyLFxyXG4gICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmdyaWRPcHRpb25zLm1hcChwID0+ICh7XHJcbiAgICAgICAgICAgICAgICBpZDogYCR7YS5jb2x1bW5EZWZ9LSR7cC52YWx1ZX1gLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHAubGFiZWwsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogcC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIGNvZGU6IGEuY29sdW1uRGVmLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiBhW3AudmFsdWVdICE9PSAnJyA/IHRydWUgOiAnJ1xyXG4gICAgICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYT8uc2VsZWN0ZWQ/Lm1hcChyID0+IGFyci5wdXNoKGAke2EuY29sdW1uRGVmfS0ke3J9YCkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLmNvbHVtbnNGaWx0ZXJhdGlvbigpO1xyXG4gICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgICAgICAgdGhpcy5maWx0ZXJPcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgIHRoaXMuZmlsdGVyRm9ybT8ucGF0Y2hWYWx1ZSh7IHNlbGVjdGVkRmlsdGVyOiBhcnIgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucGF0Y2hNdWx0aXBsZU9wdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wYXRjaE11bHRpcGxlT3B0aW9ucygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFwcGx5VXNlclByZWZlcmVuY2UoZ3JpZENvbmZpZywgdXNlclByZWZlcmVuY2VDb25maWcpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSBbJ3dpZHRoJywgJ2ZpbHRlclZhbHVlcycsICdzb3J0T3JkZXInLCAnc29ydEluZGV4JywgJ3Zpc2libGUnLCAndmlzaWJsZUluZGV4JywgJ2ZpbHRlclZhbHVlJywgJ2ZpbHRlclR5cGUnLCAnc2VsZWN0ZWRGaWx0ZXJPcGVyYXRpb24nXTtcclxuICAgIGZvciAoY29uc3QgY29sdW1uIG9mIGdyaWRDb25maWcpIHtcclxuICAgICAgY29uc3QgY29sdW1uUHJlZmVyZW5jZXMgPSB1c2VyUHJlZmVyZW5jZUNvbmZpZy5maW5kKHByZWZlcmVuY2VDb2x1bW4gPT4gcHJlZmVyZW5jZUNvbHVtbi5jb2x1bW5EZWYgPT09IGNvbHVtbi5jb2x1bW5EZWYpO1xyXG4gICAgICBpZiAoY29sdW1uUHJlZmVyZW5jZXMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9uID09PSAndmlzaWJsZUluZGV4JyAmJiBjb2x1bW5QcmVmZXJlbmNlcy5oaWRlKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjb2x1bW5bb3B0aW9uXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYgKGNvbHVtblByZWZlcmVuY2VzLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgY29sdW1uW29wdGlvbl0gPSBjb2x1bW5QcmVmZXJlbmNlc1tvcHRpb25dO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuYXNzaWduVmlzaWJsZUluZGV4ZXMoZ3JpZENvbmZpZyk7XHJcblxyXG4gIH1cclxuXHJcbiAgYXNzaWduVmlzaWJsZUluZGV4ZXMoZ3JpZENvbmZpZykge1xyXG4gICAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSBncmlkQ29uZmlnPy5sZW5ndGggJiYgZ3JpZENvbmZpZz8uZmlsdGVyKGNvbCA9PiAhY29sLmhpZGUpPy5zb3J0KChhLCBiKSA9PiBhLnZpc2libGVJbmRleCAtIGIudmlzaWJsZUluZGV4KSB8fCBbXTtcclxuICAgIGNvbnN0IG5vblZpc2libGVDb2x1bW5zID0gZ3JpZENvbmZpZz8ubGVuZ3RoICYmIGdyaWRDb25maWc/LmZpbHRlcihjb2wgPT4gY29sLmhpZGUgfHwgY29sPy52aXNpYmxlSW5kZXggPCAwKT8uc29ydCgoYSwgYikgPT4gYS52aXNpYmxlSW5kZXggLSBiLnZpc2libGVJbmRleCkgfHwgW107XHJcbiAgICBpZiAodmlzaWJsZUNvbHVtbnMgJiYgdmlzaWJsZUNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgIGZvciAoY29uc3QgW2luZGV4LCBjb2x1bW5dIG9mIHZpc2libGVDb2x1bW5zLmVudHJpZXMoKSkge1xyXG4gICAgICAgIGNvbHVtbi52aXNpYmxlSW5kZXggPSBpbmRleDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG5vblZpc2libGVDb2x1bW5zICYmIG5vblZpc2libGVDb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY29sdW1uXSBvZiBub25WaXNpYmxlQ29sdW1ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICBjb2x1bW4udmlzaWJsZUluZGV4ID0gdmlzaWJsZUNvbHVtbnM/Lmxlbmd0aCArIChpbmRleCArIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gWy4uLnZpc2libGVDb2x1bW5zLCAuLi5ub25WaXNpYmxlQ29sdW1uc107XHJcbiAgfVxyXG5cclxuICBwYXRjaE11bHRpcGxlT3B0aW9ucygpIHtcclxuICAgIGlmICh0aGlzLnRlbXBhQ29uZmlnICYmIHRoaXMudGVtcGFDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheSkge1xyXG4gICAgICB0aGlzLmNvbHVtbkhlYWRlciA9IHRoaXMudGVtcGFDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoY29sdW1uID0+IGNvbHVtbi5oZWFkZXIpO1xyXG4gICAgICB0aGlzLmdyaWRDb25maWcgPSB0aGlzLnRlbXBhQ29uZmlnO1xyXG4gICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLnRlbXBhQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgIHRoaXMuY29sdW1ucy5tYXAoYyA9PiB7XHJcbiAgICAgICAgYz8uc2VsZWN0ZWQ/Lm1hcChzID0+IE9iamVjdC5hc3NpZ24oeyBjb2xfcmVmOiBgJHtjLmNvbHVtbkRlZn0tJHtzfWAgfSwgYykpO1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xyXG4gICAgICBjb25zdCBhcnIgPSBbXTtcclxuICAgICAgdGhpcy50ZW1wYUNvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5Lm1hcChncmlkID0+IHtcclxuICAgICAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgY29sdW1uTmFtZTogZ3JpZC5oZWFkZXIsXHJcbiAgICAgICAgICBpdGVtczogdGhpcy5ncmlkT3B0aW9ucy5tYXAocCA9PiAoe1xyXG4gICAgICAgICAgICBpZDogYCR7Z3JpZC5jb2x1bW5EZWZ9LSR7cC52YWx1ZX1gLFxyXG4gICAgICAgICAgICBsYWJlbDogcC5sYWJlbCxcclxuICAgICAgICAgICAgdmFsdWU6IHAudmFsdWUsXHJcbiAgICAgICAgICAgIGNvZGU6IGdyaWQuY29sdW1uRGVmLFxyXG4gICAgICAgICAgICBhY3RpdmU6IGdyaWRbcC52YWx1ZV0gIT09ICcnID8gdHJ1ZSA6ICcnXHJcbiAgICAgICAgICB9KSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBncmlkPy5zZWxlY3RlZD8ubWFwKHIgPT4gYXJyLnB1c2goYCR7Z3JpZC5jb2x1bW5EZWZ9LSR7cn1gKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmNvbHVtbnNGaWx0ZXJhdGlvbigpO1xyXG4gICAgICB0aGlzLm9uUmVzaXplKCk7XHJcbiAgICAgIHRoaXMuZmlsdGVyT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgIHRoaXMuZmlsdGVyRm9ybS5wYXRjaFZhbHVlKHsgc2VsZWN0ZWRGaWx0ZXI6IGFyciB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgY29sdW1uc0ZpbHRlcmF0aW9uKCkge1xyXG4gICAgdGhpcy5jb2x1bW5zID0gdGhpcy5jb2x1bW5zLm1hcCh4ID0+IHtcclxuICAgICAgaWYgKHhbJ2NvbmNhdGVuYXRlJ10pIHtcclxuICAgICAgICBjb25zdCBjb2x1bW5OYW1lID0geC5oZWFkZXIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBjTmFtZSA9IGNvbHVtbk5hbWUucmVwbGFjZSgvIC9nLCAnXycpO1xyXG4gICAgICAgIHguY29sdW1uRGVmID0gYGFsaWFzLiR7Y05hbWV9YDtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjdXN0b21FdmVudChldmVudCkge1xyXG4gICAgdGhpcy5fZm9ybUlPLmN1c3RvbUV2ZW50KGV2ZW50LCB0aGlzLmZvcm1JTyk7XHJcbiAgfVxyXG5cclxuICBvbkV4cG9ydGluZyhlKSB7XHJcbiAgICBjb25zdCBwYWdlTmFtZSA9IHRoaXMuc3RvcmFnZS5nZXRPYmooRklMRV9FWFBPUlRfTkFNRV9LRVkpO1xyXG4gICAgY29uc3QgY3VycmVudERhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgIGxldCBmaWxlTmFtZTogc3RyaW5nO1xyXG4gICAgaWYgKHBhZ2VOYW1lKSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYCR7cGFnZU5hbWV9ICR7Y3VycmVudERhdGV9YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYERhdGEtR3JpZCAke2N1cnJlbnREYXRlfWA7XHJcbiAgICB9XHJcbiAgICBlLmNvbXBvbmVudC5jb2x1bW5PcHRpb24oJ0FjdGlvbicsICd2aXNpYmxlJywgZmFsc2UpO1xyXG4gICAgaWYgKGUuZm9ybWF0ID09PSAncGRmJykge1xyXG4gICAgICBjb25zdCBkb2MgPSBuZXcganNQREYuanNQREYoKTtcclxuICAgICAgZXhwb3J0RGF0YUdyaWRUb1BkZih7XHJcbiAgICAgICAganNQREZEb2N1bWVudDogZG9jLFxyXG4gICAgICAgIGNvbXBvbmVudDogZS5jb21wb25lbnQsXHJcbiAgICAgICAgY3VzdG9taXplQ2VsbDogZ3JpZCA9PiB7XHJcbiAgICAgICAgICBncmlkLnBkZkNlbGwud29yZFdyYXBFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGRvYy5zYXZlKGAke2ZpbGVOYW1lfS5wZGZgKTtcclxuICAgICAgICBlLmNvbXBvbmVudC5jb2x1bW5PcHRpb24oJ0FjdGlvbicsICd2aXNpYmxlJywgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChlLmZvcm1hdCA9PT0gJ3hsc3gnKSB7XHJcbiAgICAgIGUuZmlsZU5hbWUgPSBmaWxlTmFtZTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgZS5jb21wb25lbnQuY29sdW1uT3B0aW9uKCdBY3Rpb24nLCAndmlzaWJsZScsIHRydWUpO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShGSUxFX0VYUE9SVF9OQU1FX0tFWSk7XHJcbiAgICBpZiAodGhpcy5ldmVudFN1YnNjcmlwdGlvbikge1xyXG4gICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldFRpdGxlKGMpIHtcclxuICAgIHJldHVybiBjID8gYyA6IGZhbHNlO1xyXG4gIH1cclxuICBvbkNlbGxQcmVwYXJlZChlKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGUucm93VHlwZSA9PSAnZGF0YScgJiZcclxuICAgICAgZS5kYXRhLmJ1c2luZXNzUnVsZXMubGVuZ3RoID4gMCAmJlxyXG4gICAgICBlLmNvbHVtbi5kYXRhRmllbGQgPT09IGUuZGF0YS5idXNpbmVzc1J1bGVzWzBdLm5hbWVcclxuICAgICkge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gZS5jZWxsRWxlbWVudDtcclxuICAgICAgY29uc3QgcnVsZXMgPSAnPGVtIGNsYXNzPVwiUlVMRVNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPicucmVwbGFjZShcclxuICAgICAgICAnUlVMRVMnLFxyXG4gICAgICAgIGUuZGF0YS5idXNpbmVzc1J1bGVzWzBdLnN0eWxlID8gZS5kYXRhLmJ1c2luZXNzUnVsZXNbMF0uc3R5bGUgOiAnJ1xyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBsaXZldGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2J1c2luZXNzLWdyb3VwJyk7XHJcbiAgICAgIGxpdmV0ZXh0LmNsYXNzTGlzdC5hZGQoJ2J1c2luZXNzLWFsZXJ0Jyk7XHJcbiAgICAgIGxpdmV0ZXh0LmNsYXNzTGlzdC5hZGQoJ21sLTInKTtcclxuICAgICAgbGl2ZXRleHQuaW5uZXJIVE1MID0gcnVsZXM7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGl2ZXRleHQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU2hvd01vcmUodmFsdWU6IHN0cmluZywgY29sdW1uRGVmOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRUb2dnbGVLZXkodmFsdWUsIGNvbHVtbkRlZik7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgbGVuZ3RoIG9mIHRoZSB2YWx1ZSBleGNlZWRzIDYwXHJcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gdGhpcy50cnVuY2F0ZVRleHRWYWx1ZSkge1xyXG4gICAgICAvLyBJZiBcIlNob3cgTW9yZVwiIGlzIGFjdGl2ZSwgcmV0dXJuIHRoZSBmdWxsIHZhbHVlOyBvdGhlcndpc2UsIHJldHVybiB0aGUgdHJ1bmNhdGVkIHZhbHVlXHJcbiAgICAgIGlmICh0aGlzLnNob3dNb3JlVGV4dFtrZXldKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlOyAvLyBTaG93IGZ1bGwgdmFsdWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHRoaXMudHJ1bmNhdGVUZXh0VmFsdWUpLnRyaW0oKSArICcuLi4nOyAvLyBUcnVuY2F0ZSBhbmQgYWRkIGVsbGlwc2lzXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNob3dNb3JlU3RhdGUodmFsdWU6IHN0cmluZywgY29sdW1uRGVmOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0VG9nZ2xlS2V5KHZhbHVlLCBjb2x1bW5EZWYpO1xyXG4gICAgdGhpcy5zaG93TW9yZVRleHRba2V5XSA9ICF0aGlzLnNob3dNb3JlVGV4dFtrZXldO1xyXG4gIH1cclxuXHJcbiAgZ2V0VG9nZ2xlS2V5KHZhbHVlOiBzdHJpbmcsIGNvbHVtbkRlZjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHt2YWx1ZX1fJHtjb2x1bW5EZWZ9YDtcclxuICB9XHJcblxyXG4gIG9uUm93UHJlcGFyZWQoZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnJvd1R5cGUgPT0gJ2RhdGEnICYmXHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lICYmXHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lPy5zcGxpdCgnLicpLmxlbmd0aCAmJlxyXG4gICAgICBlLmRhdGFbdGhpcy51cGRhdGVHcmlkPy5oaWdobGlnaHRSb3c/LmNvbHVtbk5hbWUuc3BsaXQoJy4nKVswXV1bXHJcbiAgICAgIHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lLnNwbGl0KCcuJylbMV1cclxuICAgICAgXSA9PSB0aGlzLnVwZGF0ZUdyaWQ/LmhpZ2hsaWdodFJvdz8uY29sdW1uVmFsdWVcclxuICAgICkge1xyXG4gICAgICBlLnJvd0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy51cGRhdGVHcmlkPy5oaWdobGlnaHRSb3c/LmNvbG9yO1xyXG4gICAgICBlLnJvd0VsZW1lbnQuY2xhc3NOYW1lID0gZS5yb3dFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKCdkeC1yb3ctYWx0JywgJycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DZWxsQ2xpY2soZSkge1xyXG4gICAgZT8uZGF0YT8ucm91dGVkYXRhLm1hcChuID0+IHtcclxuICAgICAgaWYgKG4/LnBmaWVsZCA9PSBlPy5jb2x1bW4/LmRhdGFGaWVsZCkge1xyXG4gICAgICAgIHRoaXMucGFyYW12YWx1ZSA9IGU/LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IFt0YWJsZU5hbWVdID0gbj8ucGZpZWxkLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgdGhpcy5wYXJhbWZpZWxkID0gbj8uZmllbGQ7XHJcbiAgICAgICAgdGhpcy50YWJsZWZpZWxkID0gdGFibGVOYW1lO1xyXG4gICAgICAgIHRoaXMudG9UYWJJZCA9IG4/LmlkO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmICh0aGlzLnRvVGFiSWQpIHtcclxuICAgICAgdGhpcy5keW5hbWljVGFiUGFnZVNlcnZpY2UuZ2V0RHluYW1pY1BhZ2UodGhpcy50b1RhYklkKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcz8uZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zdCBwYWdlaWQgPSByZXM/LmRhdGFbMF0/LmFjdGl2ZVZlcnNpb24uaWQ7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50VVJMID0gdGhpcy5yb3V0ZXIudXJsO1xyXG4gICAgICAgICAgY29uc3QgbmV3dXJsID0gY3VycmVudFVSTC5yZXBsYWNlKC9bXi9dKiQvLCAnLycgKyBwYWdlaWQpO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDYXB0aW9uID09ICdhY3Rpb24nIHx8IHRoaXMuc2VsZWN0ZWRDYXB0aW9uID09ICdBY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtuZXd1cmxdKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvcml6YW50YWxUYWJGaWx0ZXIgPSB0aGlzLmxvY2Fsc3RvcmUuZ2V0SXRlbShGSUxURVJfSURfS0VZKTtcclxuICAgICAgICAgICAgaWYgKGhvcml6YW50YWxUYWJGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbShGSUxURVJfSURfS0VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKCdIb3JpemFudGFsUGFnZUlkJywgcGFnZWlkKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldE9iaihGSUxURVJfSURfS0VZLCB7XHJcbiAgICAgICAgICAgICAgaWQ6IHRoaXMucGFyYW12YWx1ZSxcclxuICAgICAgICAgICAgICB0YWJsZTogdGhpcy50YWJsZWZpZWxkLFxyXG4gICAgICAgICAgICAgIGZpZWxkOiB0aGlzLnBhcmFtZmllbGRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMub3BlblRhYiA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbXZhbHVlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gfVxyXG5cclxuICBhc3luYyB0YXJnZXRQYWdlKHZhbHVlLCB0YXJnZXRWYWx1ZSkge1xyXG4gICAgY29uc3QgdGFyZ2V0VVJMVmFsdWUgPSB0YXJnZXRWYWx1ZT8ubGluaztcclxuICAgIGlmICh0aGlzLmxvY2Fsc3RvcmUuZ2V0T2JqKExPQ0FMX1NUT1JBR0VfS0VZKSkge1xyXG4gICAgICB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCB0aGlzLmdldFZlcnNpb25MaXN0KHRhcmdldFVSTFZhbHVlLCB2YWx1ZSwgdGFyZ2V0VmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0VmVyc2lvbkxpc3QodmFsdWUsIG51bWVyaWNWYWx1ZSwgYWN0aW9uKSB7XHJcbiAgICB0aGlzLnBhZ2VCdWlsZGVyU2VydmljZS5nZXRWZXJzaW9uTGlzdCh2YWx1ZSkuc3Vic2NyaWJlKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKEZJTEVfRVhQT1JUX05BTUVfS0VZLCByZXMuZGF0YVswXT8ucGFnZW5hbWUpO1xyXG4gICAgICAgIHRoaXMucGFnZUxpc3QgPSByZXMuZGF0YTtcclxuICAgICAgICB0aGlzLnRvdGFsY291bnQgPSB0aGlzLnBhZ2VMaXN0Lmxlbmd0aCA/IHRoaXMucGFnZUxpc3QubGVuZ3RoIDogMDtcclxuICAgICAgICBjb25zdCBmaWx0ZXJUYWdzID0gYWN0aW9uO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclZhbHVlID0gZmlsdGVyVGFncz8uZmlsdGVyQnk/LnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaWYgKGZpbHRlclZhbHVlICE9ICcnICYmIGZpbHRlclZhbHVlKSB7XHJcbiAgICAgICAgICBjb25zdCByb3dWYWx1ZSA9IG51bWVyaWNWYWx1ZVtmaWx0ZXJWYWx1ZVsxXV07XHJcbiAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKExPQ0FMX1NUT1JBR0VfS0VZLCB7IGlkOiByb3dWYWx1ZSwgdGFibGU6IGZpbHRlclZhbHVlWzBdLCBmaWVsZDogZmlsdGVyVmFsdWVbMV0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VMaXN0WzBdLnRhYmNvbmZpZykgdGhpcy5sb2NhbHN0b3JlLnNldE9iaihTVE9SQUdFX0tFWV9EWU5BTUlDX1RBQl9QQUdFUywgdGhpcy5wYWdlTGlzdFswXS50YWJjb25maWcpO1xyXG5cclxuICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKCd0aXRsZXRhYicsIG51bWVyaWNWYWx1ZSk7XHJcbiAgICAgICAgaWYgKGZpbHRlclRhZ3M/LmFjdGlvbiA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRPYmooJ2VkaXRWYWx1ZScsIG51bWVyaWNWYWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5yZW1vdmVJdGVtKCdlZGl0VmFsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wYWdlTGlzdFswXT8ucGFnZURldGFpbHM/LnBhZ2V0eXBlID09ICdBVFBCRE0nIHx8IHRoaXMucGFnZUxpc3RbMF0/LnBhZ2VEZXRhaWxzPy5wYWdldHlwZSA9PSAnRkZQJykge1xyXG4gICAgICAgICAgICB0aGlzLmF1dGhTZXJ2aWNlLnNldFNoYXJlZE1lc3NhZ2UoeyBwYWdlSWQ6IHRoaXMucGFnZUxpc3RbMF0ucGFnZWlkIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbXBvbmVudCAmJiAodGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tTWFzdGVyVmlldyB8fCB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LmxvYWRlZEZyb21Db21wb3NpdGVQYWdlKSAmJiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkKVxyXG4gICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocHVibGlzaEV2ZW50KHsgZXZlbnROYW1lOiBhY3Rpb24uYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsgbWFwcGluZ0Zvcm1JZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkIH0gfSkpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdtYXN0ZXItdmlldycpID4gLTEgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignY29tcG9zaXRlLXBhZ2UnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ2NvbXBvc2l0ZVRpdGxlJywgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy50aXRsZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdzZXRUYWJBY3Rpb24nLCBhY3Rpb24uYWN0aW9uKTtcclxuICAgICAgICAgICAgICB0aGlzLnNoYXJlZFNlcnZpY2Uuc2VuZE1lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJ2Zvcm0vJywgdGhpcy5wYWdlTGlzdFswXS5wYWdlaWRdLCB7XHJcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ3NldFRhYkFjdGlvbicsIGFjdGlvbi5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2hhcmVkU2VydmljZS5zZW5kTWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgIC8vIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnL3BhZ2VzL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycsIHRoaXMucGFnZUxpc3RbMF0ucGFnZWlkXSwge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycuLi8uLi8uLi9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nLCB0aGlzLnBhZ2VMaXN0WzBdLnBhZ2VpZF0sIHtcclxuICAgICAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycuLi8uLi8uLi9keW5hbWljcGFnZS90YWIvJywgdGhpcy5wYWdlTGlzdFswXS5pZF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIHRvZ2dsZUljb25DbGFzcygpIHtcclxuICAgIHRoaXMuaWNvbkNsYXNzID0gJ2ZhIGZhLWV5ZS1zbGFzaCc7XHJcbiAgICAvLyB9XHJcbiAgfVxyXG5cclxuICB1cGxvYWREb2N1bWVudChpdGVtLCBmaWxlcykge1xyXG4gICAgdGhpcy51cGxvYWRlZEZpbGUgPSBmaWxlcy50YXJnZXQuZmlsZXNbMF07XHJcbiAgICBjb25zdCBwYWdlSUQgPSB0aGlzLmZvcm1JZCA/IHRoaXMuZm9ybUlkIDogdGhpcy5wYWdlSWQ7XHJcbiAgICB0aGlzLmltYWdlRGF0YSA9IHtcclxuICAgICAgY29udGVudFR5cGU6IHRoaXMudXBsb2FkZWRGaWxlLnR5cGUsXHJcbiAgICAgIGZpbGVOYW1lOiBgb2NyLyR7cGFnZUlEfS8ke3RoaXMudXBsb2FkZWRGaWxlLm5hbWV9YFxyXG4gICAgfTtcclxuICAgIHRoaXMuYXR0YWNobWVudFNlcnZpY2UudXBsb2FkS2V5KHRoaXMuaW1hZ2VEYXRhKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgIGlmIChyZXMuZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHVwbG9hZEF0dGFjaG1lbnQ6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlJyk7XHJcbiAgICAgICAgY29uc3QgdXBsb2FkQXR0YWNobWVudERldGFpbHMgPSB1cGxvYWRBdHRhY2htZW50LmZpbGVzWzBdO1xyXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UucHV0dXBsb2FkMihyZXMuZGF0YSwgdXBsb2FkQXR0YWNobWVudERldGFpbHMsIHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzLnR5cGUpLnN1YnNjcmliZShcclxuICAgICAgICAgIChyZXNwOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogYG9jci8ke3BhZ2VJRH0vJHt0aGlzLnVwbG9hZGVkRmlsZS5uYW1lfWAsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50dHlwZTogdGhpcy51cGxvYWRlZEZpbGUudHlwZVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldE9iaignT0NST2JqJywgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ3VwbG9hZEZyb21HcmlkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGVTdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLmFjdGlvblswXS50b1VwcGVyQ2FzZSgpICsgaXRlbS5hY3Rpb24uc2xpY2UoMSkgKyAnICcgKyB0aGlzLmZyb21UaXRsZSxcclxuICAgICAgICAgICAgICAgIHBlcnNvbklkOiBudWxsXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBjb25zdCB1cmwgPSBQQUdFX01PRElGWV9ST1VURSArIGl0ZW0ubGluaztcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIFdlbnQgV3JvbmchJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT0gMCkgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyBXZW50IFdyb25nIScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXREYXRlRm9ybWF0KHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvbkluZm8pIHtcclxuICAgICAgaWYgKHZhbHVlID09PSAnZGF0ZScgJiYgdGhpcy5yZWdpc3RyYXRpb25JbmZvPy5kYXRldGltZWZvcm1hdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJhdGlvbkluZm9bJ2RhdGV0aW1lZm9ybWF0J10uc3BsaXQoJyAnKVswXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5yZWdpc3RyYXRpb25JbmZvWydkYXRldGltZWZvcm1hdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdNTS9kZC95eXl5JztcclxuICB9XHJcblxyXG4gIGJ1aWxkQ3JpdGVyaWEocmVzdWx0KSB7XHJcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuO1xyXG4gICAgY29uc3QgdGFibGVzY2hlbWFjb25maWcgPSB0eXBlb2YgcmVzdWx0LnRhYmxlc2NoZW1hY29uZmlnID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzdWx0LnRhYmxlc2NoZW1hY29uZmlnKSA6IHJlc3VsdC50YWJsZXNjaGVtYWNvbmZpZztcclxuICAgIGlmICghdGFibGVzY2hlbWFjb25maWcpIHJldHVybjtcclxuICAgIGNvbnN0IGZpZWxkTWFwcGluZyA9IHRhYmxlc2NoZW1hY29uZmlnLmZpZWxkbWFwcGluZztcclxuICAgIGlmICghZmllbGRNYXBwaW5nKSByZXR1cm47XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2ggPSBmaWVsZE1hcHBpbmcuZmlsdGVyKGUgPT4gZS5jcml0ZXJpYSk7XHJcbiAgICBpZiAoIXRoaXMuZHluYW1pY1NlYXJjaCAmJiAhdGhpcy5keW5hbWljU2VhcmNoLmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgdGhpcy50YWJsZURyb3BEb3duID0gW1xyXG4gICAgICAuLi5uZXcgU2V0KFxyXG4gICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaC5tYXAoZSA9PiAoe1xyXG4gICAgICAgICAgbmFtZTogZS50YWJsZW5hbWUsXHJcbiAgICAgICAgICB2YWx1ZTogZS50YWJsZW5hbWVcclxuICAgICAgICB9KSlcclxuICAgICAgKVxyXG4gICAgXTtcclxuICAgIHRoaXMudGFibGVEcm9wRG93biA9IHRoaXMucmVtb3ZlRHVwbGlhY3RlQXJyYXlKc29uKHRoaXMudGFibGVEcm9wRG93bik7XHJcblxyXG4gICAgdGhpcy5jb2x1bW5Ecm9wRG93biA9IHRoaXMuZHluYW1pY1NlYXJjaC5tYXAoZSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gYCR7ZS50YWJsZW5hbWV9LiR7ZS5maWVsZH1gO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWU6IGUubGFiZWwsXHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgZGF0YVR5cGU6IGUuZGF0YXR5cGUsXHJcbiAgICAgICAgdGFibGVOYW1lOiBlLnRhYmxlbmFtZVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVEdXBsaWFjdGVBcnJheUpzb24odmFsdWVzKSB7XHJcbiAgICBjb25zdCBjb25jYXRBcnJheSA9IHZhbHVlcy5tYXAoZWFjaFZhbHVlID0+IE9iamVjdC52YWx1ZXMoZWFjaFZhbHVlKS5qb2luKCcnKSk7XHJcbiAgICByZXR1cm4gdmFsdWVzLmZpbHRlcigodmFsdWUsIGluZGV4KSA9PiBjb25jYXRBcnJheS5pbmRleE9mKGNvbmNhdEFycmF5W2luZGV4XSkgPT09IGluZGV4KTtcclxuICB9XHJcblxyXG4gIGluaXREeW5hbWljU2VhcmNoKCk6IFVudHlwZWRGb3JtQXJyYXkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmdldCgnZHluYW1pY1NlYXJjaEFycmF5JykgYXMgVW50eXBlZEZvcm1BcnJheTtcclxuICB9XHJcblxyXG4gIGFkZEdyaWREeW5hbWljU2VhcmNoKCkge1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLnB1c2godGhpcy5jcmVhdGVEeW5hbWljU2VhcmNoKCkpO1xyXG4gICAgY29uc3QgZHluYW1pY1NlYXJjaCA9IHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmNvbnRyb2xzWydkeW5hbWljU2VhcmNoQXJyYXknXS52YWx1ZTtcclxuICAgIGlmIChkeW5hbWljU2VhcmNoLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhpcy5zYXZlQnV0dG9uRGlzYWJsZSA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zYXZlQnV0dG9uRGlzYWJsZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVEeW5hbWljU2VhcmNoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICB0YWJsZU5hbWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGNvbHVtbk5hbWU6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGNvbmRpdGlvbjogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgZGF0YXR5cGU6IFsnJ10sXHJcbiAgICAgIHZhbHVlOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICB0YWJsZURyb3BEb3duOiBbdGhpcy50YWJsZURyb3BEb3duXSxcclxuICAgICAgY29sdW1uRHJvcERvd246IFt0aGlzLmNvbHVtbkRyb3BEb3duXSxcclxuICAgICAgY29uZGl0aW9uRHJvcGRvd246IFtdXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGJ1aWxkRHluYW1pY1NlYXJjaChyZXM6IGFueSk6IFVudHlwZWRGb3JtR3JvdXAge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICB0YWJsZU5hbWU6IHJlcy50YWJsZU5hbWUsXHJcbiAgICAgIGNvbHVtbk5hbWU6IHJlcy5jb2x1bW5OYW1lLFxyXG4gICAgICBjb25kaXRpb246IHJlcy5jb25kaXRpb24sXHJcbiAgICAgIGRhdGF0eXBlOiByZXMuZGF0YXR5cGUsXHJcbiAgICAgIHZhbHVlOiByZXMudmFsdWUsXHJcbiAgICAgIHRhYmxlRHJvcERvd246IFtyZXMudGFibGVEcm9wRG93bl0sXHJcbiAgICAgIGNvbHVtbkRyb3BEb3duOiBbcmVzLmNvbHVtbkRyb3BEb3duXSxcclxuICAgICAgY29uZGl0aW9uRHJvcGRvd246IFtyZXMuY29uZGl0aW9uRHJvcGRvd25dXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUR5bmFtaWNTZWFyY2goaW5kZXg6IG51bWJlcikge1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLnJlbW92ZUF0KGluZGV4KTtcclxuICAgIGNvbnN0IGR5bmFtaWNTZWFyY2ggPSB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5jb250cm9sc1snZHluYW1pY1NlYXJjaEFycmF5J10udmFsdWU7XHJcbiAgICBpZiAoZHluYW1pY1NlYXJjaC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGR5bmFtaWNTZWFyY2ggPSBkeW5hbWljU2VhcmNoLmZpbHRlcihlID0+IGUudmFsdWUgJiYgZS52YWx1ZS50cmltKCkpO1xyXG4gICAgLy8gY29uc3Qgc2F2ZUR5bmFtaWNTZWFyY2ggPSB7XHJcbiAgICAvLyAgIHBhZ2VJZDogK3RoaXMuZm9ybUlkLFxyXG4gICAgLy8gICBjcml0ZXJpYUlkOiArdGhpcy5jcml0ZXJpYUlkLFxyXG4gICAgLy8gICBkeW5hbWljU2VhcmNoQXJyYXk6IGR5bmFtaWNTZWFyY2hcclxuICAgIC8vIH07XHJcbiAgICAvLyB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnNhdmVDcml0ZXJpYUJ5UGFnZUlkKHNhdmVEeW5hbWljU2VhcmNoKS5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgIC8vICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgIC8vICAgdGhpcy5jcml0ZXJpYUlkID0gcmVzcG9uc2UuY3JpdGVyaWFJZDtcclxuICAgIC8vICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnQ3JpdGVyaWEgZGVsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXREeW5hbWljU2VhcmNoKCkge1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLmNsZWFyKCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgPSBbXTtcclxuICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5kYXRhU291cmNlID0ge1xyXG4gICAgICBkYXRhOiBbXSxcclxuICAgICAgdG90YWxDb3VudDogMFxyXG4gICAgfTtcclxuICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLnlvdXRoU2VhcmNoSnNvbiA9IFtdO1xyXG4gICAgLy8gdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICB9XHJcblxyXG4gIGdldENvbHVtbkxpc3QoaW5kZXg6IG51bWJlciwgdGFibGVWYWx1ZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBnZXRDdXJyZW50Um93ID0gdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLmF0KGluZGV4KTtcclxuICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdjb2x1bW5Ecm9wRG93bicpLnBhdGNoVmFsdWUoW10pO1xyXG4gICAgY29uc3QgY29sdW1uQXJyYXkgPSB0aGlzLmR5bmFtaWNTZWFyY2hcclxuICAgICAgLmZpbHRlcihlID0+IGUudGFibGVuYW1lID09PSB0YWJsZVZhbHVlKVxyXG4gICAgICAubWFwKGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYCR7ZS50YWJsZW5hbWV9LiR7ZS5maWVsZH1gO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBuYW1lOiBlLmxhYmVsLFxyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICBkYXRhVHlwZTogZS5kYXRhdHlwZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgZ2V0Q3VycmVudFJvdy5nZXQoJ2NvbHVtbkRyb3BEb3duJykucGF0Y2hWYWx1ZShjb2x1bW5BcnJheSk7XHJcbiAgfVxyXG5cclxuICBnZXRDb25kaXRpb25MaXN0KGluZGV4OiBudW1iZXIsIGNvbHVtblZhbHVlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGdldEN1cnJlbnRSb3cgPSB0aGlzLmluaXREeW5hbWljU2VhcmNoKCkuYXQoaW5kZXgpO1xyXG4gICAgY29uc3QgY29sdW1uRHJvcERvd24gPSBnZXRDdXJyZW50Um93LmdldCgnY29sdW1uRHJvcERvd24nKS52YWx1ZTtcclxuICAgIGNvbnN0IGNvbHVtbkRyb3BEb3duSnNvbiA9IGNvbHVtbkRyb3BEb3duLmZpbmQoZSA9PiBlLnZhbHVlID09PSBjb2x1bW5WYWx1ZSk7XHJcbiAgICBjb25zdCBjb2x1bW5EYXRhVHlwZSA9IGNvbHVtbkRyb3BEb3duSnNvbi5kYXRhVHlwZTtcclxuICAgIGNvbnN0IGNvbHVtblRhYmxlTmFtZSA9IGNvbHVtbkRyb3BEb3duSnNvbi50YWJsZU5hbWU7XHJcbiAgICBnZXRDdXJyZW50Um93LmdldCgnY29uZGl0aW9uRHJvcGRvd24nKS5wYXRjaFZhbHVlKFtdKTtcclxuICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdkYXRhdHlwZScpLnBhdGNoVmFsdWUoY29sdW1uRGF0YVR5cGUpO1xyXG4gICAgZ2V0Q3VycmVudFJvdy5nZXQoJ3RhYmxlTmFtZScpLnBhdGNoVmFsdWUoY29sdW1uVGFibGVOYW1lKTtcclxuICAgIC8vIGdldEN1cnJlbnRSb3cuZ2V0KCdjb25kaXRpb25Ecm9wZG93bicpLnBhdGNoVmFsdWUoW1xyXG4gICAgLy8gICB7XHJcbiAgICAvLyAgICAgbmFtZTogJ0VxdWFsIFRvJyxcclxuICAgIC8vICAgICB2YWx1ZTogJ0VxdWFsX1RvJ1xyXG4gICAgLy8gICB9LFxyXG4gICAgLy8gICB7XHJcbiAgICAvLyAgICAgbmFtZTogJ0xpa2UnLFxyXG4gICAgLy8gICAgIHZhbHVlOiAnTGlrZSdcclxuICAgIC8vICAgfVxyXG4gICAgLy8gXSk7XHJcbiAgICBpZiAoY29sdW1uRGF0YVR5cGUgPT09ICd0ZXh0ZmllbGQnIHx8IGNvbHVtbkRhdGFUeXBlID09PSAndGV4dGFyZWEnKSB7XHJcbiAgICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdjb25kaXRpb25Ecm9wZG93bicpLnBhdGNoVmFsdWUoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6ICdFcXVhbCBUbycsXHJcbiAgICAgICAgICB2YWx1ZTogJ0VxdWFsX1RvJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogJ0xpa2UnLFxyXG4gICAgICAgICAgdmFsdWU6ICdMaWtlJ1xyXG4gICAgICAgIH1cclxuICAgICAgXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZXRDdXJyZW50Um93LmdldCgnY29uZGl0aW9uRHJvcGRvd24nKS5wYXRjaFZhbHVlKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBuYW1lOiAnRXF1YWwgVG8nLFxyXG4gICAgICAgICAgdmFsdWU6ICdFcXVhbF9UbydcclxuICAgICAgICB9XHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXREeW5hbWljU2VhcmNoVmFsdWUoaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgZ2V0Q3VycmVudFJvdyA9IHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5hdChpbmRleCk7XHJcbiAgICBnZXRDdXJyZW50Um93LmdldCgndmFsdWUnKS5wYXRjaFZhbHVlKCcnKTtcclxuICB9XHJcblxyXG4gIHRyaW1TcGFjZXMoZWxlbWVudCkge1xyXG4gICAgY29uc3QgZ2V0RWxlbWVudCA9IGVsZW1lbnQuY29udHJvbHNbJ3ZhbHVlJ107XHJcbiAgICBjb25zdCBnZXRWYWx1ZSA9IGdldEVsZW1lbnQudmFsdWUudHJpbSgpO1xyXG4gICAgZ2V0RWxlbWVudC5zZXRWYWx1ZShnZXRWYWx1ZSk7XHJcblxyXG4gICAgaWYgKCFnZXRWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgZ2V0RWxlbWVudC50b3VjaGVkID0gdHJ1ZTtcclxuICAgICAgZ2V0RWxlbWVudC5lcnJvcnMgPSB0cnVlO1xyXG5cclxuICAgICAgLyogUmVtb3ZlIHRoaXMgcmVkdW5kYW50IGp1bXAgKi9cclxuICAgICAgLy8gcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3VibWl0RHluYW1pY1NlYXJjaCgpIHtcclxuICAgIGlmICghdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0udmFsaWQpIHtcclxuICAgICAgdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0ubWFya0FsbEFzVG91Y2hlZCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkeW5hbWljU2VhcmNoID0gdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0uY29udHJvbHNbJ2R5bmFtaWNTZWFyY2hBcnJheSddLnZhbHVlO1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGR5bmFtaWNTZWFyY2gubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGR5bmFtaWNTZWFyY2hFbGVtZW50ID0gZHluYW1pY1NlYXJjaFtpbmRleF07XHJcbiAgICAgIGlmICghZHluYW1pY1NlYXJjaEVsZW1lbnQgfHwgIWR5bmFtaWNTZWFyY2hFbGVtZW50LnZhbHVlLnRyaW0oKSkge1xyXG4gICAgICAgIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gdHJ1ZTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCA9IGR5bmFtaWNTZWFyY2g7XHJcbiAgICB0aGlzLnNlYXJjaEdyaWQodGhpcy5odHRwLCB0aGlzLnN0b3JhZ2UpO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUR5bmFtaWNTZWFyY2goKSB7XHJcbiAgICBpZiAoIXRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHluYW1pY1NlYXJjaCA9IHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmNvbnRyb2xzWydkeW5hbWljU2VhcmNoQXJyYXknXS52YWx1ZTtcclxuICAgIGlmICghZHluYW1pY1NlYXJjaC5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0Nhbm5vdCBzYXZlIGVtcHR5IGNyaXRlcmlhJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkeW5hbWljU2VhcmNoLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBkeW5hbWljU2VhcmNoRWxlbWVudCA9IGR5bmFtaWNTZWFyY2hbaW5kZXhdO1xyXG4gICAgICBpZiAoIWR5bmFtaWNTZWFyY2hFbGVtZW50IHx8ICFkeW5hbWljU2VhcmNoRWxlbWVudC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5tYXJrQWxsQXNUb3VjaGVkKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2F2ZUR5bmFtaWNTZWFyY2ggPSB7XHJcbiAgICAgIHBhZ2VJZDogK3RoaXMuZm9ybUlkLFxyXG4gICAgICBjcml0ZXJpYUlkOiArdGhpcy5jcml0ZXJpYUlkLFxyXG4gICAgICBkeW5hbWljU2VhcmNoQXJyYXk6IGR5bmFtaWNTZWFyY2hcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zYXZlQ3JpdGVyaWFCeVBhZ2VJZChzYXZlRHluYW1pY1NlYXJjaCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgIHRoaXMuY3JpdGVyaWFJZCA9IHJlc3BvbnNlLmNyaXRlcmlhSWQ7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0NyaXRlcmlhIHNhdmUgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBnZXRDcml0ZXJpYUJ5UGFnZUlkKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqZWN0cykgPT4ge1xyXG4gICAgICBjb25zdCBwYWdlSWQgPSB0aGlzLmZvcm1JZDtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5nZXRDcml0ZXJpYUJ5UGFnZUlkKHBhZ2VJZCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gcmVzcG9uc2UubGVuZ3RoIC0gMTtcclxuICAgICAgICAgIGNvbnN0IGxhc3RSZXNwb25zZSA9IHJlc3BvbnNlW2xhc3RJbmRleF07XHJcbiAgICAgICAgICB0aGlzLmNyaXRlcmlhSWQgPSBsYXN0UmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgICBsZXQgbGFzdER5bmFtaWNTZWFyY2hBcnJheSA9IFtdO1xyXG4gICAgICAgICAgaWYgKGxhc3RSZXNwb25zZS5keW5hbWljU2VhcmNoQXJyYXk/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVCdXR0b25EaXNhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxhc3REeW5hbWljU2VhcmNoQXJyYXkgPSBsYXN0UmVzcG9uc2UuZHluYW1pY1NlYXJjaEFycmF5O1xyXG4gICAgICAgICAgICBsYXN0RHluYW1pY1NlYXJjaEFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLnB1c2godGhpcy5idWlsZER5bmFtaWNTZWFyY2goZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCA9IGxhc3REeW5hbWljU2VhcmNoQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNvbHZlKHt9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUFsbER5bmFtaWNTZWFyY2hDb25kdGlvbigpIHtcclxuICAgIHRoaXMuY3JpdGVyaWFJZCA9IDA7XHJcbiAgICB0aGlzLmluaXREeW5hbWljU2VhcmNoKCkuY2xlYXIoKTtcclxuICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0ID0gW107XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2ggPSBbXTtcclxuICAgIHRoaXMueW91dGhTZWFyY2hKc29uID0gW107XHJcbiAgICB0aGlzLnlvdXRoU2VhcmNoQm9vbGVhbiA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tSdWxlc0JlZm9yZUFjdGlvbnMoZGF0YTogYW55LCBpdGVtOiBhbnkpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IHBhZ2VEYXRhID0ge1xyXG4gICAgICBwYWdlaWQ6IHRoaXMucGFnZUlkLFxyXG4gICAgICBhY3Rpb246IGl0ZW0uYWN0aW9uLFxyXG4gICAgICBwYWdlRGF0YTogZGF0YT8ucGFnZURhdGEsXHJcbiAgICAgIGN1cnJlbnRVc2VyOiB0aGlzLnVzZXIsXHJcbiAgICAgIHByaW1hcnk6IGRhdGE/LmRhdGE/LnByaW1hcnlDb2x1bW4sXHJcbiAgICAgIHJvd0RhdGE6IGRhdGE/LmRhdGEsXHJcbiAgICAgIGdyaWRhY3Rpb246IGl0ZW1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hlY2tSdWxlc0luV29ya2Zsb3cocGFnZURhdGEpLnBpcGUoXHJcbiAgICAgIG1hcCgocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS50eXBlID09PSAnVkFMSURBVElPTicpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnBlcm1pc3Npb24gPT09ICdBTExPV0VEJykge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5kYXRhLnBlcm1pc3Npb24gPT09ICdDT05GSVJNQVRJT04nKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5idXNpbmVzc1J1bGVNZXNzYWdlID0gcmVzdWx0LmRhdGE/Lm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgdGhpcy5ncmlkQWN0aW9uUGFyYW1zID0ge2RhdGEsIGl0ZW19O1xyXG4gICAgICAgICAgICAgICQoJyNjb25maXJtR3JpZEFjdGlvbicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmRhdGEucGVybWlzc2lvbiA9PT0gJ0RFTklFRCcpIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihyZXN1bHQuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEudHlwZSA9PT0gJ1JFRElSRUNUSU9OJykge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEucm91dGUpIHtcclxuICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKHJlc3VsdC5kYXRhLnJvdXRlKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY29uZmlybUdyaWRBY3Rpb24oKXtcclxuICAgIHRoaXMuZ2V0QWN0aW9uUm91dGVzKHRoaXMuZ3JpZEFjdGlvblBhcmFtcy5kYXRhLHRoaXMuZ3JpZEFjdGlvblBhcmFtcy5pdGVtKTtcclxuICB9XHJcbn1cclxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cclxuPGRpdiBbY2xhc3NdPVwidXNlckFjdGlvbiA9PT0gJ3ZpZXcnID8gJ3JlYWRPbmx5Q2FyZCcgOiAnJ1wiPlxyXG4gIDxkaXYgKm5nSWY9XCJoZWFkZXJcIj5cclxuICAgIDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCIgYXJpYS1kZXNjcmliZWRieT1cImJvcmRlclwiPlxyXG4gICAgICA8dGhlYWQ+XHJcbiAgICAgICAgPHRyPlxyXG4gICAgICAgICAgPHRoICpuZ0Zvcj1cImxldCBpdGVtIG9mIHRpdGxldGFiIHwga2V5dmFsdWVcIj57eyBpdGVtLmtleSB9fTwvdGg+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90aGVhZD5cclxuICAgICAgPHRib2R5PlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgaXRlbSBvZiB0aXRsZXRhYiB8IGtleXZhbHVlXCI+e3sgaXRlbS52YWx1ZSB9fTwvdGQ+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90Ym9keT5cclxuICAgIDwvdGFibGU+XHJcbiAgPC9kaXY+XHJcblxyXG5cclxuICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LWZ1bGwgZHluYW1pYy1zZWFyY2hcIiBbYWN0aXZlSW5kZXhdPVwiMVwiIGljb25Qb3M9XCJlbmRWYWxcIlxyXG4gICAgKm5nSWY9XCJkeW5hbWljU2VhcmNoICYmIGR5bmFtaWNTZWFyY2gubGVuZ3RoID4gMFwiPlxyXG4gICAgPHAtYWNjb3JkaW9uVGFiPlxyXG4gICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBoZWFkLXRleHQgZ2FwLTIgdy1mdWxsXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtYm9sZFwiPlF1aWNrIFNlYXJjaDwvc3Bhbj5cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggbXktMiByb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHRleHQtbWQtcmlnaHRcIj5cclxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIHRpdGxlPVwiQWRkIE5ld1wiIHByaXBwbGUgY2xhc3M9XCJwLXJpcHBsZSBwLWVsZW1lbnQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1pY29uXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cImFkZEdyaWREeW5hbWljU2VhcmNoKClcIj5cclxuICAgICAgICAgICAgPGVtIGNsYXNzPVwicGkgcGktcGx1cyBmb250LXdlaWdodC1ib2xkXCI+PC9lbT5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGZvcm0gW2Zvcm1Hcm91cF09XCJncmlkRHluYW1pY1NlYXJjaEZvcm1cIj5cclxuICAgICAgICA8bmctY29udGFpbmVyIGZvcm1BcnJheU5hbWU9XCJkeW5hbWljU2VhcmNoQXJyYXlcIj5cclxuICAgICAgICAgIDxkaXYgKm5nRm9yPVwibGV0IGR5bmFtaWNTZWFyY2hJdGVtIG9mIGluaXREeW5hbWljU2VhcmNoKCkuY29udHJvbHM7IGxldCBkeW5hbWljU2VhcmNoSW5kZXggPSBpbmRleFwiXHJcbiAgICAgICAgICAgIFtmb3JtR3JvdXBOYW1lXT1cImR5bmFtaWNTZWFyY2hJbmRleFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHJiYWMtY2FyZFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTEgY29sLTEyIHByLTBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTNcIj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiIGZvcj1cInRhYmxlTGlzdFwiPlRhYmxlPC9sYWJlbD4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8cC1kcm9wZG93biAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgW29wdGlvbnNdPVwiZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCd0YWJsZURyb3BEb3duJyk/LnZhbHVlXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIG9wdGlvbkxhYmVsPVwibmFtZVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBvcHRpb25WYWx1ZT1cInZhbHVlXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIGlkPVwidGFibGVMaXN0X3t7IGR5bmFtaWNTZWFyY2hJbmRleCB9fVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBUYWJsZVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBmb3JtQ29udHJvbE5hbWU9XCJ0YWJsZU5hbWVcIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgdGFiaW5kZXg9XCIwXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIHN0eWxlQ2xhc3M9XCJ3LTEwMFwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAob25DaGFuZ2UpPVwiZ2V0Q29sdW1uTGlzdChkeW5hbWljU2VhcmNoSW5kZXgsIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVOYW1lJyk/LnZhbHVlKVwiPiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgIDwvcC1kcm9wZG93bj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8c3BhbiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgY2xhc3M9XCJ0ZXh0LWRhbmdlciBlcnJvci10ZXh0XCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgICpuZ0lmPVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVOYW1lJyk/Lmhhc0Vycm9yKCdyZXF1aXJlZCcpICYmIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVOYW1lJyk/LnRvdWNoZWQgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIFwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICA+UGxlYXNlIFNlbGVjdCBUYWJsZSBOYW1lPC9zcGFuIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgPiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSA8L2Rpdj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCIgZm9yPVwiY29sdW1uTGlzdFwiPkNvbHVtbiA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5Ecm9wRG93bicpPy52YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImNvbHVtbkxpc3Rfe3sgZHluYW1pY1NlYXJjaEluZGV4IH19XCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJ2YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBDb2x1bW5cIiBmb3JtQ29udHJvbE5hbWU9XCJjb2x1bW5OYW1lXCIgdGFiaW5kZXg9XCIwXCIgc3R5bGVDbGFzcz1cInctMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJnZXRDb25kaXRpb25MaXN0KGR5bmFtaWNTZWFyY2hJbmRleCwgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5OYW1lJyk/LnZhbHVlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyIGVycm9yLXRleHRcIiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ2NvbHVtbk5hbWUnKT8uaGFzRXJyb3IoJ3JlcXVpcmVkJykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5OYW1lJyk/LnRvdWNoZWRcclxuICAgICAgICAgICAgICAgICAgICAgIFwiPlBsZWFzZSBTZWxlY3QgQ29sdW1uIE5hbWU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiIGZvcj1cImNvbmRpdGlvbkxpc3RcIj5Db25kaXRpb24gPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29uZGl0aW9uRHJvcGRvd24nKT8udmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJjb25kaXRpb25MaXN0X3t7IGR5bmFtaWNTZWFyY2hJbmRleCB9fVwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgQ29uZGl0aW9uXCIgZm9ybUNvbnRyb2xOYW1lPVwiY29uZGl0aW9uXCIgdGFiaW5kZXg9XCIwXCIgc3R5bGVDbGFzcz1cInctMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJyZXNldER5bmFtaWNTZWFyY2hWYWx1ZShkeW5hbWljU2VhcmNoSW5kZXgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXIgZXJyb3ItdGV4dFwiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29uZGl0aW9uJyk/Lmhhc0Vycm9yKCdyZXF1aXJlZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29uZGl0aW9uJyk/LnRvdWNoZWRcclxuICAgICAgICAgICAgICAgICAgICAgIFwiPlBsZWFzZSBTZWxlY3QgQ29uZGl0aW9uPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC02IGNvbC0xMiBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIiBmb3I9XCJ2YWx1ZUxpc3RcIj5WYWx1ZSA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwLWlucHV0dGV4dCB3LTEwMFwiIGlkPVwidmFsdWVMaXN0XCIgZm9ybUNvbnRyb2xOYW1lPVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXIgZXJyb3ItdGV4dFwiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndmFsdWUnKT8uaGFzRXJyb3IoJ3JlcXVpcmVkJykgJiYgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCd2YWx1ZScpPy50b3VjaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICBcIj5QbGVhc2UgRmlsbCBWYWx1ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzIGQtbWQtYmxvY2sgZC1ub25lXCIgZm9yPVwiZGVsZXRlRHluYW1pY1NlYXJjaFwiPiYjMTYwOzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIHRleHQtZGFuZ2VyIGRlbGV0ZS1pY29uXCIgcm9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImRlbGV0ZUR5bmFtaWNTZWFyY2hcIiAoY2xpY2spPVwicmVtb3ZlRHluYW1pY1NlYXJjaChkeW5hbWljU2VhcmNoSW5kZXgpXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRGVsZXRlXCI+ZGVsZXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwhLS0gPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJjb2wtbWQtMSBjb2wtMTIgbWItMyB0ZXh0LW1kLWNlbnRlciBkLW1kLWZsZXggYWxpZ24taXRlbXMtbWQtY2VudGVyIGp1c3RpZnktY29udGVudC1tZC1jZW50ZXIgZmxleC1jb2x1bW5cIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzIGQtbWQtYmxvY2sgZC1ub25lXCIgZm9yPVwiZGVsZXRlRHluYW1pY1NlYXJjaFwiPiYjMTYwOzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgdGV4dC1kYW5nZXJcIiByb2xlPVwiYnV0dG9uXCIgaWQ9XCJkZWxldGVEeW5hbWljU2VhcmNoXCJcclxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInJlbW92ZUR5bmFtaWNTZWFyY2goZHluYW1pY1NlYXJjaEluZGV4KVwiIHRpdGxlPVwiRGVsZXRlXCI+ZGVsZXRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIChjbGljayk9XCJyZW1vdmVEeW5hbWljU2VhcmNoKClcIj5EZWxldGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj4gLS0+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1zZWxmLWVuZFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRleHQtbWQtcmlnaHQgbXQtMlwiPlxyXG4gICAgICAgICAgICAgIDwhLS0gPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwic2F2ZUR5bmFtaWNTZWFyY2goKVwiXHJcbiAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwic2F2ZUJ1dHRvbkRpc2FibGVcIj5cclxuICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICA8L2J1dHRvbj4gLS0+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWNhbmNlbFwiIChjbGljayk9XCJyZXNldER5bmFtaWNTZWFyY2goKVwiPkNsZWFyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiAoY2xpY2spPVwic3VibWl0RHluYW1pY1NlYXJjaCgpXCJcclxuICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJzYXZlQnV0dG9uRGlzYWJsZVwiPlNlYXJjaDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICA8L3AtYWNjb3JkaW9uVGFiPlxyXG4gIDwvcC1hY2NvcmRpb24+XHJcbiAgPGRpdiBjbGFzcz1cInBhZ2Utd3JwIG10LTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxyXG4gICAgICAgIDwhLS0gPGRpdiAqbmdJZj1cInRydWVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIiBbZm9ybUdyb3VwXT1cImZpbHRlckZvcm1cIiAqbmdJZj1cImdyaWRUeXBlICE9PSAndmlldydcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxyXG4gICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IFtvcHRpb25zXT1cImZpbHRlck9wdGlvbnNcIiBzdHlsZUNsYXNzPVwiZmlsdGVyT3B0aW9uc1wiIFtncm91cF09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXNMYWJlbD1cInswfSBpdGVtcyBzZWxlY3RlZFwiIGRlZmF1bHRMYWJlbD1cIlNlbGVjdFwiIG9wdGlvbkxhYmVsPVwibGFiZWxcIiBvcHRpb25WYWx1ZT1cImlkXCJcclxuICAgICAgICAgICAgICAgIGlkPVwiZmlsdGVyb3B0aW9uc1wiIGFyaWFGaWx0ZXJMYWJlbD1cInNlYXJjaGJveFwiIGZvcm1Db250cm9sTmFtZT1cInNlbGVjdGVkRmlsdGVyXCJcclxuICAgICAgICAgICAgICAgIChvbkNoYW5nZSk9XCJjaGFuZ2VGaWx0ZXJPcHRpb25zKCRldmVudClcIj5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtZ3JvdXAgcFRlbXBsYXRlPVwiZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3sgZ3JvdXAuY29sdW1uTmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDwvcC1tdWx0aVNlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj4gLS0+XHJcbiAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImdyaWRUeXBlID09PSAndmlldydcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWNhbmNlbCBtYi0zXCIgKGNsaWNrKT1cImdvQmFjaygpXCI+QmFjazwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIHRleHQtcmlnaHRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBjb2wtMTJcIiAqbmdJZj1cImdldFRpdGxlKHVwZGF0ZUdyaWQ/LmdyaWRUaXRsZSlcIj5cclxuICAgICAgICAgIDxoNiBjbGFzcz1cImZvbnQtd2VpZ2h0LWJvbGQgbWItMFwiPjwvaDY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBpbm1hdGUtYnRuLWFsaWduXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tcHJpbnQgbXktMlwiIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCIgYXJpYS1sYWJlbD1cIkV4YW1wbGUgaWNvbi1idXR0b24gd2l0aCBhIG1lbnVcIlxyXG4gICAgICAgICAgICAgICpuZ0lmPVwic2hvd0V4cG9ydFwiPlxyXG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJleHBvcnRcIiBzcmM9XCIuLi8uLi8uLi9hc3NldHMvaW1hZ2VzL3N2Zy9FeHBvcnRfSWNvbi5zdmdcIiBhbHQ9XCJleHBvcnRcIiAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPG1hdC1tZW51IGNsYXNzPVwiZC1pbmxpbmUtYmxvY2sgbXktMlwiICNtZW51PVwibWF0TWVudVwiICpuZ0lmPVwic2hvd0V4cG9ydFwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwib25DbG9zZSgpXCIgKm5nSWY9XCJwYWdlVHlwZSA9PT0gJ0RTUCcgfHwgcGFnZVR5cGUgPT09ICdCVVNQJ1wiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPnt7IGljb24gfX08L21hdC1pY29uPnt7IG9wZW5jbG9zZSB9fSBTbGlkZWJhclxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQoJ2V4Y2VsJylcIj48bWF0LWljb24+Z3JpZF9vbjwvbWF0LWljb24+IEV4cG9ydCB0byBFeGNlbDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQoJ3BkZicpXCI+PG1hdC1pY29uPnBpY3R1cmVfYXNfcGRmPC9tYXQtaWNvbj4gRXhwb3J0IHRvIFBERjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQoJ3ByaW50JylcIj48bWF0LWljb24+cHJpbnQ8L21hdC1pY29uPiBQcmludDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAoY2xpY2spPVwicmVzZXQocGFnZVR5cGUpXCIgKm5nSWY9XCJwYWdlVHlwZSA9PT0gJ0RTUCcgfHwgcGFnZVR5cGUgPT09ICdCVVNQJ1wiPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPnJlc2V0X3R2PC9tYXQtaWNvbj4gUmVzZXQgU2VhcmNoIENyaXRlcmlhXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cInBhZ2VUeXBlID09PSAnRFNQJyB8fCBwYWdlVHlwZSA9PT0gJ0JVU1AnXCIgbWF0LW1lbnUtaXRlbVxyXG4gICAgICAgICAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cInNlYXJjaENyaXRlcmlhTGlzdFwiICNzZWFyY2hjcml0ZXJpYW1lbnV0cmlnZ2VyPVwibWF0TWVudVRyaWdnZXJcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5hZGRfY2lyY2xlX291dGxpbmU8L21hdC1pY29uPiBTYXZlIFNlYXJjaCBDcml0ZXJpYVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L21hdC1tZW51PlxyXG4gICAgICAgICAgICA8ZGl2IFtuZ0NsYXNzXT1cInVwZGF0ZUdyaWQgJiYgdXBkYXRlR3JpZD8uY2hvb3NlciA/ICdkLWlubGluZS1ibG9jayBhZGQtYnRuLXJpZ2h0JyA6ICdkLWlubGluZS1ibG9jaydcIj5cclxuICAgICAgICAgICAgICA8IS0tQWRkIEJ1dHRvbiwgQ29sdW1uIGNob29zZXIgYnV0dG9uIGFyZSByZXBsYWNpbmcgZWFjaG90aGVyIHdoZW4gaXRzIHNlbGVjdGVkLS0+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1pY29uLWJnIGQtaW5saW5lLWJsb2NrIHB1bGwtcmlnaHQgdGV4dC1yaWdodCBtbC0xIG15LTJcIlxyXG4gICAgICAgICAgICAgICAgKm5nSWY9XCJzaG93R3JpZFBhZ2UgJiYgaXRlbSAmJiB1cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZFwiIChjbGljayk9XCJjbG9zZUZvcm0oKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtdGltZXNcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAmJlxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5sZW5ndGhcclxuICAgICAgICAgICAgICAgIFwiIGNsYXNzPVwidXBkYXRlLWdyaWQtYWN0aW9uLWJ1dHRvbi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheTsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiISh1cGRhdGVHcmlkPy5pc1Nob3dPblRvcCAmJiBpdGVtPy5hY3Rpb24/LnRvTG93ZXJDYXNlKCkgPT09ICdhZGQnKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJpdGVtPy5pY29uICYmIGl0ZW0uaXNPdXRzaWRlR3JpZCAmJiAhaXRlbS5oaWRlXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXQtMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZ2V0T3V0c2lkZUdyaWRBY3Rpb24oaXRlbSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxlbSBbY2xhc3NdPVwiaXRlbS5pY29uXCI+PC9lbT48c3BhbiBjbGFzcz1cIm1sLTJcIiAqbmdJZj1cIiEhaXRlbS5uYW1lXCI+e3sgaXRlbS5uYW1lIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpdGVtPy5pY29uICYmIGl0ZW0uaXNPdXRzaWRlR3JpZCAmJiBpdGVtLnR5cGUgPT09ICdPY3IgU2NhbidcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWxlXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgbXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZW0gW2NsYXNzXT1cIml0ZW0uaWNvblwiPjwvZW0+PHNwYW4gY2xhc3M9XCJtbC0yXCIgKm5nSWY9XCIhIWl0ZW0ubmFtZVwiPnt7IGl0ZW0ubmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiAoY2hhbmdlKT1cInVwbG9hZERvY3VtZW50KGl0ZW0sICRldmVudClcIiBpZD1cImZpbGVcIiBhcmlhLWhpZGRlbj1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjsgZGlzcGxheTogbm9uZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidXBkYXRlR3JpZCAmJiB1cGRhdGVHcmlkPy5jaG9vc2VyXCIgY2xhc3M9XCJjb2wtY3VzdG9tIG15LTJcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1pY29uIG1sLTFcIiAoY2xpY2spPVwiY29sdW1uQ2hvb3NlckNsaWNrKClcIj5cclxuICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWNvbHVtbnNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImlzQWRkQnV0dG9uXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IG15LTJcIiAoY2xpY2spPVwicmVkaXJlY3QoKVwiPkFkZDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPG1hdC1tZW51ICNzZWFyY2hDcml0ZXJpYUxpc3Q9XCJtYXRNZW51XCIgY2xhc3M9XCJzZWFyY2hsaXN0XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJyb3cgY29sLXNtLTEyIG10LTRcIiAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XHJcbiAgICAgICAgICA8bWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgICAgIDxpbnB1dCBtYXRJbnB1dCBbKG5nTW9kZWwpXT1cInNlYXJjaENyaXRlcmlhXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggQ3JpdGVyaWFcIiAvPlxyXG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTIgbXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpXCIgW2Rpc2FibGVkXT1cIiFzZWFyY2hDcml0ZXJpYVwiIChjbGljayk9XCJzYXZlU2VhcmNoQ3JpdGVyaWEoKVwiPlNhdmU8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJyb3cgY29sLXNtLTEyXCI+XHJcbiAgICAgICAgPHRhYmxlIGFyaWEtZGVzY3JpYmVkYnk9XCJTZWFyY2hfQ3JpdGVyaWFcIj5cclxuICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlNlYXJjaCBDcml0ZXJpYTwvdGg+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgPHRib2R5ICpuZ0lmPVwidG90YWxjb3VudFwiPlxyXG4gICAgICAgICAgICA8dHIgKm5nRm9yPVwibGV0IHNjIG9mIHNlYXJjaENyaXRlcmlhQXJyXCI+XHJcbiAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgPG1hdC1pY29uPnNlYXJjaDwvbWF0LWljb24+XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKGNsaWNrKT1cInNldFNlYXJjaChzYy5kYXRhKVwiPnt7IHNjLmRhdGEuc2VhcmNoQ3JpdGVyaWEgfX08L2E+XHJcbiAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgPC90YWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L21hdC1tZW51PlxyXG4gICAgPGRpdiBjbGFzcz1cInNwbGl0LXBhZ2VcIj5cclxuICAgICAgPGFzLXNwbGl0IHVuaXQ9XCJwZXJjZW50XCIgdXNlVHJhbnNpdGlvbj1cInRydWVcIiBkaXJlY3Rpb249XCJ7eyBsYXlvdXR0eXBlIH19XCI+XHJcbiAgICAgICAgPGFzLXNwbGl0LWFyZWEgc2l6ZT1cInt7IHNwbGl0ZXJTaXplIH19XCI+XHJcbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGFnZVR5cGUgPT09ICdEU1AnIHx8IHBhZ2VUeXBlID09PSAnQlVTUCdcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgICAgICAgICAgIDxmb3JtaW8gI2Zvcm1JTyBbZm9ybV09XCJqc29uRm9ybVwiIFtzdWJtaXNzaW9uXT1cInN1Ym1pdHRlZERhdGFcIiAoc3VibWl0KT1cIm9uU3VibWl0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAoY3VzdG9tRXZlbnQpPVwiY3VzdG9tRXZlbnQoJGV2ZW50KVwiPjwvZm9ybWlvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvYXMtc3BsaXQtYXJlYT5cclxuICAgICAgICA8YXMtc3BsaXQtYXJlYSBzaXplPVwie3sgZ3JpZHNwbGl0ZXJTaXplIH19XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAoKHVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZCkgfHxcclxuICAgICAgICAgICAgICAgICh1cGRhdGVHcmlkPy5pc1Nob3dPblRvcCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmlzU2hvd09uVG9wKSkgJiZcclxuICAgICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgPG5kYy1keW5hbWljIGNsYXNzPVwibm8tZHJhZ1wiIFtuZGNEeW5hbWljQ29tcG9uZW50XT1cIml0ZW0uY29tcG9uZW50XCIgW25kY0R5bmFtaWNJbnB1dHNdPVwiaXRlbVwiXHJcbiAgICAgICAgICAgICAgICBbbmRjRHluYW1pY091dHB1dHNdPVwiaXRlbT8ub3V0cHV0c1wiPjwvbmRjLWR5bmFtaWM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJzaG93R3JpZFBhZ2VcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTEyIGdyaWR2aWV3XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHkge3sgZ2V0VGl0bGVDbGFzcyhmcm9tVGl0bGUpIH19XCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gW3JlbW90ZU9wZXJhdGlvbnNdPVwieyBmaWx0ZXJpbmc6IHRydWUsIHNvcnRpbmc6IHRydWUsIHBhZ2luZzogdHJ1ZSB9XCIgIFJlbW92ZWQgc2VydmVyIGZpbHRlcmluZy0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkeC1kYXRhLWdyaWQgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIFtjb2x1bW5NaW5XaWR0aF09XCIxMDBcIiBbd2lkdGhdPVwiJzEwMCUnXCIgW2ZpbHRlclN5bmNFbmFibGVkXT1cInRydWVcIiAjZGF0YUdyaWRcclxuICAgICAgICAgICAgICAgICAgICAgIFtjb2x1bW5SZXNpemluZ01vZGVdPVwiJ3dpZGdldCdcIiBbYWxsb3dDb2x1bW5SZW9yZGVyaW5nXT1cInRydWVcIiBbYWxsb3dDb2x1bW5SZXNpemluZ109XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtjb2x1bW5BdXRvV2lkdGhdPVwidHJ1ZVwiIChvbkNvbnRlbnRSZWFkeSk9XCJjb250ZW50UmVhZHkoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DZWxsUHJlcGFyZWQpPVwib25DZWxsUHJlcGFyZWQoJGV2ZW50KVwiIChvblJvd1ByZXBhcmVkKT1cIm9uUm93UHJlcGFyZWQoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DZWxsQ2xpY2spPVwib25DZWxsQ2xpY2soJGV2ZW50KVwiIChvbkV4cG9ydGluZyk9XCJvbkV4cG9ydGluZygkZXZlbnQpXCIgW3Nob3dCb3JkZXJzXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgW3Jvd0FsdGVybmF0aW9uRW5hYmxlZF09XCJ0cnVlXCIgW3Nob3dDb2x1bW5MaW5lc109XCJ0cnVlXCIgW3Nob3dSb3dMaW5lc109XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLXNlbGVjdGlvbiBbc2VsZWN0QWxsTW9kZV09XCJhbGxNb2RlXCIgW3Nob3dDaGVja0JveGVzTW9kZV09XCJjaGVja0JveGVzTW9kZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFttb2RlXT1cImdldEdyaWRTZWxlY3Rpb24odXBkYXRlR3JpZD8uZ3JpZFNlbGVjdGlvbilcIj48L2R4by1zZWxlY3Rpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWxvYWQtcGFuZWwgW2VuYWJsZWRdPVwiZmFsc2VcIj48L2R4by1sb2FkLXBhbmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1leHBvcnQgW2VuYWJsZWRdPVwidHJ1ZVwiIFtmb3JtYXRzXT1cIlsncGRmJywgJ3hsc3gnXVwiPjwvZHhvLWV4cG9ydD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8tZmlsdGVyLXJvdyBbdmlzaWJsZV09XCJzaG93RmlsdGVyUm93UGFuZWxcIj48L2R4by1maWx0ZXItcm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1zdGF0ZS1zdG9yaW5nIFtlbmFibGVkXT1cInRydWVcIiB0eXBlPVwiY3VzdG9tXCIgW2N1c3RvbVNhdmVdPVwiY3VzdG9tU2F2ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjdXN0b21Mb2FkXT1cImN1c3RvbUxvYWRcIj48L2R4by1zdGF0ZS1zdG9yaW5nPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8tY29sdW1uLWNob29zZXIgW2VuYWJsZWRdPVwidHJ1ZVwiIG1vZGU9XCJzZWxlY3RcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGR4by1wb3NpdGlvbiBteT1cInJpZ2h0IHRvcFwiIGF0PVwicmlnaHQgdG9wXCIgb2Y9XCIuZHgtZGF0YWdyaWQtY29sdW1uLWNob29zZXItYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhvLXBvc2l0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9keG8tY29sdW1uLWNob29zZXI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPCEtLUdyaWQgLSBGb290ZXIgZmlsdGVyIHJlbW92ZWQgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLXBhZ2luZyBbcGFnZVNpemVdPWN1cnJlbnRQYWdlU2l6ZT48L2R4by1wYWdpbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLXBhZ2VyIFt2aXNpYmxlXT1cInRydWVcIiBbc2hvd1BhZ2VTaXplU2VsZWN0b3JdPVwidHJ1ZVwiIFthbGxvd2VkUGFnZVNpemVzXT1cIls1LCAxMCwgMTUsIDIwXVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNwbGF5TW9kZV09XCJkaXNwbGF5TW9kZVwiIFtzaG93SW5mb109XCJ0cnVlXCIgW3Nob3dOYXZpZ2F0aW9uQnV0dG9uc109XCJ0cnVlXCI+PC9keG8tcGFnZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWZpbHRlci1idWlsZGVyLXBvcHVwIFtwb3NpdGlvbl09XCJwb3B1cFBvc2l0aW9uXCI+IDwvZHhvLWZpbHRlci1idWlsZGVyLXBvcHVwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1oZWFkZXItZmlsdGVyIFt2aXNpYmxlXT1cInRydWVcIj48L2R4by1oZWFkZXItZmlsdGVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbj8uaGlkZSAhPT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/Lmxpbms7IGVsc2Ugbm9MaW5rXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW2ZpeGVkXT1cImNvbHVtbj8uZml4ZWRcIiBbZGF0YUZpZWxkXT1cImNvbHVtbj8uY29sdW1uRGVmXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2NhcHRpb25dPVwiY29sdW1uPy5oZWFkZXJcIiBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBjZWxsVGVtcGxhdGU9XCJjZWxsVGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dTb3J0aW5nXT1cImNvbHVtbj8uc29ydFwiIFt3aWR0aF09XCJjb2x1bW4/LndpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ZpbHRlclZhbHVlc109XCJjb2x1bW4/LmZpbHRlclZhbHVlc1wiIFtmaWx0ZXJWYWx1ZV09XCJjb2x1bW4/LmZpbHRlclZhbHVlXCIgW3NvcnRPcmRlcl09XCJjb2x1bW4/LnNvcnRPcmRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0SW5kZXhdPVwiY29sdW1uPy5zb3J0SW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI25vTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/Lmljb247IGVsc2Ugbm9TaG93bW9yZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF0YUZpZWxkXT1cImNvbHVtbj8uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uPy5oZWFkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4/LmZpbHRlclwiIGNlbGxUZW1wbGF0ZT1cImljb25UZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIiBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub1Nob3dtb3JlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbj8uc2hvd21vcmU7IGVsc2Ugbm9JY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uIFt2aXNpYmxlXT1cImdldFZpc2FiaWxpdHlCeUNob29zYWJsZVByb3AodXBkYXRlR3JpZD8uY2hvb3NlciwgY29sdW1uPy52aXNpYmxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93SGlkaW5nXT1cIiFjb2x1bW4/LkNob29zYWJsZVwiIFt3aWR0aF09XCJjb2x1bW4/LndpZHRoXCIgW2ZpeGVkXT1cImNvbHVtbj8uZml4ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhRmllbGRdPVwiY29sdW1uPy5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4/LmhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgY2VsbFRlbXBsYXRlPVwic2hvd21vcmVUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIiBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0ljb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uPy5kYXRlRm9ybWF0OyBlbHNlIG5vRGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImNvbHVtbj8uZGF0ZUZvcm1hdCA9PT0gJ2RhdGUnIHx8IGNvbHVtbj8uZGF0ZUZvcm1hdCA9PT0gJ2RhdGV0aW1lJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBkYXRhVHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmb3JtYXRdPVwiZ2V0RGF0ZUZvcm1hdChjb2x1bW4/LmRhdGVGb3JtYXQpXCIgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJWYWx1ZXNdPVwiY29sdW1uPy5maWx0ZXJWYWx1ZXNcIiBbZmlsdGVyVmFsdWVdPVwiY29sdW1uPy5maWx0ZXJWYWx1ZVwiIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0SW5kZXhdPVwiY29sdW1uPy5zb3J0SW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI25vRGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/LmhlYWRlci50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gJ3N0YXR1cyc7IGVsc2Ugbm9TdGF0dXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW3Zpc2libGVdPVwiZ2V0VmlzYWJpbGl0eUJ5Q2hvb3NhYmxlUHJvcCh1cGRhdGVHcmlkPy5jaG9vc2VyLCBjb2x1bW4/LnZpc2libGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW3dpZHRoXT1cImNvbHVtbj8ud2lkdGhcIiBbZml4ZWRdPVwiY29sdW1uPy5maXhlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBjZWxsVGVtcGxhdGU9XCJzdGF0dXNUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIiBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub1N0YXR1cz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uIFt2aXNpYmxlXT1cImdldFZpc2FiaWxpdHlCeUNob29zYWJsZVByb3AodXBkYXRlR3JpZD8uY2hvb3NlciwgY29sdW1uPy52aXNpYmxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgY2VsbFRlbXBsYXRlPVwiZGF0YVRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydE9yZGVyXT1cImNvbHVtbj8uc29ydE9yZGVyXCIgW3NvcnRJbmRleF09XCJjb2x1bW4/LnNvcnRJbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2hvd0dyaWRBY3Rpb25zKHVwZGF0ZUdyaWQsIHNob3dBY3Rpb25Db2x1bW4sIGdyaWRUeXBlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbd2lkdGhdPVwiMTIwXCIgW2FsbG93RmlsdGVyaW5nXT1cImZhbHNlXCIgW3Nob3dJbkNvbHVtbkNob29zZXJdPVwiZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd1NvcnRpbmddPVwiZmFsc2VcIiBjYXB0aW9uPVwiQWN0aW9uXCIgY2VsbFRlbXBsYXRlPVwiZWRpdENlbGxUZW1wbGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnY2VsbFRlbXBsYXRlJ1wiIGNsYXNzPVwiZGFzaGJvYXJkLWhvdmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwiZC52YWx1ZSAmJiBkLnZhbHVlICE9PSAnbnVsbCdcIiAoY2xpY2spPVwiZ2V0Um91dGVyKGQsIGl0ZW0pXCI+e3sgZC52YWx1ZSAhPT0gJ251bGwnID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkLnZhbHVlIDogJycgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cInNob3dJY29uKGQpXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnaWNvblRlbXBsYXRlJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBkLmRhdGEucmJhY0NvbmRpdGlvbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gKm5nSWY9XCJpdGVtLmFjdGlvbiAhPT0gJ2FkZCdcIiBbY2xhc3NdPVwiaXRlbS5pY29uXCIgKGNsaWNrKT1cInBvcHVwKGQ/LmtleSwgaXRlbSlcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnc2hvd21vcmVUZW1wbGF0ZSdcIiBjbGFzcz1cImRlc2NyaXB0aW9uLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7IHRvZ2dsZVNob3dNb3JlKGQudmFsdWUsIGQuY29sdW1uPy5kYXRhRmllbGQpIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwidG9nZ2xlLWxpbmtcIiAqbmdJZj1cImQudmFsdWUubGVuZ3RoID4gdHJ1bmNhdGVUZXh0VmFsdWVcIiAoY2xpY2spPVwidG9nZ2xlU2hvd01vcmVTdGF0ZShkLnZhbHVlLCBkLmNvbHVtbj8uZGF0YUZpZWxkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgc2hvd01vcmVUZXh0W2dldFRvZ2dsZUtleShkLnZhbHVlLCBkLmNvbHVtbj8uZGF0YUZpZWxkKV0gPyAnU2hvdyBMZXNzJyA6ICdTaG93IE1vcmUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2VkaXRDZWxsVGVtcGxhdGUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0Zvcj1cImxldCBpdGVtIG9mIGQuZGF0YS5yYmFjQ29uZGl0aW9uczsgbGV0IGkgPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVG9vbHRpcCBmb3IgZGVsZXRlZCByb3cgLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtPy5hY3Rpb24gPT09ICdpbmZvJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm5vLWJnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cIidEZWxldGUgU3RhdHVzOiBQZW5kaW5nXFxuJyArIGl0ZW0/Lm1lc3NhZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBQb3NpdGlvbl09XCInbGVmdCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBTaG93RGVsYXldPVwiMTAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwSGlkZURlbGF5XT1cIjEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcENsYXNzXT1cIidjdXN0b20tdG9vbHRpcC1jbGFzcydcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBbY2xhc3NdPVwiaXRlbS5pY29uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtPy5pY29uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT8uYWN0aW9uICE9PSAnaW5mbycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXRlbS5pc091dHNpZGVHcmlkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD8uZGF0YT8uc3RhdHVzICE9PSAnQ2xvc2VkJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYWN0aW9uICE9PSAnY2hhbmdlcGF0aHdheScgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXRlbT8uaGlkZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBjaGFuZ2VwYXRod2F5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cInt7IHRpdGxlQ2FzZVRvb2xUaXAoaXRlbT8uYWN0aW9uKSB9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZ2V0SW5zaWRlR3JpZEFjdGlvbihkLCBpdGVtKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIFtjbGFzc109XCJpdGVtLmljb25cIiBzdHlsZT1cInBhZGRpbmctcmlnaHQ6IDEwcHhcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNjaGFuZ2VwYXRod2F5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJpdGVtLmFjdGlvbiA9PT0gJ2NoYW5nZXBhdGh3YXknICYmIGQ/LnJvd0luZGV4ID09PSAwXCIgY2xhc3M9XCJuby1iZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJ7eyBpdGVtPy5hY3Rpb24gfX1cIiAoY2xpY2spPVwiZ2V0SW5zaWRlR3JpZEFjdGlvbihkLCBpdGVtKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gW2NsYXNzXT1cIml0ZW0uaWNvblwiIHN0eWxlPVwicGFkZGluZy1yaWdodDogMTBweFwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXk/Lmljb25cIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cIk9wZW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvcGVuTGluayhkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWV4dGVybmFsLWxpbmtcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwidXBkYXRlR3JpZD8uZWRpdFwiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiRWRpdFwiIChjbGljayk9XCJlZGl0RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXBlbmNpbFwiIHRpdGxlPVwiRWRpdFwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJ1cGRhdGVHcmlkPy52aWV3XCIgY2xhc3M9XCJuby1iZ1wiIG1hdFRvb2x0aXA9XCJWaWV3XCIgKGNsaWNrKT1cInZpZXdEYXRhKGQpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZXllXCIgdGl0bGU9XCJWaWV3XCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmRlbGV0ZVwiIGNsYXNzPVwibm8tYmcgdGV4dC1kYW5nZXJcIiBtYXRUb29sdGlwPVwiRGVsZXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXRyYXNoXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwidXBkYXRlR3JpZD8uYWN0aXZlb3JkZWFjdGl2ZVwiIGNsYXNzPVwibm8tYmdcIiAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmUgJiYgZC5kYXRhLmFjdGl2ZWZsYWcgPT09IDFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYSBmYS10b2dnbGUtb25cIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmUgJiYgZC5kYXRhLmFjdGl2ZWZsYWcgPT09IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYSBmYS10b2dnbGUtb2ZmXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnc3RhdHVzVGVtcGxhdGUnXCIgW2NsYXNzXT1cImNoYW5nZVN0YXR1c0NvbG9yKGQudmFsdWUpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7IGQudmFsdWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKmR4VGVtcGxhdGU9XCJsZXQgZCBvZiAnZGF0YVRlbXBsYXRlJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgJ2Rhc2hib2FyZC1ob3Zlci1jb250YWN0JzogZC5jb2x1bW4/LmRhdGFGaWVsZCA9PT0gJ3NlcnZpY2VuYW1lJyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWlubGluZS1ibG9ja1wiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLmNvbHVtbj8uZGF0YUZpZWxkID09PSAnY2xpZW50YWNjb3VudG5vJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5kYXRhLmFjY291bnRzdGF0dXMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuZGF0YS5hY2NvdW50c3RhdHVzID09PSAnSU5BJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXdhcm5pbmcgcmVkLWNvbG9yXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJkLmNvbHVtbj8uZGF0YUZpZWxkID09PSAnc2VydmljZW5hbWUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFycm93LXJpZ2h0XCIgKm5nSWY9XCJkLmRhdGEubmFycmF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGVyc29uLWRldGFpbHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PHNwYW4+TmFycmF0aXZlPC9zcGFuPjxzcGFuIFtpbm5lckh0bWxdPVwic3BsaXRpbmdEYXRhKGQsICcuJylcIj48L3NwYW4+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZC5jb2x1bW4/LmRhdGFGaWVsZCA9PT0gJ25hcnJhdGl2ZSc7IGVsc2UgZGF0YVZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZC52YWx1ZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNkYXRhVmFsdWU+e3sgZC52YWx1ZSB9fTwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2R4LWRhdGEtZ3JpZD5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2FzLXNwbGl0LWFyZWE+XHJcbiAgICAgIDwvYXMtc3BsaXQ+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbjxuZy10ZW1wbGF0ZSAjY2FsbERpYWxvZ1BvcHVwPlxyXG4gIDxoMiBtYXREaWFsb2dUaXRsZT5OYXJyYXRpdmU8L2gyPlxyXG4gIDxkaXYgW2lubmVySFRNTF09XCJwb3B1cERhdGFcIj48L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodFwiPlxyXG4gICAgPGJ1dHRvbiBtYXQtYnV0dG9uIChjbGljayk9XCJjbG9zZURpYWxvZ1BvcHVwKClcIiBjbGFzcz1cImJ0biBidG4tY2FuY2VsIG1yLTJcIj5DbG9zZTwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG5cclxuPGFwcC1keW5hbWljLWRldGFpbHMgKm5nSWY9XCJvcGVuVGFiXCIgW2tleV09XCJzZWxlY3RlZFJvd0RhdGFcIj48L2FwcC1keW5hbWljLWRldGFpbHM+XHJcblxyXG48bmctdGVtcGxhdGUgI0RlbGV0ZUdyaWRMaXN0PlxyXG4gIDxkaXYgY2xhc3M9XCJwLTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeCBtYi0yXCI+e3sgRGVmYXVsdERlbGV0ZVBvcHVwVGV4dEFmdFRocmVzaG9sZFRpbWUgfX08L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJtYi0yXCI+XHJcbiAgICAgIDxsYWJlbCBmb3I9XCJyZWFzb25mb3JkZWxldGVcIiBjbGFzcz1cImludGFrZS1mb3JtLWxhYmVscyBjbGVhcmZpeCBtYi0yXCI+UmVhc29uIGZvciByZWNvcmQgZGVsZXRpb24gPHNwYW5cclxuICAgICAgICAgIGNsYXNzPVwidGV4dC1kYW5nZXJcIj4qPC9zcGFuPjwvbGFiZWw+XHJcbiAgICAgIDx0ZXh0YXJlYSByb3dzPVwiM1wiIGlkPVwicmVhc29uZm9yZGVsZXRlXCIgY29scz1cIjMwXCIgcElucHV0VGV4dGFyZWFcclxuICAgICAgICBwbGFjZWhvbGRlcj1cIlJlYXNvbiBmb3IgZGVsZXRpb24gKDQwMDAgY2hhcmFjdGVyIGxpbWl0KVwiIG1heGxlbmd0aD1cIjQwMDBcIiBjbGFzcz1cImZvcm0tY29udHJvbCBuby1yZXNpemVcIlxyXG4gICAgICAgIFsobmdNb2RlbCldPVwiZW50ZXJlZFJlYXNvblwiIChpbnB1dCk9XCJjaGVja0lzRGlzYWJsZWQoJGV2ZW50LnRhcmdldC52YWx1ZSlcIj48L3RleHRhcmVhPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHQgcHItM1wiPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgYnRuIGJ0bi1wcmltYXJ5IGRlbGV0ZSBtYi0zXCIgKGNsaWNrKT1cImRlbGV0ZVJlY29yZFdpdGhSZWFzb24oKVwiXHJcbiAgICAgIFtkaXNhYmxlZF09XCJpc0Rpc2FibGVkXCI+WWVzPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtci0yIG1iLTMgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiAoY2xpY2spPVwiY2FuY2VsUG9wdXAoKVwiPk5vPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+XHJcblxyXG48bmctdGVtcGxhdGUgI0RlbGV0ZUdyaWRMaXN0V2l0aG91dFJlYXNvbj5cclxuICA8ZGl2IGNsYXNzPVwicC0zXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggbWItMlwiPnt7IGRlbGV0ZVBvcHVwVGV4dCB9fTwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHByLTNcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IGJ0biBidG4tcHJpbWFyeSBkZWxldGUgbWItM1wiIChjbGljayk9XCJkZWxldGVSZWNvcmRXaXRob3V0UmVhc29uKClcIj5ZZXM8L2J1dHRvbj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1yLTIgbWItMyBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIChjbGljayk9XCJjYW5jZWxQb3B1cCgpXCI+Tm88L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuPC9uZy10ZW1wbGF0ZT5cclxuXHJcbjxuZy10ZW1wbGF0ZSAjQXBwcm92ZURlbGV0ZUdyaWRMaXN0PlxyXG4gIDxkaXYgY2xhc3M9XCJwLTNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeCBtYi00XCI+e3t0aGlzLmRlbGV0ZWRSZWFzb259fTwvZGl2PlxyXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggbWItNFwiPkRvIHlvdSBhcHByb3ZlIHRoaXMgZGVsZXRpb24/PC9kaXY+IC0tPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHByLTNcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcclxuICAgICAgKGNsaWNrKT1cImRlbGV0ZVJlY29yZFdpdGhvdXRSZWFzb24oKVwiPlllczwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxyXG4gICAgICAoY2xpY2spPVwiY2FuY2VsUG9wdXAoKVwiPk5vPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+XHJcblxyXG5cclxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJjb25maXJtR3JpZEFjdGlvblwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICA8cD57eyBidXNpbmVzc1J1bGVNZXNzYWdlIH19PC9wPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb24gZGVsZXRlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiAoY2xpY2spPVwiY29uZmlybUdyaWRBY3Rpb24oKVwiPlxyXG4gICAgICAgICAgICBZZXNcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5ObzwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19