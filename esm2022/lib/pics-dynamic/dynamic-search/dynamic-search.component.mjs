import { Location } from '@angular/common';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Component, EventEmitter, HostListener, Inject, Input, Optional, Output, ViewChild } from '@angular/core';
import { Validators } from '@angular/forms';
import { MAT_DIALOG_DATA, MatDialog, MatDialogConfig } from '@angular/material/dialog';
import { select } from '@ngrx/store';
import { DxDataGridComponent } from 'devextreme-angular';
import CustomStore from 'devextreme/data/custom_store';
import { exportDataGrid as exportDataGridToPdf } from 'devextreme/pdf_exporter';
import * as jsPDF from 'jspdf';
import moment from 'moment/moment';
import { MultiSelect } from 'primeng/multiselect';
import es6printJS from 'print-js';
import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
import { AppConstants } from '../@core/constants/app-constants';
import { AlertService } from '../@core/service/alert.service';
import { AttachmentsService } from '../@core/service/attachments.service';
import { AuthService } from '../@core/service/auth.service';
import { DataStoreService } from '../@core/service/data-store.service';
import { DynamicTabPageService } from '../@core/service/dynamic-tab-page-service';
import { DynamicsearchService } from '../@core/service/dynamicsearch.service';
import { LocalService } from '../@core/service/local.service';
import { PageBuilderService } from '../@core/service/page-builder.service';
import { DynamicSearchURL } from '../@core/urls/dynamic-search-url.config';
import { DeleteComponent } from '../@shared/delete/delete.component';
import { publishEvent } from '../@shared/master-view-state/master-view.actions';
import { selectComponentConfigById, selectEvent } from '../@shared/master-view-state/master-view.selectors';
import { FormPageComponent } from '../dynamic-tab-page/form-page/form-page.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/formio.service";
import * as i4 from "../@core/local-storage/local-storage.service";
import * as i5 from "@ngrx/store";
import * as i6 from "../@core/service/platform-data-store.service";
import * as i7 from "../@core/service/shared.service";
import * as i8 from "../@core/service/ConfigService";
import * as i9 from "@angular/common";
import * as i10 from "@formio/angular";
import * as i11 from "../@shared/alert/alert.component";
import * as i12 from "@angular/material/button";
import * as i13 from "@angular/material/icon";
import * as i14 from "@angular/material/input";
import * as i15 from "@angular/material/form-field";
import * as i16 from "@angular/material/menu";
import * as i17 from "@angular/material/tooltip";
import * as i18 from "@angular/material/dialog";
import * as i19 from "devextreme-angular";
import * as i20 from "devextreme-angular/ui/nested";
import * as i21 from "devextreme-angular/core";
import * as i22 from "ng-dynamic-component";
import * as i23 from "primeng/accordion";
import * as i24 from "primeng/api";
import * as i25 from "primeng/dropdown";
import * as i26 from "primeng/inputtextarea";
const LOCAL_STORAGE_KEY = 'target-tab-filter';
const PAGE_MODIFY_ROUTE = '/pages/dynamicpage/page/modify/';
const FILE_EXPORT_NAME_KEY = 'FILE EXPORT NAME';
const GRID_URL = '/solution/dynamicsearch/searchinput/';
const ROLE_CP_PUBLIC = 'role=CP_PUBLIC';
const STORAGE_KEY_DYNAMIC_TAB_PAGES = 'dynamic-tab-pages';
const POPUP_TYPE_OPEN = 'Open PopUp';
const FILTER_ID_KEY = 'horizantal-tab-filter';
export class DynamicSearchComponent {
    router;
    route;
    cdref;
    fb;
    _formIO;
    storageService;
    formBuilder;
    store;
    _PlatformStoreservice;
    sharedService;
    configService;
    searchcriteriamenutrigger;
    dataGrid;
    editPopUpDialogRef;
    formId;
    jsonForm;
    sourceid;
    fromTitle;
    submittedData;
    tableColumns;
    totalcount;
    pageId;
    inputFieldId;
    inputId;
    url;
    dataSource;
    popupPosition;
    pageType;
    searchCriteria;
    searchCriteriaArr;
    layouttype = 'vertical';
    id;
    searchparams;
    targetId;
    columns;
    updateGrid;
    totalCount;
    dublicateGridConfig;
    columnHeader;
    spliterSize = 0;
    gridspliterSize = 100;
    isOpen = true;
    icon = '';
    openclose = '';
    user;
    isAddButton = false;
    pageSaveID = '';
    showFilterRowPanel;
    popupData;
    callDialogPopup;
    popupDialogRef;
    showActionColumn;
    editId;
    isDialogPopup;
    item;
    showGridPage = true;
    manualPostApiUrl;
    // #check moduleid
    moduleid;
    purpose;
    isShowFormPage = false;
    outerRouting = new EventEmitter();
    userAction;
    rowData;
    checkBoxesMode;
    gridType;
    showExport = false;
    dropdownValues;
    gridOptions;
    filterOptions;
    selectedFilter;
    filterForm;
    gridConfig;
    tempaConfig;
    reorderColumns;
    storage;
    dataStoreService;
    alertService;
    dialog;
    http;
    screenWidth;
    currentPageId;
    displayMode;
    isResize;
    isUserPreferenceChange;
    formIO;
    dynamicSearchService;
    dynamicTabPageService;
    sequenceId;
    columnWidth;
    uploadedFile;
    imageData;
    attachmentService;
    paramvalue;
    paramfield;
    tablefield;
    toTabId;
    uniquedata;
    pageList;
    isViewEnable;
    iconClass;
    titletab;
    header;
    openTab = false;
    selectedRowIndex;
    selectedColumnIndex;
    selectedCaption;
    selectedRowData;
    httpService;
    authService;
    localstore;
    pageBuilderService;
    location;
    filterOptionsDropdown;
    registrationInfo;
    checkGridConfig;
    gridDynamicSearchForm;
    dynamicSearchArray;
    dynamicSearch;
    tableDropDown;
    columnDropDown;
    dynamicSearchResult;
    criteriaId = 0;
    saveButtonDisable = true;
    associatedId;
    isBGP;
    youthSearchJson;
    youthSearchBoolean = false;
    isInitialLoad = true;
    isDeleteRequire = false;
    isDeleteTime = 15;
    enteredReason = '';
    isDisabled = true;
    DeleteConfigURL;
    updateByIdAndPageIdWithReasonURL;
    deleteConfigData;
    DeleteRevertConfigURL;
    deletedReason = '';
    primary_column = '';
    adminAccessForDelete;
    isConditionalEditDelete;
    pagename;
    sourceKey;
    sourceValue;
    sourceType;
    currentPageSize = 5;
    componentId;
    selectedComponent;
    componentConfig$;
    eventSubscription;
    deletePopupText = '';
    isEditThresholdRequire = false;
    DeleteGridList;
    DeleteGridListWithoutReason;
    ApproveDeleteGridList;
    DefaultDeletePopupTextAftThresholdTime = `You are requesting to remove a Youth's physical description. A notification will be sent to your Security Coordinator to review this request and remove the description if appropriate.
  Enter the reason for the removal request. The reason cannot contain more than 4000 characters.`;
    environment;
    businessRuleMessage;
    gridActionParams;
    allUrlParams;
    showMoreText = {};
    truncateTextValue;
    constructor(injector, router, route, cdref, fb, _formIO, storageService, formBuilder, store, _PlatformStoreservice, sharedService, configService, data) {
        this.router = router;
        this.route = route;
        this.cdref = cdref;
        this.fb = fb;
        this._formIO = _formIO;
        this.storageService = storageService;
        this.formBuilder = formBuilder;
        this.store = store;
        this._PlatformStoreservice = _PlatformStoreservice;
        this.sharedService = sharedService;
        this.configService = configService;
        this._PlatformStoreservice.currentStore.subscribe((res) => {
            if (res) {
                this.environment = res['RBACORG'];
                this.httpService = res['HTTPSERVICE'];
            }
        });
        this.pageBuilderService = injector.get(PageBuilderService);
        this.location = injector.get(Location);
        this.localstore = injector.get(LocalService);
        this.storage = injector.get(LocalService);
        this.dataStoreService = injector.get(DataStoreService);
        this.attachmentService = injector.get(AttachmentsService);
        this.alertService = injector.get(AlertService);
        this.dialog = injector.get(MatDialog);
        this.http = injector.get(HttpClient);
        this.dynamicSearchService = injector.get(DynamicsearchService);
        this.authService = injector.get(AuthService);
        this.user = this.storage.getObj('user');
        this.userAction = this.dataStoreService.getData('userAction');
        this.manualPostApiUrl = '';
        this.dynamicTabPageService = injector.get(DynamicTabPageService);
        this.isViewEnable = this.localstore.getObj('isViewEnable');
        if (data) {
            this.pageId = data.pageId ? data.pageId : this.pageId;
            this.inputFieldId = data.inputFieldId ? data.inputFieldId : this.inputFieldId;
            this.inputId = data.inputId ? data.inputId : this.inputId;
        }
        this.checkBoxesMode = 'always';
        this.gridOptions = [
            { label: 'Sorting', value: 'sort', code: '' },
            { label: 'Filtering', value: 'filter', code: '' },
            { label: 'Hide', value: 'hide', code: '' },
            { label: 'Fixed', value: 'fixed', code: '' },
            // { label: 'Default Columns', value: 'Choosable', code: '' },
            // { label: 'Visible', value: 'visible', code: '' },
            { label: 'Date', value: 'dateFormat', code: '' },
            { label: 'Mobile', value: 'mobileView', code: '' },
            { label: 'Tablet', value: 'tabView', code: '' }
        ];
        this.displayMode = 'compact';
        this.dataStoreService.setData('uploadFromGrid', false);
        this.titletab = JSON.parse(this.localstore.getItem('titletab'));
        this.header = JSON.parse(this.localstore.getItem(LOCAL_STORAGE_KEY));
        this.gridDynamicSearchForm = this.formBuilder.group({
            dynamicSearchArray: this.formBuilder.array([])
        });
    }
    ngAfterViewInit() {
        const observerConfig = { attributes: false, childList: true, subtree: true };
        function processNode(node, className, callback) {
            const elements = node.querySelectorAll(className);
            if (elements.length > 0) {
                elements.forEach(callback);
                return true;
            }
            return false;
        }
        const callback = (mutationsList, observer) => {
            for (const mutation of mutationsList) {
                if (mutation.type === 'childList' && mutation.addedNodes.length) {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1 && processNode(node, '.dx-checkbox-container', checkbox => {
                            checkbox.setAttribute('tabindex', '0');
                        })) {
                            observer.disconnect();
                        }
                    });
                }
            }
        };
        const observer = new MutationObserver(callback);
        observer.observe(document.body, observerConfig);
        const callback2 = (mutationsList, observer) => {
            mutationsList.forEach(mutation => {
                if (mutation.type === 'childList' && mutation.addedNodes.length) {
                    mutation.addedNodes.forEach(node => {
                        if (node.nodeType === 1) {
                            processNode(node, '.dx-checkbox-container', checkbox => {
                                checkbox.setAttribute('tabindex', '0');
                            });
                        }
                    });
                }
            });
        };
        const observer2 = new MutationObserver(callback2);
        observer2.observe(document.body, observerConfig);
        combineLatest([this.route.queryParams]).subscribe(([queryParams]) => {
            const responseId = queryParams['responseId'];
            if (this.route.snapshot.routeConfig.path.indexOf('view') > -1 && (this.route.snapshot.routeConfig.path.indexOf('master-view') === -1 || this.route.snapshot.routeConfig.path.indexOf('composite-page') === -1)) {
                this.gridType = 'view';
            }
            else {
                this.gridType = 'search';
            }
            this.tableColumns =
                this.tableColumns && typeof this.tableColumns === 'string' ? JSON.parse(this.tableColumns) : '';
            this.updateGrid = this.updateGrid && typeof this.updateGrid === 'string' ? JSON.parse(this.updateGrid) : '';
            this.formId = this.route.snapshot.paramMap.get('pageId')
                ? this.route.snapshot.paramMap.get('pageId')
                : this.pageId;
            this.inputFieldId = this.inputFieldId ? this.inputFieldId : null;
            this.dynamicSearchService.clickableData = this.inputFieldId;
            this.rowData = this.dynamicSearchService.rowData;
            if (this.route.snapshot.paramMap.get('pageSaveID')) {
                this.isAddButton = true;
            }
            else {
                this.isAddButton = false;
            }
            this.pageSaveID = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('pageSaveID'))?.snapshot.paramMap.get('pageSaveID');
            this.sourceKey = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceKey'))?.snapshot.paramMap.get('sourceKey');
            this.sourceValue = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceValue'))?.snapshot.paramMap.get('sourceValue');
            this.sourceType = this.route.pathFromRoot?.find(x => x.snapshot.paramMap.has('sourceType'))?.snapshot.paramMap.get('sourceType');
            this.moduleid = this.route.parent.parent.snapshot.paramMap.get('module');
            this.purpose = this.route.parent.parent.snapshot.paramMap.get('purpose');
            this.getTemplate(responseId);
            this.componentConfig$ = this.store.pipe(select(selectComponentConfigById(this.componentId)));
            this.componentConfig$.subscribe(data => this.selectedComponent = data);
            this.eventSubscription = this.store.pipe(select(selectEvent)).subscribe(event => {
                if (event && event.eventName === 'submit' && event.payload.settings.onSubmitRefresh
                    && event.payload.settings.onSubmitRefreshWidgets) {
                    event.payload.settings.onSubmitRefreshWidgets.forEach(x => {
                        if (x.pageType == 'BGP')
                            this.pageId = x.id;
                        this.getGrid();
                    });
                }
            });
        });
        /* Clear data while page navigation */
        this.dynamicSearchService.clickedRowData = null;
        this.screenWidth = window.innerWidth;
        const REGISTRATION = this.storageService.getItem('REGISTRATION');
        if (REGISTRATION) {
            this.registrationInfo = JSON.parse(REGISTRATION);
        }
        if (!Object.keys(this.allUrlParams)?.length) {
            this.route.pathFromRoot?.forEach(x => {
                x.params.subscribe(y => y && Object.keys(y).length ? Object.assign(this.allUrlParams, y) : null);
            });
        }
    }
    ngOnInit() {
        this.gridConfig = '';
        this.localstore.setItem('EditGridPageID', '');
        this.popupPosition = { of: window, at: 'top', my: 'top', offset: { y: 10 } };
        this.columns?.forEach(column => {
            if (column.visible === undefined || column.visible === "") {
                column.visible = true;
            }
        });
        if (this.dynamicSearchService?.clickedIdData === true) {
            this.dynamicSearchService.clickedIdData = false;
        }
        this.loadFilterForm();
        this.removeAllDynamicSearchCondtion();
        // this.localstore.removeItem(LOCAL_STORAGE_KEY)
        this.localstore.setItem('gridAction', '');
        this.truncateTextValue = this.configService.getValue(); // Get the value
    }
    loadFilterForm() {
        this.filterForm = this.fb.group({
            selectedFilter: ['']
        });
    }
    ngAfterContentChecked() {
        this.cdref.detectChanges();
    }
    redirect() {
        this.router.navigate([PAGE_MODIFY_ROUTE + this.pageSaveID]);
    }
    getTemplate(responseId) {
        this.removeAllDynamicSearchCondtion();
        this.dynamicSearchService.getTemplate(this.formId).subscribe(result => {
            if (result) {
                const gridPageInfo = {
                    id: this.formId,
                    name: result['data']['pagename']
                };
                this.isBGP = result['data']?.pageDetails?.pagetype;
                if (this.isBGP && this.isBGP == 'BGP') {
                    this.associatedId = result['data']?.pageid;
                }
                this.setTemplate(result['data']);
                this.isConditionalEditDelete = result['data']['isConditionalEditDelete'];
                this.currentPageId = result['data']['pageid'];
                this.sequenceId = result['data']['id'];
                this.storage.setItem('parentGridPage', JSON.stringify(gridPageInfo));
                this.getUserGridConfig();
                this.getGrid(responseId);
            }
        });
    }
    getPageTabs(_pageId, sourceType, sourceKey, sourceValue, _youthId, navigationState) {
        this.dynamicSearchService.getPageTabs(_pageId).subscribe((result) => {
            if (result) {
                const tabId = result.data[0].activeVersion.id;
                if (result.data[0].activeVersion.tabconfig) {
                    const parentGridPage = {
                        id: this.formId,
                        name: this.fromTitle
                    };
                    this.storage.setItem('backToGridPage', JSON.stringify(parentGridPage));
                    navigationState.isHideBack = true;
                    let url = '';
                    if (result.data[0].pagetype === 'RBTP') {
                        url = '/pages/dynamic-routing/tab/';
                    }
                    else {
                        url = '/pages/dynamicpage/tab/';
                    }
                    const dynamicTab = url + tabId + '/' + _youthId + '/' + sourceKey + '/' + sourceValue + '/' + sourceType;
                    this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
                }
                else {
                    this.routeToDynamicForms(result.data[0].pagetype, _pageId, _youthId, navigationState);
                }
            }
        });
    }
    routeToDynamicForms(type, _pageId, _youthId, navigationState) {
        if (type === 'ATPBDM') {
            if (window.location.href.indexOf('master-view') > 0 || window.location.href.indexOf('composite-page') > 0) {
                const dynamicTab = 'form/' + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
            else if (window.location.href.indexOf('tab') > 0) {
                const dynamicTab = '../../page/' + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
            else {
                const dynamicTab = PAGE_MODIFY_ROUTE + _pageId + '/' + _youthId;
                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigationState });
            }
        }
    }
    setTemplate(result) {
        //Must Needed for Merge version of PICS
        this.searchparams = result;
        this.searchparams.gridconfig = typeof result?.gridconfig === 'string' ? JSON.parse(result?.gridconfig) : result?.gridconfig;
        this.searchparams.templatejson = typeof result?.templatejson === 'string' ? JSON.parse(result?.templatejson) : result?.templatejson;
        this.searchparams.tableschemaconfig = typeof result?.tableschemaconfig === 'string' ? JSON.parse(result?.tableschemaconfig) : result?.tableschemaconfig;
        this.setLayout(result);
        this.fromTitle = result.pagename;
        this.dataStoreService.setData('Tittle', this.fromTitle);
        this.pageType = result.pageDetails.pagetype ? result.pageDetails.pagetype.trim() : '';
        this.pageId = result && result.pageDetails ? result.pageDetails.id : null;
        if (this.pageType == 'DSP' || this.pageType == 'BUSP') {
            this.spliterSize = 30;
            this.gridspliterSize = 70;
        }
        this.setGrid(this.searchparams);
        this.targetId = this.searchparams?.gridconfig?.gridActionFormArray[0]?.link;
        this.tempaConfig = this.searchparams?.gridconfig;
        this.buildCriteria(result);
    }
    setGrid(result) {
        this.updateGrid = result.gridconfig;
        const filter = this.updateGrid?.gridConfigFormArray.filter(x => x.sort || x.filter);
        if (filter?.length > 0) {
            this.showFilterRowPanel = true;
        }
        if (this.updateGrid?.gridActionFormArray?.some(a => a.action != 'add')) {
            this.showActionColumn = true;
        }
        if (this.updateGrid?.isShowOnTop) {
            this.getOutsideGridAction(this.updateGrid?.gridActionFormArray?.find(a => a?.action?.toLowerCase() === 'add'));
        }
    }
    async getGrid(responseId) {
        this.storage.setObj(FILE_EXPORT_NAME_KEY, this.searchparams?.pagename);
        if (this.searchparams?.templatejson && !this.searchparams?.tableschemaconfig) {
            this.freeFormPageGrid(this.http, this.storage);
        }
        else {
            if (this.dynamicSearch && this.dynamicSearch.length > 0) {
                await this.getCriteriaByPageId();
                this.showGridPage = false;
            }
            else {
                this.showGridPage = true;
                this.removeAllDynamicSearchCondtion();
            }
            this.searchGrid(this.http, this.storage, responseId);
        }
    }
    setLayout(result) {
        if (result.templatejson) {
            this.jsonForm = typeof result.templatejson === 'string' ? JSON.parse(result.templatejson) : result.templatejson;
            this.fromTitle = this.jsonForm && this.jsonForm['page'] ? this.jsonForm['page'] : result.pagename;
            this.layouttype = 'left';
            this.layouttype = this.layouttype === 'left' ? 'horizontal' : 'vertical';
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_more';
                this.openclose = 'Close';
            }
            else {
                this.icon = 'arrow_left';
                this.openclose = 'Close';
            }
        }
    }
    onSubmit(submission) {
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        this.submittedData = submission;
        const data = {
            data: this.submittedData,
            pagedata: [this.searchparams]
        };
        const storagedata = this.storage;
        const http = this.http;
        const baseUrl = this.environment.apiHost;
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storagedata.getItem('jwt-token');
                const user = storagedata.getObj('user');
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'group'].forEach(function (i) {
                    if (i in loadOptions && isNotEmpty(loadOptions[i])) {
                        data[i] = loadOptions[i];
                    }
                    else {
                        delete data[i];
                    }
                });
                return http
                    .post(baseUrl + gridUrl, data, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user.userWorkInfo.organization.id}`,
                        rolekey: `${user.role.rolekey}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => ({
                    data: res.data,
                    totalCount: Number(res.totalCount.count)
                }))
                    .catch(_error => this.alertService.error('Data Loading Error'));
            }
        });
        function isNotEmpty(value) {
            return value !== undefined && value !== null && value !== '';
        }
    }
    afterSubmitted(_event) {
        this.showGridPage = true;
        this.getGrid();
        this.item = null;
        if (this.isShowFormPage) {
            this.getOutsideGridAction(this.updateGrid?.gridActionFormArray?.find(a => a?.action?.toLowerCase() === 'add'));
        }
    }
    saveSearchCriteria() {
        if (this.submittedData && this.submittedData.data) {
            this.submittedData.data['searchCriteria'] = this.searchCriteria;
            const body = {
                id: null,
                pageID: this.formId,
                sourceid: '',
                sourcetype: 'I',
                data: this.submittedData.data,
                metadata: this.submittedData.metadata,
                afterEntityName: '',
                afterRuleAppName: '',
                beforeEntityName: '',
                beforeRuleAppName: '',
                parentsourceid: null
            };
            this.dynamicSearchService.saveSearchCriteria(body).subscribe(result => {
                const response = result['data'];
                this.submittedData = response;
                this.id = response.id;
                this.alertService.success('Seach criteria Saved successfully');
            });
        }
        else {
            this.alertService.success('Please perform search in order to save your search criteria');
        }
    }
    setSearch(newd) {
        this.submittedData = { data: newd };
        this.onSubmit(this.submittedData);
    }
    reset(type) {
        this.submittedData = { data: {} };
        this.getExportData(this.submittedData, type);
    }
    getExportData(submission, type) {
        this.submittedData = submission;
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        const data = {
            inputFieldId: this.inputFieldId,
            pagedata: [this.searchparams],
            requireTotalCount: true,
            skip: 0,
            take: 5000
        };
        if (!data.inputFieldId) {
            data.inputFieldId = this.user?.userWorkInfo?.organization?.id;
        }
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        this.dynamicSearchService.exportData(data, gridUrl).subscribe(value => {
            if (value['data'].length) {
                this.downloadFile(type, value['data']);
            }
            else {
                this.alertService.error('No data available');
            }
        });
    }
    downloadFile(type, data) {
        const fileData = {
            data: data,
            totalcount: data.length,
            pagename: this.fromTitle,
            gridConfigFormArray: this.updateGrid?.gridConfigFormArray
        };
        const fileType = type === 'excel' ? true : false;
        this.dynamicSearchService.generateDocument(fileData, fileType).subscribe(result => {
            if (result) {
                const awsUrl = result['data'].awsUrl;
                this.alertService.success('Document Generated successfully.');
                if (type === 'print') {
                    // If type is print it will open browser print preview
                    es6printJS({ printable: awsUrl, type: 'pdf', showModal: true });
                    return;
                }
                window.open(awsUrl, '_blank');
            }
        }, error => {
            this.alertService.error(error.message);
        });
    }
    searchGrid(http, storage, responseId) {
        const outsideFormID = this.updateGrid?.gridActionFormArray
            ?.find(a => a?.action?.toLowerCase() === 'add')
            ?.link?.split('_sourceform')[0];
        const primary_table = this.searchparams.tableschemaconfig.tablefields.primary;
        const fallbackIdFromRoute = this.searchparams?.gridconfig?.fallbackIdFromRoute;
        console.log(primary_table.replace('_audit', '_id'), 'primary');
        let queryData;
        if (fallbackIdFromRoute) {
            const fallbackIdValue = this.router.url.split('/').pop();
            if (fallbackIdValue) {
                queryData = { data: {} };
                queryData.data[fallbackIdFromRoute] = Number(fallbackIdValue);
            }
        }
        else if (this.sourceKey && this.sourceValue && this.sourceType) {
            queryData = { data: {} };
            queryData.data[this.sourceKey] = (this.sourceType === 'number') ? Number(this.sourceValue) : this.sourceValue;
        }
        this.searchparams['filterId'] = sessionStorage.getItem(LOCAL_STORAGE_KEY);
        const data = {
            data: this.submittedData,
            queryData: queryData,
            pagedata: [this.searchparams],
            inputFieldId: this.inputFieldId,
            inputId: this.inputId,
            requireTotalCount: true,
            restrict: true,
            associatedFormId: outsideFormID ? outsideFormID : this.associatedId.toString(),
            roleId: sessionStorage.getItem('role_id'),
            selectedValue: this.paramvalue,
            selectedField: this.paramfield,
            paginate: true,
            redirectFilterId: responseId
        };
        const baseUrl = this.environment.apiHost;
        if (this.dynamicSearchResult && this.dynamicSearchResult.length > 0) {
            data['dynamicSearchArray'] = this.dynamicSearchResult;
        }
        const ctrl = this;
        let gridUrl;
        if (this.manualPostApiUrl != '') {
            gridUrl = this.manualPostApiUrl;
        }
        else {
            gridUrl = GRID_URL;
        }
        const _this = this;
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storage.getItem('jwt-token');
                const user = storage.getObj('user');
                if (!user) {
                    // fix for user null immediately after login
                    return setTimeout(() => {
                        _this.searchGrid(http, storage);
                    }, 1000);
                }
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'pageconfig', 'group'].forEach(function (item) {
                    if (item in loadOptions && isNotEmpty(loadOptions[item])) {
                        data[item] = loadOptions[item];
                    }
                    else {
                        delete data[item];
                    }
                });
                data.requireTotalCount = true;
                return http
                    .post(baseUrl + gridUrl, data, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user?.userWorkInfo?.organization?.id ? user.userWorkInfo.organization.id : ''}`,
                        rolekey: `${user?.role?.rolekey ? user.role.rolekey : ''}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => {
                    this.primary_column = res.data?.result[0]?.primaryColumn;
                    for (let i = 0; i < res?.data?.data?.length; i++) {
                        for (const key in res?.data?.data[i]) {
                            if (res?.data?.data[i]?.[key]) {
                                const val = res?.data?.data[i]?.[key];
                                if ((typeof val === 'string' || val instanceof String) && val?.includes('[')) {
                                    res.data.data[i][key] = res.data.data[i][key].replace('[', '').replace(']', '').replaceAll('"', '');
                                }
                            }
                        }
                    }
                    ctrl.showGridPage = !((res?.data?.totalCount?.count === 0 || res?.data?.totalCount?.count === 1) &&
                        ctrl.updateGrid?.isInitialFormLoad);
                    this.isShowFormPage = ctrl.showGridPage;
                    if (!ctrl.showGridPage && ctrl.updateGrid?.gridActionFormArray && ctrl.updateGrid?.gridActionFormArray.length) {
                        const formInfo = ctrl.updateGrid?.gridActionFormArray.find(ele => ele.isOutsideGrid);
                        ctrl.item = {
                            component: FormPageComponent,
                            pageId: formInfo?.link,
                            editId: res?.data?.data[0]?.id,
                            outputs: {
                                afterSubmit: event => ctrl.afterSubmitted(event)
                            },
                            isInitialFormLoad: ctrl.updateGrid?.isInitialFormLoad,
                            isShowOnTop: ctrl.updateGrid?.isShowOnTop
                        };
                    }
                    if (ctrl.showGridPage && ctrl.updateGrid?.isShowOnTop && ctrl.updateGrid?.gridActionFormArray && ctrl.updateGrid?.gridActionFormArray.length) {
                        const formInfo = ctrl.updateGrid?.gridActionFormArray.find(ele => ele.isOutsideGrid);
                        ctrl.item = {
                            component: FormPageComponent,
                            pageId: formInfo?.link,
                            outputs: {
                                afterSubmit: event => ctrl.afterSubmitted(event)
                            },
                            isInitialFormLoad: ctrl.updateGrid?.isInitialFormLoad,
                            isShowOnTop: ctrl.updateGrid?.isShowOnTop
                        };
                    }
                    const dynamicSearchData = [];
                    const storedTabData = JSON.parse(JSON.parse(storage.getItem(STORAGE_KEY_DYNAMIC_TAB_PAGES)));
                    const arrresult = [];
                    const resultdata = res.data.result;
                    resultdata.map(n => {
                        n.row.map((c) => {
                            if (storedTabData != null) {
                                storedTabData.map((c1, index) => {
                                    if (index > 0 && c1.pfield == c.name) {
                                        const obj = Object.assign({}, c1);
                                        arrresult.push(obj);
                                    }
                                });
                            }
                        });
                    });
                    this.uniquedata = arrresult.filter((value, index, _array) => index == arrresult.findIndex(item => item.id == value.id));
                    res.data.result.map(n => {
                        const parentObj = {};
                        n.row.forEach((c) => {
                            let columnData = c.value;
                            const [tableName, columnName] = c.name.split('.');
                            columnData = typeof columnData === 'number' ? c.value.toString() : c.value;
                            if (parentObj[tableName]) {
                                parentObj[tableName][columnName] = columnData;
                            }
                            else {
                                parentObj[tableName] = {};
                                parentObj[tableName][columnName] = columnData;
                            }
                            parentObj['rbacConditions'] = n.rbacConditions;
                            parentObj['businessRules'] = n.businessRules ? n.businessRules : [];
                            parentObj['routedata'] = this.uniquedata;
                            parentObj['primaryColumn'] = n.primaryColumn;
                        });
                        dynamicSearchData.push(parentObj);
                    });
                    return {
                        data: dynamicSearchData,
                        totalCount: Number(res?.data.totalCount.count)
                    };
                })
                    .catch(_error => this.alertService.error('Failed to load data'));
            }
        });
        function isNotEmpty(value) {
            return value !== undefined && value !== null && value !== '';
        }
    }
    freeFormPageGrid(http, storage) {
        const data = {
            data: this.submittedData,
            pagedata: [this.searchparams],
            inputFieldId: this.inputFieldId,
            inputId: this.inputId,
            requireTotalCount: true,
            restrict: true,
            roleId: sessionStorage.getItem('role_id')
        };
        const gridActionFormArray = this.updateGrid.gridActionFormArray.map(a => ({
            ...a,
            link: String(this.searchparams.pageid)
        }));
        this.updateGrid = { ...this.updateGrid, gridActionFormArray };
        const baseUrl = this.environment.apiHost;
        const _this = this;
        this.dataSource = new CustomStore({
            load: function (loadOptions) {
                const authToken = storage.getItem('jwt-token');
                const user = storage.getObj('user');
                if (!user) {
                    return setTimeout(() => {
                        _this.freeFormPageGrid(http, storage);
                    }, 1000);
                }
                ['skip', 'take', 'requireTotalCount', 'requireGroupCount', 'sort', 'filter', 'pageconfig', 'group'].forEach(item => {
                    if (item in loadOptions && loadOptions[item].isNotEmpty()) {
                        data[item] = loadOptions[item];
                    }
                    else {
                        delete data[item];
                    }
                });
                const gridUrl = `/solution/formresponse/getByPageId/${_this.searchparams.pageid}`;
                return http
                    .get(baseUrl + gridUrl, {
                    headers: new HttpHeaders({
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${authToken}`,
                        uniqueid: `${user.id}`,
                        organizationid: `${user?.userWorkInfo?.organization?.id ? user.userWorkInfo.organization.id : ''}`,
                        rolekey: `${user?.role?.rolekey ? user.role.rolekey : ''}`,
                        role: ROLE_CP_PUBLIC
                    })
                })
                    .toPromise()
                    .then((res) => {
                    const formResponses = res.data.pageResponses.map(a => ({
                        ...a.response,
                        id: a.id,
                        rbacConditions: a.rbacConditions
                    }));
                    const allowedResponseKeys = _this.searchparams.templatejson
                        .components.filter(a => a.key !== 'submit')
                        .map(b => b.key);
                    allowedResponseKeys.push('id', 'rbacConditions');
                    const filteredResponseKeys = formResponses.map(a => Object.keys(a)
                        .filter(key => allowedResponseKeys.includes(key))
                        .reduce((obj, key) => {
                        obj[key] = a[key];
                        return obj;
                    }, {}));
                    return {
                        data: filteredResponseKeys,
                        totalCount: Number(filteredResponseKeys.length)
                    };
                })
                    .catch(_error => this.alertService.error('Failed to load data'));
            }
        });
    }
    onClose() {
        if (this.isOpen) {
            this.spliterSize = 30;
            this.gridspliterSize = 70;
            this.isOpen = false;
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_more';
            }
            else {
                this.icon = 'arrow_left';
            }
            this.openclose = 'Close';
        }
        else {
            this.spliterSize = 0;
            this.gridspliterSize = 100;
            this.isOpen = true;
            if (this.layouttype === 'vertical') {
                this.icon = 'expand_less';
            }
            else {
                this.icon = 'arrow_right';
            }
            this.openclose = 'Open';
        }
    }
    getRouter(data, _item) {
        this.selectedRowData = data;
        this.openTab = false;
        this.selectedRowIndex = data?.rowIndex;
        this.selectedColumnIndex = data?.columnIndex;
        this.selectedCaption = data?.column?.caption;
        const navigateState = {
            externalLink: true,
            isReadOnly: false,
            title: this.fromTitle
        };
        this.dataStoreService.setData('gridAction', null);
        this.dynamicSearchService.clickedIdData = null;
        this.dynamicSearchService.clickedRowData = null;
        let url;
        let datatype;
        this.updateGrid = typeof this.updateGrid === 'string' ? JSON.parse(this.updateGrid) : this.updateGrid;
        const gridArr = this.updateGrid?.gridConfigFormArray;
        const column = data.column.dataField;
        const tableschemaconfig = this.searchparams.tableschemaconfig;
        for (const key of gridArr) {
            if (key.columnDef === column) {
                url = key.link;
                const result = tableschemaconfig.fieldmapping.filter(x => (x.tablename + '.' + x.field) === key.columnDef);
                datatype = result[0].datatype;
                break;
            }
        }
        this.loadRouter(url, datatype, column, data, navigateState);
    }
    loadRouter(url, datatype, column, data, navigateState) {
        if (url) {
            this.dynamicSearchService.clickedRowData = data?.data;
            const URLSs = this.urlget(data, 'editUrl', '');
            this.dynamicSearchService.changePage(true);
            const dataKeys = Object.keys(data?.data);
            if (dataKeys.includes(URLSs)) {
                if (!data?.data[URLSs]) {
                    this.alertService.warn(data.displayValue + ' not generated properly!');
                }
                else {
                    const s3Url = data?.data[URLSs].includes('.com/') ? data?.data[URLSs].split('.com/')[1] : data?.data[URLSs];
                    this.downloadFileInternally(this.environment.s3BucketUrl + '/' + s3Url, data?.data['filename']);
                }
            }
            else {
                data.data.fromGrid = true;
                data.data.externalLink = true;
                this.dynamicSearchService.id.next(data.data[Object.keys(data.data)[0]].id);
                this.getPageTabs(url, datatype, column, data.data[column.split('.')[0]][column.split('.')[1]], data.data[Object.keys(data.data)[0]].id, navigateState);
            }
        }
    }
    editData(data) {
        const URLSs = this.urlget(data, 'editUrl', '');
        this.dynamicSearchService.id.next(data.data[Object.keys(data.data)[0]].id);
        this.router.navigateByUrl(URLSs);
    }
    viewData(data) {
        const URLSs = this.urlget(data, 'editUrl', '');
        this.router.navigateByUrl(URLSs);
    }
    deleteData(data) {
        const URLSs = this.urlget(data, 'deleteUrl', '');
        this.router.navigateByUrl(URLSs);
    }
    openLink(data) {
        const URLSs = this.urlget(data, 'externalLink', '');
        this.router.navigateByUrl(URLSs);
    }
    urlget(data, obj, pUrl) {
        let url = obj ? this.updateGrid[obj] : pUrl;
        if (url) {
            const urlparamArr = url.split('/');
            for (const key of urlparamArr) {
                if (key.indexOf('{') !== -1 && data.data) {
                    url = this.setURL(key, url, data);
                    url = this.setCurrentUrl(key, url);
                }
            }
            url = url.replace('/undefined', '');
            const urlparamArr1 = url.split('/');
            url = this.setUrlParam(urlparamArr1, url, data);
        }
        /* remove duplicate forward slashes from the URL */
        url = url.replace(/([^:]\/)\/+/g, '$1');
        return url;
    }
    setURL(key, url, data) {
        if (key === '{sourceId}') {
            const val = {
                sourceId: this.inputFieldId
            };
            return url.replace(key, val[key.substring(1, key.indexOf('}'))]);
        }
        else if (key === '{purpose}') {
            const val = {
                purpose: this.purpose
            };
            return url.replace(key, val[key.substring(1, key.indexOf('}'))]);
        }
        else {
            return url.replace(key, data.data[key.substring(1, key.indexOf('}'))]);
        }
    }
    setCurrentUrl(key, url) {
        if (this.router.url && key === '{pagepath}') {
            const currentURL = this.router.url.split('mergepage');
            if (currentURL?.length) {
                return url.replace('/pages/dynamicpage/', currentURL[0]);
            }
        }
    }
    setUrlParam(urlparamArr1, url, data) {
        for (const key of urlparamArr1) {
            if (key.indexOf('{') !== -1 && data.data) {
                return url.replace(key, data.data[key.substring(1, key.indexOf('}'))]);
            }
        }
    }
    // dynamic action link
    getInsideGridAction(data, item) {
        this.checkRulesBeforeActions(data, item).subscribe((allowed) => {
            if (!allowed) {
                return false;
            }
            this.getActionRoutes(data, item);
        });
    }
    getActionRoutes(data, item) {
        this.localstore.setItem('gridAction', item.action);
        /* Complexity-14*/
        if (item.action === 'search' || item.action === 'edit' || item.action === 'view' || item.action === 'select' || item.action === 'switch' || item.action === 'copy') {
            /* Complexity splitted function*/
            this.actionCheck(item, data);
        }
        else if (item.action === 'delete') {
            this.deleteConfirmation(data, item);
        }
        else if (item.action === 'complete') {
            this.completeConfirmation(data, item);
        }
        else if (item.action === 'narrative') {
            this.popup(data.data.narrative, item);
        }
        else if (item.action === 'history') {
            if (item.type === POPUP_TYPE_OPEN) {
                /* Complexity splitted function*/
                this.popupTypeCheck(item, data);
            }
        }
        else if (item.action === 'print') {
            /* Complexity splitted function*/
            this.actionPrintCheck(data);
        }
        else if (item.action === 'email') {
            /* Complexity splitted function*/
            this.actionEmailCheck(data);
        }
        else if (item.action === 'download') {
            /* Complexity splitted function*/
            this.actionDownloadCheck(item, data);
        }
        else if (item.action === 'TriggerScheduling') {
            this.startScheduling(data.data[Object.keys(data.data)[0]].id);
        }
        else if (item.action === 'Trigger') {
            this.startScheduling(data.data[Object.keys(data.data)[0]].id, item?.link);
        }
        else if (item.action === 'Survey') {
            this.actionSurveyCheck(data); /* Complexity splitted function*/
        }
        else if (item.action === 'info') {
            this.actionInfoCheck(data, item); /* Complexity splitted function*/
        }
        // else if (item.action === 'copy') {
        //   this.actionCheck(item, data); /* Complexity splitted function*/
        // }
    }
    actionCheck(item, data) {
        /* From getInsideGridAction() */
        const action = item.action;
        let editDataStatus = '';
        const gridConfig = this.searchparams?.gridconfig;
        const tableschemaconfig = this.searchparams?.tableschemaconfig;
        let viewPrimaryTable = '';
        if (tableschemaconfig.objectType == 'view') {
            const firstKey = Object.keys(data.data)[0];
            viewPrimaryTable = data.data[firstKey]['primary_object'];
        }
        if (this.isEditThresholdRequire || gridConfig?.isEditThresholdRequire) {
            this.isEditThresholdRequire = true;
        }
        if (item.action === 'edit') {
            this.localstore.setItem('EditGridPageID', this.pageId.toString());
        }
        if (item.action === 'edit' && this.isEditThresholdRequire) {
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.dynamicSearchService.checkEditStatus(this.pageId, primary_id).subscribe(result => {
                if (result['data'] && result['data'].length > 0 && result['data'][0]['status']) {
                    editDataStatus = result['data'][0]['status'];
                    this.editActionCheck(item, data, editDataStatus);
                }
                else {
                    this.alertService.error('Something went wrong');
                    this.getGrid();
                }
            }, _error => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
        else {
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                isReadOnly: false,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null,
                pageId: null
            };
            if (item.action === 'view') {
                navigateState.isReadOnly = true;
            }
            if (item.type === POPUP_TYPE_OPEN) {
                const dialogConfig = new MatDialogConfig();
                dialogConfig.disableClose = false;
                dialogConfig.height = '90%';
                dialogConfig.width = '100%';
                this.actionViewCheck(item, dialogConfig, data);
                const ref = this.dialog.open(FormPageComponent, dialogConfig);
                ref.afterClosed().subscribe(() => {
                    this.getGrid();
                });
            }
            else {
                if (item.action === 'copytemp') {
                    const user = this.localstore.getObj('user');
                    console.log(data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                    console.log(Object.keys(data.data)[0]);
                    let pageId = '';
                    if (gridConfig?.gridActionFormArray.length) {
                        gridConfig?.gridActionFormArray.find(item => {
                            if (item?.action == 'add')
                                pageId = item?.link;
                        });
                    }
                    const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                        ? data.data?.[data.data.primaryColumn] || data.data?.ID
                        : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                    const requestData = {
                        // "id":data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn],
                        "id": respid,
                        "schema": tableschemaconfig.schema,
                        "tablename": tableschemaconfig.objectType !== 'view' ? Object.keys(data.data)[0] : viewPrimaryTable,
                        "currentUser": user?.id,
                        "pageId": pageId
                    };
                    this.dynamicSearchService.rowVersion(requestData).subscribe((res) => {
                        console.log(res);
                        const url = this.location.path();
                        this.router.navigate([url], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                        this.searchGrid(this.http, this.storage);
                        this.alertService.success('Row added successfully');
                        if (['master-view', 'composite-page'].includes(window.location.href))
                            if (this.selectedComponent) {
                                if ((this.selectedComponent?.loadedFromMasterView || this.selectedComponent?.loadedFromCompositePage) && this.selectedComponent.settings)
                                    this.store.dispatch(publishEvent({ eventName: 'submit', payload: this.selectedComponent }));
                            }
                    }, _error => {
                        this.alertService.error(_error.error.message);
                    });
                }
                //This Routes prioritzing composite-pages as first
                else if (this.router?.url.includes('master-view') || this.router?.url.includes('composite-page')) {
                    const url = this.router.url;
                    if (this.selectedComponent && (this.selectedComponent?.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                        this.selectedComponent.settings.mappingFormId)
                        this.store.dispatch(publishEvent({ eventName: item.action,
                            payload: { id: data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn], mappingFormId: this.selectedComponent.settings.mappingFormId } }));
                    else {
                        if (this.selectedComponent) {
                            this.localstore.setItem('compositeTitle', this.selectedComponent.settings.title);
                        }
                        this.localstore.setItem('setTabAction', item.action);
                        this.sharedService.sendMessage();
                        this.router.navigate([url + '/form/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                        //this.actionRouterConfig(data, item, navigateState);
                    }
                }
                //Below routing handles ribbon and single grid pages
                else if (this.router?.url.includes('dynamic-routing')) {
                    this.localstore.setItem('setTabAction', item.action);
                    this.sharedService.sendMessage();
                    let url;
                    if (item?.pageType == 'COMP') {
                        url = '../../../composite-page/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    else {
                        url = '../../../dynamicpage/page/modify/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                    // this.actionRouterConfig(data, item, navigateState);
                }
                else if (item.link.includes('pages/')) {
                    const link = item.link.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                    this.router.navigateByUrl('/' + link, { state: item });
                }
                else if (item.link.includes('mergepage')) {
                    let url = item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    if (item.link.includes('{sourceId}')) {
                        url = this.urlget(data, '', item.link);
                        url = url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    }
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
                else if (item.link.includes('sourceid')) {
                    const formId = item.link.split('_sourceid')[0];
                    const url = '/pages/dynamic-routing/' + data.data.sourceid + '/dynamicpage/page/modify/' + formId;
                    this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                else if (item.link.includes('_page')) {
                    // Transactions Page - edit routing changes
                    const formId = item.link.split('_page')[0];
                    const url = '/pages/dynamic-routing/' + data.data.clientaccountid + '/dynamicpage/page/modify/' + formId;
                    this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                else {
                    const pageid = item.link ? item.link : this.pageId;
                    const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                        ? data.data?.[data.data.primaryColumn] || data.data?.ID
                        : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                    const url = '/pages/dynamicpage/page/modify/' + pageid + '/' + respid;
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
            }
        }
    }
    editActionCheck(item, data, editDataStatus) {
        if (item.action === 'edit' && editDataStatus === 'OWNER_ONLY_EDIT') {
            this.alertService.warn('You do not have permission to edit this record. Only the owner who created the record can make changes.');
            this.getGrid();
        }
        else if (item.action === 'edit' && editDataStatus === 'NO_EDIT') {
            this.alertService.warn('The edit window for this record has expired and changes cannot be made at this time.');
            this.getGrid();
        }
        else {
            const action = item.action;
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                isReadOnly: false,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null,
                pageId: null
            };
            if (this.router?.url.includes('dynamic-routing')) {
                if (this.router?.url.includes('master-view') || this.router?.url.includes('composite-page')) {
                    const url = this.router.url;
                    if (this.selectedComponent && (this.selectedComponent.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                        this.selectedComponent.settings.mappingFormId)
                        this.store.dispatch(publishEvent({
                            eventName: item.action,
                            payload: { id: data.data[Object.keys(data.data)[0]].id, mappingFormId: this.selectedComponent.settings.mappingFormId }
                        }));
                    else {
                        this.router.navigate([url + '/form/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                            relativeTo: this.route,
                            state: navigateState
                        });
                    }
                }
                else {
                    const url = '../../../dynamicpage/page/modify/' + item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                }
                // this.actionRouterConfig(data, item, navigateState);
            }
            else if (item.link.includes('pages/')) {
                const link = item.link.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                this.router.navigateByUrl('/' + link, { state: item });
            }
            else if (item.link.includes('mergepage')) {
                let url = item.link + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                if (item.link.includes('{sourceId}')) {
                    url = this.urlget(data, '', item.link);
                    url = url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn];
                }
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else if (item.link.includes('sourceid')) {
                const formId = item.link.split('_sourceid')[0];
                const url = '/pages/dynamic-routing/' + data.data.sourceid + '/dynamicpage/page/modify/' + formId;
                this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                    relativeTo: this.route,
                    state: navigateState
                });
            }
            else if (item.link.includes('_page')) {
                // Transactions Page - edit routing changes
                const formId = item.link.split('_page')[0];
                const url = '/pages/dynamic-routing/' + data.data.clientaccountid + '/dynamicpage/page/modify/' + formId;
                this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                    relativeTo: this.route,
                    state: navigateState
                });
            }
            else if (item.action === 'copy') {
                console.log(data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]);
                console.log(Object.keys(data.data)[0]);
                const requestData = {
                    "id": data.data[Object.keys(data.data)[0]]?.id,
                    "schema": "oya",
                    "tablename": Object.keys(data.data)[0],
                    "currentUser": 572
                };
                this.dynamicSearchService.rowVersion(requestData).subscribe((res) => {
                    console.log(res);
                    const url = this.location.path();
                    this.router.navigate([url], {
                        relativeTo: this.route,
                        state: navigateState
                    });
                    this.searchGrid(this.http, this.storage);
                    this.alertService.success('Row added successfully');
                }, _error => {
                    this.alertService.error(_error.error.message);
                });
            }
            else {
                const pageid = item.link ? item.link : this.pageId;
                const respid = typeof data.data[Object.keys(data.data)[0]] == 'string'
                    ? data.data?.[data.data.primaryColumn] || data.data?.ID
                    : data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn] || data.data[Object.keys(data.data)[0]]?.id;
                const url = '/pages/dynamicpage/page/modify/' + pageid + '/' + respid;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
        }
    }
    actionViewCheck(item, dialogConfig, data) {
        /* From actionCheck()--> getInsideGridAction() */
        if (item.action === 'view') {
            dialogConfig.data = {
                editId: data.data[Object.keys(data.data)[0]].id,
                pageId: item.link,
                isPopup: true,
                isReadOnly: true
            };
        }
        else {
            dialogConfig.data = { editId: data.data[Object.keys(data.data)[0]].id, pageId: item.link, isPopup: true };
        }
    }
    actionRouterConfig(data, item, navigateState) {
        let url = this.router.url;
        if (this.outerRouting?.observers?.length) {
            data.item = item;
            this.dataStoreService.setData('outerRoutingData', data);
            this.outerRouting.emit(data);
        }
        else {
            if (item.link.includes('multipleform')) {
                url = url.split('mergepage')[0];
                const formId = item.link.split('_multipleform')[0];
                url = url + 'dynamicpage/page/modify/' + formId;
            }
            else if (item.link.includes('sourceform')) {
                // for child removal - edit/view routing change
                url = url.split('mergepage')[0];
                const formId = item.link.split('_sourceform')[0];
                url = url + 'page/modify/' + formId;
                if (item.link.split('_sourceform')[1] && item.link.split('_sourceform')[1].includes('_subtab_')) {
                    // External Portal - Staff with subtabs
                    const link = item.link.split('_sourceform')[1];
                    /* Get subtab name for url */
                    const subtab = link.split('_subtab_')[1];
                    url = subtab + '/' + url;
                    /* Disable back button */
                    navigateState.externalLink = false;
                    /* set default page title */
                    navigateState.title = '';
                    this.dynamicSearchService.changePage(true);
                }
            }
            else if (url.indexOf('master-view') > 0 || url.indexOf('composite-page') > 0) {
                url = url + '/form/' + item.link;
            }
            this.router.navigate([url + '/' + data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]], {
                relativeTo: this.route,
                state: navigateState
            });
        }
    }
    popupTypeCheck(item, data) {
        const srcid = this.route?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid')
            ? this.route?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid')
            : this.route?.parent?.parent?.parent?.parent?.parent?.parent?.snapshot?.paramMap.get('sourceid');
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = false;
        dialogConfig.height = '90%';
        dialogConfig.width = '100%';
        dialogConfig.data = { pageId: item.link, inputFieldId: data.key.id, inputId: srcid };
        const ref = this.dialog.open(DynamicSearchComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            this.getGrid();
        });
    }
    actionPrintCheck(data) {
        /* From getInsideGridAction()*/
        if (!data.data.s3bucketurl) {
            this.alertService.warn('No pdf found');
            return;
        }
        const pdfurl = this.environment.s3BucketUrl + '/' + data.data.s3bucketurl;
        es6printJS({ printable: pdfurl, type: 'pdf', showModal: true });
    }
    actionEmailCheck(data) {
        /* From getInsideGridAction()*/
        if (!data.data.email) {
            this.alertService.warn('Email is not available');
            return;
        }
        if (!data.data.s3bucketurl) {
            this.alertService.warn('No Attachment found');
            return;
        }
        // #check fromaddress is hardcoded
        this.dynamicSearchService
            .sendMail({
            subject: data.data.subject,
            content: `${data.data.content_body}<p>Thanks <br> ${this.user.firstName} ${this.user.lastName} <br>  ${this.user.role.description} </p>`,
            s3bucketkey: data.data.s3bucketurl,
            toadresses: [data.data.email],
            fromaddress: 'vmathew@dminc.com'
        })
            .subscribe(() => {
            this.alertService.success('Email Sent successfully');
        });
    }
    actionDownloadCheck(item, data) {
        /* From getInsideGridAction()*/
        if (item.type === 'Document Report Generation') {
            this.dataStoreService.setData('pageData', this.searchparams);
            this.dataStoreService.setData('gridData', data?.data);
            const dialogConfig = new MatDialogConfig();
            dialogConfig.disableClose = false;
            dialogConfig.height = '90%';
            dialogConfig.width = '100%';
            dialogConfig.data = { editId: data.data[Object.keys(data.data)[0]].id, pageId: item.link, isPopup: true };
            const ref = this.dialog.open(FormPageComponent, dialogConfig);
            ref.afterClosed().subscribe(() => {
                this.getGrid();
            });
        }
    }
    actionSurveyCheck(data) {
        /* From getInsideGridAction()*/
        if (data.data.pagedataid) {
            data.data.isReadOnly = true;
        }
        this.router.navigateByUrl(PAGE_MODIFY_ROUTE +
            data.data[Object.keys(data.data)[0]].id +
            (data.data.pagedataid ? '/' + data.data.pagedataid : ''), { state: data.data });
    }
    getOutsideGridAction(item) {
        this.checkRulesBeforeActions({ pageData: this.allUrlParams }, item).subscribe((allowed) => {
            if (!allowed) {
                return false;
            }
            this.storage.setItem('AddAction', true);
            this.localstore.setItem('gridAction', item.action);
            const data = item;
            const action = item.action;
            this.dataStoreService.setData('gridAction', action);
            const navigateState = {
                externalLink: true,
                title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                personId: null
            };
            // if (navigateState?.title) {
            //   sessionStorage.setItem('add-title', navigateState?.title);
            // }
            if (data.type == 'External Link') {
                this.getVersionList(item?.link, null, item);
            }
            else if (data.type == POPUP_TYPE_OPEN) {
                this.setDialogConfig(item);
            }
            else {
                if (this.router?.url.includes('dynamic-routing')) {
                    this.dynamicRouteCheck(data, item, navigateState);
                }
                else if (data.link.includes('mergepage')) {
                    const url = data.link;
                    this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                }
                else {
                    this.navigateToGridPage(data, navigateState);
                }
            }
        });
    }
    dynamicRouteCheck(data, item, navigateState) {
        /* From getOutsideGridAction()*/
        let url = this.router.url;
        if (this.outerRouting?.observers?.length) {
            data.item = item;
            this.outerRouting.emit(data);
        }
        else {
            let link = data.link;
            if (data.link.includes('multipleform')) {
                url = url.split('mergepage')[0];
                const formId = data.link.split('_multipleform')[0];
                link = 'dynamicpage/page/modify/' + formId;
            }
            else if (data.link.includes('sourceform')) {
                // for interest transaction add
                url = url.split('mergepage')[0];
                const formId = data.link.split('_sourceform')[0];
                link = 'page/modify/' + formId;
                navigateState = this.setRouteData(data, link, navigateState);
                if (data.link.split('_sourceform')[1] && data.link.split('_sourceform')[1].includes('_subtab_')) {
                    // External Portal - Staff with subtabs
                    const subtabData = data.link.split('_sourceform')[1];
                    /* Get subtab name for url */
                    const subtab = subtabData.split('_subtab_')[1];
                    link = subtab + '/' + link;
                    /* Disable back button */
                    navigateState.externalLink = false;
                    /* set default page title */
                    navigateState.title = '';
                    this.dynamicSearchService.changePage(true);
                }
            }
            this.router.navigate([url + '/' + link], { relativeTo: this.route, state: navigateState });
        }
    }
    setRouteData(data, _link, navigateState) {
        if (data.link.split('_sourceform')[1] && data.link.split('_sourceform')[1].includes('_subtab_')) {
            // External Portal - Staff with subtabs
            // Get subtab name for url
            /* Disable back button */
            navigateState.externalLink = false;
            /* set default page title */
            navigateState.title = '';
            this.dynamicSearchService.changePage(true);
        }
        return navigateState;
    }
    navigateToGridPage(data, navigateState) {
        if (data.link.includes('pages/')) {
            if (data.link.includes('{organizationid}')) {
                const sourceid = this.user?.userWorkInfo?.organization?.id;
                const link = data.link.replace('{organizationid}', sourceid);
                const url = '/' + link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else {
                this.router.navigateByUrl('/' + data.link);
            }
        }
        else {
            if (window.location.href.indexOf('tab') > 0) {
                const url = '../../page/' + data.link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
            else {
                const url = PAGE_MODIFY_ROUTE + data.link;
                this.router.navigate([url], { relativeTo: this.route, state: navigateState });
            }
        }
    }
    setDialogConfig(item) {
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = false;
        dialogConfig.height = '90%';
        dialogConfig.width = '100%';
        dialogConfig.data = { pageId: item.link, isPopup: true };
        const ref = this.dialog.open(FormPageComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            // refresh grid
            this.getGrid();
        });
    }
    convertToISOFormat(dateString) {
        const date = new Date(dateString);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-based
        const day = String(date.getDate()).padStart(2, '0');
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');
        const seconds = String(date.getSeconds()).padStart(2, '0');
        const milliseconds = String(date.getMilliseconds()).padStart(3, '0');
        return `${year}-${month}-${day}T${hours}:${minutes}:${seconds}.${milliseconds}Z`;
    }
    addMinutes(dateString, minutes) {
        const date = new Date(dateString);
        date.setMinutes(date.getMinutes() + minutes);
        return date.toISOString();
    }
    getPrimaryColumnId(primaryColumn, data) {
        const firstKey = Object.keys(data.data)[0];
        return data.data[firstKey][primaryColumn];
    }
    getAsJSON(json) {
        return typeof json === 'string' ? JSON.parse(json) : json;
    }
    deleteConfirmation(data, item) {
        this.isDisabled = true;
        this.pagename = this.searchparams?.pagename;
        const gridConigForDeleteRequire = this.getAsJSON(this.searchparams?.gridconfig);
        const tableschemaconfig = this.getAsJSON(this.searchparams?.tableschemaconfig);
        let viewPrimaryTable = '';
        if (tableschemaconfig.objectType == 'view') {
            const firstKey = Object.keys(data.data)[0];
            viewPrimaryTable = data.data[firstKey]['primary_object'];
        }
        this.deletePopupText = gridConigForDeleteRequire?.isDeletePopupText;
        if (this.isDeleteRequire || gridConigForDeleteRequire?.isDeleteRequire) {
            this.isDeleteRequire = true;
        }
        if (this.isConditionalEditDelete !== 'true' || !this.isDeleteRequire) {
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.DeleteConfigURL = `${DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id)}/${this.pageId}?name=${viewPrimaryTable}`;
            this.popupDialogRef = this.dialog.open(this.DeleteGridListWithoutReason, {
                panelClass: 'delete-grid-without-reason'
            });
        }
        else {
            this.adminAccessForDelete = false;
            const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
            this.DeleteConfigURL = `${DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id)}/${this.pageId}?name=${viewPrimaryTable}`;
            this.updateByIdAndPageIdWithReasonURL = `${DynamicSearchURL.EndPoints.formResponse.updateByIdAndPageIdWithReason.replace('{id}', primary_id)}/${this.pageId}?primarytable=${viewPrimaryTable}`;
            const tbName = this.gridConfig.highlightRow.tableName;
            this.deleteConfigData = {};
            this.deleteConfigData = { 'data': data.data[tbName] };
            this.dynamicSearchService.checkDeleteStatus(this.pageId, primary_id, viewPrimaryTable).subscribe(result => {
                if (result['data'] && result['data'].length > 0) {
                    if (result['data'][0]['status'] === 'DEL_PEND') {
                        // const infoDetails = data['data'].rbacConditions.filter(item => item.action == 'info');
                        // this.deletedReason = infoDetails[0]?.message;
                        this.deletedReason = result['data'][0]['popupText'];
                        this.popupDialogRef = this.dialog.open(this.ApproveDeleteGridList, {
                            panelClass: 'approve-delete-grid-list'
                        });
                    }
                    else if (result['data'][0]['status'] === 'DEL_ALLOW') {
                        this.popupDialogRef = this.dialog.open(this.DeleteGridListWithoutReason, {
                            panelClass: 'delete-grid-without-reason'
                        });
                    }
                    else if (result['data'][0]['status'] === 'DEL_REQ') {
                        this.popupDialogRef = this.dialog.open(this.DeleteGridList, {
                            panelClass: 'delete-drid-with-reason'
                        });
                    }
                    else {
                        this.alertService.error('Something went wrong');
                    }
                }
                else {
                    this.alertService.error('Something went wrong');
                }
            }, _error => {
                this.alertService.error(AppConstants.errorMessage);
            });
        }
        // const dialogConfig = new MatDialogConfig();
        // dialogConfig.disableClose = true;
        // dialogConfig.data = {
        //   action: 'delete',
        //   deleteId: this.pageId,
        //   message: 'Are you sure you want to delete?',
        //   url: DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', data.data[Object.keys(data.data)[0]]?.[data.data.primaryColumn]),
        //   portConfig: item.portConfig,
        //   successMsg: 'Record deleted Successfully'
        // };
        // const ref = this.dialog.open(DeleteComponent, dialogConfig);
        // ref.afterClosed().subscribe(() => {
        //   // refresh grid
        //   this.getGrid();
        // });
    }
    actionInfoCheck(data, item) {
        // const primary_id = this.getPrimaryColumnId(data.data.primaryColumn, data);
        // this.DeleteConfigURL = DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', primary_id);
        // this.deletedReason = item.message;
        // $('#ApproveDeleteGridList').modal('show');
    }
    deleteRecord() {
        this.httpService.delete(`${this.DeleteConfigURL}`).subscribe(_result => {
            this.alertService.success('Deleted Successfully');
            this.reloadPopup();
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    deleteRecordWithReason() {
        this.rowData = { ...this.deleteConfigData, 'reason': this.enteredReason, 'pageURL': this.router.url };
        this.httpService.post(`${this.updateByIdAndPageIdWithReasonURL}`, this.rowData).subscribe(_result1 => {
            this.reloadPopup();
            this.alertService.success('Delete Requested Successfully');
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    deleteRecordWithoutReason() {
        this.httpService.delete(`${this.DeleteConfigURL}`).subscribe(_result => {
            if (_result && _result['data'] === 'DEL_REQ') {
                this.alertService.error('Deletion Failed: The threshold time for deleting this record has expired.');
            }
            else if (_result && _result['data']) {
                if (window.location.href.includes('composite-page') || window.location.href.includes('master-view'))
                    if (this.selectedComponent) {
                        if ((this.selectedComponent?.loadedFromMasterView || this.selectedComponent?.loadedFromCompositePage) && this.selectedComponent.settings)
                            this.store.dispatch(publishEvent({ eventName: 'submit', payload: this.selectedComponent }));
                    }
                this.alertService.success('Deleted Successfully');
            }
            else {
                this.alertService.error('Something Went Wrong');
            }
            this.reloadPopup();
        }, _error => {
            this.cancelPopup();
            this.alertService.error(AppConstants.errorMessage);
        });
    }
    cancelPopup() {
        this.closeDialogPopup();
        this.enteredReason = '';
    }
    reloadPopup() {
        this.closeDialogPopup();
        this.getGrid();
        this.enteredReason = '';
    }
    checkIsDisabled(text) {
        if (text && text.trim() != '') {
            this.isDisabled = false;
            this.enteredReason = text;
        }
        else {
            this.isDisabled = true;
            this.enteredReason = text;
        }
    }
    completeConfirmation(data, _item) {
        const dialogConfig = new MatDialogConfig();
        dialogConfig.disableClose = true;
        dialogConfig.data = {
            action: 'complete',
            deleteId: data.data[Object.keys(data.data)[0]].id,
            message: 'Are you sure you want to complete?',
            url: DynamicSearchURL.EndPoints.formResponse.delete.replace('{id}', data.data[Object.keys(data.data)[0]].id),
            portConfig: null,
            successMsg: 'Data completed Successfully',
            data: data.data
        };
        const ref = this.dialog.open(DeleteComponent, dialogConfig);
        ref.afterClosed().subscribe(() => {
            this.getGrid();
        });
    }
    closePopup() {
        this.editPopUpDialogRef.close();
    }
    popup(data, action) {
        const table_name = this.searchparams.tableschemaconfig.tablelist[0];
        const tabdata = data;
        const value = tabdata ? tabdata[table_name] : '';
        this.targetPage(value, action);
        // } else {
        //   this.popupDialogRef = this.dialog.open(this.callDialogPopup);
        //   // tslint:disable-next-line: prefer-for-of
        //   this.popupData = data;
        // }
    }
    closeDialogPopup() {
        this.popupDialogRef.close();
    }
    showIcon(data) {
        if (data.data.timeleft) {
            if (data.data.timeleft.includes(' ')) {
                let timeleft = data.data.timeleft.split(' ');
                timeleft = timeleft[0];
                if (timeleft < 0) {
                    return true;
                }
            }
            else if (data.data.timeleft.includes(':')) {
                let timeleft = data.data.timeleft.split(':');
                timeleft = timeleft[0];
                if (timeleft < 0 || (timeleft == '-00' && timeleft.indexOf('-') != -1)) {
                    return true;
                }
            }
            else {
                return false;
            }
        }
        return false;
    }
    splitingData(data, splitter = ',') {
        if (data.data.narrative) {
            const detail = data.data.narrative;
            const div = document.createElement('div');
            div.innerHTML = detail;
            ///.join("<br/>")
            const finalString = div.innerText.split(splitter);
            for (let i = 0; i < finalString.length; i++) {
                finalString[i] = finalString[i].toLowerCase();
                finalString[i] = finalString[i][0].toUpperCase() + finalString[i].substring(1, 2);
            }
            return finalString.join('<br/>');
        }
        return '';
    }
    getTitleClass(title) {
        if (title) {
            return title.split(' ').join('').toLowerCase();
        }
        return '';
    }
    changeStatusColor(value) {
        if (value === 'Completed') {
            return 'completed';
        }
        else if (value === 'Draft') {
            return 'draft';
        }
        else if (value === 'Open') {
            return 'open';
        }
        else if (value === 'Closed') {
            return 'closed';
        }
        else if (value === 'Pending') {
            return 'pending';
        }
        else if (value === 'Pending Approval' || value === 'In-Progress') {
            return 'pending-approval';
        }
        else if (value === 'Approved' || value === 'Accepted - Screen In') {
            return 'approved';
        }
        else if (value === 'Return to Worker' || value === 'Returned') {
            return 'returned';
        }
        return '';
    }
    titleCaseToolTip(value) {
        return value[0].toUpperCase() + value.slice(1);
    }
    closeForm() {
        this.item = null;
    }
    downloadFileInternally(s3BucketUrlName, filename) {
        const a = document.createElement('a');
        a.href = s3BucketUrlName.trim();
        a.download = filename || 'download';
        a.click();
        a.remove();
    }
    /* for Grid Selection enable/disable */
    getGridSelection(item) {
        if (item === true) {
            return 'multiple';
        }
        return 'none';
    }
    startScheduling(id, url = null) {
        if (url) {
            this.dynamicSearchService.startScheduling({}, url.replace('{id}', id)).subscribe(() => {
                this.alertService.success('Report Triggered Successfully');
            }, _error => {
                this.alertService.success('Report Trigger failed. Try Again!');
            });
        }
        else {
            this.dynamicSearchService.startSchedulingNoUrl({}, id).subscribe(() => {
                this.alertService.success('Report Triggered Successfully');
            }, _error => {
                this.alertService.success('Report Trigger failed. Try Again!');
            });
        }
    }
    customSave = (state) => {
        for (const item in state) {
            if (item !== 'columns')
                delete state[item];
        }
        this.gridConfig.pageSize = this.dataGrid.instance.pageSize();
        const prevWidth = this.columnWidth;
        this.columnWidth = state;
        const validatePageId = this.sequenceId === Number(this.route.snapshot.paramMap.get('pageId'));
        const validate = JSON.stringify(prevWidth) === JSON.stringify(this.columnWidth);
        if (validatePageId) {
            if (state?.columns != undefined) {
                state.columns.forEach((stateColumn) => {
                    const configItem = this.gridConfig.gridConfigFormArray.find(c => c.columnDef === stateColumn.dataField && !c.hide);
                    if (configItem) {
                        configItem.width = stateColumn.width;
                        configItem.filterValues = stateColumn.filterValues;
                        configItem.sortOrder = stateColumn.sortOrder;
                        configItem.sortIndex = stateColumn.sortIndex;
                        configItem.visible = stateColumn.visible ?? true;
                        configItem.visibleIndex = stateColumn.visibleIndex;
                        configItem.filterValue = stateColumn.filterValue;
                        configItem.filterType = stateColumn.filterType;
                        configItem.selectedFilterOperation = stateColumn.selectedFilterOperation;
                    }
                });
                if (this.screenWidth > 1025) {
                    this.columns = this.gridConfig.gridConfigFormArray;
                }
                const body = {
                    type: 'PAGE',
                    mappedid: this.currentPageId,
                    config: JSON.stringify(this.gridConfig)
                };
                this.dynamicSearchService.saveGridUserPreference(body).subscribe(() => {
                    // This is intentional
                });
            }
            // const body = {
            //   type: 'PAGE',
            //   mappedid: this.currentPageId,
            //   config: JSON.stringify(this.gridConfig)
            // };
            // this.dynamicSearchService.saveGridUserPreference(body).subscribe(() => {
            //   // This is intentional
            // });
        }
    };
    columnChooserClick() {
        this.dataGrid.instance.showColumnChooser();
    }
    contentReady = e => {
        const componentInstance = e.component.instance();
        const currentColumns = componentInstance.option('columns');
        if (this.gridConfig && this.gridConfig.userPreferenceGridConfig) {
            if (this.gridConfig.pageSize) {
                this.currentPageSize = this.gridConfig.pageSize;
            }
            let changesMade = false;
            currentColumns.forEach((column, index) => {
                const configItem = this.gridConfig.userPreferenceGridConfig.find(c => c.columnDef === column.dataField);
                if (configItem) {
                    const targetVisibility = configItem.hide ? false : (configItem.visible === "" ? true : configItem.visible);
                    if (column.visible !== targetVisibility) {
                        changesMade = true;
                        currentColumns[index].visible = targetVisibility;
                    }
                    // Check and update the visibleIndex if different
                    if (column.visibleIndex !== configItem.visibleIndex) {
                        changesMade = true;
                        currentColumns[index].visibleIndex = configItem.visibleIndex;
                    }
                }
            });
            if (changesMade) {
                componentInstance.option('columns', currentColumns);
            }
            this.isInitialLoad = false;
            this.isResize = false;
            this.isUserPreferenceChange = false;
        }
    };
    getVisabilityByChoosableProp(chooser, visible) {
        if (chooser) {
            return visible;
        }
        else {
            return true;
        }
    }
    getSortOrder(defaultSortColumn, defaultSortType, columnDef) {
        if (defaultSortColumn && defaultSortType) {
            return defaultSortColumn === columnDef ? defaultSortType : '';
        }
        return '';
    }
    goBack() {
        this.location.back();
    }
    showGridActions(updateGrid, showActionColumn, gridType) {
        const gridActions = updateGrid?.gridActionFormArray
            ? updateGrid?.gridActionFormArray.filter(x => x.action?.toLowerCase() !== 'add')
            : [];
        const hiddenColumns = gridActions?.filter(a => a?.hide);
        return (gridActions.length > 0 &&
            showActionColumn &&
            gridType != 'view' &&
            hiddenColumns.length !== gridActions.length);
    }
    changeFilterOptions(e) {
        this.filterOptionsDropdown.close(e.originalEvent);
        this.isUserPreferenceChange = true;
        this.setPermissions(e.itemValue);
    }
    setPermissions(modal) {
        const [code, value] = modal.split('-');
        const isExist = this.gridConfig.gridConfigFormArray.filter(c => c.columnDef === code && !!c[value]);
        if (isExist.length === 0) {
            this.gridConfig.gridConfigFormArray.map((c) => {
                c[value] = c.columnDef === code ? true : c[value];
                if (c.columnDef === code) {
                    c?.selected?.push(value);
                }
                return c;
            });
        }
        else {
            this.setSelectedGridForm(code, value);
        }
        this.columns = this.gridConfig.gridConfigFormArray;
        this.updateUserGridConfig();
    }
    onResize() {
        const prevWidth = this.screenWidth;
        this.screenWidth = window.innerWidth;
        this.columns = this.gridConfig.gridConfigFormArray;
        if (this.screenWidth < 767) {
            const mobileColumns = this.gridConfig.gridConfigFormArray.filter(c => c.mobileView);
            this.checkOnresize(mobileColumns);
            // this.columns = this.gridConfig.gridConfigFormArray;
        }
        else if (this.screenWidth >= 768 && this.screenWidth < 990) {
            const tabColumns = this.gridConfig.gridConfigFormArray.filter(c => c.tabView);
            if (tabColumns.length) {
                this.columns = this.gridConfig.gridConfigFormArray.filter(x => x.tabView);
            }
            else {
                // const maxVisibleCount = 5;
                // const visibleCount = 0;
                this.columns = this.gridConfig.gridConfigFormArray.filter((t, i) => i < 3);
            }
            // this.columns = this.gridConfig.gridConfigFormArray;
        }
        else if (prevWidth && prevWidth !== this.screenWidth) {
            //to fix loading issue when changing from mobile to web/tab view
            this.columns = this.gridConfig.gridConfigFormArray;
            // this.columns = this.checkGridConfig;
            this.getUserGridConfig();
            // window.location.reload();
        }
    }
    checkOnresize(mobileColumns) {
        if (mobileColumns.length) {
            this.columns = this.gridConfig.gridConfigFormArray.filter(x => x.mobileView);
        }
        else {
            // const maxVisibleCount = 3;
            // const visibleCount = 0;
            this.columns = this.gridConfig.gridConfigFormArray.filter((m, i) => i < 3);
        }
    }
    setSelectedGridForm(code, value) {
        this.gridConfig.gridConfigFormArray.map(c => {
            c[value] = c.columnDef === code ? '' : c[value];
            if (c.columnDef === code && c.selected) {
                c.selected = c.selected.filter(s => s !== value);
                // c?.selected?.map((m, i) => {
                //   m === value && c.selected.splice(i, 1);
                // });
            }
            return c;
        });
    }
    updateUserGridConfig() {
        const body = {
            type: 'PAGE',
            mappedid: this.currentPageId,
            config: JSON.stringify(this.gridConfig)
        };
        if (this.screenWidth > 990) {
            this.dynamicSearchService.saveGridUserPreference(body).subscribe(_res => {
                this.getUserGridConfig();
            });
        }
    }
    getUserGridConfig() {
        this.dataGrid.instance.clearFilter();
        this.dynamicSearchService.getGridUserPreference(this.currentPageId).subscribe((res) => {
            if (res.data && res.data?.config) {
                const configArray = typeof res.data.config === "string" ? JSON.parse(res.data.config) : res.data.config;
                if (configArray && configArray.gridConfigFormArray) {
                    const userPreferenceGridConfig = this.applyUserPreference(this.tempaConfig.gridConfigFormArray, configArray.gridConfigFormArray);
                    configArray.userPreferenceGridConfig = userPreferenceGridConfig;
                    configArray.gridConfigFormArray = userPreferenceGridConfig;
                    this.gridConfig = configArray;
                    this.columnHeader = configArray.gridConfigFormArray.map(column => column?.header);
                    this.columns = configArray.gridConfigFormArray;
                    // this.checkGridConfig = configArray.gridConfigFormArray;
                    this.isDeleteRequire = configArray?.isDeleteRequire;
                    this.isEditThresholdRequire = configArray?.isEditThresholdRequire;
                    this.isDeleteTime = configArray?.isDeleteTime;
                    // const storedTabData = JSON.parse(JSON.parse(this.storage.getItem('dynamic-tab-pages')));
                    const storedTabData = JSON.parse(JSON.parse(this.storage.getItem(STORAGE_KEY_DYNAMIC_TAB_PAGES)));
                    storedTabData?.map(item => {
                        this.columns.map(item1 => {
                            if (item.pfield == item1.columnDef) {
                                item1.link = item.pfield;
                            }
                        });
                    });
                    this.columns.map(c => {
                        c?.selected?.map(s => Object.assign({ col_ref: `${c.columnDef}-${s}` }, c));
                    });
                    const options = [];
                    const arr = [];
                    configArray.gridConfigFormArray.map(a => {
                        options.push({
                            columnName: a.header,
                            items: this.gridOptions.map(p => ({
                                id: `${a.columnDef}-${p.value}`,
                                label: p.label,
                                value: p.value,
                                code: a.columnDef,
                                active: a[p.value] !== '' ? true : ''
                            }))
                        });
                        a?.selected?.map(r => arr.push(`${a.columnDef}-${r}`));
                    });
                    this.columnsFilteration();
                    this.onResize();
                    this.filterOptions = options;
                    this.filterForm?.patchValue({ selectedFilter: arr });
                }
                else {
                    this.patchMultipleOptions();
                }
            }
            else {
                this.patchMultipleOptions();
            }
        });
    }
    applyUserPreference(gridConfig, userPreferenceConfig) {
        const options = ['width', 'filterValues', 'sortOrder', 'sortIndex', 'visible', 'visibleIndex', 'filterValue', 'filterType', 'selectedFilterOperation'];
        for (const column of gridConfig) {
            const columnPreferences = userPreferenceConfig.find(preferenceColumn => preferenceColumn.columnDef === column.columnDef);
            if (columnPreferences) {
                for (const option of options) {
                    if (option === 'visibleIndex' && columnPreferences.hide) {
                        delete column[option];
                    }
                    else if (columnPreferences.hasOwnProperty(option)) {
                        column[option] = columnPreferences[option];
                    }
                }
            }
        }
        return this.assignVisibleIndexes(gridConfig);
    }
    assignVisibleIndexes(gridConfig) {
        const visibleColumns = gridConfig?.length && gridConfig?.filter(col => !col.hide)?.sort((a, b) => a.visibleIndex - b.visibleIndex) || [];
        const nonVisibleColumns = gridConfig?.length && gridConfig?.filter(col => col.hide || col?.visibleIndex < 0)?.sort((a, b) => a.visibleIndex - b.visibleIndex) || [];
        if (visibleColumns && visibleColumns.length) {
            for (const [index, column] of visibleColumns.entries()) {
                column.visibleIndex = index;
            }
        }
        if (nonVisibleColumns && nonVisibleColumns.length) {
            for (const [index, column] of nonVisibleColumns.entries()) {
                column.visibleIndex = visibleColumns?.length + (index + 1);
            }
        }
        return [...visibleColumns, ...nonVisibleColumns];
    }
    patchMultipleOptions() {
        if (this.tempaConfig && this.tempaConfig.gridConfigFormArray) {
            this.columnHeader = this.tempaConfig.gridConfigFormArray.map(column => column.header);
            this.gridConfig = this.tempaConfig;
            this.columns = this.tempaConfig.gridConfigFormArray;
            this.columns.map(c => {
                c?.selected?.map(s => Object.assign({ col_ref: `${c.columnDef}-${s}` }, c));
            });
            const options = [];
            const arr = [];
            this.tempaConfig.gridConfigFormArray.map(grid => {
                options.push({
                    columnName: grid.header,
                    items: this.gridOptions.map(p => ({
                        id: `${grid.columnDef}-${p.value}`,
                        label: p.label,
                        value: p.value,
                        code: grid.columnDef,
                        active: grid[p.value] !== '' ? true : ''
                    }))
                });
                grid?.selected?.map(r => arr.push(`${grid.columnDef}-${r}`));
            });
            this.columnsFilteration();
            this.onResize();
            this.filterOptions = options;
            this.filterForm.patchValue({ selectedFilter: arr });
        }
    }
    columnsFilteration() {
        this.columns = this.columns.map(x => {
            if (x['concatenate']) {
                const columnName = x.header.toLowerCase();
                const cName = columnName.replace(/ /g, '_');
                x.columnDef = `alias.${cName}`;
                return x;
            }
            else {
                return x;
            }
        });
    }
    customEvent(event) {
        this._formIO.customEvent(event, this.formIO);
    }
    onExporting(e) {
        const pageName = this.storage.getObj(FILE_EXPORT_NAME_KEY);
        const currentDate = moment().format('YYYY-MM-DD');
        let fileName;
        if (pageName) {
            fileName = `${pageName} ${currentDate}`;
        }
        else {
            fileName = `Data-Grid ${currentDate}`;
        }
        e.component.columnOption('Action', 'visible', false);
        if (e.format === 'pdf') {
            const doc = new jsPDF.jsPDF();
            exportDataGridToPdf({
                jsPDFDocument: doc,
                component: e.component,
                customizeCell: grid => {
                    grid.pdfCell.wordWrapEnabled = true;
                }
            }).then(() => {
                doc.save(`${fileName}.pdf`);
                e.component.columnOption('Action', 'visible', true);
            });
        }
        else if (e.format === 'xlsx') {
            e.fileName = fileName;
            setTimeout(() => {
                e.component.columnOption('Action', 'visible', true);
            }, 500);
        }
    }
    ngOnDestroy() {
        this.storage.removeItem(FILE_EXPORT_NAME_KEY);
        if (this.eventSubscription) {
            this.eventSubscription.unsubscribe();
        }
    }
    getTitle(c) {
        return c ? c : false;
    }
    onCellPrepared(e) {
        if (e.rowType == 'data' &&
            e.data.businessRules.length > 0 &&
            e.column.dataField === e.data.businessRules[0].name) {
            const element = e.cellElement;
            const rules = '<em class="RULES" aria-hidden="true"></em>'.replace('RULES', e.data.businessRules[0].style ? e.data.businessRules[0].style : '');
            const livetext = document.createElement('div');
            element.classList.add('business-group');
            livetext.classList.add('business-alert');
            livetext.classList.add('ml-2');
            livetext.innerHTML = rules;
            element.appendChild(livetext);
        }
    }
    toggleShowMore(value, columnDef) {
        const key = this.getToggleKey(value, columnDef);
        // Check if the length of the value exceeds 60
        if (value.length > this.truncateTextValue) {
            // If "Show More" is active, return the full value; otherwise, return the truncated value
            if (this.showMoreText[key]) {
                return value; // Show full value
            }
            else {
                return value.substring(0, this.truncateTextValue).trim() + '...'; // Truncate and add ellipsis
            }
        }
        return value;
    }
    toggleShowMoreState(value, columnDef) {
        const key = this.getToggleKey(value, columnDef);
        this.showMoreText[key] = !this.showMoreText[key];
    }
    getToggleKey(value, columnDef) {
        return `${value}_${columnDef}`;
    }
    onRowPrepared(e) {
        if (e.rowType == 'data' &&
            this.updateGrid?.highlightRow?.columnName &&
            this.updateGrid?.highlightRow?.columnName?.split('.').length &&
            e.data[this.updateGrid?.highlightRow?.columnName.split('.')[0]][this.updateGrid?.highlightRow?.columnName.split('.')[1]] == this.updateGrid?.highlightRow?.columnValue) {
            e.rowElement.style.backgroundColor = this.updateGrid?.highlightRow?.color;
            e.rowElement.className = e.rowElement.className.replace('dx-row-alt', '');
        }
    }
    onCellClick(e) {
        e?.data?.routedata.map(n => {
            if (n?.pfield == e?.column?.dataField) {
                this.paramvalue = e?.value;
                const [tableName] = n?.pfield.split('.');
                this.paramfield = n?.field;
                this.tablefield = tableName;
                this.toTabId = n?.id;
            }
        });
        if (this.toTabId) {
            this.dynamicTabPageService.getDynamicPage(this.toTabId).subscribe((res) => {
                if (res?.data.length > 0) {
                    const pageid = res?.data[0]?.activeVersion.id;
                    const currentURL = this.router.url;
                    const newurl = currentURL.replace(/[^/]*$/, '/' + pageid);
                    if (this.selectedCaption == 'action' || this.selectedCaption == 'Action') {
                        this.router.navigate([newurl]);
                    }
                    else {
                        const horizantalTabFilter = this.localstore.getItem(FILTER_ID_KEY);
                        if (horizantalTabFilter) {
                            this.localstore.removeItem(FILTER_ID_KEY);
                        }
                        this.localstore.setObj('HorizantalPageId', pageid);
                        this.localstore.setObj(FILTER_ID_KEY, {
                            id: this.paramvalue,
                            table: this.tablefield,
                            field: this.paramfield
                        });
                        this.openTab = true;
                    }
                    setTimeout(() => {
                        this.paramvalue = undefined;
                    }, 5000);
                }
            });
        }
    }
    // }
    async targetPage(value, targetValue) {
        const targetURLValue = targetValue?.link;
        if (this.localstore.getObj(LOCAL_STORAGE_KEY)) {
            this.localstore.removeItem(LOCAL_STORAGE_KEY);
        }
        await this.getVersionList(targetURLValue, value, targetValue);
    }
    async getVersionList(value, numericValue, action) {
        this.pageBuilderService.getVersionList(value).subscribe(res => {
            if (res.data && res.data.length) {
                this.localstore.setObj(FILE_EXPORT_NAME_KEY, res.data[0]?.pagename);
                this.pageList = res.data;
                this.totalcount = this.pageList.length ? this.pageList.length : 0;
                const filterTags = action;
                const filterValue = filterTags?.filterBy?.split('.');
                if (filterValue != '' && filterValue) {
                    const rowValue = numericValue[filterValue[1]];
                    this.localstore.setObj(LOCAL_STORAGE_KEY, { id: rowValue, table: filterValue[0], field: filterValue[1] });
                }
                if (this.pageList[0].tabconfig)
                    this.localstore.setObj(STORAGE_KEY_DYNAMIC_TAB_PAGES, this.pageList[0].tabconfig);
                this.localstore.setObj('titletab', numericValue);
                if (filterTags?.action == 'edit') {
                    this.localstore.setObj('editValue', numericValue);
                }
                else {
                    this.localstore.removeItem('editValue');
                }
                if (value) {
                    if (this.pageList[0]?.pageDetails?.pagetype == 'ATPBDM' || this.pageList[0]?.pageDetails?.pagetype == 'FFP') {
                        this.authService.setSharedMessage({ pageId: this.pageList[0].pageid });
                        if (this.selectedComponent && (this.selectedComponent.loadedFromMasterView || this.selectedComponent.loadedFromCompositePage) && this.selectedComponent.settings &&
                            this.selectedComponent.settings.mappingFormId)
                            this.store.dispatch(publishEvent({ eventName: action.action,
                                payload: { mappingFormId: this.selectedComponent.settings.mappingFormId } }));
                        else if (window.location.href.indexOf('master-view') > -1 || window.location.href.indexOf('composite-page') > -1) {
                            if (this.selectedComponent) {
                                this.localstore.setItem('compositeTitle', this.selectedComponent.settings.title);
                            }
                            this.localstore.setItem('setTabAction', action.action);
                            this.sharedService.sendMessage();
                            this.router.navigate(['form/', this.pageList[0].pageid], {
                                relativeTo: this.route
                            });
                        }
                        else {
                            this.localstore.setItem('setTabAction', action.action);
                            this.sharedService.sendMessage();
                            // this.router.navigate(['/pages/dynamicpage/page/modify/', this.pageList[0].pageid], {
                            this.router.navigate(['../../../dynamicpage/page/modify/', this.pageList[0].pageid], {
                                relativeTo: this.route
                            });
                        }
                    }
                    else {
                        this.router.navigate(['../../../dynamicpage/tab/', this.pageList[0].id], { relativeTo: this.route });
                    }
                }
            }
        });
    }
    toggleIconClass() {
        this.iconClass = 'fa fa-eye-slash';
        // }
    }
    uploadDocument(item, files) {
        this.uploadedFile = files.target.files[0];
        const pageID = this.formId ? this.formId : this.pageId;
        this.imageData = {
            contentType: this.uploadedFile.type,
            fileName: `ocr/${pageID}/${this.uploadedFile.name}`
        };
        this.attachmentService.uploadKey(this.imageData).subscribe((res) => {
            if (res.data) {
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putupload2(res.data, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((resp) => {
                    if (resp && resp.status == 200) {
                        const object = {
                            path: `ocr/${pageID}/${this.uploadedFile.name}`,
                            attachmenttype: this.uploadedFile.type
                        };
                        this.storage.setObj('OCRObj', JSON.stringify(object));
                        this.dataStoreService.setData('uploadFromGrid', true);
                        const navigateState = {
                            externalLink: true,
                            title: item.action[0].toUpperCase() + item.action.slice(1) + ' ' + this.fromTitle,
                            personId: null
                        };
                        const url = PAGE_MODIFY_ROUTE + item.link;
                        this.router.navigate([url], { relativeTo: this.route, state: navigateState });
                    }
                    else {
                        this.alertService.error('Something Went Wrong!');
                    }
                }, error => {
                    if (error.status == 0)
                        this.alertService.error('Something Went Wrong!');
                });
            }
        });
    }
    getDateFormat(value) {
        if (this.registrationInfo) {
            if (value === 'date' && this.registrationInfo?.datetimeformat) {
                return this.registrationInfo['datetimeformat'].split(' ')[0];
            }
            return this.registrationInfo['datetimeformat'];
        }
        return 'MM/dd/yyyy';
    }
    buildCriteria(result) {
        if (!result)
            return;
        const tableschemaconfig = typeof result.tableschemaconfig === 'string' ? JSON.parse(result.tableschemaconfig) : result.tableschemaconfig;
        if (!tableschemaconfig)
            return;
        const fieldMapping = tableschemaconfig.fieldmapping;
        if (!fieldMapping)
            return;
        this.dynamicSearch = fieldMapping.filter(e => e.criteria);
        if (!this.dynamicSearch && !this.dynamicSearch.length)
            return;
        this.tableDropDown = [
            ...new Set(this.dynamicSearch.map(e => ({
                name: e.tablename,
                value: e.tablename
            })))
        ];
        this.tableDropDown = this.removeDupliacteArrayJson(this.tableDropDown);
        this.columnDropDown = this.dynamicSearch.map(e => {
            const value = `${e.tablename}.${e.field}`;
            return {
                name: e.label,
                value,
                dataType: e.datatype,
                tableName: e.tablename
            };
        });
    }
    removeDupliacteArrayJson(values) {
        const concatArray = values.map(eachValue => Object.values(eachValue).join(''));
        return values.filter((value, index) => concatArray.indexOf(concatArray[index]) === index);
    }
    initDynamicSearch() {
        return this.gridDynamicSearchForm.get('dynamicSearchArray');
    }
    addGridDynamicSearch() {
        this.initDynamicSearch().push(this.createDynamicSearch());
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (dynamicSearch.length > 0) {
            this.saveButtonDisable = false;
        }
        else {
            this.saveButtonDisable = true;
        }
    }
    createDynamicSearch() {
        return this.formBuilder.group({
            tableName: ['', Validators.required],
            columnName: ['', Validators.required],
            condition: ['', Validators.required],
            datatype: [''],
            value: ['', Validators.required],
            tableDropDown: [this.tableDropDown],
            columnDropDown: [this.columnDropDown],
            conditionDropdown: []
        });
    }
    buildDynamicSearch(res) {
        return this.formBuilder.group({
            tableName: res.tableName,
            columnName: res.columnName,
            condition: res.condition,
            datatype: res.datatype,
            value: res.value,
            tableDropDown: [res.tableDropDown],
            columnDropDown: [res.columnDropDown],
            conditionDropdown: [res.conditionDropdown]
        });
    }
    removeDynamicSearch(index) {
        this.initDynamicSearch().removeAt(index);
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (dynamicSearch.length > 0) {
            this.saveButtonDisable = false;
        }
        else {
            this.saveButtonDisable = true;
        }
        // dynamicSearch = dynamicSearch.filter(e => e.value && e.value.trim());
        // const saveDynamicSearch = {
        //   pageId: +this.formId,
        //   criteriaId: +this.criteriaId,
        //   dynamicSearchArray: dynamicSearch
        // };
        // this.dynamicSearchService.saveCriteriaByPageId(saveDynamicSearch).subscribe(result => {
        //   const response = result['data'];
        //   this.criteriaId = response.criteriaId;
        //   this.alertService.success('Criteria deleted successfully');
        // });
    }
    resetDynamicSearch() {
        this.initDynamicSearch().clear();
        this.dynamicSearchResult = [];
        this.saveButtonDisable = true;
        this.dataSource = {
            data: [],
            totalCount: 0
        };
        this.showGridPage = false;
        this.youthSearchJson = [];
        // this.searchGrid(this.http, this.storage);
    }
    getColumnList(index, tableValue) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        getCurrentRow.get('columnDropDown').patchValue([]);
        const columnArray = this.dynamicSearch
            .filter(e => e.tablename === tableValue)
            .map(e => {
            const value = `${e.tablename}.${e.field}`;
            return {
                name: e.label,
                value,
                dataType: e.datatype
            };
        });
        getCurrentRow.get('columnDropDown').patchValue(columnArray);
    }
    getConditionList(index, columnValue) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        const columnDropDown = getCurrentRow.get('columnDropDown').value;
        const columnDropDownJson = columnDropDown.find(e => e.value === columnValue);
        const columnDataType = columnDropDownJson.dataType;
        const columnTableName = columnDropDownJson.tableName;
        getCurrentRow.get('conditionDropdown').patchValue([]);
        getCurrentRow.get('datatype').patchValue(columnDataType);
        getCurrentRow.get('tableName').patchValue(columnTableName);
        // getCurrentRow.get('conditionDropdown').patchValue([
        //   {
        //     name: 'Equal To',
        //     value: 'Equal_To'
        //   },
        //   {
        //     name: 'Like',
        //     value: 'Like'
        //   }
        // ]);
        if (columnDataType === 'textfield' || columnDataType === 'textarea') {
            getCurrentRow.get('conditionDropdown').patchValue([
                {
                    name: 'Equal To',
                    value: 'Equal_To'
                },
                {
                    name: 'Like',
                    value: 'Like'
                }
            ]);
        }
        else {
            getCurrentRow.get('conditionDropdown').patchValue([
                {
                    name: 'Equal To',
                    value: 'Equal_To'
                }
            ]);
        }
    }
    resetDynamicSearchValue(index) {
        const getCurrentRow = this.initDynamicSearch().at(index);
        getCurrentRow.get('value').patchValue('');
    }
    trimSpaces(element) {
        const getElement = element.controls['value'];
        const getValue = getElement.value.trim();
        getElement.setValue(getValue);
        if (!getValue.length) {
            getElement.touched = true;
            getElement.errors = true;
            /* Remove this redundant jump */
            // return;
        }
    }
    submitDynamicSearch() {
        if (!this.gridDynamicSearchForm.valid) {
            this.gridDynamicSearchForm.markAllAsTouched();
            return;
        }
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        for (let index = 0; index < dynamicSearch.length; index++) {
            const dynamicSearchElement = dynamicSearch[index];
            if (!dynamicSearchElement || !dynamicSearchElement.value.trim()) {
                this.gridDynamicSearchForm.markAllAsTouched();
                return;
            }
        }
        this.showGridPage = true;
        this.dynamicSearchResult = dynamicSearch;
        this.searchGrid(this.http, this.storage);
    }
    saveDynamicSearch() {
        if (!this.gridDynamicSearchForm.valid) {
            this.gridDynamicSearchForm.markAllAsTouched();
            return;
        }
        const dynamicSearch = this.gridDynamicSearchForm.controls['dynamicSearchArray'].value;
        if (!dynamicSearch.length) {
            this.alertService.error('Cannot save empty criteria');
            return;
        }
        for (let index = 0; index < dynamicSearch.length; index++) {
            const dynamicSearchElement = dynamicSearch[index];
            if (!dynamicSearchElement || !dynamicSearchElement.value.trim()) {
                this.gridDynamicSearchForm.markAllAsTouched();
                return;
            }
        }
        const saveDynamicSearch = {
            pageId: +this.formId,
            criteriaId: +this.criteriaId,
            dynamicSearchArray: dynamicSearch
        };
        this.dynamicSearchService.saveCriteriaByPageId(saveDynamicSearch).subscribe(result => {
            const response = result['data'];
            this.criteriaId = response.criteriaId;
            this.alertService.success('Criteria save successfully');
        });
    }
    getCriteriaByPageId() {
        return new Promise((resolve, _rejects) => {
            const pageId = this.formId;
            this.dynamicSearchService.getCriteriaByPageId(pageId).subscribe(result => {
                const response = result['data'];
                if (response && response.length > 0) {
                    const lastIndex = response.length - 1;
                    const lastResponse = response[lastIndex];
                    this.criteriaId = lastResponse.id;
                    let lastDynamicSearchArray = [];
                    if (lastResponse.dynamicSearchArray?.length) {
                        this.saveButtonDisable = false;
                        lastDynamicSearchArray = lastResponse.dynamicSearchArray;
                        lastDynamicSearchArray.forEach(element => {
                            this.initDynamicSearch().push(this.buildDynamicSearch(element));
                        });
                    }
                    this.dynamicSearchResult = lastDynamicSearchArray;
                }
                return resolve({});
            });
        });
    }
    removeAllDynamicSearchCondtion() {
        this.criteriaId = 0;
        this.initDynamicSearch().clear();
        this.saveButtonDisable = true;
        this.dynamicSearchResult = [];
        this.dynamicSearch = [];
        this.youthSearchJson = [];
        this.youthSearchBoolean = false;
    }
    checkRulesBeforeActions(data, item) {
        const pageData = {
            pageid: this.pageId,
            action: item.action,
            pageData: data?.pageData,
            currentUser: this.user,
            primary: data?.data?.primaryColumn,
            rowData: data?.data,
            gridaction: item
        };
        return this.dynamicSearchService.checkRulesInWorkflow(pageData).pipe(map((result) => {
            if (result.data) {
                if (result.data.type === 'VALIDATION') {
                    if (result.data.permission === 'ALLOWED') {
                        return true;
                    }
                    else if (result.data.permission === 'CONFIRMATION') {
                        this.businessRuleMessage = result.data?.message;
                        this.gridActionParams = { data, item };
                        $('#confirmGridAction').modal('show');
                        return false;
                    }
                    else if (result.data.permission === 'DENIED') {
                        this.alertService.error(result.data.message);
                        return false;
                    }
                }
                else if (result.data.type === 'REDIRECTION') {
                    if (result.data.route) {
                        this.router.navigateByUrl(result.data.route);
                        return false;
                    }
                }
            }
            return true;
        }));
    }
    confirmGridAction() {
        this.getActionRoutes(this.gridActionParams.data, this.gridActionParams.item);
    }
    static fac = i0.ngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicSearchComponent, deps: [{ token: i0.Injector }, { token: i1.Router }, { token: i1.ActivatedRoute }, { token: i0.ChangeDetectorRef }, { token: i2.UntypedFormBuilder }, { token: i3.FormioService }, { token: i4.LocalStorageService }, { token: i2.UntypedFormBuilder }, { token: i5.Store }, { token: i6.PlatformDataStoreService }, { token: i7.SharedService }, { token: i8.ConfigService }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.FactoryTarget.Component });
    static cmp = i0.ngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: DynamicSearchComponent, selector: "app-dynamic-search", inputs: { formId: "formId", pageId: "pageId", componentId: "componentId" }, outputs: { outerRouting: "outerRouting" }, host: { listeners: { "window:resize": "onResize($event)" } }, viewQueries: [{ propertyName: "searchcriteriamenutrigger", first: true, predicate: ["searchcriteriamenutrigger"], descendants: true }, { propertyName: "dataGrid", first: true, predicate: DxDataGridComponent, descendants: true }, { propertyName: "callDialogPopup", first: true, predicate: ["callDialogPopup"], descendants: true }, { propertyName: "formIO", first: true, predicate: ["formIO"], descendants: true }, { propertyName: "filterOptionsDropdown", first: true, predicate: MultiSelect, descendants: true }, { propertyName: "DeleteGridList", first: true, predicate: ["DeleteGridList"], descendants: true }, { propertyName: "DeleteGridListWithoutReason", first: true, predicate: ["DeleteGridListWithoutReason"], descendants: true }, { propertyName: "ApproveDeleteGridList", first: true, predicate: ["ApproveDeleteGridList"], descendants: true }], ngImport: i0, template: "<app-alert></app-alert>\r\n<div [class]=\"userAction === 'view' ? 'readOnlyCard' : ''\">\r\n  <div *ngIf=\"header\">\r\n    <table class=\"table table-bordered\" aria-describedby=\"border\">\r\n      <thead>\r\n        <tr>\r\n          <th *ngFor=\"let item of titletab | keyvalue\">{{ item.key }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td *ngFor=\"let item of titletab | keyvalue\">{{ item.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <p-accordion class=\"w-full dynamic-search\" [activeIndex]=\"1\" iconPos=\"endVal\"\r\n    *ngIf=\"dynamicSearch && dynamicSearch.length > 0\">\r\n    <p-accordionTab>\r\n      <ng-template pTemplate=\"header\">\r\n        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n          <span class=\"font-bold\">Quick Search</span>\r\n        </span>\r\n      </ng-template>\r\n      <div class=\"d-flex my-2 row\">\r\n        <div class=\"col-12 text-md-right\">\r\n          <button type=\"button\" title=\"Add New\" pripple class=\"p-ripple p-element btn btn-primary btn-icon\"\r\n            (click)=\"addGridDynamicSearch()\">\r\n            <em class=\"pi pi-plus font-weight-bold\"></em>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]=\"gridDynamicSearchForm\">\r\n        <ng-container formArrayName=\"dynamicSearchArray\">\r\n          <div *ngFor=\"let dynamicSearchItem of initDynamicSearch().controls; let dynamicSearchIndex = index\"\r\n            [formGroupName]=\"dynamicSearchIndex\">\r\n            <div class=\"row rbac-card\">\r\n              <div class=\"col-md-11 col-12 pr-0\">\r\n                <div class=\"row\">\r\n                  <!-- <div class=\"col-lg-3 col-md-6 col-12 mb-3\"> -->\r\n                  <!--   <label class=\"referral-form-labels\" for=\"tableList\">Table</label> -->\r\n                  <!--   <p-dropdown -->\r\n                  <!--     [options]=\"dynamicSearchItem.get('tableDropDown')?.value\" -->\r\n                  <!--     optionLabel=\"name\" -->\r\n                  <!--     optionValue=\"value\" -->\r\n                  <!--     id=\"tableList_{{ dynamicSearchIndex }}\" -->\r\n                  <!--     placeholder=\"Select Table\" -->\r\n                  <!--     formControlName=\"tableName\" -->\r\n                  <!--     tabindex=\"0\" -->\r\n                  <!--     styleClass=\"w-100\" -->\r\n                  <!--     (onChange)=\"getColumnList(dynamicSearchIndex, dynamicSearchItem.get('tableName')?.value)\"> -->\r\n                  <!--   </p-dropdown> -->\r\n                  <!--   <span -->\r\n                  <!--     class=\"text-danger error-text\" -->\r\n                  <!--     *ngIf=\" -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.hasError('required') && -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.touched -->\r\n                  <!--     \" -->\r\n                  <!--     >Please Select Table Name</span -->\r\n                  <!--   > -->\r\n                  <!-- </div> -->\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"columnList\">Column <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('columnDropDown')?.value\"\r\n                      id=\"columnList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Column\" formControlName=\"columnName\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"getConditionList(dynamicSearchIndex, dynamicSearchItem.get('columnName')?.value)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('columnName')?.hasError('required') &&\r\n                        dynamicSearchItem.get('columnName')?.touched\r\n                      \">Please Select Column Name</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"conditionList\">Condition <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('conditionDropdown')?.value\"\r\n                      id=\"conditionList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Condition\" formControlName=\"condition\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"resetDynamicSearchValue(dynamicSearchIndex)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('condition')?.hasError('required') &&\r\n                        dynamicSearchItem.get('condition')?.touched\r\n                      \">Please Select Condition</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"valueList\">Value <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <input type=\"text\" class=\"p-inputtext w-100\" id=\"valueList\" formControlName=\"value\"\r\n                      placeholder=\"\" />\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('value')?.hasError('required') && dynamicSearchItem.get('value')?.touched\r\n                      \">Please Fill Value</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                    <span class=\"material-symbols-outlined text-danger delete-icon\" role=\"button\"\r\n                      id=\"deleteDynamicSearch\" (click)=\"removeDynamicSearch(dynamicSearchIndex)\"\r\n                      title=\"Delete\">delete</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                class=\"col-md-1 col-12 mb-3 text-md-center d-md-flex align-items-md-center justify-content-md-center flex-column\">\r\n                <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                <span class=\"material-symbols-outlined text-danger\" role=\"button\" id=\"deleteDynamicSearch\"\r\n                  (click)=\"removeDynamicSearch(dynamicSearchIndex)\" title=\"Delete\">delete</span>\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"removeDynamicSearch()\">Delete</button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex flex-column align-self-end\">\r\n            <div class=\"col-md-12 text-md-right mt-2\">\r\n              <!-- <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"saveDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">\r\n                Save\r\n              </button> -->\r\n              <button type=\"button\" class=\"btn btn-cancel\" (click)=\"resetDynamicSearch()\">Clear</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">Search</button>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n    </p-accordionTab>\r\n  </p-accordion>\r\n  <div class=\"page-wrp mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <!-- <div *ngIf=\"true\">\r\n          <div class=\"d-flex\" [formGroup]=\"filterForm\" *ngIf=\"gridType !== 'view'\">\r\n            <div class=\"col-md-12\">\r\n              <p-multiSelect [options]=\"filterOptions\" styleClass=\"filterOptions\" [group]=\"true\"\r\n                selectedItemsLabel=\"{0} items selected\" defaultLabel=\"Select\" optionLabel=\"label\" optionValue=\"id\"\r\n                id=\"filteroptions\" ariaFilterLabel=\"searchbox\" formControlName=\"selectedFilter\"\r\n                (onChange)=\"changeFilterOptions($event)\">\r\n                <ng-template let-group pTemplate=\"group\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <span>{{ group.columnName }}</span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <button *ngIf=\"gridType === 'view'\" type=\"button\" class=\"btn btn-cancel mb-3\" (click)=\"goBack()\">Back</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 text-right\">\r\n        <div class=\"d-flex justify-content-between align-items-center col-12\" *ngIf=\"getTitle(updateGrid?.gridTitle)\">\r\n          <h6 class=\"font-weight-bold mb-0\"></h6>\r\n\r\n          <div class=\"d-flex inmate-btn-align\">\r\n            <button class=\"btn-print my-2\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\"\r\n              *ngIf=\"showExport\">\r\n              <img class=\"export\" src=\"../../../assets/images/svg/Export_Icon.svg\" alt=\"export\" />\r\n            </button>\r\n            <mat-menu class=\"d-inline-block my-2\" #menu=\"matMenu\" *ngIf=\"showExport\">\r\n              <button mat-menu-item (click)=\"onClose()\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>{{ icon }}</mat-icon>{{ openclose }} Slidebar\r\n              </button>\r\n              <button mat-menu-item (click)=\"reset('excel')\"><mat-icon>grid_on</mat-icon> Export to Excel</button>\r\n              <button mat-menu-item (click)=\"reset('pdf')\"><mat-icon>picture_as_pdf</mat-icon> Export to PDF</button>\r\n              <button mat-menu-item (click)=\"reset('print')\"><mat-icon>print</mat-icon> Print</button>\r\n              <button mat-menu-item (click)=\"reset(pageType)\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>reset_tv</mat-icon> Reset Search Criteria\r\n              </button>\r\n              <button *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\" mat-menu-item\r\n                [matMenuTriggerFor]=\"searchCriteriaList\" #searchcriteriamenutrigger=\"matMenuTrigger\">\r\n                <mat-icon>add_circle_outline</mat-icon> Save Search Criteria\r\n              </button>\r\n            </mat-menu>\r\n            <div [ngClass]=\"updateGrid && updateGrid?.chooser ? 'd-inline-block add-btn-right' : 'd-inline-block'\">\r\n              <!--Add Button, Column chooser button are replacing eachother when its selected-->\r\n              <button class=\"btn-icon-bg d-inline-block pull-right text-right ml-1 my-2\"\r\n                *ngIf=\"showGridPage && item && updateGrid?.isInitialFormLoad\" (click)=\"closeForm()\">\r\n                <em class=\"fa fa-times\"></em>\r\n              </button>\r\n              <div *ngIf=\"\r\n                  updateGrid?.gridActionFormArray !== null &&\r\n                  updateGrid?.gridActionFormArray !== undefined &&\r\n                  updateGrid?.gridActionFormArray &&\r\n                  updateGrid?.gridActionFormArray?.length\r\n                \" class=\"update-grid-action-button-container\">\r\n                <ng-container *ngFor=\"let item of updateGrid?.gridActionFormArray; let i = index\">\r\n                  <ng-container *ngIf=\"!(updateGrid?.isShowOnTop && item?.action?.toLowerCase() === 'add')\">\r\n                    <button *ngIf=\"item?.icon && item.isOutsideGrid && !item.hide\" class=\"btn btn-primary mt-2\"\r\n                      (click)=\"getOutsideGridAction(item)\">\r\n                      <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                    </button>\r\n                    <ng-container *ngIf=\"item?.icon && item.isOutsideGrid && item.type === 'Ocr Scan'\">\r\n                      <label for=\"file\" class=\"btn btn-primary mt-2\">\r\n                        <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                      </label>\r\n                      <input type=\"file\" (change)=\"uploadDocument(item, $event)\" id=\"file\" aria-hidden=\"true\"\r\n                        style=\"visibility: hidden; display: none\" />\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"updateGrid && updateGrid?.chooser\" class=\"col-custom my-2\">\r\n              <button class=\"btn btn-primary btn-icon ml-1\" (click)=\"columnChooserClick()\">\r\n                <em class=\"fa fa-columns\" aria-hidden=\"true\"></em>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button *ngIf=\"isAddButton\" type=\"button\" class=\"btn btn-primary my-2\" (click)=\"redirect()\">Add</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-menu #searchCriteriaList=\"matMenu\" class=\"searchlist\">\r\n      <div class=\"row col-sm-12 mt-4\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"col-sm-6\">\r\n          <mat-form-field>\r\n            <input matInput [(ngModel)]=\"searchCriteria\" placeholder=\"Search Criteria\" />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-sm-2 mt-2\">\r\n          <button class=\"btn btn-pri\" [disabled]=\"!searchCriteria\" (click)=\"saveSearchCriteria()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row col-sm-12\">\r\n        <table aria-describedby=\"Search_Criteria\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Search Criteria</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody *ngIf=\"totalcount\">\r\n            <tr *ngFor=\"let sc of searchCriteriaArr\">\r\n              <td>\r\n                <mat-icon>search</mat-icon>\r\n                <a href=\"javascript:void(0)\" (click)=\"setSearch(sc.data)\">{{ sc.data.searchCriteria }}</a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </mat-menu>\r\n    <div class=\"split-page\">\r\n      <as-split unit=\"percent\" useTransition=\"true\" direction=\"{{ layouttype }}\">\r\n        <as-split-area size=\"{{ spliterSize }}\">\r\n          <div *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <formio #formIO [form]=\"jsonForm\" [submission]=\"submittedData\" (submit)=\"onSubmit($event)\"\r\n                  (customEvent)=\"customEvent($event)\"></formio>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n        <as-split-area size=\"{{ gridspliterSize }}\">\r\n          <div class=\"row\" *ngIf=\"\r\n              ((updateGrid?.isInitialFormLoad !== undefined &&\r\n                updateGrid?.isInitialFormLoad !== null &&\r\n                updateGrid?.isInitialFormLoad) ||\r\n                (updateGrid?.isShowOnTop !== undefined &&\r\n                  updateGrid?.isShowOnTop !== null &&\r\n                  updateGrid?.isShowOnTop)) &&\r\n              item\r\n            \">\r\n            <div class=\"col-12\">\r\n              <ndc-dynamic class=\"no-drag\" [ndcDynamicComponent]=\"item.component\" [ndcDynamicInputs]=\"item\"\r\n                [ndcDynamicOutputs]=\"item?.outputs\"></ndc-dynamic>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"row\" *ngIf=\"showGridPage\">\r\n              <div class=\"col-lg-12 gridview\">\r\n                <div class=\"card mb-2\">\r\n                  <div class=\"card-body {{ getTitleClass(fromTitle) }}\">\r\n\r\n                    <!-- [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"  Removed server filtering-->\r\n                    <dx-data-grid [dataSource]=\"dataSource\" [columnMinWidth]=\"100\" [width]=\"'100%'\" [filterSyncEnabled]=\"true\" #dataGrid\r\n                      [columnResizingMode]=\"'widget'\" [allowColumnReordering]=\"true\" [allowColumnResizing]=\"true\"\r\n                      [columnAutoWidth]=\"true\" (onContentReady)=\"contentReady($event)\"\r\n                      (onCellPrepared)=\"onCellPrepared($event)\" (onRowPrepared)=\"onRowPrepared($event)\"\r\n                      (onCellClick)=\"onCellClick($event)\" (onExporting)=\"onExporting($event)\" [showBorders]=\"true\"\r\n                      [rowAlternationEnabled]=\"true\" [showColumnLines]=\"true\" [showRowLines]=\"true\">\r\n                      <dxo-selection [selectAllMode]=\"allMode\" [showCheckBoxesMode]=\"checkBoxesMode\"\r\n                        [mode]=\"getGridSelection(updateGrid?.gridSelection)\"></dxo-selection>\r\n                      <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n                      <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n                      <dxo-filter-row [visible]=\"showFilterRowPanel\"></dxo-filter-row>\r\n                      <dxo-state-storing [enabled]=\"true\" type=\"custom\" [customSave]=\"customSave\"\r\n                        [customLoad]=\"customLoad\"></dxo-state-storing>\r\n\r\n                      <dxo-column-chooser [enabled]=\"true\" mode=\"select\">\r\n                        <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n                        </dxo-position>\r\n                      </dxo-column-chooser>\r\n\r\n                      <!--Grid - Footer filter removed -->\r\n                      <dxo-paging [pageSize]=currentPageSize></dxo-paging>\r\n                      <dxo-pager [visible]=\"true\" [showPageSizeSelector]=\"true\" [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n                        [displayMode]=\"displayMode\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                      <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n                      <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n                      <ng-container *ngFor=\"let column of columns; let i = index\">\r\n                        <ng-container *ngIf=\"column?.hide !== true\">\r\n                          <ng-container *ngIf=\"column?.link; else noLink\">\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [fixed]=\"column?.fixed\" [dataField]=\"column?.columnDef\"\r\n                              [caption]=\"column?.header\" [allowFiltering]=\"column?.filter\" cellTemplate=\"cellTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [width]=\"column?.width\"\r\n                              [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                              [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-container>\r\n                          <ng-template #noLink>\r\n                            <ng-container *ngIf=\"column?.icon; else noShowmore\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"iconTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noShowmore>\r\n                            <ng-container *ngIf=\"column?.showmore; else noIcon\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"showmoreTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noIcon>\r\n                            <ng-container *ngIf=\"column?.dateFormat; else noDate\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                *ngIf=\"column?.dateFormat === 'date' || column?.dateFormat === 'datetime'\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" dataType=\"date\"\r\n                                [format]=\"getDateFormat(column?.dateFormat)\" [allowSorting]=\"column?.sort\"\r\n                                [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                                [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noDate>\r\n                            <ng-container *ngIf=\"column?.header.toLowerCase().trim() === 'status'; else noStatus\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"statusTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noStatus>\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                              [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                              [allowFiltering]=\"column?.filter\" cellTemplate=\"dataTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                              [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-template>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showGridActions(updateGrid, showActionColumn, gridType)\">\r\n                        <dxi-column [width]=\"120\" [allowFiltering]=\"false\" [showInColumnChooser]=\"false\"\r\n                          [allowSorting]=\"false\" caption=\"Action\" cellTemplate=\"editCellTemplate\">\r\n                        </dxi-column>\r\n                      </ng-container>\r\n                      <div *dxTemplate=\"let d of 'cellTemplate'\" class=\"dashboard-hover\">\r\n                        <a *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d, item)\">{{ d.value !== 'null' ?\r\n                          d.value : '' }}\r\n                          <span *ngIf=\"showIcon(d)\"></span>\r\n                        </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <em *ngIf=\"item.action !== 'add'\" [class]=\"item.icon\" (click)=\"popup(d?.key, item)\"></em>\r\n                        </span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'showmoreTemplate'\" class=\"description-container\">\r\n                          <span>{{ toggleShowMore(d.value, d.column?.dataField) }}</span>\r\n                          <a class=\"toggle-link\" *ngIf=\"d.value.length > truncateTextValue\" (click)=\"toggleShowMoreState(d.value, d.column?.dataField)\">\r\n                            {{ showMoreText[getToggleKey(d.value, d.column?.dataField)] ? 'Show Less' : 'Show More' }}\r\n                          </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'editCellTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <!-- Tooltip for deleted row -->\r\n                          <a *ngIf=\"\r\n                          item?.action === 'info'\"\r\n                            class=\"no-bg\"\r\n                            [matTooltip]=\"'Delete Status: Pending\\n' + item?.message\"\r\n                            [matTooltipPosition]=\"'left'\"\r\n                            [matTooltipShowDelay]=\"100\"\r\n                            [matTooltipHideDelay]=\"100\"\r\n                            [matTooltipClass]=\"'custom-tooltip-class'\">\r\n                            <em [class]=\"item.icon\"></em>\r\n                          </a>\r\n                          <a *ngIf=\"\r\n                                item?.icon &&\r\n                                item?.action !== 'info' &&\r\n                                !item.isOutsideGrid &&\r\n                                d?.data?.status !== 'Closed' &&\r\n                                item.action !== 'changepathway' &&\r\n                                !item?.hide;\r\n                              else changepathway\r\n                            \" class=\"no-bg\" matTooltip=\"{{ titleCaseToolTip(item?.action) }}\"\r\n                            (click)=\"getInsideGridAction(d, item)\">\r\n                            <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                          </a>\r\n\r\n                          <ng-template #changepathway>\r\n                            <a *ngIf=\"item.action === 'changepathway' && d?.rowIndex === 0\" class=\"no-bg\"\r\n                              matTooltip=\"{{ item?.action }}\" (click)=\"getInsideGridAction(d, item)\">\r\n                              <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                            </a>\r\n                          </ng-template>\r\n                        </span>\r\n                        <a *ngIf=\"updateGrid?.gridActionFormArray?.icon\" class=\"no-bg\" matTooltip=\"Open\"\r\n                          (click)=\"openLink(d)\">\r\n                          <em class=\"fa fa-external-link\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.edit\" class=\"no-bg\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                          <em class=\"fa fa-pencil\" title=\"Edit\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.view\" class=\"no-bg\" matTooltip=\"View\" (click)=\"viewData(d)\">\r\n                          <em class=\"fa fa-eye\" title=\"View\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.delete\" class=\"no-bg text-danger\" matTooltip=\"Delete\"\r\n                          (click)=\"deleteData(d)\">\r\n                          <em class=\"fa fa-trash\"></em>\r\n                        </a>\r\n                        <button *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\"\r\n                            class=\"fa fa-toggle-on\"></em>\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\"\r\n                            class=\"fa fa-toggle-off\"></em>\r\n                        </button>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'statusTemplate'\" [class]=\"changeStatusColor(d.value)\">\r\n                        <span>{{ d.value }}</span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'dataTemplate'\"\r\n                        [ngClass]=\"{ 'dashboard-hover-contact': d.column?.dataField === 'servicename' }\">\r\n                        <div class=\"d-inline-block\" *ngIf=\"\r\n                            d.column?.dataField === 'clientaccountno' &&\r\n                            d.data.accountstatus &&\r\n                            d.data.accountstatus === 'INA'\r\n                          \">\r\n                          <em class=\"fa fa-warning red-color\"></em>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'servicename'\">\r\n                          <div class=\"arrow-right\" *ngIf=\"d.data.narrative\">\r\n                            <div class=\"person-details\">\r\n                              <p><span>Narrative</span><span [innerHtml]=\"splitingData(d, '.')\"></span></p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'narrative'; else dataValue\">\r\n                          {{ d.value }}\r\n                        </div>\r\n                        <ng-template #dataValue>{{ d.value }}</ng-template>\r\n                      </div>\r\n                    </dx-data-grid>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n      </as-split>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #callDialogPopup>\r\n  <h2 matDialogTitle>Narrative</h2>\r\n  <div [innerHTML]=\"popupData\"></div>\r\n  <div class=\"text-right\">\r\n    <button mat-button (click)=\"closeDialogPopup()\" class=\"btn btn-cancel mr-2\">Close</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<app-dynamic-details *ngIf=\"openTab\" [key]=\"selectedRowData\"></app-dynamic-details>\r\n\r\n<ng-template #DeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ DefaultDeletePopupTextAftThresholdTime }}</div>\r\n    <div class=\"mb-2\">\r\n      <label for=\"reasonfordelete\" class=\"intake-form-labels clearfix mb-2\">Reason for record deletion <span\r\n          class=\"text-danger\">*</span></label>\r\n      <textarea rows=\"3\" id=\"reasonfordelete\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Reason for deletion (4000 character limit)\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"enteredReason\" (input)=\"checkIsDisabled($event.target.value)\"></textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithReason()\"\r\n      [disabled]=\"isDisabled\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #DeleteGridListWithoutReason>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ deletePopupText }}</div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #ApproveDeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-4\">{{this.deletedReason}}</div>\r\n    <!-- <div class=\"clearfix mb-4\">Do you approve this deletion?</div> -->\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right mb-2 btn btn-primary delete\" data-dismiss=\"modal\"\r\n      (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n      (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n<div class=\"modal\" id=\"confirmGridAction\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ businessRuleMessage }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"confirmGridAction()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">No</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".split-page{outline:3px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.card-title{position:absolute;left:15px;font-size:bold}.red-color{color:#ff6252}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding-bottom:2px!important;text-align:center!important;font-family:Roboto,sans-serif!important}.dx-datagrid-rowsview .dx-row{height:40px!important;font-size:var(--base-font-size)}.dx-datagrid-rowsview .dx-row.dx-row-lines>td{vertical-align:middle!important;overflow:unset;padding-left:6px!important;padding-right:6px!important}.card{box-shadow:none!important;border:none!important}.card-header{padding-left:0;background:#eff8ff;height:auto}.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>td,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>tr>td{overflow:unset!important}.dashboard-hover{position:relative}.dashboard-hover:hover .arrow-right{display:block;z-index:1}.dashboard-hover .person-details{display:inline-block;width:100%}.dashboard-hover .person-details p{margin:0}.dashboard-hover .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top}.dashboard-hover .person-details p span:last-child{width:160px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal}.dashboard-hover .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover .arrow-right{width:280px;min-height:95px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.dashboard-hover-contact{position:relative}.dashboard-hover-contact:hover .arrow-right{display:block;z-index:1}.dashboard-hover-contact .person-details{display:inline-block;width:100%}.dashboard-hover-contact .person-details p{margin:0}.dashboard-hover-contact .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top;word-break:break-word;white-space:normal}.dashboard-hover-contact .person-details p span:last-child{width:135px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal;text-align:left}.dashboard-hover-contact .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover-contact .arrow-right{width:280px;min-height:50px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover-contact .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.open{color:#ff6252;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.draft,.returned{color:red;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.closed,.completed,.approved{color:#2ecd53;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.orange{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.blue{color:#2c2863;border-radius:6px;font-weight:700;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending{color:#e29866;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending-approval{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.readOnlyCard{pointer-events:none!important;opacity:.7!important}.page-wrp{background:var(--bg-light)}.page-wrp h6{color:var(--text-dark)}:host ::ng-deep .as-split-gutter{background:var(--table-header)!important}.title{font-weight:700;font-size:17px;text-transform:capitalize;color:#2c2863}.col-custom .btn-icon-bg{padding:5px 8px!important}:host ::ng-deep .split-page .card-body{padding:0 15px!important}:host ::ng-deep .filterOptions{width:250px}:host ::ng-deep .p-multiselect-items{font-size:12px}:host ::ng-deep .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{padding:.2rem .5rem}:host ::ng-deep .dashboard-hover a{color:var(--interactive-color)!important;cursor:pointer}:host ::ng-deep .dx-datagrid .dx-column-indicators{position:relative;right:1px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-column-chooser{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-checkbox-icon{border:1px solid var(--bg-light)!important}:host ::ng-deep .dx-datagrid .business-group .dx-template-wrapper,:host ::ng-deep .dx-datagrid .business-group .business-alert{display:inline-flex}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .as-vertical .as-split-gutter{display:none!important}.no-resize{resize:none}:host ::ng-deep .custom-mat-tooltip{width:150px;font-size:var(--font-14)}:host ::ng-deep .mdc-tooltip__surface-animation{will-change:auto!important}\n"], dependencies: [{ kind: "directive", type: i9.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i9.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i10.FormioComponent, selector: "formio" }, { kind: "component", type: i11.AlertComponent, selector: "app-alert" }, { kind: "directive", type: i2.NgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i2.FormGroupName, selector: "[formGroupName]", inputs: ["formGroupName"] }, { kind: "directive", type: i2.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }, { kind: "component", type: i12.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i13.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i14.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { kind: "component", type: i15.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "component", type: i16.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i16.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i16.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "directive", type: i17.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i18.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "component", type: i19.DxDataGridComponent, selector: "dx-data-grid", inputs: ["accessKey", "activeStateEnabled", "allowColumnReordering", "allowColumnResizing", "autoNavigateToFocusedRow", "cacheEnabled", "cellHintEnabled", "columnAutoWidth", "columnChooser", "columnFixing", "columnHidingEnabled", "columnMinWidth", "columnResizingMode", "columns", "columnWidth", "customizeColumns", "dataRowTemplate", "dataSource", "dateSerializationFormat", "disabled", "editing", "elementAttr", "errorRowEnabled", "export", "filterBuilder", "filterBuilderPopup", "filterPanel", "filterRow", "filterSyncEnabled", "filterValue", "focusedColumnIndex", "focusedRowEnabled", "focusedRowIndex", "focusedRowKey", "grouping", "groupPanel", "headerFilter", "height", "highlightChanges", "hint", "hoverStateEnabled", "keyboardNavigation", "keyExpr", "loadPanel", "masterDetail", "noDataText", "pager", "paging", "remoteOperations", "renderAsync", "repaintChangesOnly", "rowAlternationEnabled", "rowDragging", "rowTemplate", "rtlEnabled", "scrolling", "searchPanel", "selectedRowKeys", "selection", "selectionFilter", "showBorders", "showColumnHeaders", "showColumnLines", "showRowLines", "sortByGroupSummaryInfo", "sorting", "stateStoring", "summary", "syncLookupFilterValues", "tabIndex", "toolbar", "twoWayBindingEnabled", "visible", "width", "wordWrapEnabled"], outputs: ["onAdaptiveDetailRowPreparing", "onCellClick", "onCellDblClick", "onCellHoverChanged", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDataErrorOccurred", "onDisposing", "onEditCanceled", "onEditCanceling", "onEditingStart", "onEditorPrepared", "onEditorPreparing", "onExporting", "onFocusedCellChanged", "onFocusedCellChanging", "onFocusedRowChanged", "onFocusedRowChanging", "onInitialized", "onInitNewRow", "onKeyDown", "onOptionChanged", "onRowClick", "onRowCollapsed", "onRowCollapsing", "onRowDblClick", "onRowExpanded", "onRowExpanding", "onRowInserted", "onRowInserting", "onRowPrepared", "onRowRemoved", "onRowRemoving", "onRowUpdated", "onRowUpdating", "onRowValidating", "onSaved", "onSaving", "onSelectionChanged", "onToolbarPreparing", "accessKeyChange", "activeStateEnabledChange", "allowColumnReorderingChange", "allowColumnResizingChange", "autoNavigateToFocusedRowChange", "cacheEnabledChange", "cellHintEnabledChange", "columnAutoWidthChange", "columnChooserChange", "columnFixingChange", "columnHidingEnabledChange", "columnMinWidthChange", "columnResizingModeChange", "columnsChange", "columnWidthChange", "customizeColumnsChange", "dataRowTemplateChange", "dataSourceChange", "dateSerializationFormatChange", "disabledChange", "editingChange", "elementAttrChange", "errorRowEnabledChange", "exportChange", "filterBuilderChange", "filterBuilderPopupChange", "filterPanelChange", "filterRowChange", "filterSyncEnabledChange", "filterValueChange", "focusedColumnIndexChange", "focusedRowEnabledChange", "focusedRowIndexChange", "focusedRowKeyChange", "groupingChange", "groupPanelChange", "headerFilterChange", "heightChange", "highlightChangesChange", "hintChange", "hoverStateEnabledChange", "keyboardNavigationChange", "keyExprChange", "loadPanelChange", "masterDetailChange", "noDataTextChange", "pagerChange", "pagingChange", "remoteOperationsChange", "renderAsyncChange", "repaintChangesOnlyChange", "rowAlternationEnabledChange", "rowDraggingChange", "rowTemplateChange", "rtlEnabledChange", "scrollingChange", "searchPanelChange", "selectedRowKeysChange", "selectionChange", "selectionFilterChange", "showBordersChange", "showColumnHeadersChange", "showColumnLinesChange", "showRowLinesChange", "sortByGroupSummaryInfoChange", "sortingChange", "stateStoringChange", "summaryChange", "syncLookupFilterValuesChange", "tabIndexChange", "toolbarChange", "twoWayBindingEnabledChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { kind: "component", type: i20.DxoColumnChooserComponent, selector: "dxo-column-chooser", inputs: ["allowSearch", "container", "emptyPanelText", "enabled", "height", "mode", "position", "search", "searchTimeout", "selection", "sortOrder", "title", "width"] }, { kind: "component", type: i20.DxoPositionComponent, selector: "dxo-position", inputs: ["at", "boundary", "boundaryOffset", "collision", "my", "of", "offset"] }, { kind: "component", type: i20.DxoSelectionComponent, selector: "dxo-selection", inputs: ["allowSelectAll", "recursive", "selectByClick", "deferred", "mode", "selectAllMode", "showCheckBoxesMode"] }, { kind: "component", type: i20.DxiColumnComponent, selector: "dxi-column", inputs: ["alignment", "allowEditing", "allowExporting", "allowFiltering", "allowFixing", "allowGrouping", "allowHeaderFiltering", "allowHiding", "allowReordering", "allowResizing", "allowSearch", "allowSorting", "autoExpandGroup", "buttons", "calculateCellValue", "calculateDisplayValue", "calculateFilterExpression", "calculateGroupValue", "calculateSortValue", "caption", "cellTemplate", "columns", "cssClass", "customizeText", "dataField", "dataType", "editCellTemplate", "editorOptions", "encodeHtml", "falseText", "filterOperations", "filterType", "filterValue", "filterValues", "fixed", "fixedPosition", "format", "formItem", "groupCellTemplate", "groupIndex", "headerCellTemplate", "headerFilter", "hidingPriority", "isBand", "lookup", "minWidth", "name", "ownerBand", "renderAsync", "selectedFilterOperation", "setCellValue", "showEditorAlways", "showInColumnChooser", "showWhenGrouped", "sortIndex", "sortingMethod", "sortOrder", "trueText", "type", "validationRules", "visible", "visibleIndex", "width"], outputs: ["filterValueChange", "filterValuesChange", "groupIndexChange", "selectedFilterOperationChange", "sortIndexChange", "sortOrderChange", "visibleChange", "visibleIndexChange"] }, { kind: "component", type: i20.DxoHeaderFilterComponent, selector: "dxo-header-filter", inputs: ["allowSearch", "allowSelectAll", "dataSource", "groupInterval", "height", "search", "searchMode", "width", "searchTimeout", "texts", "visible", "showRelevantValues"] }, { kind: "component", type: i20.DxoExportComponent, selector: "dxo-export", inputs: ["backgroundColor", "enabled", "fileName", "formats", "margin", "printingEnabled", "svgToCanvas", "allowExportSelectedData", "texts"] }, { kind: "component", type: i20.DxoFilterBuilderPopupComponent, selector: "dxo-filter-builder-popup", inputs: ["accessKey", "animation", "closeOnOutsideClick", "container", "contentTemplate", "copyRootClassesToWrapper", "deferRendering", "disabled", "dragAndResizeArea", "dragEnabled", "dragOutsideBoundary", "elementAttr", "enableBodyScroll", "focusStateEnabled", "fullScreen", "height", "hideOnOutsideClick", "hideOnParentScroll", "hint", "hoverStateEnabled", "maxHeight", "maxWidth", "minHeight", "minWidth", "onContentReady", "onDisposing", "onHidden", "onHiding", "onInitialized", "onOptionChanged", "onResize", "onResizeEnd", "onResizeStart", "onShowing", "onShown", "onTitleRendered", "position", "resizeEnabled", "restorePosition", "rtlEnabled", "shading", "shadingColor", "showCloseButton", "showTitle", "tabIndex", "title", "titleTemplate", "toolbarItems", "visible", "width", "wrapperAttr"], outputs: ["heightChange", "positionChange", "visibleChange", "widthChange"] }, { kind: "component", type: i20.DxoFilterRowComponent, selector: "dxo-filter-row", inputs: ["applyFilter", "applyFilterText", "betweenEndText", "betweenStartText", "operationDescriptions", "resetOperationText", "showAllText", "showOperationChooser", "visible"] }, { kind: "component", type: i20.DxoLoadPanelComponent, selector: "dxo-load-panel", inputs: ["enabled", "height", "indicatorSrc", "shading", "shadingColor", "showIndicator", "showPane", "text", "width"] }, { kind: "component", type: i20.DxoPagerComponent, selector: "dxo-pager", inputs: ["allowedPageSizes", "displayMode", "infoText", "label", "showInfo", "showNavigationButtons", "showPageSizeSelector", "visible"] }, { kind: "component", type: i20.DxoPagingComponent, selector: "dxo-paging", inputs: ["enabled", "pageIndex", "pageSize"], outputs: ["pageIndexChange", "pageSizeChange"] }, { kind: "component", type: i20.DxoStateStoringComponent, selector: "dxo-state-storing", inputs: ["customLoad", "customSave", "enabled", "savingTimeout", "storageKey", "type"] }, { kind: "directive", type: i21.DxTemplateDirective, selector: "[dxTemplate]", inputs: ["dxTemplateOf"] }, { kind: "directive", type: i22.DynamicIoDirective, selector: "[ndcDynamicInputs],[ndcDynamicOutputs]", inputs: ["ndcDynamicInputs", "ndcDynamicOutputs"], exportAs: ["ndcDynamicIo"] }, { kind: "component", type: i22.DynamicComponent, selector: "ndc-dynamic", inputs: ["ndcDynamicComponent", "ndcDynamicInjector", "ndcDynamicProviders", "ndcDynamicContent", "ndcDynamicNgModuleRef", "ndcDynamicEnvironmentInjector"], outputs: ["ndcDynamicCreated"] }, { kind: "component", type: i23.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex", "selectOnFocus", "headerAriaLevel"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { kind: "component", type: i23.AccordionTab, selector: "p-accordionTab", inputs: ["id", "header", "headerStyle", "tabStyle", "contentStyle", "tabStyleClass", "headerStyleClass", "contentStyleClass", "disabled", "cache", "transitionOptions", "iconPos", "selected", "headerAriaLevel"], outputs: ["selectedChange"] }, { kind: "directive", type: i24.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "component", type: i25.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "directive", type: i26.InputTextarea, selector: "[pInputTextarea]", inputs: ["autoResize"], outputs: ["onResize"] }, { kind: "pipe", type: i9.KeyValuePipe, name: "keyvalue" }] });
}
i0.ngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicSearchComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-dynamic-search', template: "<app-alert></app-alert>\r\n<div [class]=\"userAction === 'view' ? 'readOnlyCard' : ''\">\r\n  <div *ngIf=\"header\">\r\n    <table class=\"table table-bordered\" aria-describedby=\"border\">\r\n      <thead>\r\n        <tr>\r\n          <th *ngFor=\"let item of titletab | keyvalue\">{{ item.key }}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td *ngFor=\"let item of titletab | keyvalue\">{{ item.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <p-accordion class=\"w-full dynamic-search\" [activeIndex]=\"1\" iconPos=\"endVal\"\r\n    *ngIf=\"dynamicSearch && dynamicSearch.length > 0\">\r\n    <p-accordionTab>\r\n      <ng-template pTemplate=\"header\">\r\n        <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n          <span class=\"font-bold\">Quick Search</span>\r\n        </span>\r\n      </ng-template>\r\n      <div class=\"d-flex my-2 row\">\r\n        <div class=\"col-12 text-md-right\">\r\n          <button type=\"button\" title=\"Add New\" pripple class=\"p-ripple p-element btn btn-primary btn-icon\"\r\n            (click)=\"addGridDynamicSearch()\">\r\n            <em class=\"pi pi-plus font-weight-bold\"></em>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]=\"gridDynamicSearchForm\">\r\n        <ng-container formArrayName=\"dynamicSearchArray\">\r\n          <div *ngFor=\"let dynamicSearchItem of initDynamicSearch().controls; let dynamicSearchIndex = index\"\r\n            [formGroupName]=\"dynamicSearchIndex\">\r\n            <div class=\"row rbac-card\">\r\n              <div class=\"col-md-11 col-12 pr-0\">\r\n                <div class=\"row\">\r\n                  <!-- <div class=\"col-lg-3 col-md-6 col-12 mb-3\"> -->\r\n                  <!--   <label class=\"referral-form-labels\" for=\"tableList\">Table</label> -->\r\n                  <!--   <p-dropdown -->\r\n                  <!--     [options]=\"dynamicSearchItem.get('tableDropDown')?.value\" -->\r\n                  <!--     optionLabel=\"name\" -->\r\n                  <!--     optionValue=\"value\" -->\r\n                  <!--     id=\"tableList_{{ dynamicSearchIndex }}\" -->\r\n                  <!--     placeholder=\"Select Table\" -->\r\n                  <!--     formControlName=\"tableName\" -->\r\n                  <!--     tabindex=\"0\" -->\r\n                  <!--     styleClass=\"w-100\" -->\r\n                  <!--     (onChange)=\"getColumnList(dynamicSearchIndex, dynamicSearchItem.get('tableName')?.value)\"> -->\r\n                  <!--   </p-dropdown> -->\r\n                  <!--   <span -->\r\n                  <!--     class=\"text-danger error-text\" -->\r\n                  <!--     *ngIf=\" -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.hasError('required') && -->\r\n                  <!--       dynamicSearchItem.get('tableName')?.touched -->\r\n                  <!--     \" -->\r\n                  <!--     >Please Select Table Name</span -->\r\n                  <!--   > -->\r\n                  <!-- </div> -->\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"columnList\">Column <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('columnDropDown')?.value\"\r\n                      id=\"columnList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Column\" formControlName=\"columnName\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"getConditionList(dynamicSearchIndex, dynamicSearchItem.get('columnName')?.value)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('columnName')?.hasError('required') &&\r\n                        dynamicSearchItem.get('columnName')?.touched\r\n                      \">Please Select Column Name</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"conditionList\">Condition <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <p-dropdown [options]=\"dynamicSearchItem.get('conditionDropdown')?.value\"\r\n                      id=\"conditionList_{{ dynamicSearchIndex }}\" optionLabel=\"name\" optionValue=\"value\"\r\n                      placeholder=\"Select Condition\" formControlName=\"condition\" tabindex=\"0\" styleClass=\"w-100\"\r\n                      (onChange)=\"resetDynamicSearchValue(dynamicSearchIndex)\">\r\n                    </p-dropdown>\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('condition')?.hasError('required') &&\r\n                        dynamicSearchItem.get('condition')?.touched\r\n                      \">Please Select Condition</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels\" for=\"valueList\">Value <span\r\n                        class=\"requiredfield text-danger\">*</span></label>\r\n                    <input type=\"text\" class=\"p-inputtext w-100\" id=\"valueList\" formControlName=\"value\"\r\n                      placeholder=\"\" />\r\n                    <span class=\"text-danger error-text\" *ngIf=\"\r\n                        dynamicSearchItem.get('value')?.hasError('required') && dynamicSearchItem.get('value')?.touched\r\n                      \">Please Fill Value</span>\r\n                  </div>\r\n                  <div class=\"col-lg-3 col-md-6 col-12 mb-1\">\r\n                    <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                    <span class=\"material-symbols-outlined text-danger delete-icon\" role=\"button\"\r\n                      id=\"deleteDynamicSearch\" (click)=\"removeDynamicSearch(dynamicSearchIndex)\"\r\n                      title=\"Delete\">delete</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- <div\r\n                class=\"col-md-1 col-12 mb-3 text-md-center d-md-flex align-items-md-center justify-content-md-center flex-column\">\r\n                <label class=\"referral-form-labels d-md-block d-none\" for=\"deleteDynamicSearch\">&#160;</label>\r\n                <span class=\"material-symbols-outlined text-danger\" role=\"button\" id=\"deleteDynamicSearch\"\r\n                  (click)=\"removeDynamicSearch(dynamicSearchIndex)\" title=\"Delete\">delete</span>\r\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"removeDynamicSearch()\">Delete</button>\r\n              </div> -->\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex flex-column align-self-end\">\r\n            <div class=\"col-md-12 text-md-right mt-2\">\r\n              <!-- <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                (click)=\"saveDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">\r\n                Save\r\n              </button> -->\r\n              <button type=\"button\" class=\"btn btn-cancel\" (click)=\"resetDynamicSearch()\">Clear</button>\r\n              <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitDynamicSearch()\"\r\n                [disabled]=\"saveButtonDisable\">Search</button>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n    </p-accordionTab>\r\n  </p-accordion>\r\n  <div class=\"page-wrp mt-3\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <!-- <div *ngIf=\"true\">\r\n          <div class=\"d-flex\" [formGroup]=\"filterForm\" *ngIf=\"gridType !== 'view'\">\r\n            <div class=\"col-md-12\">\r\n              <p-multiSelect [options]=\"filterOptions\" styleClass=\"filterOptions\" [group]=\"true\"\r\n                selectedItemsLabel=\"{0} items selected\" defaultLabel=\"Select\" optionLabel=\"label\" optionValue=\"id\"\r\n                id=\"filteroptions\" ariaFilterLabel=\"searchbox\" formControlName=\"selectedFilter\"\r\n                (onChange)=\"changeFilterOptions($event)\">\r\n                <ng-template let-group pTemplate=\"group\">\r\n                  <div class=\"flex align-items-center\">\r\n                    <span>{{ group.columnName }}</span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-multiSelect>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <button *ngIf=\"gridType === 'view'\" type=\"button\" class=\"btn btn-cancel mb-3\" (click)=\"goBack()\">Back</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 text-right\">\r\n        <div class=\"d-flex justify-content-between align-items-center col-12\" *ngIf=\"getTitle(updateGrid?.gridTitle)\">\r\n          <h6 class=\"font-weight-bold mb-0\"></h6>\r\n\r\n          <div class=\"d-flex inmate-btn-align\">\r\n            <button class=\"btn-print my-2\" [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\"\r\n              *ngIf=\"showExport\">\r\n              <img class=\"export\" src=\"../../../assets/images/svg/Export_Icon.svg\" alt=\"export\" />\r\n            </button>\r\n            <mat-menu class=\"d-inline-block my-2\" #menu=\"matMenu\" *ngIf=\"showExport\">\r\n              <button mat-menu-item (click)=\"onClose()\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>{{ icon }}</mat-icon>{{ openclose }} Slidebar\r\n              </button>\r\n              <button mat-menu-item (click)=\"reset('excel')\"><mat-icon>grid_on</mat-icon> Export to Excel</button>\r\n              <button mat-menu-item (click)=\"reset('pdf')\"><mat-icon>picture_as_pdf</mat-icon> Export to PDF</button>\r\n              <button mat-menu-item (click)=\"reset('print')\"><mat-icon>print</mat-icon> Print</button>\r\n              <button mat-menu-item (click)=\"reset(pageType)\" *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n                <mat-icon>reset_tv</mat-icon> Reset Search Criteria\r\n              </button>\r\n              <button *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\" mat-menu-item\r\n                [matMenuTriggerFor]=\"searchCriteriaList\" #searchcriteriamenutrigger=\"matMenuTrigger\">\r\n                <mat-icon>add_circle_outline</mat-icon> Save Search Criteria\r\n              </button>\r\n            </mat-menu>\r\n            <div [ngClass]=\"updateGrid && updateGrid?.chooser ? 'd-inline-block add-btn-right' : 'd-inline-block'\">\r\n              <!--Add Button, Column chooser button are replacing eachother when its selected-->\r\n              <button class=\"btn-icon-bg d-inline-block pull-right text-right ml-1 my-2\"\r\n                *ngIf=\"showGridPage && item && updateGrid?.isInitialFormLoad\" (click)=\"closeForm()\">\r\n                <em class=\"fa fa-times\"></em>\r\n              </button>\r\n              <div *ngIf=\"\r\n                  updateGrid?.gridActionFormArray !== null &&\r\n                  updateGrid?.gridActionFormArray !== undefined &&\r\n                  updateGrid?.gridActionFormArray &&\r\n                  updateGrid?.gridActionFormArray?.length\r\n                \" class=\"update-grid-action-button-container\">\r\n                <ng-container *ngFor=\"let item of updateGrid?.gridActionFormArray; let i = index\">\r\n                  <ng-container *ngIf=\"!(updateGrid?.isShowOnTop && item?.action?.toLowerCase() === 'add')\">\r\n                    <button *ngIf=\"item?.icon && item.isOutsideGrid && !item.hide\" class=\"btn btn-primary mt-2\"\r\n                      (click)=\"getOutsideGridAction(item)\">\r\n                      <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                    </button>\r\n                    <ng-container *ngIf=\"item?.icon && item.isOutsideGrid && item.type === 'Ocr Scan'\">\r\n                      <label for=\"file\" class=\"btn btn-primary mt-2\">\r\n                        <em [class]=\"item.icon\"></em><span class=\"ml-2\" *ngIf=\"!!item.name\">{{ item.name }}</span>\r\n                      </label>\r\n                      <input type=\"file\" (change)=\"uploadDocument(item, $event)\" id=\"file\" aria-hidden=\"true\"\r\n                        style=\"visibility: hidden; display: none\" />\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </ng-container>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"updateGrid && updateGrid?.chooser\" class=\"col-custom my-2\">\r\n              <button class=\"btn btn-primary btn-icon ml-1\" (click)=\"columnChooserClick()\">\r\n                <em class=\"fa fa-columns\" aria-hidden=\"true\"></em>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button *ngIf=\"isAddButton\" type=\"button\" class=\"btn btn-primary my-2\" (click)=\"redirect()\">Add</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <mat-menu #searchCriteriaList=\"matMenu\" class=\"searchlist\">\r\n      <div class=\"row col-sm-12 mt-4\" (click)=\"$event.stopPropagation()\">\r\n        <div class=\"col-sm-6\">\r\n          <mat-form-field>\r\n            <input matInput [(ngModel)]=\"searchCriteria\" placeholder=\"Search Criteria\" />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"col-sm-2 mt-2\">\r\n          <button class=\"btn btn-pri\" [disabled]=\"!searchCriteria\" (click)=\"saveSearchCriteria()\">Save</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row col-sm-12\">\r\n        <table aria-describedby=\"Search_Criteria\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Search Criteria</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody *ngIf=\"totalcount\">\r\n            <tr *ngFor=\"let sc of searchCriteriaArr\">\r\n              <td>\r\n                <mat-icon>search</mat-icon>\r\n                <a href=\"javascript:void(0)\" (click)=\"setSearch(sc.data)\">{{ sc.data.searchCriteria }}</a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </mat-menu>\r\n    <div class=\"split-page\">\r\n      <as-split unit=\"percent\" useTransition=\"true\" direction=\"{{ layouttype }}\">\r\n        <as-split-area size=\"{{ spliterSize }}\">\r\n          <div *ngIf=\"pageType === 'DSP' || pageType === 'BUSP'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <formio #formIO [form]=\"jsonForm\" [submission]=\"submittedData\" (submit)=\"onSubmit($event)\"\r\n                  (customEvent)=\"customEvent($event)\"></formio>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n        <as-split-area size=\"{{ gridspliterSize }}\">\r\n          <div class=\"row\" *ngIf=\"\r\n              ((updateGrid?.isInitialFormLoad !== undefined &&\r\n                updateGrid?.isInitialFormLoad !== null &&\r\n                updateGrid?.isInitialFormLoad) ||\r\n                (updateGrid?.isShowOnTop !== undefined &&\r\n                  updateGrid?.isShowOnTop !== null &&\r\n                  updateGrid?.isShowOnTop)) &&\r\n              item\r\n            \">\r\n            <div class=\"col-12\">\r\n              <ndc-dynamic class=\"no-drag\" [ndcDynamicComponent]=\"item.component\" [ndcDynamicInputs]=\"item\"\r\n                [ndcDynamicOutputs]=\"item?.outputs\"></ndc-dynamic>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"row\" *ngIf=\"showGridPage\">\r\n              <div class=\"col-lg-12 gridview\">\r\n                <div class=\"card mb-2\">\r\n                  <div class=\"card-body {{ getTitleClass(fromTitle) }}\">\r\n\r\n                    <!-- [remoteOperations]=\"{ filtering: true, sorting: true, paging: true }\"  Removed server filtering-->\r\n                    <dx-data-grid [dataSource]=\"dataSource\" [columnMinWidth]=\"100\" [width]=\"'100%'\" [filterSyncEnabled]=\"true\" #dataGrid\r\n                      [columnResizingMode]=\"'widget'\" [allowColumnReordering]=\"true\" [allowColumnResizing]=\"true\"\r\n                      [columnAutoWidth]=\"true\" (onContentReady)=\"contentReady($event)\"\r\n                      (onCellPrepared)=\"onCellPrepared($event)\" (onRowPrepared)=\"onRowPrepared($event)\"\r\n                      (onCellClick)=\"onCellClick($event)\" (onExporting)=\"onExporting($event)\" [showBorders]=\"true\"\r\n                      [rowAlternationEnabled]=\"true\" [showColumnLines]=\"true\" [showRowLines]=\"true\">\r\n                      <dxo-selection [selectAllMode]=\"allMode\" [showCheckBoxesMode]=\"checkBoxesMode\"\r\n                        [mode]=\"getGridSelection(updateGrid?.gridSelection)\"></dxo-selection>\r\n                      <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n                      <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n                      <dxo-filter-row [visible]=\"showFilterRowPanel\"></dxo-filter-row>\r\n                      <dxo-state-storing [enabled]=\"true\" type=\"custom\" [customSave]=\"customSave\"\r\n                        [customLoad]=\"customLoad\"></dxo-state-storing>\r\n\r\n                      <dxo-column-chooser [enabled]=\"true\" mode=\"select\">\r\n                        <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n                        </dxo-position>\r\n                      </dxo-column-chooser>\r\n\r\n                      <!--Grid - Footer filter removed -->\r\n                      <dxo-paging [pageSize]=currentPageSize></dxo-paging>\r\n                      <dxo-pager [visible]=\"true\" [showPageSizeSelector]=\"true\" [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n                        [displayMode]=\"displayMode\" [showInfo]=\"true\" [showNavigationButtons]=\"true\"></dxo-pager>\r\n                      <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n                      <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n                      <ng-container *ngFor=\"let column of columns; let i = index\">\r\n                        <ng-container *ngIf=\"column?.hide !== true\">\r\n                          <ng-container *ngIf=\"column?.link; else noLink\">\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [fixed]=\"column?.fixed\" [dataField]=\"column?.columnDef\"\r\n                              [caption]=\"column?.header\" [allowFiltering]=\"column?.filter\" cellTemplate=\"cellTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [width]=\"column?.width\"\r\n                              [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                              [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-container>\r\n                          <ng-template #noLink>\r\n                            <ng-container *ngIf=\"column?.icon; else noShowmore\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"iconTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noShowmore>\r\n                            <ng-container *ngIf=\"column?.showmore; else noIcon\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"showmoreTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noIcon>\r\n                            <ng-container *ngIf=\"column?.dateFormat; else noDate\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                *ngIf=\"column?.dateFormat === 'date' || column?.dateFormat === 'datetime'\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" dataType=\"date\"\r\n                                [format]=\"getDateFormat(column?.dateFormat)\" [allowSorting]=\"column?.sort\"\r\n                                [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\" [sortOrder]=\"column?.sortOrder\"\r\n                                [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noDate>\r\n                            <ng-container *ngIf=\"column?.header.toLowerCase().trim() === 'status'; else noStatus\">\r\n                              <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                                [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                                [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                                [allowFiltering]=\"column?.filter\" cellTemplate=\"statusTemplate\"\r\n                                [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                                [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                              </dxi-column>\r\n                            </ng-container>\r\n                          </ng-template>\r\n                          <ng-template #noStatus>\r\n                            <dxi-column [visible]=\"getVisabilityByChoosableProp(updateGrid?.chooser, column?.visible)\"\r\n                              [allowHiding]=\"!column?.Choosable\" [width]=\"column?.width\" [fixed]=\"column?.fixed\"\r\n                              [dataField]=\"column?.columnDef\" [caption]=\"column?.header\"\r\n                              [allowFiltering]=\"column?.filter\" cellTemplate=\"dataTemplate\"\r\n                              [allowSorting]=\"column?.sort\" [filterValues]=\"column?.filterValues\" [filterValue]=\"column?.filterValue\"\r\n                              [sortOrder]=\"column?.sortOrder\" [sortIndex]=\"column?.sortIndex\">\r\n                            </dxi-column>\r\n                          </ng-template>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"showGridActions(updateGrid, showActionColumn, gridType)\">\r\n                        <dxi-column [width]=\"120\" [allowFiltering]=\"false\" [showInColumnChooser]=\"false\"\r\n                          [allowSorting]=\"false\" caption=\"Action\" cellTemplate=\"editCellTemplate\">\r\n                        </dxi-column>\r\n                      </ng-container>\r\n                      <div *dxTemplate=\"let d of 'cellTemplate'\" class=\"dashboard-hover\">\r\n                        <a *ngIf=\"d.value && d.value !== 'null'\" (click)=\"getRouter(d, item)\">{{ d.value !== 'null' ?\r\n                          d.value : '' }}\r\n                          <span *ngIf=\"showIcon(d)\"></span>\r\n                        </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <em *ngIf=\"item.action !== 'add'\" [class]=\"item.icon\" (click)=\"popup(d?.key, item)\"></em>\r\n                        </span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'showmoreTemplate'\" class=\"description-container\">\r\n                          <span>{{ toggleShowMore(d.value, d.column?.dataField) }}</span>\r\n                          <a class=\"toggle-link\" *ngIf=\"d.value.length > truncateTextValue\" (click)=\"toggleShowMoreState(d.value, d.column?.dataField)\">\r\n                            {{ showMoreText[getToggleKey(d.value, d.column?.dataField)] ? 'Show Less' : 'Show More' }}\r\n                          </a>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'editCellTemplate'\">\r\n                        <span *ngFor=\"let item of d.data.rbacConditions; let i = index\">\r\n                          <!-- Tooltip for deleted row -->\r\n                          <a *ngIf=\"\r\n                          item?.action === 'info'\"\r\n                            class=\"no-bg\"\r\n                            [matTooltip]=\"'Delete Status: Pending\\n' + item?.message\"\r\n                            [matTooltipPosition]=\"'left'\"\r\n                            [matTooltipShowDelay]=\"100\"\r\n                            [matTooltipHideDelay]=\"100\"\r\n                            [matTooltipClass]=\"'custom-tooltip-class'\">\r\n                            <em [class]=\"item.icon\"></em>\r\n                          </a>\r\n                          <a *ngIf=\"\r\n                                item?.icon &&\r\n                                item?.action !== 'info' &&\r\n                                !item.isOutsideGrid &&\r\n                                d?.data?.status !== 'Closed' &&\r\n                                item.action !== 'changepathway' &&\r\n                                !item?.hide;\r\n                              else changepathway\r\n                            \" class=\"no-bg\" matTooltip=\"{{ titleCaseToolTip(item?.action) }}\"\r\n                            (click)=\"getInsideGridAction(d, item)\">\r\n                            <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                          </a>\r\n\r\n                          <ng-template #changepathway>\r\n                            <a *ngIf=\"item.action === 'changepathway' && d?.rowIndex === 0\" class=\"no-bg\"\r\n                              matTooltip=\"{{ item?.action }}\" (click)=\"getInsideGridAction(d, item)\">\r\n                              <em [class]=\"item.icon\" style=\"padding-right: 10px\"></em>\r\n                            </a>\r\n                          </ng-template>\r\n                        </span>\r\n                        <a *ngIf=\"updateGrid?.gridActionFormArray?.icon\" class=\"no-bg\" matTooltip=\"Open\"\r\n                          (click)=\"openLink(d)\">\r\n                          <em class=\"fa fa-external-link\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.edit\" class=\"no-bg\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                          <em class=\"fa fa-pencil\" title=\"Edit\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.view\" class=\"no-bg\" matTooltip=\"View\" (click)=\"viewData(d)\">\r\n                          <em class=\"fa fa-eye\" title=\"View\"></em>\r\n                        </a>\r\n                        <a *ngIf=\"updateGrid?.delete\" class=\"no-bg text-danger\" matTooltip=\"Delete\"\r\n                          (click)=\"deleteData(d)\">\r\n                          <em class=\"fa fa-trash\"></em>\r\n                        </a>\r\n                        <button *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\"\r\n                            class=\"fa fa-toggle-on\"></em>\r\n                          <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\"\r\n                            class=\"fa fa-toggle-off\"></em>\r\n                        </button>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'statusTemplate'\" [class]=\"changeStatusColor(d.value)\">\r\n                        <span>{{ d.value }}</span>\r\n                      </div>\r\n                      <div *dxTemplate=\"let d of 'dataTemplate'\"\r\n                        [ngClass]=\"{ 'dashboard-hover-contact': d.column?.dataField === 'servicename' }\">\r\n                        <div class=\"d-inline-block\" *ngIf=\"\r\n                            d.column?.dataField === 'clientaccountno' &&\r\n                            d.data.accountstatus &&\r\n                            d.data.accountstatus === 'INA'\r\n                          \">\r\n                          <em class=\"fa fa-warning red-color\"></em>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'servicename'\">\r\n                          <div class=\"arrow-right\" *ngIf=\"d.data.narrative\">\r\n                            <div class=\"person-details\">\r\n                              <p><span>Narrative</span><span [innerHtml]=\"splitingData(d, '.')\"></span></p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div *ngIf=\"d.column?.dataField === 'narrative'; else dataValue\">\r\n                          {{ d.value }}\r\n                        </div>\r\n                        <ng-template #dataValue>{{ d.value }}</ng-template>\r\n                      </div>\r\n                    </dx-data-grid>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </as-split-area>\r\n      </as-split>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #callDialogPopup>\r\n  <h2 matDialogTitle>Narrative</h2>\r\n  <div [innerHTML]=\"popupData\"></div>\r\n  <div class=\"text-right\">\r\n    <button mat-button (click)=\"closeDialogPopup()\" class=\"btn btn-cancel mr-2\">Close</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<app-dynamic-details *ngIf=\"openTab\" [key]=\"selectedRowData\"></app-dynamic-details>\r\n\r\n<ng-template #DeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ DefaultDeletePopupTextAftThresholdTime }}</div>\r\n    <div class=\"mb-2\">\r\n      <label for=\"reasonfordelete\" class=\"intake-form-labels clearfix mb-2\">Reason for record deletion <span\r\n          class=\"text-danger\">*</span></label>\r\n      <textarea rows=\"3\" id=\"reasonfordelete\" cols=\"30\" pInputTextarea\r\n        placeholder=\"Reason for deletion (4000 character limit)\" maxlength=\"4000\" class=\"form-control no-resize\"\r\n        [(ngModel)]=\"enteredReason\" (input)=\"checkIsDisabled($event.target.value)\"></textarea>\r\n    </div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithReason()\"\r\n      [disabled]=\"isDisabled\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #DeleteGridListWithoutReason>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-2\">{{ deletePopupText }}</div>\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right btn btn-primary delete mb-3\" (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mr-2 mb-3 btn bg-white text-primary btncancel\" (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n<ng-template #ApproveDeleteGridList>\r\n  <div class=\"p-3\">\r\n    <div class=\"clearfix mb-4\">{{this.deletedReason}}</div>\r\n    <!-- <div class=\"clearfix mb-4\">Do you approve this deletion?</div> -->\r\n  </div>\r\n  <div class=\"text-right pr-3\">\r\n    <button class=\"pull-right mb-2 btn btn-primary delete\" data-dismiss=\"modal\"\r\n      (click)=\"deleteRecordWithoutReason()\">Yes</button>\r\n    <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n      (click)=\"cancelPopup()\">No</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n<div class=\"modal\" id=\"confirmGridAction\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ businessRuleMessage }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"confirmGridAction()\">\r\n            Yes\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\">No</button>\r\n        </div>\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".split-page{outline:3px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.card-title{position:absolute;left:15px;font-size:bold}.red-color{color:#ff6252}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding-bottom:2px!important;text-align:center!important;font-family:Roboto,sans-serif!important}.dx-datagrid-rowsview .dx-row{height:40px!important;font-size:var(--base-font-size)}.dx-datagrid-rowsview .dx-row.dx-row-lines>td{vertical-align:middle!important;overflow:unset;padding-left:6px!important;padding-right:6px!important}.card{box-shadow:none!important;border:none!important}.card-header{padding-left:0;background:#eff8ff;height:auto}.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>td,.dx-datagrid-rowsview .dx-row.dx-row-lines:first-child>tr>td{overflow:unset!important}.dashboard-hover{position:relative}.dashboard-hover:hover .arrow-right{display:block;z-index:1}.dashboard-hover .person-details{display:inline-block;width:100%}.dashboard-hover .person-details p{margin:0}.dashboard-hover .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top}.dashboard-hover .person-details p span:last-child{width:160px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal}.dashboard-hover .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover .arrow-right{width:280px;min-height:95px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.dashboard-hover-contact{position:relative}.dashboard-hover-contact:hover .arrow-right{display:block;z-index:1}.dashboard-hover-contact .person-details{display:inline-block;width:100%}.dashboard-hover-contact .person-details p{margin:0}.dashboard-hover-contact .person-details p span:first-child{width:95px;display:inline-block;vertical-align:top;word-break:break-word;white-space:normal}.dashboard-hover-contact .person-details p span:last-child{width:135px;word-break:break-word;display:inline-flex;overflow:hidden;white-space:normal;text-align:left}.dashboard-hover-contact .person-details p span:last-child:before{content:\":\";padding-right:5px}.dashboard-hover-contact .arrow-right{width:280px;min-height:50px;background-color:var(--bg-light);color:var(--text-dark);padding:10px;position:absolute;float:left;display:none;top:-13px;left:88px;border:1px solid var(--table-border);border-radius:6px}.dashboard-hover-contact .arrow-right:after{content:\" \";position:absolute;margin:auto;top:13px;left:-101%;right:0;background:#fff;width:20px;height:20px;transform:rotate(45deg);-webkit-transform:rotate(135deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-right:1px solid var(--table-border);border-bottom:1px solid var(--table-border)}.open{color:#ff6252;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.draft,.returned{color:red;border-radius:6px;font-weight:500;padding:5px!important;vertical-align:middle;min-width:85px;max-width:100%}.closed,.completed,.approved{color:#2ecd53;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.orange{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.blue{color:#2c2863;border-radius:6px;font-weight:700;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending{color:#e29866;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.pending-approval{color:orange;border-radius:6px;font-weight:500;padding:5px;vertical-align:middle;min-width:85px;max-width:100%}.readOnlyCard{pointer-events:none!important;opacity:.7!important}.page-wrp{background:var(--bg-light)}.page-wrp h6{color:var(--text-dark)}:host ::ng-deep .as-split-gutter{background:var(--table-header)!important}.title{font-weight:700;font-size:17px;text-transform:capitalize;color:#2c2863}.col-custom .btn-icon-bg{padding:5px 8px!important}:host ::ng-deep .split-page .card-body{padding:0 15px!important}:host ::ng-deep .filterOptions{width:250px}:host ::ng-deep .p-multiselect-items{font-size:12px}:host ::ng-deep .p-multiselect-panel .p-multiselect-header .p-multiselect-filter-container .p-inputtext{padding:.2rem .5rem}:host ::ng-deep .dashboard-hover a{color:var(--interactive-color)!important;cursor:pointer}:host ::ng-deep .dx-datagrid .dx-column-indicators{position:relative;right:1px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-column-chooser{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-checkbox-icon{border:1px solid var(--bg-light)!important}:host ::ng-deep .dx-datagrid .business-group .dx-template-wrapper,:host ::ng-deep .dx-datagrid .business-group .business-alert{display:inline-flex}:host ::ng-deep .dynamic-search .p-component .p-accordion-toggle-icon{margin-top:-8px;position:absolute;right:.5em;top:50%;font-size:var(--font-13);color:var(--primary)}:host ::ng-deep .dynamic-search .p-component .head-text span{color:var(--primary)}:host ::ng-deep .dynamic-search .error-text{font-size:var(--font-12)}:host ::ng-deep .as-vertical .as-split-gutter{display:none!important}.no-resize{resize:none}:host ::ng-deep .custom-mat-tooltip{width:150px;font-size:var(--font-14)}:host ::ng-deep .mdc-tooltip__surface-animation{will-change:auto!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.Router }, { type: i1.ActivatedRoute }, { type: i0.ChangeDetectorRef }, { type: i2.UntypedFormBuilder }, { type: i3.FormioService }, { type: i4.LocalStorageService }, { type: i2.UntypedFormBuilder }, { type: i5.Store }, { type: i6.PlatformDataStoreService }, { type: i7.SharedService }, { type: i8.ConfigService }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }]; }, propDecorators: { searchcriteriamenutrigger: [{
                type: ViewChild,
                args: ['searchcriteriamenutrigger']
            }], dataGrid: [{
                type: ViewChild,
                args: [DxDataGridComponent, { static: false }]
            }], formId: [{
                type: Input
            }], pageId: [{
                type: Input
            }], callDialogPopup: [{
                type: ViewChild,
                args: ['callDialogPopup']
            }], outerRouting: [{
                type: Output
            }], formIO: [{
                type: ViewChild,
                args: ['formIO']
            }], filterOptionsDropdown: [{
                type: ViewChild,
                args: [MultiSelect]
            }], componentId: [{
                type: Input
            }], DeleteGridList: [{
                type: ViewChild,
                args: ['DeleteGridList']
            }], DeleteGridListWithoutReason: [{
                type: ViewChild,
                args: ['DeleteGridListWithoutReason']
            }], ApproveDeleteGridList: [{
                type: ViewChild,
                args: ['ApproveDeleteGridList']
            }], onResize: [{
                type: HostListener,
                args: ['window:resize', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy1zZWFyY2guY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2R5bmFtaWMvc3JjL2xpYi9waWNzLWR5bmFtaWMvZHluYW1pYy1zZWFyY2gvZHluYW1pYy1zZWFyY2guY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2R5bmFtaWMvc3JjL2xpYi9waWNzLWR5bmFtaWMvZHluYW1pYy1zZWFyY2gvZHluYW1pYy1zZWFyY2guY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0QsT0FBTyxFQUdMLFNBQVMsRUFDVCxZQUFZLEVBQ1osWUFBWSxFQUNaLE1BQU0sRUFFTixLQUFLLEVBR0wsUUFBUSxFQUNSLE1BQU0sRUFFTixTQUFTLEVBQ1YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUEwRCxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRyxPQUFPLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQWdCLE1BQU0sMEJBQTBCLENBQUM7QUFJckcsT0FBTyxFQUFFLE1BQU0sRUFBUyxNQUFNLGFBQWEsQ0FBQztBQUM1QyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN6RCxPQUFPLFdBQVcsTUFBTSw4QkFBOEIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsY0FBYyxJQUFJLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDaEYsT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUM7QUFDL0IsT0FBTyxNQUFNLE1BQU0sZUFBZSxDQUFDO0FBQ25DLE9BQU8sRUFB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QUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzlILElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDcEksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUNqSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxL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QkE2NkRsQyxRQUFRO3NCQURQLFlBQVk7dUJBQUMsZUFBZSxFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcclxuaW1wb3J0IHtcclxuICBBZnRlclZpZXdJbml0LFxyXG4gIENoYW5nZURldGVjdG9yUmVmLFxyXG4gIENvbXBvbmVudCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSG9zdExpc3RlbmVyLFxyXG4gIEluamVjdCxcclxuICBJbmplY3RvcixcclxuICBJbnB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9wdGlvbmFsLFxyXG4gIE91dHB1dCxcclxuICBUZW1wbGF0ZVJlZixcclxuICBWaWV3Q2hpbGRcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVW50eXBlZEZvcm1BcnJheSwgVW50eXBlZEZvcm1CdWlsZGVyLCBVbnR5cGVkRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEsIE1hdERpYWxvZywgTWF0RGlhbG9nQ29uZmlnLCBNYXREaWFsb2dSZWYgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBNYXRNZW51VHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL21lbnUnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgRm9ybWlvQ29tcG9uZW50IH0gZnJvbSAnQGZvcm1pby9hbmd1bGFyJztcclxuaW1wb3J0IHsgc2VsZWN0LCBTdG9yZSB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcclxuaW1wb3J0IHsgRHhEYXRhR3JpZENvbXBvbmVudCB9IGZyb20gJ2RldmV4dHJlbWUtYW5ndWxhcic7XHJcbmltcG9ydCBDdXN0b21TdG9yZSBmcm9tICdkZXZleHRyZW1lL2RhdGEvY3VzdG9tX3N0b3JlJztcclxuaW1wb3J0IHsgZXhwb3J0RGF0YUdyaWQgYXMgZXhwb3J0RGF0YUdyaWRUb1BkZiB9IGZyb20gJ2RldmV4dHJlbWUvcGRmX2V4cG9ydGVyJztcclxuaW1wb3J0ICogYXMganNQREYgZnJvbSAnanNwZGYnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC9tb21lbnQnO1xyXG5pbXBvcnQgeyBNdWx0aVNlbGVjdCB9IGZyb20gJ3ByaW1lbmcvbXVsdGlzZWxlY3QnO1xyXG5pbXBvcnQgZXM2cHJpbnRKUyBmcm9tICdwcmludC1qcyc7XHJcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IEFwcENvbnN0YW50cyB9IGZyb20gJy4uL0Bjb3JlL2NvbnN0YW50cy9hcHAtY29uc3RhbnRzJztcclxuaW1wb3J0IHsgQXBwU3RhdGUgfSBmcm9tICcuLi9AY29yZS9jb3JlLnN0YXRlJztcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL2xvY2FsLXN0b3JhZ2UvbG9jYWwtc3RvcmFnZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hbGVydC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXR0YWNobWVudHNTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9hdHRhY2htZW50cy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IER5bmFtaWNUYWJQYWdlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvZHluYW1pYy10YWItcGFnZS1zZXJ2aWNlJztcclxuaW1wb3J0IHsgRHluYW1pY3NlYXJjaFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2R5bmFtaWNzZWFyY2guc2VydmljZSc7XHJcbmltcG9ydCB7IEZvcm1pb1NlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2Zvcm1pby5zZXJ2aWNlJztcclxuaW1wb3J0IHsgTG9jYWxTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9sb2NhbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUGFnZUJ1aWxkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9wYWdlLWJ1aWxkZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IFBsYXRmb3JtRGF0YVN0b3JlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvcGxhdGZvcm0tZGF0YS1zdG9yZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRHluYW1pY1NlYXJjaFVSTCB9IGZyb20gJy4uL0Bjb3JlL3VybHMvZHluYW1pYy1zZWFyY2gtdXJsLmNvbmZpZyc7XHJcbmltcG9ydCB7IERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uL0BzaGFyZWQvZGVsZXRlL2RlbGV0ZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBwdWJsaXNoRXZlbnQgfSBmcm9tICcuLi9Ac2hhcmVkL21hc3Rlci12aWV3LXN0YXRlL21hc3Rlci12aWV3LmFjdGlvbnMnO1xyXG5pbXBvcnQgeyBzZWxlY3RDb21wb25lbnRDb25maWdCeUlkLCBzZWxlY3RFdmVudCB9IGZyb20gJy4uL0BzaGFyZWQvbWFzdGVyLXZpZXctc3RhdGUvbWFzdGVyLXZpZXcuc2VsZWN0b3JzJztcclxuaW1wb3J0IHsgQ29tcG9uZW50U3RhdGUgfSBmcm9tICcuLi9Ac2hhcmVkL21hc3Rlci12aWV3LXN0YXRlL21hc3Rlci12aWV3LnN0YXRlJztcclxuaW1wb3J0IHsgRm9ybVBhZ2VDb21wb25lbnQgfSBmcm9tICcuLi9keW5hbWljLXRhYi1wYWdlL2Zvcm0tcGFnZS9mb3JtLXBhZ2UuY29tcG9uZW50JztcclxuaW1wb3J0IHsgU2hhcmVkU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2Uvc2hhcmVkLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9Db25maWdTZXJ2aWNlJztcclxuZGVjbGFyZSBsZXQgXyQ6IGFueTtcclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcbmNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gJ3RhcmdldC10YWItZmlsdGVyJztcclxuY29uc3QgUEFHRV9NT0RJRllfUk9VVEUgPSAnL3BhZ2VzL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5Lyc7XHJcbmNvbnN0IEZJTEVfRVhQT1JUX05BTUVfS0VZID0gJ0ZJTEUgRVhQT1JUIE5BTUUnO1xyXG5jb25zdCBHUklEX1VSTCA9ICcvc29sdXRpb24vZHluYW1pY3NlYXJjaC9zZWFyY2hpbnB1dC8nO1xyXG5jb25zdCBST0xFX0NQX1BVQkxJQyA9ICdyb2xlPUNQX1BVQkxJQyc7XHJcbmNvbnN0IFNUT1JBR0VfS0VZX0RZTkFNSUNfVEFCX1BBR0VTID0gJ2R5bmFtaWMtdGFiLXBhZ2VzJztcclxuY29uc3QgUE9QVVBfVFlQRV9PUEVOID0gJ09wZW4gUG9wVXAnO1xyXG5jb25zdCBGSUxURVJfSURfS0VZID0gJ2hvcml6YW50YWwtdGFiLWZpbHRlcic7XHJcblxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdhcHAtZHluYW1pYy1zZWFyY2gnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9keW5hbWljLXNlYXJjaC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vZHluYW1pYy1zZWFyY2guY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgRHluYW1pY1NlYXJjaENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBBZnRlclZpZXdJbml0IHtcclxuICBAVmlld0NoaWxkKCdzZWFyY2hjcml0ZXJpYW1lbnV0cmlnZ2VyJykgc2VhcmNoY3JpdGVyaWFtZW51dHJpZ2dlcjogTWF0TWVudVRyaWdnZXI7XHJcbiAgQFZpZXdDaGlsZChEeERhdGFHcmlkQ29tcG9uZW50LCB7IHN0YXRpYzogZmFsc2UgfSkgZGF0YUdyaWQ6IER4RGF0YUdyaWRDb21wb25lbnQ7XHJcbiAgcHJpdmF0ZSBlZGl0UG9wVXBEaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxUZW1wbGF0ZVJlZjxhbnk+PjtcclxuICBASW5wdXQoKVxyXG4gIGZvcm1JZDogYW55O1xyXG4gIGpzb25Gb3JtOiBhbnk7XHJcbiAgc291cmNlaWQ6IHN0cmluZztcclxuICBmcm9tVGl0bGU6IGFueTtcclxuICBzdWJtaXR0ZWREYXRhOiBhbnk7XHJcbiAgdGFibGVDb2x1bW5zOiBhbnk7XHJcbiAgdG90YWxjb3VudDogYW55O1xyXG4gIEBJbnB1dCgpIHBhZ2VJZDogYW55O1xyXG4gIGlucHV0RmllbGRJZDogYW55O1xyXG4gIGlucHV0SWQ6IGFueTtcclxuICB1cmw6IHN0cmluZztcclxuICBkYXRhU291cmNlOiBhbnk7XHJcbiAgcG9wdXBQb3NpdGlvbjogYW55O1xyXG4gIHBhZ2VUeXBlOiBhbnk7XHJcbiAgc2VhcmNoQ3JpdGVyaWE6IGFueTtcclxuICBzZWFyY2hDcml0ZXJpYUFycjogYW55O1xyXG4gIGxheW91dHR5cGUgPSAndmVydGljYWwnO1xyXG4gIGlkOiBhbnk7XHJcbiAgc2VhcmNocGFyYW1zOiBhbnk7XHJcbiAgdGFyZ2V0SWQ6IGFueTtcclxuICBjb2x1bW5zOiBhbnk7XHJcbiAgdXBkYXRlR3JpZDogYW55O1xyXG4gIHRvdGFsQ291bnQ6IG51bWJlcjtcclxuICBkdWJsaWNhdGVHcmlkQ29uZmlnOiBhbnlbXTtcclxuICBjb2x1bW5IZWFkZXI6IGFueTtcclxuICBzcGxpdGVyU2l6ZSA9IDA7XHJcbiAgZ3JpZHNwbGl0ZXJTaXplID0gMTAwO1xyXG4gIGlzT3BlbiA9IHRydWU7XHJcbiAgaWNvbiA9ICcnO1xyXG4gIG9wZW5jbG9zZSA9ICcnO1xyXG4gIHVzZXI6IGFueTtcclxuICBpc0FkZEJ1dHRvbiA9IGZhbHNlO1xyXG4gIHBhZ2VTYXZlSUQgPSAnJztcclxuICBzaG93RmlsdGVyUm93UGFuZWw6IGJvb2xlYW47XHJcbiAgcG9wdXBEYXRhOiBzdHJpbmc7XHJcbiAgQFZpZXdDaGlsZCgnY2FsbERpYWxvZ1BvcHVwJykgY2FsbERpYWxvZ1BvcHVwOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIHByaXZhdGUgcG9wdXBEaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxUZW1wbGF0ZVJlZjxhbnk+PjtcclxuICBzaG93QWN0aW9uQ29sdW1uOiBib29sZWFuO1xyXG4gIGVkaXRJZDogYW55O1xyXG4gIGlzRGlhbG9nUG9wdXA6IGJvb2xlYW47XHJcbiAgaXRlbTogYW55O1xyXG4gIHNob3dHcmlkUGFnZSA9IHRydWU7XHJcbiAgbWFudWFsUG9zdEFwaVVybDogc3RyaW5nO1xyXG4gIC8vICNjaGVjayBtb2R1bGVpZFxyXG4gIG1vZHVsZWlkOiBzdHJpbmc7XHJcbiAgcHVycG9zZTogc3RyaW5nO1xyXG4gIGlzU2hvd0Zvcm1QYWdlID0gZmFsc2U7XHJcbiAgQE91dHB1dCgpIG91dGVyUm91dGluZyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIHVzZXJBY3Rpb246IGFueTtcclxuICByb3dEYXRhOiBhbnk7XHJcbiAgY2hlY2tCb3hlc01vZGU6IHN0cmluZztcclxuICBncmlkVHlwZTogc3RyaW5nO1xyXG4gIHNob3dFeHBvcnQgPSBmYWxzZTtcclxuICBkcm9wZG93blZhbHVlczogYW55O1xyXG4gIGdyaWRPcHRpb25zOiB7IHZhbHVlOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9W107XHJcbiAgZmlsdGVyT3B0aW9uczogYW55W107XHJcbiAgc2VsZWN0ZWRGaWx0ZXI6IGFueVtdO1xyXG4gIGZpbHRlckZvcm0hOiBVbnR5cGVkRm9ybUdyb3VwO1xyXG4gIGdyaWRDb25maWc6IGFueTtcclxuICB0ZW1wYUNvbmZpZzogYW55O1xyXG4gIHJlb3JkZXJDb2x1bW5zOiBhbnk7XHJcbiAgc3RvcmFnZTogTG9jYWxTZXJ2aWNlO1xyXG4gIGRhdGFTdG9yZVNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2U7XHJcbiAgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2U7XHJcbiAgZGlhbG9nOiBNYXREaWFsb2c7XHJcbiAgaHR0cDogSHR0cENsaWVudDtcclxuICBzY3JlZW5XaWR0aDogbnVtYmVyO1xyXG4gIGN1cnJlbnRQYWdlSWQ6IHZvaWQ7XHJcbiAgZGlzcGxheU1vZGU6IHN0cmluZztcclxuICBpc1Jlc2l6ZTogYm9vbGVhbjtcclxuICBpc1VzZXJQcmVmZXJlbmNlQ2hhbmdlOiBib29sZWFuO1xyXG4gIEBWaWV3Q2hpbGQoJ2Zvcm1JTycpXHJcbiAgZm9ybUlPOiBGb3JtaW9Db21wb25lbnQ7XHJcbiAgZHluYW1pY1NlYXJjaFNlcnZpY2U6IER5bmFtaWNzZWFyY2hTZXJ2aWNlO1xyXG4gIGR5bmFtaWNUYWJQYWdlU2VydmljZTogRHluYW1pY1RhYlBhZ2VTZXJ2aWNlO1xyXG4gIHNlcXVlbmNlSWQ6IGFueTtcclxuICBjb2x1bW5XaWR0aDogYW55O1xyXG4gIHVwbG9hZGVkRmlsZTogYW55O1xyXG4gIGltYWdlRGF0YTogeyBjb250ZW50VHlwZTogYW55OyBmaWxlTmFtZTogc3RyaW5nIH07XHJcbiAgYXR0YWNobWVudFNlcnZpY2U6IEF0dGFjaG1lbnRzU2VydmljZTtcclxuICBwYXJhbXZhbHVlOiBhbnk7XHJcbiAgcGFyYW1maWVsZDogYW55O1xyXG4gIHRhYmxlZmllbGQ6IGFueTtcclxuICB0b1RhYklkOiBhbnk7XHJcbiAgdW5pcXVlZGF0YTogYW55O1xyXG4gIHBhZ2VMaXN0OiBhbnk7XHJcbiAgaXNWaWV3RW5hYmxlOiBzdHJpbmc7XHJcbiAgaWNvbkNsYXNzOiBzdHJpbmc7XHJcbiAgdGl0bGV0YWI6IGFueTtcclxuICBoZWFkZXI6IGFueTtcclxuICBvcGVuVGFiID0gZmFsc2U7XHJcbiAgc2VsZWN0ZWRSb3dJbmRleDogYW55O1xyXG4gIHNlbGVjdGVkQ29sdW1uSW5kZXg6IGFueTtcclxuICBzZWxlY3RlZENhcHRpb246IGFueTtcclxuICBzZWxlY3RlZFJvd0RhdGE6IGFueTtcclxuICBodHRwU2VydmljZTogYW55O1xyXG4gIGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTtcclxuICBsb2NhbHN0b3JlOiBMb2NhbFNlcnZpY2U7XHJcbiAgcGFnZUJ1aWxkZXJTZXJ2aWNlOiBhbnk7XHJcbiAgbG9jYXRpb246IExvY2F0aW9uO1xyXG4gIEBWaWV3Q2hpbGQoTXVsdGlTZWxlY3QpIGZpbHRlck9wdGlvbnNEcm9wZG93bjogTXVsdGlTZWxlY3Q7XHJcbiAgcmVnaXN0cmF0aW9uSW5mbzogYW55O1xyXG4gIGNoZWNrR3JpZENvbmZpZzogYW55O1xyXG4gIGdyaWREeW5hbWljU2VhcmNoRm9ybTogVW50eXBlZEZvcm1Hcm91cDtcclxuICBkeW5hbWljU2VhcmNoQXJyYXk6IFVudHlwZWRGb3JtQXJyYXk7XHJcbiAgZHluYW1pY1NlYXJjaDogYW55W107XHJcbiAgdGFibGVEcm9wRG93bjogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfVtdO1xyXG4gIGNvbHVtbkRyb3BEb3duOiB7fVtdO1xyXG4gIGR5bmFtaWNTZWFyY2hSZXN1bHQ6IGFueVtdO1xyXG4gIGNyaXRlcmlhSWQgPSAwO1xyXG4gIHNhdmVCdXR0b25EaXNhYmxlID0gdHJ1ZTtcclxuICBhc3NvY2lhdGVkSWQ6IGFueTtcclxuICBpc0JHUDogYW55O1xyXG4gIHlvdXRoU2VhcmNoSnNvbjogYW55W107XHJcbiAgeW91dGhTZWFyY2hCb29sZWFuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgaXNJbml0aWFsTG9hZDogYm9vbGVhbiA9IHRydWU7XHJcbiAgaXNEZWxldGVSZXF1aXJlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgaXNEZWxldGVUaW1lOiBudW1iZXIgPSAxNTtcclxuICBlbnRlcmVkUmVhc29uOiBzdHJpbmcgPSAnJztcclxuICBpc0Rpc2FibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICBEZWxldGVDb25maWdVUkw6IHN0cmluZztcclxuICB1cGRhdGVCeUlkQW5kUGFnZUlkV2l0aFJlYXNvblVSTDogc3RyaW5nO1xyXG4gIGRlbGV0ZUNvbmZpZ0RhdGE6IGFueTtcclxuICBEZWxldGVSZXZlcnRDb25maWdVUkw6IHN0cmluZztcclxuICBkZWxldGVkUmVhc29uOiBzdHJpbmcgPSAnJztcclxuICBwcmltYXJ5X2NvbHVtbjogc3RyaW5nID0gJyc7XHJcbiAgYWRtaW5BY2Nlc3NGb3JEZWxldGU6IGFueTtcclxuICBpc0NvbmRpdGlvbmFsRWRpdERlbGV0ZTogYW55O1xyXG4gIHBhZ2VuYW1lOiBhbnk7XHJcbiAgc291cmNlS2V5OiBzdHJpbmc7XHJcbiAgc291cmNlVmFsdWU6IHN0cmluZztcclxuICBzb3VyY2VUeXBlOiBzdHJpbmc7XHJcbiAgY3VycmVudFBhZ2VTaXplOiBudW1iZXIgPSA1O1xyXG4gIEBJbnB1dCgpIGNvbXBvbmVudElkOiBhbnk7XHJcbiAgc2VsZWN0ZWRDb21wb25lbnQ6IENvbXBvbmVudFN0YXRlO1xyXG4gIGNvbXBvbmVudENvbmZpZyQ6IE9ic2VydmFibGU8Q29tcG9uZW50U3RhdGU+O1xyXG4gIGV2ZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XHJcbiAgZGVsZXRlUG9wdXBUZXh0OiBzdHJpbmcgPSAnJztcclxuICBpc0VkaXRUaHJlc2hvbGRSZXF1aXJlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgQFZpZXdDaGlsZCgnRGVsZXRlR3JpZExpc3QnKSBEZWxldGVHcmlkTGlzdDogVGVtcGxhdGVSZWY8YW55PjtcclxuICBAVmlld0NoaWxkKCdEZWxldGVHcmlkTGlzdFdpdGhvdXRSZWFzb24nKSBEZWxldGVHcmlkTGlzdFdpdGhvdXRSZWFzb246IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgQFZpZXdDaGlsZCgnQXBwcm92ZURlbGV0ZUdyaWRMaXN0JykgQXBwcm92ZURlbGV0ZUdyaWRMaXN0OiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gIERlZmF1bHREZWxldGVQb3B1cFRleHRBZnRUaHJlc2hvbGRUaW1lOiBTdHJpbmcgPSBgWW91IGFyZSByZXF1ZXN0aW5nIHRvIHJlbW92ZSBhIFlvdXRoJ3MgcGh5c2ljYWwgZGVzY3JpcHRpb24uIEEgbm90aWZpY2F0aW9uIHdpbGwgYmUgc2VudCB0byB5b3VyIFNlY3VyaXR5IENvb3JkaW5hdG9yIHRvIHJldmlldyB0aGlzIHJlcXVlc3QgYW5kIHJlbW92ZSB0aGUgZGVzY3JpcHRpb24gaWYgYXBwcm9wcmlhdGUuXHJcbiAgRW50ZXIgdGhlIHJlYXNvbiBmb3IgdGhlIHJlbW92YWwgcmVxdWVzdC4gVGhlIHJlYXNvbiBjYW5ub3QgY29udGFpbiBtb3JlIHRoYW4gNDAwMCBjaGFyYWN0ZXJzLmA7XHJcbiAgZW52aXJvbm1lbnQ6YW55O1xyXG4gIGJ1c2luZXNzUnVsZU1lc3NhZ2U6c3RyaW5nO1xyXG4gIGdyaWRBY3Rpb25QYXJhbXM6YW55O1xyXG4gIGFsbFVybFBhcmFtczphbnk7XHJcbiAgc2hvd01vcmVUZXh0OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG4gIHRydW5jYXRlVGV4dFZhbHVlOiBudW1iZXI7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBpbmplY3RvcjogSW5qZWN0b3IsXHJcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxyXG4gICAgcHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXHJcbiAgICBwcml2YXRlIGNkcmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIHByaXZhdGUgZmI6IFVudHlwZWRGb3JtQnVpbGRlcixcclxuICAgIHByaXZhdGUgX2Zvcm1JTzogRm9ybWlvU2VydmljZSxcclxuICAgIHByaXZhdGUgc3RvcmFnZVNlcnZpY2U6IExvY2FsU3RvcmFnZVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBVbnR5cGVkRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIHN0b3JlOiBTdG9yZTxBcHBTdGF0ZT4sXHJcbiAgICBwcml2YXRlIF9QbGF0Zm9ybVN0b3Jlc2VydmljZTogUGxhdGZvcm1EYXRhU3RvcmVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBzaGFyZWRTZXJ2aWNlOiBTaGFyZWRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBjb25maWdTZXJ2aWNlOiBDb25maWdTZXJ2aWNlLFxyXG5cclxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoTUFUX0RJQUxPR19EQVRBKSBkYXRhXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9QbGF0Zm9ybVN0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzKSB7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UgPSByZXNbJ0hUVFBTRVJWSUNFJ11cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMucGFnZUJ1aWxkZXJTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PFBhZ2VCdWlsZGVyU2VydmljZT4oUGFnZUJ1aWxkZXJTZXJ2aWNlKTtcclxuICAgIHRoaXMubG9jYXRpb24gPSBpbmplY3Rvci5nZXQ8TG9jYXRpb24+KExvY2F0aW9uKTtcclxuICAgIHRoaXMubG9jYWxzdG9yZSA9IGluamVjdG9yLmdldDxMb2NhbFNlcnZpY2U+KExvY2FsU2VydmljZSk7XHJcbiAgICB0aGlzLnN0b3JhZ2UgPSBpbmplY3Rvci5nZXQ8TG9jYWxTZXJ2aWNlPihMb2NhbFNlcnZpY2UpO1xyXG4gICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PERhdGFTdG9yZVNlcnZpY2U+KERhdGFTdG9yZVNlcnZpY2UpO1xyXG4gICAgdGhpcy5hdHRhY2htZW50U2VydmljZSA9IGluamVjdG9yLmdldDxBdHRhY2htZW50c1NlcnZpY2U+KEF0dGFjaG1lbnRzU2VydmljZSk7XHJcbiAgICB0aGlzLmFsZXJ0U2VydmljZSA9IGluamVjdG9yLmdldDxBbGVydFNlcnZpY2U+KEFsZXJ0U2VydmljZSk7XHJcbiAgICB0aGlzLmRpYWxvZyA9IGluamVjdG9yLmdldDxNYXREaWFsb2c+KE1hdERpYWxvZyk7XHJcbiAgICB0aGlzLmh0dHAgPSBpbmplY3Rvci5nZXQ8SHR0cENsaWVudD4oSHR0cENsaWVudCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PER5bmFtaWNzZWFyY2hTZXJ2aWNlPihEeW5hbWljc2VhcmNoU2VydmljZSk7XHJcbiAgICB0aGlzLmF1dGhTZXJ2aWNlID0gaW5qZWN0b3IuZ2V0PEF1dGhTZXJ2aWNlPihBdXRoU2VydmljZSk7XHJcbiAgICB0aGlzLnVzZXIgPSB0aGlzLnN0b3JhZ2UuZ2V0T2JqKCd1c2VyJyk7XHJcbiAgICB0aGlzLnVzZXJBY3Rpb24gPSB0aGlzLmRhdGFTdG9yZVNlcnZpY2UuZ2V0RGF0YSgndXNlckFjdGlvbicpO1xyXG4gICAgdGhpcy5tYW51YWxQb3N0QXBpVXJsID0gJyc7XHJcbiAgICB0aGlzLmR5bmFtaWNUYWJQYWdlU2VydmljZSA9IGluamVjdG9yLmdldDxEeW5hbWljVGFiUGFnZVNlcnZpY2U+KER5bmFtaWNUYWJQYWdlU2VydmljZSk7XHJcbiAgICB0aGlzLmlzVmlld0VuYWJsZSA9IHRoaXMubG9jYWxzdG9yZS5nZXRPYmooJ2lzVmlld0VuYWJsZScpO1xyXG5cclxuICAgIGlmIChkYXRhKSB7XHJcbiAgICAgIHRoaXMucGFnZUlkID0gZGF0YS5wYWdlSWQgPyBkYXRhLnBhZ2VJZCA6IHRoaXMucGFnZUlkO1xyXG4gICAgICB0aGlzLmlucHV0RmllbGRJZCA9IGRhdGEuaW5wdXRGaWVsZElkID8gZGF0YS5pbnB1dEZpZWxkSWQgOiB0aGlzLmlucHV0RmllbGRJZDtcclxuICAgICAgdGhpcy5pbnB1dElkID0gZGF0YS5pbnB1dElkID8gZGF0YS5pbnB1dElkIDogdGhpcy5pbnB1dElkO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jaGVja0JveGVzTW9kZSA9ICdhbHdheXMnO1xyXG4gICAgdGhpcy5ncmlkT3B0aW9ucyA9IFtcclxuICAgICAgeyBsYWJlbDogJ1NvcnRpbmcnLCB2YWx1ZTogJ3NvcnQnLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnRmlsdGVyaW5nJywgdmFsdWU6ICdmaWx0ZXInLCBjb2RlOiAnJyB9LFxyXG4gICAgICB7IGxhYmVsOiAnSGlkZScsIHZhbHVlOiAnaGlkZScsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdGaXhlZCcsIHZhbHVlOiAnZml4ZWQnLCBjb2RlOiAnJyB9LFxyXG4gICAgICAvLyB7IGxhYmVsOiAnRGVmYXVsdCBDb2x1bW5zJywgdmFsdWU6ICdDaG9vc2FibGUnLCBjb2RlOiAnJyB9LFxyXG4gICAgICAvLyB7IGxhYmVsOiAnVmlzaWJsZScsIHZhbHVlOiAndmlzaWJsZScsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdEYXRlJywgdmFsdWU6ICdkYXRlRm9ybWF0JywgY29kZTogJycgfSxcclxuICAgICAgeyBsYWJlbDogJ01vYmlsZScsIHZhbHVlOiAnbW9iaWxlVmlldycsIGNvZGU6ICcnIH0sXHJcbiAgICAgIHsgbGFiZWw6ICdUYWJsZXQnLCB2YWx1ZTogJ3RhYlZpZXcnLCBjb2RlOiAnJyB9XHJcbiAgICBdO1xyXG4gICAgdGhpcy5kaXNwbGF5TW9kZSA9ICdjb21wYWN0JztcclxuICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCd1cGxvYWRGcm9tR3JpZCcsIGZhbHNlKTtcclxuICAgIHRoaXMudGl0bGV0YWIgPSBKU09OLnBhcnNlKHRoaXMubG9jYWxzdG9yZS5nZXRJdGVtKCd0aXRsZXRhYicpKTtcclxuICAgIHRoaXMuaGVhZGVyID0gSlNPTi5wYXJzZSh0aGlzLmxvY2Fsc3RvcmUuZ2V0SXRlbShMT0NBTF9TVE9SQUdFX0tFWSkpO1xyXG5cclxuXHJcbiAgICB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICBkeW5hbWljU2VhcmNoQXJyYXk6IHRoaXMuZm9ybUJ1aWxkZXIuYXJyYXkoW10pXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG9ic2VydmVyQ29uZmlnID0geyBhdHRyaWJ1dGVzOiBmYWxzZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzTm9kZShub2RlLCBjbGFzc05hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3NOYW1lKTtcclxuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JyAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxICYmIHByb2Nlc3NOb2RlKG5vZGUsICcuZHgtY2hlY2tib3gtY29udGFpbmVyJywgY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTtcclxuICAgIGNvbnN0IGNhbGxiYWNrMiA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgIG11dGF0aW9uc0xpc3QuZm9yRWFjaChtdXRhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0JyAmJiBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NOb2RlKG5vZGUsICcuZHgtY2hlY2tib3gtY29udGFpbmVyJywgY2hlY2tib3ggPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXIyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2syKTtcclxuICAgIG9ic2VydmVyMi5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTtcclxuICAgIGNvbWJpbmVMYXRlc3QoW3RoaXMucm91dGUucXVlcnlQYXJhbXMgXSkuc3Vic2NyaWJlKChbcXVlcnlQYXJhbXNdKSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlSWQgPSBxdWVyeVBhcmFtc1sncmVzcG9uc2VJZCddO1xyXG4gICAgICBpZiAodGhpcy5yb3V0ZS5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRoLmluZGV4T2YoJ3ZpZXcnKSA+IC0xICYmICh0aGlzLnJvdXRlLnNuYXBzaG90LnJvdXRlQ29uZmlnLnBhdGguaW5kZXhPZignbWFzdGVyLXZpZXcnKSA9PT0gLTEgfHwgdGhpcy5yb3V0ZS5zbmFwc2hvdC5yb3V0ZUNvbmZpZy5wYXRoLmluZGV4T2YoJ2NvbXBvc2l0ZS1wYWdlJykgPT09IC0xKSkge1xyXG4gICAgICAgIHRoaXMuZ3JpZFR5cGUgPSAndmlldyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5ncmlkVHlwZSA9ICdzZWFyY2gnO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudGFibGVDb2x1bW5zID1cclxuICAgICAgICB0aGlzLnRhYmxlQ29sdW1ucyAmJiB0eXBlb2YgdGhpcy50YWJsZUNvbHVtbnMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0aGlzLnRhYmxlQ29sdW1ucykgOiAnJztcclxuICAgICAgdGhpcy51cGRhdGVHcmlkID0gdGhpcy51cGRhdGVHcmlkICYmIHR5cGVvZiB0aGlzLnVwZGF0ZUdyaWQgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0aGlzLnVwZGF0ZUdyaWQpIDogJyc7XHJcbiAgICAgIHRoaXMuZm9ybUlkID0gdGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VJZCcpXHJcbiAgICAgICAgPyB0aGlzLnJvdXRlLnNuYXBzaG90LnBhcmFtTWFwLmdldCgncGFnZUlkJylcclxuICAgICAgICA6IHRoaXMucGFnZUlkO1xyXG4gICAgICB0aGlzLmlucHV0RmllbGRJZCA9IHRoaXMuaW5wdXRGaWVsZElkID8gdGhpcy5pbnB1dEZpZWxkSWQgOiBudWxsO1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrYWJsZURhdGEgPSB0aGlzLmlucHV0RmllbGRJZDtcclxuICAgICAgdGhpcy5yb3dEYXRhID0gdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5yb3dEYXRhO1xyXG4gICAgICBpZiAodGhpcy5yb3V0ZS5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VTYXZlSUQnKSkge1xyXG4gICAgICAgIHRoaXMuaXNBZGRCdXR0b24gPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaXNBZGRCdXR0b24gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBhZ2VTYXZlSUQgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdwYWdlU2F2ZUlEJykpPy5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3BhZ2VTYXZlSUQnKTtcclxuICAgICAgdGhpcy5zb3VyY2VLZXkgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdzb3VyY2VLZXknKSk/LnNuYXBzaG90LnBhcmFtTWFwLmdldCgnc291cmNlS2V5Jyk7XHJcbiAgICAgIHRoaXMuc291cmNlVmFsdWUgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdzb3VyY2VWYWx1ZScpKT8uc25hcHNob3QucGFyYW1NYXAuZ2V0KCdzb3VyY2VWYWx1ZScpO1xyXG4gICAgICB0aGlzLnNvdXJjZVR5cGUgPSB0aGlzLnJvdXRlLnBhdGhGcm9tUm9vdD8uZmluZCh4ID0+IHguc25hcHNob3QucGFyYW1NYXAuaGFzKCdzb3VyY2VUeXBlJykpPy5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ3NvdXJjZVR5cGUnKTtcclxuICAgICAgdGhpcy5tb2R1bGVpZCA9IHRoaXMucm91dGUucGFyZW50LnBhcmVudC5zbmFwc2hvdC5wYXJhbU1hcC5nZXQoJ21vZHVsZScpO1xyXG4gICAgICB0aGlzLnB1cnBvc2UgPSB0aGlzLnJvdXRlLnBhcmVudC5wYXJlbnQuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdwdXJwb3NlJyk7XHJcbiAgICAgIHRoaXMuZ2V0VGVtcGxhdGUocmVzcG9uc2VJZCk7XHJcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnJCA9IHRoaXMuc3RvcmUucGlwZShzZWxlY3Qoc2VsZWN0Q29tcG9uZW50Q29uZmlnQnlJZCh0aGlzLmNvbXBvbmVudElkKSkpO1xyXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZyQuc3Vic2NyaWJlKGRhdGEgPT4gdGhpcy5zZWxlY3RlZENvbXBvbmVudCA9IGRhdGEpO1xyXG4gICAgICB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uID0gdGhpcy5zdG9yZS5waXBlKHNlbGVjdChzZWxlY3RFdmVudCkpLnN1YnNjcmliZShldmVudCA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LmV2ZW50TmFtZSA9PT0gJ3N1Ym1pdCcgJiYgZXZlbnQucGF5bG9hZC5zZXR0aW5ncy5vblN1Ym1pdFJlZnJlc2hcclxuICAgICAgICAgICYmIGV2ZW50LnBheWxvYWQuc2V0dGluZ3Mub25TdWJtaXRSZWZyZXNoV2lkZ2V0cykge1xyXG4gICAgICAgICAgICBldmVudC5wYXlsb2FkLnNldHRpbmdzLm9uU3VibWl0UmVmcmVzaFdpZGdldHMuZm9yRWFjaCh4ID0+e1xyXG4gICAgICAgICAgICBpZih4LnBhZ2VUeXBlID09ICdCR1AnKSB0aGlzLnBhZ2VJZCA9IHguaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiBDbGVhciBkYXRhIHdoaWxlIHBhZ2UgbmF2aWdhdGlvbiAqL1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2VkUm93RGF0YSA9IG51bGw7XHJcbiAgICB0aGlzLnNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICBjb25zdCBSRUdJU1RSQVRJT04gPSB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmdldEl0ZW0oJ1JFR0lTVFJBVElPTicpO1xyXG4gICAgaWYgKFJFR0lTVFJBVElPTikge1xyXG4gICAgICB0aGlzLnJlZ2lzdHJhdGlvbkluZm8gPSBKU09OLnBhcnNlKFJFR0lTVFJBVElPTik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYoIU9iamVjdC5rZXlzKHRoaXMuYWxsVXJsUGFyYW1zKT8ubGVuZ3RoKXtcclxuICAgICAgdGhpcy5yb3V0ZS5wYXRoRnJvbVJvb3Q/LmZvckVhY2goeCA9PiB7XHJcbiAgICAgICAgeC5wYXJhbXMuc3Vic2NyaWJlKHkgPT4geSAmJiBPYmplY3Qua2V5cyh5KS5sZW5ndGggPyBPYmplY3QuYXNzaWduKHRoaXMuYWxsVXJsUGFyYW1zLCB5KSA6IG51bGwpO1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZ3JpZENvbmZpZyA9ICcnO1xyXG4gICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ0VkaXRHcmlkUGFnZUlEJywgJycpO1xyXG4gICAgdGhpcy5wb3B1cFBvc2l0aW9uID0geyBvZjogd2luZG93LCBhdDogJ3RvcCcsIG15OiAndG9wJywgb2Zmc2V0OiB7IHk6IDEwIH0gfTtcclxuICAgIHRoaXMuY29sdW1ucz8uZm9yRWFjaChjb2x1bW4gPT4ge1xyXG4gICAgICBpZiAoY29sdW1uLnZpc2libGUgPT09IHVuZGVmaW5lZCB8fCBjb2x1bW4udmlzaWJsZSA9PT0gXCJcIikge1xyXG4gICAgICAgIGNvbHVtbi52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAodGhpcy5keW5hbWljU2VhcmNoU2VydmljZT8uY2xpY2tlZElkRGF0YSA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrZWRJZERhdGEgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMubG9hZEZpbHRlckZvcm0oKTtcclxuICAgIHRoaXMucmVtb3ZlQWxsRHluYW1pY1NlYXJjaENvbmR0aW9uKCk7XHJcbiAgICAvLyB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbShMT0NBTF9TVE9SQUdFX0tFWSlcclxuICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdncmlkQWN0aW9uJywgJycpO1xyXG5cclxuICAgIHRoaXMudHJ1bmNhdGVUZXh0VmFsdWUgPSB0aGlzLmNvbmZpZ1NlcnZpY2UuZ2V0VmFsdWUoKTsgLy8gR2V0IHRoZSB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgbG9hZEZpbHRlckZvcm0oKSB7XHJcbiAgICB0aGlzLmZpbHRlckZvcm0gPSB0aGlzLmZiLmdyb3VwKHtcclxuICAgICAgc2VsZWN0ZWRGaWx0ZXI6IFsnJ11cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xyXG4gICAgdGhpcy5jZHJlZi5kZXRlY3RDaGFuZ2VzKCk7XHJcbiAgfVxyXG5cclxuICByZWRpcmVjdCgpIHtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtQQUdFX01PRElGWV9ST1VURSArIHRoaXMucGFnZVNhdmVJRF0pO1xyXG4gIH1cclxuICBwcml2YXRlIGdldFRlbXBsYXRlKHJlc3BvbnNlSWQ/OiBhbnkpIHtcclxuICAgIHRoaXMucmVtb3ZlQWxsRHluYW1pY1NlYXJjaENvbmR0aW9uKCk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmdldFRlbXBsYXRlKHRoaXMuZm9ybUlkKS5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWRQYWdlSW5mbyA9IHtcclxuICAgICAgICAgIGlkOiB0aGlzLmZvcm1JZCxcclxuICAgICAgICAgIG5hbWU6IHJlc3VsdFsnZGF0YSddWydwYWdlbmFtZSddXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmlzQkdQID0gcmVzdWx0WydkYXRhJ10/LnBhZ2VEZXRhaWxzPy5wYWdldHlwZTtcclxuICAgICAgICBpZiAodGhpcy5pc0JHUCAmJiB0aGlzLmlzQkdQID09ICdCR1AnKSB7XHJcbiAgICAgICAgICB0aGlzLmFzc29jaWF0ZWRJZCA9IHJlc3VsdFsnZGF0YSddPy5wYWdlaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0VGVtcGxhdGUocmVzdWx0WydkYXRhJ10pO1xyXG4gICAgICAgIHRoaXMuaXNDb25kaXRpb25hbEVkaXREZWxldGUgID0gcmVzdWx0WydkYXRhJ11bJ2lzQ29uZGl0aW9uYWxFZGl0RGVsZXRlJ107XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZUlkID0gcmVzdWx0WydkYXRhJ11bJ3BhZ2VpZCddO1xyXG4gICAgICAgIHRoaXMuc2VxdWVuY2VJZCA9IHJlc3VsdFsnZGF0YSddWydpZCddO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKCdwYXJlbnRHcmlkUGFnZScsIEpTT04uc3RyaW5naWZ5KGdyaWRQYWdlSW5mbykpO1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckdyaWRDb25maWcoKTtcclxuICAgICAgICB0aGlzLmdldEdyaWQocmVzcG9uc2VJZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBnZXRQYWdlVGFicyhfcGFnZUlkLCBzb3VyY2VUeXBlLCBzb3VyY2VLZXksIHNvdXJjZVZhbHVlLCBfeW91dGhJZCwgbmF2aWdhdGlvblN0YXRlPzogYW55KSB7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmdldFBhZ2VUYWJzKF9wYWdlSWQpLnN1YnNjcmliZSgocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IHRhYklkID0gcmVzdWx0LmRhdGFbMF0uYWN0aXZlVmVyc2lvbi5pZDtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGFbMF0uYWN0aXZlVmVyc2lvbi50YWJjb25maWcpIHtcclxuICAgICAgICAgIGNvbnN0IHBhcmVudEdyaWRQYWdlID0ge1xyXG4gICAgICAgICAgICBpZDogdGhpcy5mb3JtSWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuZnJvbVRpdGxlXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oJ2JhY2tUb0dyaWRQYWdlJywgSlNPTi5zdHJpbmdpZnkocGFyZW50R3JpZFBhZ2UpKTtcclxuICAgICAgICAgIG5hdmlnYXRpb25TdGF0ZS5pc0hpZGVCYWNrID0gdHJ1ZTtcclxuICAgICAgICAgIGxldCB1cmwgPSAnJztcclxuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YVswXS5wYWdldHlwZSA9PT0gJ1JCVFAnKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nL3RhYi8nO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXJsID0gJy9wYWdlcy9keW5hbWljcGFnZS90YWIvJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSB1cmwgKyB0YWJJZCArICcvJyArIF95b3V0aElkICsgJy8nICsgc291cmNlS2V5ICsgJy8nICsgc291cmNlVmFsdWUgKyAnLycgKyBzb3VyY2VUeXBlO1xyXG4gICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2R5bmFtaWNUYWJdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0aW9uU3RhdGUgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucm91dGVUb0R5bmFtaWNGb3JtcyhyZXN1bHQuZGF0YVswXS5wYWdldHlwZSwgX3BhZ2VJZCwgX3lvdXRoSWQsIG5hdmlnYXRpb25TdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJvdXRlVG9EeW5hbWljRm9ybXModHlwZSwgX3BhZ2VJZCwgX3lvdXRoSWQsIG5hdmlnYXRpb25TdGF0ZT86IGFueSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdBVFBCRE0nKSB7XHJcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdtYXN0ZXItdmlldycpID4gMCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdjb21wb3NpdGUtcGFnZScpID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSAnZm9ybS8nICsgX3BhZ2VJZCArICcvJyArIF95b3V0aElkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtkeW5hbWljVGFiXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGlvblN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ3RhYicpID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSAnLi4vLi4vcGFnZS8nICsgX3BhZ2VJZCArICcvJyArIF95b3V0aElkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFtkeW5hbWljVGFiXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGlvblN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSBQQUdFX01PRElGWV9ST1VURSArIF9wYWdlSWQgKyAnLycgKyBfeW91dGhJZDtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbZHluYW1pY1RhYl0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRpb25TdGF0ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VGVtcGxhdGUocmVzdWx0OiBhbnkpIHtcclxuICAgIC8vTXVzdCBOZWVkZWQgZm9yIE1lcmdlIHZlcnNpb24gb2YgUElDU1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXMgPSByZXN1bHQ7XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtcy5ncmlkY29uZmlnID0gdHlwZW9mIHJlc3VsdD8uZ3JpZGNvbmZpZyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHJlc3VsdD8uZ3JpZGNvbmZpZykgOiByZXN1bHQ/LmdyaWRjb25maWc7XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtcy50ZW1wbGF0ZWpzb24gPSB0eXBlb2YgcmVzdWx0Py50ZW1wbGF0ZWpzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyZXN1bHQ/LnRlbXBsYXRlanNvbikgOiByZXN1bHQ/LnRlbXBsYXRlanNvbjtcclxuICAgIHRoaXMuc2VhcmNocGFyYW1zLnRhYmxlc2NoZW1hY29uZmlnID0gdHlwZW9mIHJlc3VsdD8udGFibGVzY2hlbWFjb25maWcgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShyZXN1bHQ/LnRhYmxlc2NoZW1hY29uZmlnKSA6IHJlc3VsdD8udGFibGVzY2hlbWFjb25maWc7XHJcbiAgICB0aGlzLnNldExheW91dChyZXN1bHQpO1xyXG4gICAgdGhpcy5mcm9tVGl0bGUgPSByZXN1bHQucGFnZW5hbWU7XHJcbiAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnVGl0dGxlJywgdGhpcy5mcm9tVGl0bGUpO1xyXG4gICAgdGhpcy5wYWdlVHlwZSA9IHJlc3VsdC5wYWdlRGV0YWlscy5wYWdldHlwZSA/IHJlc3VsdC5wYWdlRGV0YWlscy5wYWdldHlwZS50cmltKCkgOiAnJztcclxuICAgIHRoaXMucGFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5wYWdlRGV0YWlscyA/IHJlc3VsdC5wYWdlRGV0YWlscy5pZCA6IG51bGw7XHJcbiAgICBpZiAodGhpcy5wYWdlVHlwZSA9PSAnRFNQJyB8fCB0aGlzLnBhZ2VUeXBlID09ICdCVVNQJykge1xyXG4gICAgICB0aGlzLnNwbGl0ZXJTaXplID0gMzA7XHJcbiAgICAgIHRoaXMuZ3JpZHNwbGl0ZXJTaXplID0gNzA7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldEdyaWQodGhpcy5zZWFyY2hwYXJhbXMpO1xyXG4gICAgdGhpcy50YXJnZXRJZCA9IHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnPy5ncmlkQWN0aW9uRm9ybUFycmF5WzBdPy5saW5rO1xyXG4gICAgdGhpcy50ZW1wYUNvbmZpZyA9IHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnO1xyXG4gICAgdGhpcy5idWlsZENyaXRlcmlhKHJlc3VsdCk7XHJcbiAgfVxyXG5cclxuICBzZXRHcmlkKHJlc3VsdDogYW55KSB7XHJcbiAgICB0aGlzLnVwZGF0ZUdyaWQgPSByZXN1bHQuZ3JpZGNvbmZpZztcclxuICAgIGNvbnN0IGZpbHRlciA9IHRoaXMudXBkYXRlR3JpZD8uZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoeCA9PiB4LnNvcnQgfHwgeC5maWx0ZXIpO1xyXG4gICAgaWYgKGZpbHRlcj8ubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnNob3dGaWx0ZXJSb3dQYW5lbCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5zb21lKGEgPT4gYS5hY3Rpb24gIT0gJ2FkZCcpKSB7XHJcbiAgICAgIHRoaXMuc2hvd0FjdGlvbkNvbHVtbiA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy51cGRhdGVHcmlkPy5pc1Nob3dPblRvcCkge1xyXG4gICAgICB0aGlzLmdldE91dHNpZGVHcmlkQWN0aW9uKHRoaXMudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheT8uZmluZChhID0+IGE/LmFjdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gJ2FkZCcpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEdyaWQocmVzcG9uc2VJZD86IGFueSkge1xyXG4gICAgdGhpcy5zdG9yYWdlLnNldE9iaihGSUxFX0VYUE9SVF9OQU1FX0tFWSwgdGhpcy5zZWFyY2hwYXJhbXM/LnBhZ2VuYW1lKTtcclxuICAgIGlmICh0aGlzLnNlYXJjaHBhcmFtcz8udGVtcGxhdGVqc29uICYmICF0aGlzLnNlYXJjaHBhcmFtcz8udGFibGVzY2hlbWFjb25maWcpIHtcclxuICAgICAgdGhpcy5mcmVlRm9ybVBhZ2VHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLmR5bmFtaWNTZWFyY2ggJiYgdGhpcy5keW5hbWljU2VhcmNoLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5nZXRDcml0ZXJpYUJ5UGFnZUlkKCk7XHJcbiAgICAgICAgdGhpcy5zaG93R3JpZFBhZ2UgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNob3dHcmlkUGFnZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxEeW5hbWljU2VhcmNoQ29uZHRpb24oKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNlYXJjaEdyaWQodGhpcy5odHRwLCB0aGlzLnN0b3JhZ2UsIHJlc3BvbnNlSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TGF5b3V0KHJlc3VsdDogYW55KSB7XHJcbiAgICBpZiAocmVzdWx0LnRlbXBsYXRlanNvbikge1xyXG4gICAgICB0aGlzLmpzb25Gb3JtID0gdHlwZW9mIHJlc3VsdC50ZW1wbGF0ZWpzb249PT0nc3RyaW5nJyA/ICBKU09OLnBhcnNlKHJlc3VsdC50ZW1wbGF0ZWpzb24pIDpyZXN1bHQudGVtcGxhdGVqc29uIDtcclxuICAgICAgdGhpcy5mcm9tVGl0bGUgPSB0aGlzLmpzb25Gb3JtICYmIHRoaXMuanNvbkZvcm1bJ3BhZ2UnXSA/IHRoaXMuanNvbkZvcm1bJ3BhZ2UnXSA6IHJlc3VsdC5wYWdlbmFtZTtcclxuICAgICAgdGhpcy5sYXlvdXR0eXBlID0gJ2xlZnQnO1xyXG4gICAgICB0aGlzLmxheW91dHR5cGUgPSB0aGlzLmxheW91dHR5cGUgPT09ICdsZWZ0JyA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCc7XHJcbiAgICAgIGlmICh0aGlzLmxheW91dHR5cGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnZXhwYW5kX21vcmUnO1xyXG4gICAgICAgIHRoaXMub3BlbmNsb3NlID0gJ0Nsb3NlJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnYXJyb3dfbGVmdCc7XHJcbiAgICAgICAgdGhpcy5vcGVuY2xvc2UgPSAnQ2xvc2UnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblN1Ym1pdChzdWJtaXNzaW9uKTogdm9pZCB7XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtc1snZmlsdGVySWQnXSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xyXG4gICAgdGhpcy5zdWJtaXR0ZWREYXRhID0gc3VibWlzc2lvbjtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YSxcclxuICAgICAgcGFnZWRhdGE6IFt0aGlzLnNlYXJjaHBhcmFtc11cclxuICAgIH07XHJcbiAgICBjb25zdCBzdG9yYWdlZGF0YSA9IHRoaXMuc3RvcmFnZTtcclxuICAgIGNvbnN0IGh0dHAgPSB0aGlzLmh0dHA7XHJcbiAgICBjb25zdCBiYXNlVXJsID0gdGhpcy5lbnZpcm9ubWVudC5hcGlIb3N0O1xyXG5cclxuICAgIGlmICh0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgJiYgdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZGF0YVsnZHluYW1pY1NlYXJjaEFycmF5J10gPSB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGdyaWRVcmw7XHJcbiAgICBpZiAodGhpcy5tYW51YWxQb3N0QXBpVXJsICE9ICcnKSB7XHJcbiAgICAgIGdyaWRVcmwgPSB0aGlzLm1hbnVhbFBvc3RBcGlVcmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBncmlkVXJsID0gR1JJRF9VUkw7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgQ3VzdG9tU3RvcmUoe1xyXG4gICAgICBsb2FkOiBmdW5jdGlvbiAobG9hZE9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHN0b3JhZ2VkYXRhLmdldEl0ZW0oJ2p3dC10b2tlbicpO1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBzdG9yYWdlZGF0YS5nZXRPYmooJ3VzZXInKTtcclxuICAgICAgICBbJ3NraXAnLCAndGFrZScsICdyZXF1aXJlVG90YWxDb3VudCcsICdyZXF1aXJlR3JvdXBDb3VudCcsICdzb3J0JywgJ2ZpbHRlcicsICdncm91cCddLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgIGlmIChpIGluIGxvYWRPcHRpb25zICYmIGlzTm90RW1wdHkobG9hZE9wdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICAgIGRhdGFbaV0gPSBsb2FkT3B0aW9uc1tpXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBodHRwXHJcbiAgICAgICAgICAucG9zdChiYXNlVXJsICsgZ3JpZFVybCwgZGF0YSwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSHR0cEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGhUb2tlbn1gLFxyXG4gICAgICAgICAgICAgIHVuaXF1ZWlkOiBgJHt1c2VyLmlkfWAsXHJcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uaWQ6IGAke3VzZXIudXNlcldvcmtJbmZvLm9yZ2FuaXphdGlvbi5pZH1gLFxyXG4gICAgICAgICAgICAgIHJvbGVrZXk6IGAke3VzZXIucm9sZS5yb2xla2V5fWAsXHJcbiAgICAgICAgICAgICAgcm9sZTogUk9MRV9DUF9QVUJMSUNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAudG9Qcm9taXNlKClcclxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4gKHtcclxuICAgICAgICAgICAgZGF0YTogcmVzLmRhdGEsXHJcbiAgICAgICAgICAgIHRvdGFsQ291bnQ6IE51bWJlcihyZXMudG90YWxDb3VudC5jb3VudClcclxuICAgICAgICAgIH0pKVxyXG4gICAgICAgICAgLmNhdGNoKF9lcnJvciA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRGF0YSBMb2FkaW5nIEVycm9yJykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIGlzTm90RW1wdHkodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZnRlclN1Ym1pdHRlZChfZXZlbnQpIHtcclxuICAgIHRoaXMuc2hvd0dyaWRQYWdlID0gdHJ1ZTtcclxuICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgdGhpcy5pdGVtID0gbnVsbDtcclxuICAgIGlmICh0aGlzLmlzU2hvd0Zvcm1QYWdlKSB7XHJcbiAgICAgIHRoaXMuZ2V0T3V0c2lkZUdyaWRBY3Rpb24odGhpcy51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5maW5kKGEgPT4gYT8uYWN0aW9uPy50b0xvd2VyQ2FzZSgpID09PSAnYWRkJykpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2F2ZVNlYXJjaENyaXRlcmlhKCkge1xyXG4gICAgaWYgKHRoaXMuc3VibWl0dGVkRGF0YSAmJiB0aGlzLnN1Ym1pdHRlZERhdGEuZGF0YSkge1xyXG4gICAgICB0aGlzLnN1Ym1pdHRlZERhdGEuZGF0YVsnc2VhcmNoQ3JpdGVyaWEnXSA9IHRoaXMuc2VhcmNoQ3JpdGVyaWE7XHJcbiAgICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgcGFnZUlEOiB0aGlzLmZvcm1JZCxcclxuICAgICAgICBzb3VyY2VpZDogJycsXHJcbiAgICAgICAgc291cmNldHlwZTogJ0knLFxyXG4gICAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YS5kYXRhLFxyXG4gICAgICAgIG1ldGFkYXRhOiB0aGlzLnN1Ym1pdHRlZERhdGEubWV0YWRhdGEsXHJcbiAgICAgICAgYWZ0ZXJFbnRpdHlOYW1lOiAnJyxcclxuICAgICAgICBhZnRlclJ1bGVBcHBOYW1lOiAnJyxcclxuICAgICAgICBiZWZvcmVFbnRpdHlOYW1lOiAnJyxcclxuICAgICAgICBiZWZvcmVSdWxlQXBwTmFtZTogJycsXHJcbiAgICAgICAgcGFyZW50c291cmNlaWQ6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zYXZlU2VhcmNoQ3JpdGVyaWEoYm9keSkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSByZXNwb25zZTtcclxuICAgICAgICB0aGlzLmlkID0gcmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnU2VhY2ggY3JpdGVyaWEgU2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUGxlYXNlIHBlcmZvcm0gc2VhcmNoIGluIG9yZGVyIHRvIHNhdmUgeW91ciBzZWFyY2ggY3JpdGVyaWEnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFNlYXJjaChuZXdkKSB7XHJcbiAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSB7IGRhdGE6IG5ld2QgfTtcclxuICAgIHRoaXMub25TdWJtaXQodGhpcy5zdWJtaXR0ZWREYXRhKTtcclxuICB9XHJcblxyXG4gIHJlc2V0KHR5cGUpIHtcclxuICAgIHRoaXMuc3VibWl0dGVkRGF0YSA9IHsgZGF0YToge30gfTtcclxuICAgIHRoaXMuZ2V0RXhwb3J0RGF0YSh0aGlzLnN1Ym1pdHRlZERhdGEsIHR5cGUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RXhwb3J0RGF0YShzdWJtaXNzaW9uLCB0eXBlKTogdm9pZCB7XHJcbiAgICB0aGlzLnN1Ym1pdHRlZERhdGEgPSBzdWJtaXNzaW9uO1xyXG4gICAgdGhpcy5zZWFyY2hwYXJhbXNbJ2ZpbHRlcklkJ10gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKTtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGlucHV0RmllbGRJZDogdGhpcy5pbnB1dEZpZWxkSWQsXHJcbiAgICAgIHBhZ2VkYXRhOiBbdGhpcy5zZWFyY2hwYXJhbXNdLFxyXG4gICAgICByZXF1aXJlVG90YWxDb3VudDogdHJ1ZSxcclxuICAgICAgc2tpcDogMCxcclxuICAgICAgdGFrZTogNTAwMFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoIWRhdGEuaW5wdXRGaWVsZElkKSB7XHJcbiAgICAgIGRhdGEuaW5wdXRGaWVsZElkID0gdGhpcy51c2VyPy51c2VyV29ya0luZm8/Lm9yZ2FuaXphdGlvbj8uaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCAmJiB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICBkYXRhWydkeW5hbWljU2VhcmNoQXJyYXknXSA9IHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ3JpZFVybDtcclxuICAgIGlmICh0aGlzLm1hbnVhbFBvc3RBcGlVcmwgIT0gJycpIHtcclxuICAgICAgZ3JpZFVybCA9IHRoaXMubWFudWFsUG9zdEFwaVVybDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdyaWRVcmwgPSBHUklEX1VSTDtcclxuICAgIH1cclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuZXhwb3J0RGF0YShkYXRhLCBncmlkVXJsKS5zdWJzY3JpYmUodmFsdWUgPT4ge1xyXG4gICAgICBpZiAodmFsdWVbJ2RhdGEnXS5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmRvd25sb2FkRmlsZSh0eXBlLCB2YWx1ZVsnZGF0YSddKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignTm8gZGF0YSBhdmFpbGFibGUnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkb3dubG9hZEZpbGUodHlwZSwgZGF0YSkge1xyXG4gICAgY29uc3QgZmlsZURhdGEgPSB7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHRvdGFsY291bnQ6IGRhdGEubGVuZ3RoLFxyXG4gICAgICBwYWdlbmFtZTogdGhpcy5mcm9tVGl0bGUsXHJcbiAgICAgIGdyaWRDb25maWdGb3JtQXJyYXk6IHRoaXMudXBkYXRlR3JpZD8uZ3JpZENvbmZpZ0Zvcm1BcnJheVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGZpbGVUeXBlID0gdHlwZSA9PT0gJ2V4Y2VsJyA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuZ2VuZXJhdGVEb2N1bWVudChmaWxlRGF0YSwgZmlsZVR5cGUpLnN1YnNjcmliZShcclxuICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICBjb25zdCBhd3NVcmwgPSByZXN1bHRbJ2RhdGEnXS5hd3NVcmw7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdEb2N1bWVudCBHZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG5cclxuICAgICAgICAgIGlmICh0eXBlID09PSAncHJpbnQnKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHR5cGUgaXMgcHJpbnQgaXQgd2lsbCBvcGVuIGJyb3dzZXIgcHJpbnQgcHJldmlld1xyXG4gICAgICAgICAgICBlczZwcmludEpTKHsgcHJpbnRhYmxlOiBhd3NVcmwsIHR5cGU6ICdwZGYnLCBzaG93TW9kYWw6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHdpbmRvdy5vcGVuKGF3c1VybCwgJ19ibGFuaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2VhcmNoR3JpZChodHRwLCBzdG9yYWdlLCByZXNwb25zZUlkPzogYW55KSB7XHJcbiAgICBjb25zdCBvdXRzaWRlRm9ybUlEID0gdGhpcy51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5XHJcbiAgICAgID8uZmluZChhID0+IGE/LmFjdGlvbj8udG9Mb3dlckNhc2UoKSA9PT0gJ2FkZCcpXHJcbiAgICAgID8ubGluaz8uc3BsaXQoJ19zb3VyY2Vmb3JtJylbMF07XHJcbiAgICBjb25zdCBwcmltYXJ5X3RhYmxlID0gdGhpcy5zZWFyY2hwYXJhbXMudGFibGVzY2hlbWFjb25maWcudGFibGVmaWVsZHMucHJpbWFyeTtcclxuICAgIGNvbnN0IGZhbGxiYWNrSWRGcm9tUm91dGUgID0gdGhpcy5zZWFyY2hwYXJhbXM/LmdyaWRjb25maWc/LmZhbGxiYWNrSWRGcm9tUm91dGU7XHJcbiAgICBjb25zb2xlLmxvZyhwcmltYXJ5X3RhYmxlLnJlcGxhY2UoJ19hdWRpdCcsICdfaWQnKSwgJ3ByaW1hcnknKTtcclxuICAgIGxldCBxdWVyeURhdGE6IGFueTtcclxuXHJcbiAgICBpZihmYWxsYmFja0lkRnJvbVJvdXRlKXtcclxuICAgIGNvbnN0IGZhbGxiYWNrSWRWYWx1ZSA9IHRoaXMucm91dGVyLnVybC5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgaWYoZmFsbGJhY2tJZFZhbHVlKXtcclxuICAgICAgcXVlcnlEYXRhID0geyBkYXRhOiB7fSB9O1xyXG4gICAgICBxdWVyeURhdGEuZGF0YVtmYWxsYmFja0lkRnJvbVJvdXRlXSA9IE51bWJlcihmYWxsYmFja0lkVmFsdWUpO1xyXG4gICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnNvdXJjZUtleSAmJiB0aGlzLnNvdXJjZVZhbHVlICYmIHRoaXMuc291cmNlVHlwZSkge1xyXG4gICAgICBxdWVyeURhdGEgPSB7IGRhdGE6IHt9IH07XHJcbiAgICAgIHF1ZXJ5RGF0YS5kYXRhW3RoaXMuc291cmNlS2V5XSA9ICh0aGlzLnNvdXJjZVR5cGUgPT09ICdudW1iZXInKSA/IE51bWJlcih0aGlzLnNvdXJjZVZhbHVlKSA6IHRoaXMuc291cmNlVmFsdWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNlYXJjaHBhcmFtc1snZmlsdGVySWQnXSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xyXG5cclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGRhdGE6IHRoaXMuc3VibWl0dGVkRGF0YSxcclxuICAgICAgcXVlcnlEYXRhOiBxdWVyeURhdGEsXHJcbiAgICAgIHBhZ2VkYXRhOiBbdGhpcy5zZWFyY2hwYXJhbXNdLFxyXG4gICAgICBpbnB1dEZpZWxkSWQ6IHRoaXMuaW5wdXRGaWVsZElkLFxyXG4gICAgICBpbnB1dElkOiB0aGlzLmlucHV0SWQsXHJcbiAgICAgIHJlcXVpcmVUb3RhbENvdW50OiB0cnVlLFxyXG4gICAgICByZXN0cmljdDogdHJ1ZSxcclxuICAgICAgYXNzb2NpYXRlZEZvcm1JZDogb3V0c2lkZUZvcm1JRCA/IG91dHNpZGVGb3JtSUQgOiB0aGlzLmFzc29jaWF0ZWRJZC50b1N0cmluZygpLFxyXG4gICAgICByb2xlSWQ6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JvbGVfaWQnKSxcclxuICAgICAgc2VsZWN0ZWRWYWx1ZTogdGhpcy5wYXJhbXZhbHVlLFxyXG4gICAgICBzZWxlY3RlZEZpZWxkOiB0aGlzLnBhcmFtZmllbGQsXHJcbiAgICAgIHBhZ2luYXRlOiB0cnVlLFxyXG4gICAgICByZWRpcmVjdEZpbHRlcklkOiByZXNwb25zZUlkXHJcbiAgICB9O1xyXG4gICAgY29uc3QgYmFzZVVybCA9IHRoaXMuZW52aXJvbm1lbnQuYXBpSG9zdDtcclxuXHJcbiAgICBpZiAodGhpcy5keW5hbWljU2VhcmNoUmVzdWx0ICYmIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGRhdGFbJ2R5bmFtaWNTZWFyY2hBcnJheSddID0gdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGN0cmwgPSB0aGlzO1xyXG4gICAgbGV0IGdyaWRVcmw7XHJcbiAgICBpZiAodGhpcy5tYW51YWxQb3N0QXBpVXJsICE9ICcnKSB7XHJcbiAgICAgIGdyaWRVcmwgPSB0aGlzLm1hbnVhbFBvc3RBcGlVcmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBncmlkVXJsID0gR1JJRF9VUkw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcbiAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgQ3VzdG9tU3RvcmUoe1xyXG4gICAgICBsb2FkOiBmdW5jdGlvbiAobG9hZE9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IHN0b3JhZ2UuZ2V0SXRlbSgnand0LXRva2VuJyk7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IHN0b3JhZ2UuZ2V0T2JqKCd1c2VyJyk7XHJcblxyXG4gICAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgICAgLy8gZml4IGZvciB1c2VyIG51bGwgaW1tZWRpYXRlbHkgYWZ0ZXIgbG9naW5cclxuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgX3RoaXMuc2VhcmNoR3JpZChodHRwLCBzdG9yYWdlKTtcclxuICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBbJ3NraXAnLCAndGFrZScsICdyZXF1aXJlVG90YWxDb3VudCcsICdyZXF1aXJlR3JvdXBDb3VudCcsICdzb3J0JywgJ2ZpbHRlcicsICdwYWdlY29uZmlnJywgJ2dyb3VwJ10uZm9yRWFjaChcclxuICAgICAgICAgIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtIGluIGxvYWRPcHRpb25zICYmIGlzTm90RW1wdHkobG9hZE9wdGlvbnNbaXRlbV0pKSB7XHJcbiAgICAgICAgICAgICAgZGF0YVtpdGVtXSA9IGxvYWRPcHRpb25zW2l0ZW1dO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2l0ZW1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZGF0YS5yZXF1aXJlVG90YWxDb3VudCA9IHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiBodHRwXHJcbiAgICAgICAgICAucG9zdChiYXNlVXJsICsgZ3JpZFVybCwgZGF0YSwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSHR0cEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGhUb2tlbn1gLFxyXG4gICAgICAgICAgICAgIHVuaXF1ZWlkOiBgJHt1c2VyLmlkfWAsXHJcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uaWQ6IGAke3VzZXI/LnVzZXJXb3JrSW5mbz8ub3JnYW5pemF0aW9uPy5pZCA/IHVzZXIudXNlcldvcmtJbmZvLm9yZ2FuaXphdGlvbi5pZCA6ICcnfWAsXHJcbiAgICAgICAgICAgICAgcm9sZWtleTogYCR7dXNlcj8ucm9sZT8ucm9sZWtleSA/IHVzZXIucm9sZS5yb2xla2V5IDogJyd9YCxcclxuICAgICAgICAgICAgICByb2xlOiBST0xFX0NQX1BVQkxJQ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50b1Byb21pc2UoKVxyXG4gICAgICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJpbWFyeV9jb2x1bW4gPSByZXMuZGF0YT8ucmVzdWx0WzBdPy5wcmltYXJ5Q29sdW1uO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcz8uZGF0YT8uZGF0YT8ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiByZXM/LmRhdGE/LmRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXM/LmRhdGE/LmRhdGFbaV0/LltrZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHJlcz8uZGF0YT8uZGF0YVtpXT8uW2tleV07XHJcbiAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgdmFsIGluc3RhbmNlb2YgU3RyaW5nKSAmJiB2YWw/LmluY2x1ZGVzKCdbJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5kYXRhW2ldW2tleV0gPSByZXMuZGF0YS5kYXRhW2ldW2tleV0ucmVwbGFjZSgnWycsICcnKS5yZXBsYWNlKCddJywgJycpLnJlcGxhY2VBbGwoJ1wiJywgJycpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0cmwuc2hvd0dyaWRQYWdlID0gIShcclxuICAgICAgICAgICAgICAocmVzPy5kYXRhPy50b3RhbENvdW50Py5jb3VudCA9PT0gMCB8fCByZXM/LmRhdGE/LnRvdGFsQ291bnQ/LmNvdW50ID09PSAxKSAmJlxyXG4gICAgICAgICAgICAgIGN0cmwudXBkYXRlR3JpZD8uaXNJbml0aWFsRm9ybUxvYWRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5pc1Nob3dGb3JtUGFnZSA9IGN0cmwuc2hvd0dyaWRQYWdlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjdHJsLnNob3dHcmlkUGFnZSAmJiBjdHJsLnVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkgJiYgY3RybC51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGZvcm1JbmZvID0gY3RybC51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5LmZpbmQoZWxlID0+IGVsZS5pc091dHNpZGVHcmlkKTtcclxuICAgICAgICAgICAgICBjdHJsLml0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IEZvcm1QYWdlQ29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgcGFnZUlkOiBmb3JtSW5mbz8ubGluayxcclxuICAgICAgICAgICAgICAgIGVkaXRJZDogcmVzPy5kYXRhPy5kYXRhWzBdPy5pZCxcclxuICAgICAgICAgICAgICAgIG91dHB1dHM6IHtcclxuICAgICAgICAgICAgICAgICAgYWZ0ZXJTdWJtaXQ6IGV2ZW50ID0+IGN0cmwuYWZ0ZXJTdWJtaXR0ZWQoZXZlbnQpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaXNJbml0aWFsRm9ybUxvYWQ6IGN0cmwudXBkYXRlR3JpZD8uaXNJbml0aWFsRm9ybUxvYWQsXHJcbiAgICAgICAgICAgICAgICBpc1Nob3dPblRvcDogY3RybC51cGRhdGVHcmlkPy5pc1Nob3dPblRvcFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0cmwuc2hvd0dyaWRQYWdlICYmIGN0cmwudXBkYXRlR3JpZD8uaXNTaG93T25Ub3AgJiYgY3RybC51cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5ICYmIGN0cmwudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBjb25zdCBmb3JtSW5mbyA9IGN0cmwudXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheS5maW5kKGVsZSA9PiBlbGUuaXNPdXRzaWRlR3JpZCk7XHJcbiAgICAgICAgICAgICAgY3RybC5pdGVtID0ge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiBGb3JtUGFnZUNvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgIHBhZ2VJZDogZm9ybUluZm8/LmxpbmssXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgIGFmdGVyU3VibWl0OiBldmVudCA9PiBjdHJsLmFmdGVyU3VibWl0dGVkKGV2ZW50KVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGlzSW5pdGlhbEZvcm1Mb2FkOiBjdHJsLnVwZGF0ZUdyaWQ/LmlzSW5pdGlhbEZvcm1Mb2FkLFxyXG4gICAgICAgICAgICAgICAgaXNTaG93T25Ub3A6IGN0cmwudXBkYXRlR3JpZD8uaXNTaG93T25Ub3BcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNTZWFyY2hEYXRhID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZFRhYkRhdGEgPSBKU09OLnBhcnNlKEpTT04ucGFyc2Uoc3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZX0RZTkFNSUNfVEFCX1BBR0VTKSkpO1xyXG4gICAgICAgICAgICBjb25zdCBhcnJyZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ZGF0YSA9IHJlcy5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgcmVzdWx0ZGF0YS5tYXAobiA9PiB7XHJcbiAgICAgICAgICAgICAgbi5yb3cubWFwKChjOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChzdG9yZWRUYWJEYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgc3RvcmVkVGFiRGF0YS5tYXAoKGMxLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDAgJiYgYzEucGZpZWxkID09IGMubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gT2JqZWN0LmFzc2lnbih7fSwgYzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXJycmVzdWx0LnB1c2gob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudW5pcXVlZGF0YSA9IGFycnJlc3VsdC5maWx0ZXIoXHJcbiAgICAgICAgICAgICAgKHZhbHVlLCBpbmRleCwgX2FycmF5KSA9PiBpbmRleCA9PSBhcnJyZXN1bHQuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PSB2YWx1ZS5pZClcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5kYXRhLnJlc3VsdC5tYXAobiA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50T2JqID0ge307XHJcbiAgICAgICAgICAgICAgbi5yb3cuZm9yRWFjaCgoYzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sdW1uRGF0YSA9IGMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbdGFibGVOYW1lLCBjb2x1bW5OYW1lXSA9IGMubmFtZS5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICAgICAgY29sdW1uRGF0YSA9IHR5cGVvZiBjb2x1bW5EYXRhID09PSAnbnVtYmVyJyA/IGMudmFsdWUudG9TdHJpbmcoKSA6IGMudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudE9ialt0YWJsZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgIHBhcmVudE9ialt0YWJsZU5hbWVdW2NvbHVtbk5hbWVdID0gY29sdW1uRGF0YTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIHBhcmVudE9ialt0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgIHBhcmVudE9ialt0YWJsZU5hbWVdW2NvbHVtbk5hbWVdID0gY29sdW1uRGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcmVudE9ialsncmJhY0NvbmRpdGlvbnMnXSA9IG4ucmJhY0NvbmRpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRPYmpbJ2J1c2luZXNzUnVsZXMnXSA9IG4uYnVzaW5lc3NSdWxlcyA/IG4uYnVzaW5lc3NSdWxlcyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50T2JqWydyb3V0ZWRhdGEnXSA9IHRoaXMudW5pcXVlZGF0YTtcclxuICAgICAgICAgICAgICAgIHBhcmVudE9ialsncHJpbWFyeUNvbHVtbiddID0gbi5wcmltYXJ5Q29sdW1uO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hEYXRhLnB1c2gocGFyZW50T2JqKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgZGF0YTogZHluYW1pY1NlYXJjaERhdGEsXHJcbiAgICAgICAgICAgICAgdG90YWxDb3VudDogTnVtYmVyKHJlcz8uZGF0YS50b3RhbENvdW50LmNvdW50KVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChfZXJyb3IgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGRhdGEnKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZnVuY3Rpb24gaXNOb3RFbXB0eSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgIHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSAnJztcclxuICAgIH1cclxuICB9XHJcbiAgZnJlZUZvcm1QYWdlR3JpZChodHRwLCBzdG9yYWdlKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBkYXRhOiB0aGlzLnN1Ym1pdHRlZERhdGEsXHJcbiAgICAgIHBhZ2VkYXRhOiBbdGhpcy5zZWFyY2hwYXJhbXNdLFxyXG4gICAgICBpbnB1dEZpZWxkSWQ6IHRoaXMuaW5wdXRGaWVsZElkLFxyXG4gICAgICBpbnB1dElkOiB0aGlzLmlucHV0SWQsXHJcbiAgICAgIHJlcXVpcmVUb3RhbENvdW50OiB0cnVlLFxyXG4gICAgICByZXN0cmljdDogdHJ1ZSxcclxuICAgICAgcm9sZUlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb2xlX2lkJylcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZ3JpZEFjdGlvbkZvcm1BcnJheSA9IHRoaXMudXBkYXRlR3JpZC5ncmlkQWN0aW9uRm9ybUFycmF5Lm1hcChhID0+ICh7XHJcbiAgICAgIC4uLmEsXHJcbiAgICAgIGxpbms6IFN0cmluZyh0aGlzLnNlYXJjaHBhcmFtcy5wYWdlaWQpXHJcbiAgICB9KSk7XHJcbiAgICB0aGlzLnVwZGF0ZUdyaWQgPSB7IC4uLnRoaXMudXBkYXRlR3JpZCwgZ3JpZEFjdGlvbkZvcm1BcnJheSB9O1xyXG4gICAgY29uc3QgYmFzZVVybCA9IHRoaXMuZW52aXJvbm1lbnQuYXBpSG9zdDtcclxuICAgIGNvbnN0IF90aGlzID0gdGhpcztcclxuICAgIHRoaXMuZGF0YVNvdXJjZSA9IG5ldyBDdXN0b21TdG9yZSh7XHJcbiAgICAgIGxvYWQ6IGZ1bmN0aW9uIChsb2FkT3B0aW9uczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgYXV0aFRva2VuID0gc3RvcmFnZS5nZXRJdGVtKCdqd3QtdG9rZW4nKTtcclxuICAgICAgICBjb25zdCB1c2VyID0gc3RvcmFnZS5nZXRPYmooJ3VzZXInKTtcclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgX3RoaXMuZnJlZUZvcm1QYWdlR3JpZChodHRwLCBzdG9yYWdlKTtcclxuICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBbJ3NraXAnLCAndGFrZScsICdyZXF1aXJlVG90YWxDb3VudCcsICdyZXF1aXJlR3JvdXBDb3VudCcsICdzb3J0JywgJ2ZpbHRlcicsICdwYWdlY29uZmlnJywgJ2dyb3VwJ10uZm9yRWFjaChcclxuICAgICAgICAgIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbiBsb2FkT3B0aW9ucyAmJiBsb2FkT3B0aW9uc1tpdGVtXS5pc05vdEVtcHR5KCkpIHtcclxuICAgICAgICAgICAgICBkYXRhW2l0ZW1dID0gbG9hZE9wdGlvbnNbaXRlbV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZGVsZXRlIGRhdGFbaXRlbV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGdyaWRVcmwgPSBgL3NvbHV0aW9uL2Zvcm1yZXNwb25zZS9nZXRCeVBhZ2VJZC8ke190aGlzLnNlYXJjaHBhcmFtcy5wYWdlaWR9YDtcclxuICAgICAgICByZXR1cm4gaHR0cFxyXG4gICAgICAgICAgLmdldChiYXNlVXJsICsgZ3JpZFVybCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiBuZXcgSHR0cEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2F1dGhUb2tlbn1gLFxyXG4gICAgICAgICAgICAgIHVuaXF1ZWlkOiBgJHt1c2VyLmlkfWAsXHJcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uaWQ6IGAke3VzZXI/LnVzZXJXb3JrSW5mbz8ub3JnYW5pemF0aW9uPy5pZCA/IHVzZXIudXNlcldvcmtJbmZvLm9yZ2FuaXphdGlvbi5pZCA6ICcnfWAsXHJcbiAgICAgICAgICAgICAgcm9sZWtleTogYCR7dXNlcj8ucm9sZT8ucm9sZWtleSA/IHVzZXIucm9sZS5yb2xla2V5IDogJyd9YCxcclxuICAgICAgICAgICAgICByb2xlOiBST0xFX0NQX1BVQkxJQ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50b1Byb21pc2UoKVxyXG4gICAgICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm1SZXNwb25zZXMgPSByZXMuZGF0YS5wYWdlUmVzcG9uc2VzLm1hcChhID0+ICh7XHJcbiAgICAgICAgICAgICAgLi4uYS5yZXNwb25zZSxcclxuICAgICAgICAgICAgICBpZDogYS5pZCxcclxuICAgICAgICAgICAgICByYmFjQ29uZGl0aW9uczogYS5yYmFjQ29uZGl0aW9uc1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWRSZXNwb25zZUtleXMgPSBfdGhpcy5zZWFyY2hwYXJhbXMudGVtcGxhdGVqc29uXHJcbiAgICAgICAgICAgICAgLmNvbXBvbmVudHMuZmlsdGVyKGEgPT4gYS5rZXkgIT09ICdzdWJtaXQnKVxyXG4gICAgICAgICAgICAgIC5tYXAoYiA9PiBiLmtleSk7XHJcbiAgICAgICAgICAgIGFsbG93ZWRSZXNwb25zZUtleXMucHVzaCgnaWQnLCAncmJhY0NvbmRpdGlvbnMnKTtcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRSZXNwb25zZUtleXMgPSBmb3JtUmVzcG9uc2VzLm1hcChhID0+XHJcbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IGFsbG93ZWRSZXNwb25zZUtleXMuaW5jbHVkZXMoa2V5KSlcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gYVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICAgICAgfSwge30pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgZGF0YTogZmlsdGVyZWRSZXNwb25zZUtleXMsXHJcbiAgICAgICAgICAgICAgdG90YWxDb3VudDogTnVtYmVyKGZpbHRlcmVkUmVzcG9uc2VLZXlzLmxlbmd0aClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goX2Vycm9yID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBkYXRhJykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKSB7XHJcbiAgICBpZiAodGhpcy5pc09wZW4pIHtcclxuICAgICAgdGhpcy5zcGxpdGVyU2l6ZSA9IDMwO1xyXG4gICAgICB0aGlzLmdyaWRzcGxpdGVyU2l6ZSA9IDcwO1xyXG4gICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICBpZiAodGhpcy5sYXlvdXR0eXBlID09PSAndmVydGljYWwnKSB7XHJcbiAgICAgICAgdGhpcy5pY29uID0gJ2V4cGFuZF9tb3JlJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnYXJyb3dfbGVmdCc7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5vcGVuY2xvc2UgPSAnQ2xvc2UnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zcGxpdGVyU2l6ZSA9IDA7XHJcbiAgICAgIHRoaXMuZ3JpZHNwbGl0ZXJTaXplID0gMTAwO1xyXG4gICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcbiAgICAgIGlmICh0aGlzLmxheW91dHR5cGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICB0aGlzLmljb24gPSAnZXhwYW5kX2xlc3MnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaWNvbiA9ICdhcnJvd19yaWdodCc7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5vcGVuY2xvc2UgPSAnT3Blbic7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRSb3V0ZXIoZGF0YSwgX2l0ZW0pIHtcclxuICAgIHRoaXMuc2VsZWN0ZWRSb3dEYXRhID0gZGF0YTtcclxuICAgIHRoaXMub3BlblRhYiA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZWxlY3RlZFJvd0luZGV4ID0gZGF0YT8ucm93SW5kZXg7XHJcbiAgICB0aGlzLnNlbGVjdGVkQ29sdW1uSW5kZXggPSBkYXRhPy5jb2x1bW5JbmRleDtcclxuICAgIHRoaXMuc2VsZWN0ZWRDYXB0aW9uID0gZGF0YT8uY29sdW1uPy5jYXB0aW9uO1xyXG4gICAgY29uc3QgbmF2aWdhdGVTdGF0ZSA9IHtcclxuICAgICAgZXh0ZXJuYWxMaW5rOiB0cnVlLFxyXG4gICAgICBpc1JlYWRPbmx5OiBmYWxzZSxcclxuICAgICAgdGl0bGU6IHRoaXMuZnJvbVRpdGxlXHJcbiAgICB9O1xyXG4gICAgdGhpcy5kYXRhU3RvcmVTZXJ2aWNlLnNldERhdGEoJ2dyaWRBY3Rpb24nLCBudWxsKTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2xpY2tlZElkRGF0YSA9IG51bGw7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNsaWNrZWRSb3dEYXRhID0gbnVsbDtcclxuICAgIGxldCB1cmw7IGxldCBkYXRhdHlwZTtcclxuICAgIHRoaXMudXBkYXRlR3JpZCA9IHR5cGVvZiB0aGlzLnVwZGF0ZUdyaWQgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0aGlzLnVwZGF0ZUdyaWQpIDogdGhpcy51cGRhdGVHcmlkO1xyXG4gICAgY29uc3QgZ3JpZEFyciA9IHRoaXMudXBkYXRlR3JpZD8uZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgIGNvbnN0IGNvbHVtbiA9IGRhdGEuY29sdW1uLmRhdGFGaWVsZDtcclxuICAgIGNvbnN0IHRhYmxlc2NoZW1hY29uZmlnID0gdGhpcy5zZWFyY2hwYXJhbXMudGFibGVzY2hlbWFjb25maWc7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBncmlkQXJyKSB7XHJcbiAgICAgIGlmIChrZXkuY29sdW1uRGVmID09PSBjb2x1bW4pIHtcclxuICAgICAgICB1cmwgPSBrZXkubGluaztcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB0YWJsZXNjaGVtYWNvbmZpZy5maWVsZG1hcHBpbmcuZmlsdGVyKHggPT4gKHgudGFibGVuYW1lICsgJy4nICsgeC5maWVsZCkgPT09IGtleS5jb2x1bW5EZWYpO1xyXG4gICAgICAgIGRhdGF0eXBlID0gcmVzdWx0WzBdLmRhdGF0eXBlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvYWRSb3V0ZXIodXJsLCBkYXRhdHlwZSwgY29sdW1uLCBkYXRhLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICB9XHJcbiAgbG9hZFJvdXRlcih1cmwsIGRhdGF0eXBlLCBjb2x1bW4sIGRhdGEsIG5hdmlnYXRlU3RhdGU/OiBhbnkpIHtcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5jbGlja2VkUm93RGF0YSA9IGRhdGE/LmRhdGE7XHJcbiAgICAgIGNvbnN0IFVSTFNzID0gdGhpcy51cmxnZXQoZGF0YSwgJ2VkaXRVcmwnLCAnJyk7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hhbmdlUGFnZSh0cnVlKTtcclxuXHJcbiAgICAgIGNvbnN0IGRhdGFLZXlzID0gT2JqZWN0LmtleXMoZGF0YT8uZGF0YSk7XHJcbiAgICAgIGlmIChkYXRhS2V5cy5pbmNsdWRlcyhVUkxTcykpIHtcclxuICAgICAgICBpZiAoIWRhdGE/LmRhdGFbVVJMU3NdKSB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKGRhdGEuZGlzcGxheVZhbHVlICsgJyBub3QgZ2VuZXJhdGVkIHByb3Blcmx5IScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBzM1VybCA9IGRhdGE/LmRhdGFbVVJMU3NdLmluY2x1ZGVzKCcuY29tLycpID8gZGF0YT8uZGF0YVtVUkxTc10uc3BsaXQoJy5jb20vJylbMV0gOiBkYXRhPy5kYXRhW1VSTFNzXTtcclxuICAgICAgICAgIHRoaXMuZG93bmxvYWRGaWxlSW50ZXJuYWxseSh0aGlzLmVudmlyb25tZW50LnMzQnVja2V0VXJsICsgJy8nICsgczNVcmwsIGRhdGE/LmRhdGFbJ2ZpbGVuYW1lJ10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkYXRhLmRhdGEuZnJvbUdyaWQgPSB0cnVlO1xyXG4gICAgICAgIGRhdGEuZGF0YS5leHRlcm5hbExpbmsgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuaWQubmV4dChkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQpO1xyXG5cclxuICAgICAgICB0aGlzLmdldFBhZ2VUYWJzKHVybCwgZGF0YXR5cGUsIGNvbHVtbiwgZGF0YS5kYXRhW2NvbHVtbi5zcGxpdCgnLicpWzBdXVtjb2x1bW4uc3BsaXQoJy4nKVsxXV0sIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgbmF2aWdhdGVTdGF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVkaXREYXRhKGRhdGEpIHtcclxuICAgIGNvbnN0IFVSTFNzID0gdGhpcy51cmxnZXQoZGF0YSwgJ2VkaXRVcmwnLCAnJyk7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmlkLm5leHQoZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkKTtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoVVJMU3MpO1xyXG4gIH1cclxuXHJcbiAgdmlld0RhdGEoZGF0YSkge1xyXG4gICAgY29uc3QgVVJMU3MgPSB0aGlzLnVybGdldChkYXRhLCAnZWRpdFVybCcsICcnKTtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoVVJMU3MpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlRGF0YShkYXRhKSB7XHJcbiAgICBjb25zdCBVUkxTcyA9IHRoaXMudXJsZ2V0KGRhdGEsICdkZWxldGVVcmwnLCAnJyk7XHJcbiAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKFVSTFNzKTtcclxuICB9XHJcblxyXG4gIG9wZW5MaW5rKGRhdGEpIHtcclxuICAgIGNvbnN0IFVSTFNzID0gdGhpcy51cmxnZXQoZGF0YSwgJ2V4dGVybmFsTGluaycsICcnKTtcclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoVVJMU3MpO1xyXG4gIH1cclxuXHJcbiAgdXJsZ2V0KGRhdGEsIG9iaiwgcFVybCkge1xyXG4gICAgbGV0IHVybCA9IG9iaiA/IHRoaXMudXBkYXRlR3JpZFtvYmpdIDogcFVybDtcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgY29uc3QgdXJscGFyYW1BcnIgPSB1cmwuc3BsaXQoJy8nKTtcclxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXJscGFyYW1BcnIpIHtcclxuICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ3snKSAhPT0gLTEgJiYgZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICB1cmwgPSB0aGlzLnNldFVSTChrZXksIHVybCwgZGF0YSk7XHJcbiAgICAgICAgICB1cmwgPSB0aGlzLnNldEN1cnJlbnRVcmwoa2V5LCB1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB1cmwgPSB1cmwucmVwbGFjZSgnL3VuZGVmaW5lZCcsICcnKTtcclxuICAgICAgY29uc3QgdXJscGFyYW1BcnIxID0gdXJsLnNwbGl0KCcvJyk7XHJcbiAgICAgIHVybCA9IHRoaXMuc2V0VXJsUGFyYW0odXJscGFyYW1BcnIxLCB1cmwsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIHJlbW92ZSBkdXBsaWNhdGUgZm9yd2FyZCBzbGFzaGVzIGZyb20gdGhlIFVSTCAqL1xyXG4gICAgdXJsID0gdXJsLnJlcGxhY2UoLyhbXjpdXFwvKVxcLysvZywgJyQxJyk7XHJcbiAgICByZXR1cm4gdXJsO1xyXG4gIH1cclxuXHJcbiAgc2V0VVJMKGtleTogYW55LCB1cmw6IGFueSwgZGF0YTogYW55KSB7XHJcbiAgICBpZiAoa2V5ID09PSAne3NvdXJjZUlkfScpIHtcclxuICAgICAgY29uc3QgdmFsID0ge1xyXG4gICAgICAgIHNvdXJjZUlkOiB0aGlzLmlucHV0RmllbGRJZFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gdXJsLnJlcGxhY2Uoa2V5LCB2YWxba2V5LnN1YnN0cmluZygxLCBrZXkuaW5kZXhPZignfScpKV0pO1xyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICd7cHVycG9zZX0nKSB7XHJcbiAgICAgIGNvbnN0IHZhbCA9IHtcclxuICAgICAgICBwdXJwb3NlOiB0aGlzLnB1cnBvc2VcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKGtleSwgdmFsW2tleS5zdWJzdHJpbmcoMSwga2V5LmluZGV4T2YoJ30nKSldKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB1cmwucmVwbGFjZShrZXksIGRhdGEuZGF0YVtrZXkuc3Vic3RyaW5nKDEsIGtleS5pbmRleE9mKCd9JykpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50VXJsKGtleTogYW55LCB1cmw6IGFueSkge1xyXG4gICAgaWYgKHRoaXMucm91dGVyLnVybCAmJiBrZXkgPT09ICd7cGFnZXBhdGh9Jykge1xyXG4gICAgICBjb25zdCBjdXJyZW50VVJMID0gdGhpcy5yb3V0ZXIudXJsLnNwbGl0KCdtZXJnZXBhZ2UnKTtcclxuICAgICAgaWYgKGN1cnJlbnRVUkw/Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgnL3BhZ2VzL2R5bmFtaWNwYWdlLycsIGN1cnJlbnRVUkxbMF0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRVcmxQYXJhbSh1cmxwYXJhbUFycjE6IGFueSwgdXJsOiBhbnksIGRhdGE6IGFueSkge1xyXG4gICAgZm9yIChjb25zdCBrZXkgb2YgdXJscGFyYW1BcnIxKSB7XHJcbiAgICAgIGlmIChrZXkuaW5kZXhPZigneycpICE9PSAtMSAmJiBkYXRhLmRhdGEpIHtcclxuICAgICAgICByZXR1cm4gdXJsLnJlcGxhY2Uoa2V5LCBkYXRhLmRhdGFba2V5LnN1YnN0cmluZygxLCBrZXkuaW5kZXhPZignfScpKV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBkeW5hbWljIGFjdGlvbiBsaW5rXHJcbiAgZ2V0SW5zaWRlR3JpZEFjdGlvbihkYXRhLCBpdGVtKSB7XHJcblxyXG4gICAgdGhpcy5jaGVja1J1bGVzQmVmb3JlQWN0aW9ucyhkYXRhLCBpdGVtKS5zdWJzY3JpYmUoKGFsbG93ZWQ6IGJvb2xlYW4pID0+IHtcclxuICAgICAgaWYgKCFhbGxvd2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5nZXRBY3Rpb25Sb3V0ZXMoZGF0YSwgaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEFjdGlvblJvdXRlcyhkYXRhLCBpdGVtKXtcclxuICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdncmlkQWN0aW9uJywgaXRlbS5hY3Rpb24pO1xyXG4gICAgLyogQ29tcGxleGl0eS0xNCovXHJcbiAgICBpZiAoaXRlbS5hY3Rpb24gPT09ICdzZWFyY2gnIHx8IGl0ZW0uYWN0aW9uID09PSAnZWRpdCcgfHwgaXRlbS5hY3Rpb24gPT09ICd2aWV3JyB8fCBpdGVtLmFjdGlvbiA9PT0gJ3NlbGVjdCcgfHwgaXRlbS5hY3Rpb24gPT09ICdzd2l0Y2gnIHx8IGl0ZW0uYWN0aW9uID09PSAnY29weScpIHtcclxuICAgICAgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICAgIHRoaXMuYWN0aW9uQ2hlY2soaXRlbSwgZGF0YSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnZGVsZXRlJykge1xyXG4gICAgICB0aGlzLmRlbGV0ZUNvbmZpcm1hdGlvbihkYXRhLCBpdGVtKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgdGhpcy5jb21wbGV0ZUNvbmZpcm1hdGlvbihkYXRhLCBpdGVtKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICduYXJyYXRpdmUnKSB7XHJcbiAgICAgIHRoaXMucG9wdXAoZGF0YS5kYXRhLm5hcnJhdGl2ZSwgaXRlbSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnaGlzdG9yeScpIHtcclxuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gUE9QVVBfVFlQRV9PUEVOKSB7XHJcblxyXG4gICAgICAgIC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgICAgIHRoaXMucG9wdXBUeXBlQ2hlY2soaXRlbSwgZGF0YSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdwcmludCcpIHtcclxuXHJcbiAgICAgIC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgICB0aGlzLmFjdGlvblByaW50Q2hlY2soZGF0YSk7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnZW1haWwnKSB7XHJcblxyXG4gICAgICAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgICAgdGhpcy5hY3Rpb25FbWFpbENoZWNrKGRhdGEpO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2Rvd25sb2FkJykge1xyXG5cclxuICAgICAgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICAgIHRoaXMuYWN0aW9uRG93bmxvYWRDaGVjayhpdGVtLCBkYXRhKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdUcmlnZ2VyU2NoZWR1bGluZycpIHtcclxuICAgICAgdGhpcy5zdGFydFNjaGVkdWxpbmcoZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dLmlkKTtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdUcmlnZ2VyJykge1xyXG4gICAgICB0aGlzLnN0YXJ0U2NoZWR1bGluZyhkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQsIGl0ZW0/LmxpbmspO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ1N1cnZleScpIHtcclxuICAgICAgdGhpcy5hY3Rpb25TdXJ2ZXlDaGVjayhkYXRhKTsgLyogQ29tcGxleGl0eSBzcGxpdHRlZCBmdW5jdGlvbiovXHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uYWN0aW9uID09PSAnaW5mbycpIHtcclxuICAgICAgdGhpcy5hY3Rpb25JbmZvQ2hlY2soZGF0YSwgaXRlbSk7IC8qIENvbXBsZXhpdHkgc3BsaXR0ZWQgZnVuY3Rpb24qL1xyXG4gICAgfVxyXG4gICAgLy8gZWxzZSBpZiAoaXRlbS5hY3Rpb24gPT09ICdjb3B5Jykge1xyXG4gICAgLy8gICB0aGlzLmFjdGlvbkNoZWNrKGl0ZW0sIGRhdGEpOyAvKiBDb21wbGV4aXR5IHNwbGl0dGVkIGZ1bmN0aW9uKi9cclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIGFjdGlvbkNoZWNrKGl0ZW0sIGRhdGEpIHtcclxuICAgIC8qIEZyb20gZ2V0SW5zaWRlR3JpZEFjdGlvbigpICovXHJcbiAgICBjb25zdCBhY3Rpb24gPSBpdGVtLmFjdGlvbjtcclxuICAgIGxldCBlZGl0RGF0YVN0YXR1cyA9ICcnO1xyXG4gICAgY29uc3QgZ3JpZENvbmZpZyA9IHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnO1xyXG4gICAgY29uc3QgdGFibGVzY2hlbWFjb25maWcgPSB0aGlzLnNlYXJjaHBhcmFtcz8udGFibGVzY2hlbWFjb25maWc7XHJcbiAgICBsZXQgdmlld1ByaW1hcnlUYWJsZSA9ICcnO1xyXG4gICAgaWYodGFibGVzY2hlbWFjb25maWcub2JqZWN0VHlwZSA9PSAndmlldycpe1xyXG4gICAgICBjb25zdCBmaXJzdEtleSA9IE9iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF07XHJcbiAgICAgIHZpZXdQcmltYXJ5VGFibGUgPSBkYXRhLmRhdGFbZmlyc3RLZXldWydwcmltYXJ5X29iamVjdCddO1xyXG4gICAgfVxyXG4gICAgaWYodGhpcy5pc0VkaXRUaHJlc2hvbGRSZXF1aXJlIHx8IGdyaWRDb25maWc/LmlzRWRpdFRocmVzaG9sZFJlcXVpcmUpe1xyXG4gICAgICB0aGlzLmlzRWRpdFRocmVzaG9sZFJlcXVpcmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYoaXRlbS5hY3Rpb24gPT09ICdlZGl0Jyl7XHJcbiAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdFZGl0R3JpZFBhZ2VJRCcsIHRoaXMucGFnZUlkLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG4gICAgaWYoaXRlbS5hY3Rpb24gPT09ICdlZGl0JyAmJiB0aGlzLmlzRWRpdFRocmVzaG9sZFJlcXVpcmUpe1xyXG4gICAgICBjb25zdCBwcmltYXJ5X2lkID0gdGhpcy5nZXRQcmltYXJ5Q29sdW1uSWQoZGF0YS5kYXRhLnByaW1hcnlDb2x1bW4sIGRhdGEpO1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoZWNrRWRpdFN0YXR1cyh0aGlzLnBhZ2VJZCwgcHJpbWFyeV9pZCkuc3Vic2NyaWJlKFxyXG4gICAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICBpZihyZXN1bHRbJ2RhdGEnXSAmJiByZXN1bHRbJ2RhdGEnXS5sZW5ndGggPiAwICYmIHJlc3VsdFsnZGF0YSddWzBdWydzdGF0dXMnXSkge1xyXG4gICAgICAgICAgICBlZGl0RGF0YVN0YXR1cyA9IHJlc3VsdFsnZGF0YSddWzBdWydzdGF0dXMnXTtcclxuICAgICAgICAgICAgdGhpcy5lZGl0QWN0aW9uQ2hlY2soaXRlbSwgZGF0YSwgZWRpdERhdGFTdGF0dXMpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcclxuICAgICAgICAgICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdncmlkQWN0aW9uJywgYWN0aW9uKTtcclxuICAgIGNvbnN0IG5hdmlnYXRlU3RhdGUgPSB7XHJcbiAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgaXNSZWFkT25seTogZmFsc2UsXHJcbiAgICAgIHRpdGxlOiBpdGVtLmFjdGlvblswXS50b1VwcGVyQ2FzZSgpICsgaXRlbS5hY3Rpb24uc2xpY2UoMSkgKyAnICcgKyB0aGlzLmZyb21UaXRsZSxcclxuICAgICAgcGVyc29uSWQ6IG51bGwsXHJcbiAgICAgIHBhZ2VJZDogbnVsbFxyXG4gICAgfTtcclxuICAgIGlmIChpdGVtLmFjdGlvbiA9PT0gJ3ZpZXcnKSB7XHJcbiAgICAgIG5hdmlnYXRlU3RhdGUuaXNSZWFkT25seSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoaXRlbS50eXBlID09PSBQT1BVUF9UWVBFX09QRU4pIHtcclxuICAgICAgY29uc3QgZGlhbG9nQ29uZmlnID0gbmV3IE1hdERpYWxvZ0NvbmZpZygpO1xyXG4gICAgICBkaWFsb2dDb25maWcuZGlzYWJsZUNsb3NlID0gZmFsc2U7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5oZWlnaHQgPSAnOTAlJztcclxuICAgICAgZGlhbG9nQ29uZmlnLndpZHRoID0gJzEwMCUnO1xyXG4gICAgICB0aGlzLmFjdGlvblZpZXdDaGVjayhpdGVtLCBkaWFsb2dDb25maWcsIGRhdGEpO1xyXG4gICAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKEZvcm1QYWdlQ29tcG9uZW50LCBkaWFsb2dDb25maWcpO1xyXG4gICAgICByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2NvcHl0ZW1wJykge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLmxvY2Fsc3RvcmUuZ2V0T2JqKCd1c2VyJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdKTtcclxuICAgICAgICBsZXQgcGFnZUlkID0gJyc7XHJcbiAgICAgICAgaWYoZ3JpZENvbmZpZz8uZ3JpZEFjdGlvbkZvcm1BcnJheS5sZW5ndGgpe1xyXG4gICAgICAgICAgZ3JpZENvbmZpZz8uZ3JpZEFjdGlvbkZvcm1BcnJheS5maW5kKGl0ZW0gPT57XHJcbiAgICAgICAgICAgIGlmKGl0ZW0/LmFjdGlvbiA9PSAnYWRkJykgcGFnZUlkID0gaXRlbT8ubGlua1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BpZCA9XHJcbiAgICAgICAgdHlwZW9mIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXSA9PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gZGF0YS5kYXRhPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dIHx8IGRhdGEuZGF0YT8uSURcclxuICAgICAgICA6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkIDtcclxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHtcclxuICAgICAgICAgIC8vIFwiaWRcIjpkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0sXHJcbiAgICAgICAgICBcImlkXCI6IHJlc3BpZCxcclxuICAgICAgICAgIFwic2NoZW1hXCI6IHRhYmxlc2NoZW1hY29uZmlnLnNjaGVtYSxcclxuICAgICAgICAgIFwidGFibGVuYW1lXCI6IHRhYmxlc2NoZW1hY29uZmlnLm9iamVjdFR5cGUgIT09ICd2aWV3Jz8gT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXSA6IHZpZXdQcmltYXJ5VGFibGUsXHJcbiAgICAgICAgICBcImN1cnJlbnRVc2VyXCI6dXNlcj8uaWQsXHJcbiAgICAgICAgICBcInBhZ2VJZFwiOiBwYWdlSWRcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5yb3dWZXJzaW9uKHJlcXVlc3REYXRhKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5wYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7XHJcbiAgICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcclxuICAgICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm93IGFkZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICBpZiAoWydtYXN0ZXItdmlldycsICdjb21wb3NpdGUtcGFnZSddLmluY2x1ZGVzKCB3aW5kb3cubG9jYXRpb24uaHJlZikpXHJcbiAgICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYoKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21NYXN0ZXJWaWV3IHx8IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21Db21wb3NpdGVQYWdlKSYmIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MpXHJcbiAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7ZXZlbnROYW1lOiAnc3VibWl0JywgcGF5bG9hZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudH0pKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKF9lcnJvci5lcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vVGhpcyBSb3V0ZXMgcHJpb3JpdHppbmcgY29tcG9zaXRlLXBhZ2VzIGFzIGZpcnN0XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ21hc3Rlci12aWV3JykgfHwgdGhpcy5yb3V0ZXI/LnVybC5pbmNsdWRlcygnY29tcG9zaXRlLXBhZ2UnKSkge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMucm91dGVyLnVybDtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENvbXBvbmVudCAmJiAodGhpcy5zZWxlY3RlZENvbXBvbmVudD8ubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tQ29tcG9zaXRlUGFnZSApICAmJiB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzICYmXHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzLm1hcHBpbmdGb3JtSWQpXHJcbiAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7IGV2ZW50TmFtZTogaXRlbS5hY3Rpb24sXHJcbiAgICAgICAgICAgICBwYXlsb2FkOiB7IGlkOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0sIG1hcHBpbmdGb3JtSWQ6IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MubWFwcGluZ0Zvcm1JZCB9IH0pKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldEl0ZW0oJ2NvbXBvc2l0ZVRpdGxlJywgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy50aXRsZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnc2V0VGFiQWN0aW9uJywgaXRlbS5hY3Rpb24pO1xyXG4gICAgICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlLnNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy9mb3JtLycgKyBpdGVtLmxpbmsgKyAnLycgKyAgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dXSwge1xyXG4gICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy90aGlzLmFjdGlvblJvdXRlckNvbmZpZyhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy9CZWxvdyByb3V0aW5nIGhhbmRsZXMgcmliYm9uIGFuZCBzaW5nbGUgZ3JpZCBwYWdlc1xyXG4gICAgICBlbHNlIGlmICh0aGlzLnJvdXRlcj8udXJsLmluY2x1ZGVzKCdkeW5hbWljLXJvdXRpbmcnKSkge1xyXG4gICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdzZXRUYWJBY3Rpb24nLCBpdGVtLmFjdGlvbik7XHJcbiAgICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlLnNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgbGV0IHVybDtcclxuICAgICAgICBpZihpdGVtPy5wYWdlVHlwZSA9PSAnQ09NUCcpe1xyXG4gICAgICAgICAgdXJsID0gJy4uLy4uLy4uL2NvbXBvc2l0ZS1wYWdlLycgKyBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHVybCA9ICcuLi8uLi8uLi9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgaXRlbS5saW5rICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dO1xyXG4gICAgICAgfVxyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwge1xyXG4gICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgfSlcclxuICAgICAgICAvLyB0aGlzLmFjdGlvblJvdXRlckNvbmZpZyhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ3BhZ2VzLycpKSB7XHJcbiAgICAgICAgY29uc3QgbGluayA9IGl0ZW0ubGluay5yZXBsYWNlKCd7aWR9JywgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvJyArIGxpbmssIHsgc3RhdGU6IGl0ZW0gfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdtZXJnZXBhZ2UnKSkge1xyXG4gICAgICAgIGxldCB1cmwgPSBpdGVtLmxpbmsgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl07XHJcbiAgICAgICAgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygne3NvdXJjZUlkfScpKSB7XHJcbiAgICAgICAgICB1cmwgPSB0aGlzLnVybGdldChkYXRhLCAnJywgaXRlbS5saW5rKTtcclxuICAgICAgICAgIHVybCA9IHVybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdzb3VyY2VpZCcpKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfc291cmNlaWQnKVswXTtcclxuICAgICAgICBjb25zdCB1cmwgPSAnL3BhZ2VzL2R5bmFtaWMtcm91dGluZy8nICsgZGF0YS5kYXRhLnNvdXJjZWlkICsgJy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ19wYWdlJykpIHtcclxuICAgICAgICAvLyBUcmFuc2FjdGlvbnMgUGFnZSAtIGVkaXQgcm91dGluZyBjaGFuZ2VzXHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nLycgKyBkYXRhLmRhdGEuY2xpZW50YWNjb3VudGlkICsgJy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnLycgKyBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl1dLCB7XHJcbiAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBwYWdlaWQgPSBpdGVtLmxpbmsgPyBpdGVtLmxpbmsgOiB0aGlzLnBhZ2VJZDtcclxuICAgICAgICBjb25zdCByZXNwaWQgPVxyXG4gICAgICAgICAgdHlwZW9mIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXSA9PSAnc3RyaW5nJ1xyXG4gICAgICAgICAgICA/IGRhdGEuZGF0YT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGE/LklEXHJcbiAgICAgICAgICAgIDogZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dIHx8IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uaWQ7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgcGFnZWlkICsgJy8nICsgcmVzcGlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlZGl0QWN0aW9uQ2hlY2soaXRlbSwgZGF0YSwgZWRpdERhdGFTdGF0dXMpe1xyXG4gICAgaWYoaXRlbS5hY3Rpb24gPT09ICdlZGl0JyAmJiBlZGl0RGF0YVN0YXR1cyA9PT0gJ09XTkVSX09OTFlfRURJVCcpe1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBlZGl0IHRoaXMgcmVjb3JkLiBPbmx5IHRoZSBvd25lciB3aG8gY3JlYXRlZCB0aGUgcmVjb3JkIGNhbiBtYWtlIGNoYW5nZXMuJyk7XHJcbiAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgfSBlbHNlIGlmKGl0ZW0uYWN0aW9uID09PSAnZWRpdCcgJiYgZWRpdERhdGFTdGF0dXMgPT09ICdOT19FRElUJyl7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ1RoZSBlZGl0IHdpbmRvdyBmb3IgdGhpcyByZWNvcmQgaGFzIGV4cGlyZWQgYW5kIGNoYW5nZXMgY2Fubm90IGJlIG1hZGUgYXQgdGhpcyB0aW1lLicpO1xyXG4gICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGl0ZW0uYWN0aW9uO1xyXG4gICAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgnZ3JpZEFjdGlvbicsIGFjdGlvbik7XHJcbiAgICAgIGNvbnN0IG5hdmlnYXRlU3RhdGUgPSB7XHJcbiAgICAgICAgZXh0ZXJuYWxMaW5rOiB0cnVlLFxyXG4gICAgICAgIGlzUmVhZE9ubHk6IGZhbHNlLFxyXG4gICAgICAgIHRpdGxlOiBpdGVtLmFjdGlvblswXS50b1VwcGVyQ2FzZSgpICsgaXRlbS5hY3Rpb24uc2xpY2UoMSkgKyAnICcgKyB0aGlzLmZyb21UaXRsZSxcclxuICAgICAgICBwZXJzb25JZDogbnVsbCxcclxuICAgICAgICBwYWdlSWQ6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ2R5bmFtaWMtcm91dGluZycpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucm91dGVyPy51cmwuaW5jbHVkZXMoJ21hc3Rlci12aWV3JykgfHwgdGhpcy5yb3V0ZXI/LnVybC5pbmNsdWRlcygnY29tcG9zaXRlLXBhZ2UnKSkge1xyXG4gICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5yb3V0ZXIudXJsO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQgJiYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tQ29tcG9zaXRlUGFnZSkgJiYgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncyAmJlxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29tcG9uZW50LnNldHRpbmdzLm1hcHBpbmdGb3JtSWQpXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocHVibGlzaEV2ZW50KHtcclxuICAgICAgICAgICAgICBldmVudE5hbWU6IGl0ZW0uYWN0aW9uLFxyXG4gICAgICAgICAgICAgIHBheWxvYWQ6IHsgaWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgbWFwcGluZ0Zvcm1JZDogdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncy5tYXBwaW5nRm9ybUlkIH1cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmwgKyAnL2Zvcm0vJyArIGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxyXG4gICAgICAgICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCB1cmwgPSAnLi4vLi4vLi4vZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7XHJcbiAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICAgIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuYWN0aW9uUm91dGVyQ29uZmlnKGRhdGEsIGl0ZW0sIG5hdmlnYXRlU3RhdGUpO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygncGFnZXMvJykpIHtcclxuICAgICAgICBjb25zdCBsaW5rID0gaXRlbS5saW5rLnJlcGxhY2UoJ3tpZH0nLCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LltkYXRhLmRhdGEucHJpbWFyeUNvbHVtbl0pO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoJy8nICsgbGluaywgeyBzdGF0ZTogaXRlbSB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ21lcmdlcGFnZScpKSB7XHJcbiAgICAgICAgbGV0IHVybCA9IGl0ZW0ubGluayArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXTtcclxuICAgICAgICBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCd7c291cmNlSWR9JykpIHtcclxuICAgICAgICAgIHVybCA9IHRoaXMudXJsZ2V0KGRhdGEsICcnLCBpdGVtLmxpbmspO1xyXG4gICAgICAgICAgdXJsID0gdXJsICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpdGVtLmxpbmsuaW5jbHVkZXMoJ3NvdXJjZWlkJykpIHtcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBpdGVtLmxpbmsuc3BsaXQoJ19zb3VyY2VpZCcpWzBdO1xyXG4gICAgICAgIGNvbnN0IHVybCA9ICcvcGFnZXMvZHluYW1pYy1yb3V0aW5nLycgKyBkYXRhLmRhdGEuc291cmNlaWQgKyAnL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubGluay5pbmNsdWRlcygnX3BhZ2UnKSkge1xyXG4gICAgICAgIC8vIFRyYW5zYWN0aW9ucyBQYWdlIC0gZWRpdCByb3V0aW5nIGNoYW5nZXNcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBpdGVtLmxpbmsuc3BsaXQoJ19wYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljLXJvdXRpbmcvJyArIGRhdGEuZGF0YS5jbGllbnRhY2NvdW50aWQgKyAnL2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvJyArIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXV0sIHtcclxuICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ICBlbHNlIGlmIChpdGVtLmFjdGlvbiA9PT0gJ2NvcHknKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHtcclxuICAgICAgICAgIFwiaWRcIjpkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkLFxyXG4gICAgICAgICAgXCJzY2hlbWFcIjpcIm95YVwiLFxyXG4gICAgICAgICAgXCJ0YWJsZW5hbWVcIjpPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdLFxyXG4gICAgICAgICAgXCJjdXJyZW50VXNlclwiOjU3MlxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnJvd1ZlcnNpb24ocmVxdWVzdERhdGEpLnN1YnNjcmliZShcclxuICAgICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24ucGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHtcclxuICAgICAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogbmF2aWdhdGVTdGF0ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEdyaWQodGhpcy5odHRwLCB0aGlzLnN0b3JhZ2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm93IGFkZGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKF9lcnJvci5lcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHBhZ2VpZCA9IGl0ZW0ubGluayA/IGl0ZW0ubGluayA6IHRoaXMucGFnZUlkO1xyXG4gICAgICAgIGNvbnN0IHJlc3BpZCA9XHJcbiAgICAgICAgdHlwZW9mIGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXSA9PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gZGF0YS5kYXRhPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dIHx8IGRhdGEuZGF0YT8uSURcclxuICAgICAgICA6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXT8uW2RhdGEuZGF0YS5wcmltYXJ5Q29sdW1uXSB8fCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0/LmlkXHJcbiAgICAgICAgY29uc3QgdXJsID0gJy9wYWdlcy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgcGFnZWlkICsgJy8nICsgcmVzcGlkO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhY3Rpb25WaWV3Q2hlY2soaXRlbSwgZGlhbG9nQ29uZmlnLCBkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGFjdGlvbkNoZWNrKCktLT4gZ2V0SW5zaWRlR3JpZEFjdGlvbigpICovXHJcbiAgICBpZiAoaXRlbS5hY3Rpb24gPT09ICd2aWV3Jykge1xyXG4gICAgICBkaWFsb2dDb25maWcuZGF0YSA9IHtcclxuICAgICAgICBlZGl0SWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCxcclxuICAgICAgICBwYWdlSWQ6IGl0ZW0ubGluayxcclxuICAgICAgICBpc1BvcHVwOiB0cnVlLFxyXG4gICAgICAgIGlzUmVhZE9ubHk6IHRydWVcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBlZGl0SWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgcGFnZUlkOiBpdGVtLmxpbmssIGlzUG9wdXA6IHRydWUgfTtcclxuICAgIH1cclxuICB9XHJcbiAgYWN0aW9uUm91dGVyQ29uZmlnKGRhdGEsIGl0ZW0sIG5hdmlnYXRlU3RhdGUpIHtcclxuICAgIGxldCB1cmwgPSB0aGlzLnJvdXRlci51cmw7XHJcbiAgICBpZiAodGhpcy5vdXRlclJvdXRpbmc/Lm9ic2VydmVycz8ubGVuZ3RoKSB7XHJcbiAgICAgIGRhdGEuaXRlbSA9IGl0ZW07XHJcbiAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdvdXRlclJvdXRpbmdEYXRhJywgZGF0YSk7XHJcbiAgICAgIHRoaXMub3V0ZXJSb3V0aW5nLmVtaXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdtdWx0aXBsZWZvcm0nKSkge1xyXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnbWVyZ2VwYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfbXVsdGlwbGVmb3JtJylbMF07XHJcbiAgICAgICAgdXJsID0gdXJsICsgJ2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5saW5rLmluY2x1ZGVzKCdzb3VyY2Vmb3JtJykpIHtcclxuICAgICAgICAvLyBmb3IgY2hpbGQgcmVtb3ZhbCAtIGVkaXQvdmlldyByb3V0aW5nIGNoYW5nZVxyXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnbWVyZ2VwYWdlJylbMF07XHJcbiAgICAgICAgY29uc3QgZm9ybUlkID0gaXRlbS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzBdO1xyXG4gICAgICAgIHVybCA9IHVybCArICdwYWdlL21vZGlmeS8nICsgZm9ybUlkO1xyXG4gICAgICAgIGlmIChpdGVtLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV0gJiYgaXRlbS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdLmluY2x1ZGVzKCdfc3VidGFiXycpKSB7XHJcbiAgICAgICAgICAvLyBFeHRlcm5hbCBQb3J0YWwgLSBTdGFmZiB3aXRoIHN1YnRhYnNcclxuICAgICAgICAgIGNvbnN0IGxpbmsgPSBpdGVtLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV07XHJcblxyXG4gICAgICAgICAgLyogR2V0IHN1YnRhYiBuYW1lIGZvciB1cmwgKi9cclxuICAgICAgICAgIGNvbnN0IHN1YnRhYiA9IGxpbmsuc3BsaXQoJ19zdWJ0YWJfJylbMV07XHJcbiAgICAgICAgICB1cmwgPSBzdWJ0YWIgKyAnLycgKyB1cmw7XHJcblxyXG4gICAgICAgICAgLyogRGlzYWJsZSBiYWNrIGJ1dHRvbiAqL1xyXG4gICAgICAgICAgbmF2aWdhdGVTdGF0ZS5leHRlcm5hbExpbmsgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvKiBzZXQgZGVmYXVsdCBwYWdlIHRpdGxlICovXHJcbiAgICAgICAgICBuYXZpZ2F0ZVN0YXRlLnRpdGxlID0gJyc7XHJcbiAgICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoYW5nZVBhZ2UodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHVybC5pbmRleE9mKCdtYXN0ZXItdmlldycpID4gMCB8fCB1cmwuaW5kZXhPZignY29tcG9zaXRlLXBhZ2UnKSA+IDApIHtcclxuICAgICAgICB1cmwgPSB1cmwgKyAnL2Zvcm0vJyArIGl0ZW0ubGluaztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsICsgJy8nICsgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dXSwge1xyXG4gICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXHJcbiAgICAgICAgc3RhdGU6IG5hdmlnYXRlU3RhdGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHBvcHVwVHlwZUNoZWNrKGl0ZW0sIGRhdGEpIHtcclxuICAgIGNvbnN0IHNyY2lkID0gdGhpcy5yb3V0ZT8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5zbmFwc2hvdD8ucGFyYW1NYXAuZ2V0KCdzb3VyY2VpZCcpXHJcbiAgICAgID8gdGhpcy5yb3V0ZT8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5zbmFwc2hvdD8ucGFyYW1NYXAuZ2V0KCdzb3VyY2VpZCcpXHJcbiAgICAgIDogdGhpcy5yb3V0ZT8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8ucGFyZW50Py5wYXJlbnQ/LnBhcmVudD8uc25hcHNob3Q/LnBhcmFtTWFwLmdldCgnc291cmNlaWQnKTtcclxuICAgIGNvbnN0IGRpYWxvZ0NvbmZpZyA9IG5ldyBNYXREaWFsb2dDb25maWcoKTtcclxuICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcclxuICAgIGRpYWxvZ0NvbmZpZy5oZWlnaHQgPSAnOTAlJztcclxuICAgIGRpYWxvZ0NvbmZpZy53aWR0aCA9ICcxMDAlJztcclxuICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBwYWdlSWQ6IGl0ZW0ubGluaywgaW5wdXRGaWVsZElkOiBkYXRhLmtleS5pZCwgaW5wdXRJZDogc3JjaWQgfTtcclxuICAgIGNvbnN0IHJlZiA9IHRoaXMuZGlhbG9nLm9wZW4oRHluYW1pY1NlYXJjaENvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgIHJlZi5hZnRlckNsb3NlZCgpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhY3Rpb25QcmludENoZWNrKGRhdGEpIHtcclxuICAgIC8qIEZyb20gZ2V0SW5zaWRlR3JpZEFjdGlvbigpKi9cclxuICAgIGlmICghZGF0YS5kYXRhLnMzYnVja2V0dXJsKSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ05vIHBkZiBmb3VuZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBwZGZ1cmwgPSB0aGlzLmVudmlyb25tZW50LnMzQnVja2V0VXJsICsgJy8nICsgZGF0YS5kYXRhLnMzYnVja2V0dXJsO1xyXG4gICAgZXM2cHJpbnRKUyh7IHByaW50YWJsZTogcGRmdXJsLCB0eXBlOiAncGRmJywgc2hvd01vZGFsOiB0cnVlIH0pO1xyXG4gIH1cclxuXHJcbiAgYWN0aW9uRW1haWxDaGVjayhkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGdldEluc2lkZUdyaWRBY3Rpb24oKSovXHJcbiAgICBpZiAoIWRhdGEuZGF0YS5lbWFpbCkge1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKCdFbWFpbCBpcyBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghZGF0YS5kYXRhLnMzYnVja2V0dXJsKSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ05vIEF0dGFjaG1lbnQgZm91bmQnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gI2NoZWNrIGZyb21hZGRyZXNzIGlzIGhhcmRjb2RlZFxyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZVxyXG4gICAgICAuc2VuZE1haWwoe1xyXG4gICAgICAgIHN1YmplY3Q6IGRhdGEuZGF0YS5zdWJqZWN0LFxyXG4gICAgICAgIGNvbnRlbnQ6IGAke2RhdGEuZGF0YS5jb250ZW50X2JvZHl9PHA+VGhhbmtzIDxicj4gJHt0aGlzLnVzZXIuZmlyc3ROYW1lfSAke3RoaXMudXNlci5sYXN0TmFtZX0gPGJyPiAgJHt0aGlzLnVzZXIucm9sZS5kZXNjcmlwdGlvbn0gPC9wPmAsXHJcbiAgICAgICAgczNidWNrZXRrZXk6IGRhdGEuZGF0YS5zM2J1Y2tldHVybCxcclxuICAgICAgICB0b2FkcmVzc2VzOiBbZGF0YS5kYXRhLmVtYWlsXSxcclxuICAgICAgICBmcm9tYWRkcmVzczogJ3ZtYXRoZXdAZG1pbmMuY29tJ1xyXG4gICAgICB9KVxyXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdFbWFpbCBTZW50IHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFjdGlvbkRvd25sb2FkQ2hlY2soaXRlbSwgZGF0YSkge1xyXG4gICAgLyogRnJvbSBnZXRJbnNpZGVHcmlkQWN0aW9uKCkqL1xyXG4gICAgaWYgKGl0ZW0udHlwZSA9PT0gJ0RvY3VtZW50IFJlcG9ydCBHZW5lcmF0aW9uJykge1xyXG4gICAgICB0aGlzLmRhdGFTdG9yZVNlcnZpY2Uuc2V0RGF0YSgncGFnZURhdGEnLCB0aGlzLnNlYXJjaHBhcmFtcyk7XHJcbiAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdncmlkRGF0YScsIGRhdGE/LmRhdGEpO1xyXG4gICAgICBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcclxuICAgICAgZGlhbG9nQ29uZmlnLmhlaWdodCA9ICc5MCUnO1xyXG4gICAgICBkaWFsb2dDb25maWcud2lkdGggPSAnMTAwJSc7XHJcbiAgICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0geyBlZGl0SWQ6IGRhdGEuZGF0YVtPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdXS5pZCwgcGFnZUlkOiBpdGVtLmxpbmssIGlzUG9wdXA6IHRydWUgfTtcclxuICAgICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihGb3JtUGFnZUNvbXBvbmVudCwgZGlhbG9nQ29uZmlnKTtcclxuICAgICAgcmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhY3Rpb25TdXJ2ZXlDaGVjayhkYXRhKSB7XHJcbiAgICAvKiBGcm9tIGdldEluc2lkZUdyaWRBY3Rpb24oKSovXHJcbiAgICBpZiAoZGF0YS5kYXRhLnBhZ2VkYXRhaWQpIHtcclxuICAgICAgZGF0YS5kYXRhLmlzUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChcclxuICAgICAgUEFHRV9NT0RJRllfUk9VVEUgK1xyXG4gICAgICBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQgK1xyXG4gICAgICAoZGF0YS5kYXRhLnBhZ2VkYXRhaWQgPyAnLycgKyBkYXRhLmRhdGEucGFnZWRhdGFpZCA6ICcnKSxcclxuICAgICAgeyBzdGF0ZTogZGF0YS5kYXRhIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRPdXRzaWRlR3JpZEFjdGlvbihpdGVtKSB7XHJcbiAgICB0aGlzLmNoZWNrUnVsZXNCZWZvcmVBY3Rpb25zKHsgcGFnZURhdGE6IHRoaXMuYWxsVXJsUGFyYW1zIH0sIGl0ZW0pLnN1YnNjcmliZSgoYWxsb3dlZDogYm9vbGVhbikgPT4ge1xyXG4gICAgICBpZiAoIWFsbG93ZWQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSgnQWRkQWN0aW9uJywgdHJ1ZSk7XHJcbiAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdncmlkQWN0aW9uJywgaXRlbS5hY3Rpb24pO1xyXG4gICAgICBjb25zdCBkYXRhID0gaXRlbTtcclxuICAgICAgY29uc3QgYWN0aW9uID0gaXRlbS5hY3Rpb247XHJcbiAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCdncmlkQWN0aW9uJywgYWN0aW9uKTtcclxuICAgICAgY29uc3QgbmF2aWdhdGVTdGF0ZSA9IHtcclxuICAgICAgICBleHRlcm5hbExpbms6IHRydWUsXHJcbiAgICAgICAgdGl0bGU6IGl0ZW0uYWN0aW9uWzBdLnRvVXBwZXJDYXNlKCkgKyBpdGVtLmFjdGlvbi5zbGljZSgxKSArICcgJyArIHRoaXMuZnJvbVRpdGxlLFxyXG4gICAgICAgIHBlcnNvbklkOiBudWxsXHJcbiAgICAgIH07XHJcbiAgICAgIC8vIGlmIChuYXZpZ2F0ZVN0YXRlPy50aXRsZSkge1xyXG4gICAgICAvLyAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FkZC10aXRsZScsIG5hdmlnYXRlU3RhdGU/LnRpdGxlKTtcclxuICAgICAgLy8gfVxyXG4gICAgICBpZiAoZGF0YS50eXBlID09ICdFeHRlcm5hbCBMaW5rJykge1xyXG4gICAgICAgIHRoaXMuZ2V0VmVyc2lvbkxpc3QoaXRlbT8ubGluaywgbnVsbCwgaXRlbSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09IFBPUFVQX1RZUEVfT1BFTikge1xyXG4gICAgICAgIHRoaXMuc2V0RGlhbG9nQ29uZmlnKGl0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLnJvdXRlcj8udXJsLmluY2x1ZGVzKCdkeW5hbWljLXJvdXRpbmcnKSkge1xyXG4gICAgICAgICAgdGhpcy5keW5hbWljUm91dGVDaGVjayhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGluay5pbmNsdWRlcygnbWVyZ2VwYWdlJykpIHtcclxuICAgICAgICAgIGNvbnN0IHVybCA9IGRhdGEubGluaztcclxuICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm5hdmlnYXRlVG9HcmlkUGFnZShkYXRhLCBuYXZpZ2F0ZVN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBkeW5hbWljUm91dGVDaGVjayhkYXRhLCBpdGVtLCBuYXZpZ2F0ZVN0YXRlKSB7XHJcbiAgICAvKiBGcm9tIGdldE91dHNpZGVHcmlkQWN0aW9uKCkqL1xyXG4gICAgbGV0IHVybCA9IHRoaXMucm91dGVyLnVybDtcclxuICAgIGlmICh0aGlzLm91dGVyUm91dGluZz8ub2JzZXJ2ZXJzPy5sZW5ndGgpIHtcclxuICAgICAgZGF0YS5pdGVtID0gaXRlbTtcclxuICAgICAgdGhpcy5vdXRlclJvdXRpbmcuZW1pdChkYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBsaW5rID0gZGF0YS5saW5rO1xyXG5cclxuICAgICAgaWYgKGRhdGEubGluay5pbmNsdWRlcygnbXVsdGlwbGVmb3JtJykpIHtcclxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJ21lcmdlcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGRhdGEubGluay5zcGxpdCgnX211bHRpcGxlZm9ybScpWzBdO1xyXG4gICAgICAgIGxpbmsgPSAnZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJyArIGZvcm1JZDtcclxuICAgICAgfSBlbHNlIGlmIChkYXRhLmxpbmsuaW5jbHVkZXMoJ3NvdXJjZWZvcm0nKSkge1xyXG4gICAgICAgIC8vIGZvciBpbnRlcmVzdCB0cmFuc2FjdGlvbiBhZGRcclxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJ21lcmdlcGFnZScpWzBdO1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGRhdGEubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVswXTtcclxuICAgICAgICBsaW5rID0gJ3BhZ2UvbW9kaWZ5LycgKyBmb3JtSWQ7XHJcbiAgICAgICAgbmF2aWdhdGVTdGF0ZSA9IHRoaXMuc2V0Um91dGVEYXRhKGRhdGEsIGxpbmssIG5hdmlnYXRlU3RhdGUpO1xyXG4gICAgICAgIGlmIChkYXRhLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV0gJiYgZGF0YS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdLmluY2x1ZGVzKCdfc3VidGFiXycpKSB7XHJcbiAgICAgICAgICAvLyBFeHRlcm5hbCBQb3J0YWwgLSBTdGFmZiB3aXRoIHN1YnRhYnNcclxuICAgICAgICAgIGNvbnN0IHN1YnRhYkRhdGEgPSBkYXRhLmxpbmsuc3BsaXQoJ19zb3VyY2Vmb3JtJylbMV07XHJcblxyXG4gICAgICAgICAgLyogR2V0IHN1YnRhYiBuYW1lIGZvciB1cmwgKi9cclxuICAgICAgICAgIGNvbnN0IHN1YnRhYiA9IHN1YnRhYkRhdGEuc3BsaXQoJ19zdWJ0YWJfJylbMV07XHJcbiAgICAgICAgICBsaW5rID0gc3VidGFiICsgJy8nICsgbGluaztcclxuXHJcbiAgICAgICAgICAvKiBEaXNhYmxlIGJhY2sgYnV0dG9uICovXHJcbiAgICAgICAgICBuYXZpZ2F0ZVN0YXRlLmV4dGVybmFsTGluayA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIC8qIHNldCBkZWZhdWx0IHBhZ2UgdGl0bGUgKi9cclxuICAgICAgICAgIG5hdmlnYXRlU3RhdGUudGl0bGUgPSAnJztcclxuICAgICAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuY2hhbmdlUGFnZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybCArICcvJyArIGxpbmtdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Um91dGVEYXRhKGRhdGEsIF9saW5rLCBuYXZpZ2F0ZVN0YXRlKSB7XHJcbiAgICBpZiAoZGF0YS5saW5rLnNwbGl0KCdfc291cmNlZm9ybScpWzFdICYmIGRhdGEubGluay5zcGxpdCgnX3NvdXJjZWZvcm0nKVsxXS5pbmNsdWRlcygnX3N1YnRhYl8nKSkge1xyXG4gICAgICAvLyBFeHRlcm5hbCBQb3J0YWwgLSBTdGFmZiB3aXRoIHN1YnRhYnNcclxuICAgICAgLy8gR2V0IHN1YnRhYiBuYW1lIGZvciB1cmxcclxuXHJcbiAgICAgIC8qIERpc2FibGUgYmFjayBidXR0b24gKi9cclxuICAgICAgbmF2aWdhdGVTdGF0ZS5leHRlcm5hbExpbmsgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8qIHNldCBkZWZhdWx0IHBhZ2UgdGl0bGUgKi9cclxuICAgICAgbmF2aWdhdGVTdGF0ZS50aXRsZSA9ICcnO1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoYW5nZVBhZ2UodHJ1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmF2aWdhdGVTdGF0ZTtcclxuICB9XHJcblxyXG4gIG5hdmlnYXRlVG9HcmlkUGFnZShkYXRhOiBhbnksIG5hdmlnYXRlU3RhdGU6IGFueSkge1xyXG4gICAgaWYgKGRhdGEubGluay5pbmNsdWRlcygncGFnZXMvJykpIHtcclxuICAgICAgaWYgKGRhdGEubGluay5pbmNsdWRlcygne29yZ2FuaXphdGlvbmlkfScpKSB7XHJcbiAgICAgICAgY29uc3Qgc291cmNlaWQgPSB0aGlzLnVzZXI/LnVzZXJXb3JrSW5mbz8ub3JnYW5pemF0aW9uPy5pZDtcclxuICAgICAgICBjb25zdCBsaW5rID0gZGF0YS5saW5rLnJlcGxhY2UoJ3tvcmdhbml6YXRpb25pZH0nLCBzb3VyY2VpZCk7XHJcbiAgICAgICAgY29uc3QgdXJsID0gJy8nICsgbGluaztcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdXJsXSwgeyByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLCBzdGF0ZTogbmF2aWdhdGVTdGF0ZSB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKCcvJyArIGRhdGEubGluayk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCd0YWInKSA+IDApIHtcclxuICAgICAgICBjb25zdCB1cmwgPSAnLi4vLi4vcGFnZS8nICsgZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IFBBR0VfTU9ESUZZX1JPVVRFICsgZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFt1cmxdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXREaWFsb2dDb25maWcoaXRlbTogYW55KSB7XHJcbiAgICBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICBkaWFsb2dDb25maWcuZGlzYWJsZUNsb3NlID0gZmFsc2U7XHJcbiAgICBkaWFsb2dDb25maWcuaGVpZ2h0ID0gJzkwJSc7XHJcbiAgICBkaWFsb2dDb25maWcud2lkdGggPSAnMTAwJSc7XHJcbiAgICBkaWFsb2dDb25maWcuZGF0YSA9IHsgcGFnZUlkOiBpdGVtLmxpbmssIGlzUG9wdXA6IHRydWUgfTtcclxuICAgIGNvbnN0IHJlZiA9IHRoaXMuZGlhbG9nLm9wZW4oRm9ybVBhZ2VDb21wb25lbnQsIGRpYWxvZ0NvbmZpZyk7XHJcbiAgICByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAvLyByZWZyZXNoIGdyaWRcclxuICAgICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnZlcnRUb0lTT0Zvcm1hdChkYXRlU3RyaW5nKSB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgY29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKTsgLy8gTW9udGhzIGFyZSAwLWJhc2VkXHJcbiAgICBjb25zdCBkYXkgPSBTdHJpbmcoZGF0ZS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBob3VycyA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3Qgc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldFNlY29uZHMoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIGNvbnN0IG1pbGxpc2Vjb25kcyA9IFN0cmluZyhkYXRlLmdldE1pbGxpc2Vjb25kcygpKS5wYWRTdGFydCgzLCAnMCcpO1xyXG4gICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fVQke2hvdXJzfToke21pbnV0ZXN9OiR7c2Vjb25kc30uJHttaWxsaXNlY29uZHN9WmA7XHJcbiAgfVxyXG5cclxuICBhZGRNaW51dGVzKGRhdGVTdHJpbmc6IHN0cmluZywgbWludXRlczogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xyXG4gICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIGdldFByaW1hcnlDb2x1bW5JZChwcmltYXJ5Q29sdW1uOiBhbnksIGRhdGE6IGFueSkge1xyXG4gICAgY29uc3QgZmlyc3RLZXkgPSBPYmplY3Qua2V5cyhkYXRhLmRhdGEpWzBdO1xyXG4gICAgcmV0dXJuIGRhdGEuZGF0YVtmaXJzdEtleV1bcHJpbWFyeUNvbHVtbl07XHJcbiAgfVxyXG5cclxuICBnZXRBc0pTT04oanNvbil7XHJcbiAgICByZXR1cm4gdHlwZW9mIGpzb249PT0nc3RyaW5nJyA/IEpTT04ucGFyc2UoanNvbikgOiBqc29uO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ29uZmlybWF0aW9uKGRhdGEsIGl0ZW0pIHtcclxuICAgIHRoaXMuaXNEaXNhYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLnBhZ2VuYW1lID0gdGhpcy5zZWFyY2hwYXJhbXM/LnBhZ2VuYW1lO1xyXG4gICAgY29uc3QgZ3JpZENvbmlnRm9yRGVsZXRlUmVxdWlyZSA9IHRoaXMuZ2V0QXNKU09OKHRoaXMuc2VhcmNocGFyYW1zPy5ncmlkY29uZmlnKTtcclxuICAgIGNvbnN0IHRhYmxlc2NoZW1hY29uZmlnID0gdGhpcy5nZXRBc0pTT04odGhpcy5zZWFyY2hwYXJhbXM/LnRhYmxlc2NoZW1hY29uZmlnKTtcclxuICAgIGxldCB2aWV3UHJpbWFyeVRhYmxlID0gJyc7XHJcbiAgICBpZih0YWJsZXNjaGVtYWNvbmZpZy5vYmplY3RUeXBlID09ICd2aWV3Jyl7XHJcbiAgICAgIGNvbnN0IGZpcnN0S2V5ID0gT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXTtcclxuICAgICAgdmlld1ByaW1hcnlUYWJsZSA9IGRhdGEuZGF0YVtmaXJzdEtleV1bJ3ByaW1hcnlfb2JqZWN0J107XHJcbiAgICB9XHJcbiAgICB0aGlzLmRlbGV0ZVBvcHVwVGV4dCA9IGdyaWRDb25pZ0ZvckRlbGV0ZVJlcXVpcmU/LmlzRGVsZXRlUG9wdXBUZXh0O1xyXG4gICAgaWYodGhpcy5pc0RlbGV0ZVJlcXVpcmUgfHwgZ3JpZENvbmlnRm9yRGVsZXRlUmVxdWlyZT8uaXNEZWxldGVSZXF1aXJlKXtcclxuICAgICAgdGhpcy5pc0RlbGV0ZVJlcXVpcmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaXNDb25kaXRpb25hbEVkaXREZWxldGUgIT09ICd0cnVlJyB8fCAhdGhpcy5pc0RlbGV0ZVJlcXVpcmUpIHtcclxuICAgICAgY29uc3QgcHJpbWFyeV9pZCA9IHRoaXMuZ2V0UHJpbWFyeUNvbHVtbklkKGRhdGEuZGF0YS5wcmltYXJ5Q29sdW1uLCBkYXRhKTtcclxuICAgICAgdGhpcy5EZWxldGVDb25maWdVUkwgPSBgJHtEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBwcmltYXJ5X2lkKX0vJHt0aGlzLnBhZ2VJZH0/bmFtZT0ke3ZpZXdQcmltYXJ5VGFibGV9YFxyXG4gICAgICB0aGlzLnBvcHVwRGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3Blbih0aGlzLkRlbGV0ZUdyaWRMaXN0V2l0aG91dFJlYXNvbiwge1xyXG4gICAgICAgIHBhbmVsQ2xhc3M6ICdkZWxldGUtZ3JpZC13aXRob3V0LXJlYXNvbidcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFkbWluQWNjZXNzRm9yRGVsZXRlID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHByaW1hcnlfaWQgPSB0aGlzLmdldFByaW1hcnlDb2x1bW5JZChkYXRhLmRhdGEucHJpbWFyeUNvbHVtbiwgZGF0YSk7XHJcbiAgICAgIHRoaXMuRGVsZXRlQ29uZmlnVVJMID0gYCR7RHluYW1pY1NlYXJjaFVSTC5FbmRQb2ludHMuZm9ybVJlc3BvbnNlLmRlbGV0ZS5yZXBsYWNlKCd7aWR9JywgcHJpbWFyeV9pZCl9LyR7dGhpcy5wYWdlSWR9P25hbWU9JHt2aWV3UHJpbWFyeVRhYmxlfWBcclxuICAgICAgdGhpcy51cGRhdGVCeUlkQW5kUGFnZUlkV2l0aFJlYXNvblVSTCA9IGAke0R5bmFtaWNTZWFyY2hVUkwuRW5kUG9pbnRzLmZvcm1SZXNwb25zZS51cGRhdGVCeUlkQW5kUGFnZUlkV2l0aFJlYXNvbi5yZXBsYWNlKCd7aWR9JywgcHJpbWFyeV9pZCl9LyR7dGhpcy5wYWdlSWR9P3ByaW1hcnl0YWJsZT0ke3ZpZXdQcmltYXJ5VGFibGV9YFxyXG4gICAgICBjb25zdCB0Yk5hbWUgPSB0aGlzLmdyaWRDb25maWcuaGlnaGxpZ2h0Um93LnRhYmxlTmFtZTtcclxuICAgICAgdGhpcy5kZWxldGVDb25maWdEYXRhID0ge307XHJcbiAgICAgIHRoaXMuZGVsZXRlQ29uZmlnRGF0YSA9IHsnZGF0YSc6ZGF0YS5kYXRhW3RiTmFtZV19O1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoZWNrRGVsZXRlU3RhdHVzKHRoaXMucGFnZUlkLCBwcmltYXJ5X2lkLCB2aWV3UHJpbWFyeVRhYmxlKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICAgIGlmKHJlc3VsdFsnZGF0YSddICYmIHJlc3VsdFsnZGF0YSddLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICBpZihyZXN1bHRbJ2RhdGEnXVswXVsnc3RhdHVzJ10gPT09ICdERUxfUEVORCcpe1xyXG4gICAgICAgICAgICAgIC8vIGNvbnN0IGluZm9EZXRhaWxzID0gZGF0YVsnZGF0YSddLnJiYWNDb25kaXRpb25zLmZpbHRlcihpdGVtID0+IGl0ZW0uYWN0aW9uID09ICdpbmZvJyk7XHJcbiAgICAgICAgICAgICAgLy8gdGhpcy5kZWxldGVkUmVhc29uID0gaW5mb0RldGFpbHNbMF0/Lm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgdGhpcy5kZWxldGVkUmVhc29uID0gcmVzdWx0WydkYXRhJ11bMF1bJ3BvcHVwVGV4dCddO1xyXG4gICAgICAgICAgICAgIHRoaXMucG9wdXBEaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKHRoaXMuQXBwcm92ZURlbGV0ZUdyaWRMaXN0LCB7XHJcbiAgICAgICAgICAgICAgICBwYW5lbENsYXNzOiAnYXBwcm92ZS1kZWxldGUtZ3JpZC1saXN0J1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYocmVzdWx0WydkYXRhJ11bMF1bJ3N0YXR1cyddID09PSAnREVMX0FMTE9XJyl7XHJcbiAgICAgICAgICAgICAgdGhpcy5wb3B1cERpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4odGhpcy5EZWxldGVHcmlkTGlzdFdpdGhvdXRSZWFzb24sIHtcclxuICAgICAgICAgICAgICAgIHBhbmVsQ2xhc3M6ICdkZWxldGUtZ3JpZC13aXRob3V0LXJlYXNvbidcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHJlc3VsdFsnZGF0YSddWzBdWydzdGF0dXMnXSA9PT0gJ0RFTF9SRVEnKXtcclxuICAgICAgICAgICAgICB0aGlzLnBvcHVwRGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3Blbih0aGlzLkRlbGV0ZUdyaWRMaXN0LCB7XHJcbiAgICAgICAgICAgICAgICBwYW5lbENsYXNzOiAnZGVsZXRlLWRyaWQtd2l0aC1yZWFzb24nXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nJylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIF9lcnJvciA9PiB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICAvLyBkaWFsb2dDb25maWcuZGlzYWJsZUNsb3NlID0gdHJ1ZTtcclxuICAgIC8vIGRpYWxvZ0NvbmZpZy5kYXRhID0ge1xyXG4gICAgLy8gICBhY3Rpb246ICdkZWxldGUnLFxyXG4gICAgLy8gICBkZWxldGVJZDogdGhpcy5wYWdlSWQsXHJcbiAgICAvLyAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlPycsXHJcbiAgICAvLyAgIHVybDogRHluYW1pY1NlYXJjaFVSTC5FbmRQb2ludHMuZm9ybVJlc3BvbnNlLmRlbGV0ZS5yZXBsYWNlKCd7aWR9JywgZGF0YS5kYXRhW09iamVjdC5rZXlzKGRhdGEuZGF0YSlbMF1dPy5bZGF0YS5kYXRhLnByaW1hcnlDb2x1bW5dKSxcclxuICAgIC8vICAgcG9ydENvbmZpZzogaXRlbS5wb3J0Q29uZmlnLFxyXG4gICAgLy8gICBzdWNjZXNzTXNnOiAnUmVjb3JkIGRlbGV0ZWQgU3VjY2Vzc2Z1bGx5J1xyXG4gICAgLy8gfTtcclxuICAgIC8vIGNvbnN0IHJlZiA9IHRoaXMuZGlhbG9nLm9wZW4oRGVsZXRlQ29tcG9uZW50LCBkaWFsb2dDb25maWcpO1xyXG4gICAgLy8gcmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgIC8vICAgLy8gcmVmcmVzaCBncmlkXHJcbiAgICAvLyAgIHRoaXMuZ2V0R3JpZCgpO1xyXG4gICAgLy8gfSk7XHJcbiAgfVxyXG5cclxuICBhY3Rpb25JbmZvQ2hlY2soZGF0YSwgaXRlbSkge1xyXG4gICAgLy8gY29uc3QgcHJpbWFyeV9pZCA9IHRoaXMuZ2V0UHJpbWFyeUNvbHVtbklkKGRhdGEuZGF0YS5wcmltYXJ5Q29sdW1uLCBkYXRhKTtcclxuICAgIC8vIHRoaXMuRGVsZXRlQ29uZmlnVVJMID0gRHluYW1pY1NlYXJjaFVSTC5FbmRQb2ludHMuZm9ybVJlc3BvbnNlLmRlbGV0ZS5yZXBsYWNlKCd7aWR9JywgcHJpbWFyeV9pZCk7XHJcbiAgICAvLyB0aGlzLmRlbGV0ZWRSZWFzb24gPSBpdGVtLm1lc3NhZ2U7XHJcbiAgICAvLyAkKCcjQXBwcm92ZURlbGV0ZUdyaWRMaXN0JykubW9kYWwoJ3Nob3cnKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVJlY29yZCgpe1xyXG4gICAgdGhpcy5odHRwU2VydmljZS5kZWxldGUoYCR7dGhpcy5EZWxldGVDb25maWdVUkx9YCkuc3Vic2NyaWJlKFxyXG4gICAgICBfcmVzdWx0ID0+IHtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdEZWxldGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgIHRoaXMucmVsb2FkUG9wdXAoKTtcclxuICAgICAgfSxcclxuICAgICAgX2Vycm9yID0+IHtcclxuICAgICAgICB0aGlzLmNhbmNlbFBvcHVwKCk7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVSZWNvcmRXaXRoUmVhc29uKCl7XHJcbiAgICB0aGlzLnJvd0RhdGEgPSB7Li4udGhpcy5kZWxldGVDb25maWdEYXRhLCAncmVhc29uJyA6dGhpcy5lbnRlcmVkUmVhc29uLCAncGFnZVVSTCc6IHRoaXMucm91dGVyLnVybH07XHJcbiAgICB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoYCR7dGhpcy51cGRhdGVCeUlkQW5kUGFnZUlkV2l0aFJlYXNvblVSTH1gLCB0aGlzLnJvd0RhdGEpLnN1YnNjcmliZShcclxuICAgICAgX3Jlc3VsdDEgPT4ge1xyXG4gICAgICAgIHRoaXMucmVsb2FkUG9wdXAoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdEZWxldGUgUmVxdWVzdGVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICB9LFxyXG4gICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsUG9wdXAoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVJlY29yZFdpdGhvdXRSZWFzb24oKXtcclxuICAgIHRoaXMuaHR0cFNlcnZpY2UuZGVsZXRlKGAke3RoaXMuRGVsZXRlQ29uZmlnVVJMfWApLnN1YnNjcmliZShcclxuICAgICAgX3Jlc3VsdCA9PiB7XHJcbiAgICAgICAgaWYoX3Jlc3VsdCAmJiBfcmVzdWx0WydkYXRhJ10gPT09ICdERUxfUkVRJyl7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignRGVsZXRpb24gRmFpbGVkOiBUaGUgdGhyZXNob2xkIHRpbWUgZm9yIGRlbGV0aW5nIHRoaXMgcmVjb3JkIGhhcyBleHBpcmVkLicpO1xyXG4gICAgICAgIH0gZWxzZSBpZihfcmVzdWx0ICYmIF9yZXN1bHRbJ2RhdGEnXSkge1xyXG4gICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdjb21wb3NpdGUtcGFnZScpIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCdtYXN0ZXItdmlldycpKVxyXG4gICAgICAgICAgICBpZih0aGlzLnNlbGVjdGVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgaWYoKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21NYXN0ZXJWaWV3IHx8IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQ/LmxvYWRlZEZyb21Db21wb3NpdGVQYWdlKSYmIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MpXHJcbiAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChwdWJsaXNoRXZlbnQoe2V2ZW50TmFtZTogJ3N1Ym1pdCcsIHBheWxvYWQ6IHRoaXMuc2VsZWN0ZWRDb21wb25lbnR9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdEZWxldGVkIFN1Y2Nlc3NmdWxseScpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyBXZW50IFdyb25nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVsb2FkUG9wdXAoKTtcclxuICAgICAgfSxcclxuICAgICAgX2Vycm9yID0+IHtcclxuICAgICAgICB0aGlzLmNhbmNlbFBvcHVwKCk7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjYW5jZWxQb3B1cCgpIHtcclxuICAgIHRoaXMuY2xvc2VEaWFsb2dQb3B1cCgpO1xyXG4gICAgdGhpcy5lbnRlcmVkUmVhc29uID0gJyc7XHJcbiAgfVxyXG5cclxuICByZWxvYWRQb3B1cCgpIHtcclxuICAgIHRoaXMuY2xvc2VEaWFsb2dQb3B1cCgpO1xyXG4gICAgdGhpcy5nZXRHcmlkKCk7XHJcbiAgICB0aGlzLmVudGVyZWRSZWFzb24gPSAnJztcclxuICB9XHJcblxyXG4gIGNoZWNrSXNEaXNhYmxlZCh0ZXh0OiBzdHJpbmcpIHtcclxuICAgIGlmICh0ZXh0ICYmIHRleHQudHJpbSgpICE9ICcnKSB7XHJcbiAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmVudGVyZWRSZWFzb24gPSB0ZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pc0Rpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5lbnRlcmVkUmVhc29uID0gdGV4dDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBsZXRlQ29uZmlybWF0aW9uKGRhdGEsIF9pdGVtKSB7XHJcbiAgICBjb25zdCBkaWFsb2dDb25maWcgPSBuZXcgTWF0RGlhbG9nQ29uZmlnKCk7XHJcbiAgICBkaWFsb2dDb25maWcuZGlzYWJsZUNsb3NlID0gdHJ1ZTtcclxuICAgIGRpYWxvZ0NvbmZpZy5kYXRhID0ge1xyXG4gICAgICBhY3Rpb246ICdjb21wbGV0ZScsXHJcbiAgICAgIGRlbGV0ZUlkOiBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQsXHJcbiAgICAgIG1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY29tcGxldGU/JyxcclxuICAgICAgdXJsOiBEeW5hbWljU2VhcmNoVVJMLkVuZFBvaW50cy5mb3JtUmVzcG9uc2UuZGVsZXRlLnJlcGxhY2UoJ3tpZH0nLCBkYXRhLmRhdGFbT2JqZWN0LmtleXMoZGF0YS5kYXRhKVswXV0uaWQpLFxyXG4gICAgICBwb3J0Q29uZmlnOiBudWxsLFxyXG4gICAgICBzdWNjZXNzTXNnOiAnRGF0YSBjb21wbGV0ZWQgU3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgZGF0YTogZGF0YS5kYXRhXHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihEZWxldGVDb21wb25lbnQsIGRpYWxvZ0NvbmZpZyk7XHJcbiAgICByZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmdldEdyaWQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuZWRpdFBvcFVwRGlhbG9nUmVmLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBwb3B1cChkYXRhLCBhY3Rpb24pIHtcclxuICAgIGNvbnN0IHRhYmxlX25hbWUgPSB0aGlzLnNlYXJjaHBhcmFtcy50YWJsZXNjaGVtYWNvbmZpZy50YWJsZWxpc3RbMF07XHJcbiAgICBjb25zdCB0YWJkYXRhID0gZGF0YTtcclxuICAgIGNvbnN0IHZhbHVlID0gdGFiZGF0YSA/IHRhYmRhdGFbdGFibGVfbmFtZV0gOiAnJztcclxuICAgIHRoaXMudGFyZ2V0UGFnZSh2YWx1ZSwgYWN0aW9uKTtcclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgIHRoaXMucG9wdXBEaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKHRoaXMuY2FsbERpYWxvZ1BvcHVwKTtcclxuICAgIC8vICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBwcmVmZXItZm9yLW9mXHJcbiAgICAvLyAgIHRoaXMucG9wdXBEYXRhID0gZGF0YTtcclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIGNsb3NlRGlhbG9nUG9wdXAoKSB7XHJcbiAgICB0aGlzLnBvcHVwRGlhbG9nUmVmLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBzaG93SWNvbihkYXRhKSB7XHJcbiAgICBpZiAoZGF0YS5kYXRhLnRpbWVsZWZ0KSB7XHJcbiAgICAgIGlmIChkYXRhLmRhdGEudGltZWxlZnQuaW5jbHVkZXMoJyAnKSkge1xyXG4gICAgICAgIGxldCB0aW1lbGVmdCA9IGRhdGEuZGF0YS50aW1lbGVmdC5zcGxpdCgnICcpO1xyXG4gICAgICAgIHRpbWVsZWZ0ID0gdGltZWxlZnRbMF07XHJcbiAgICAgICAgaWYgKHRpbWVsZWZ0IDwgMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGRhdGEuZGF0YS50aW1lbGVmdC5pbmNsdWRlcygnOicpKSB7XHJcbiAgICAgICAgbGV0IHRpbWVsZWZ0ID0gZGF0YS5kYXRhLnRpbWVsZWZ0LnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgdGltZWxlZnQgPSB0aW1lbGVmdFswXTtcclxuICAgICAgICBpZiAodGltZWxlZnQgPCAwIHx8ICh0aW1lbGVmdCA9PSAnLTAwJyAmJiB0aW1lbGVmdC5pbmRleE9mKCctJykgIT0gLTEpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBzcGxpdGluZ0RhdGEoZGF0YSwgc3BsaXR0ZXIgPSAnLCcpIHtcclxuICAgIGlmIChkYXRhLmRhdGEubmFycmF0aXZlKSB7XHJcbiAgICAgIGNvbnN0IGRldGFpbCA9IGRhdGEuZGF0YS5uYXJyYXRpdmU7XHJcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBkaXYuaW5uZXJIVE1MID0gZGV0YWlsO1xyXG5cclxuICAgICAgLy8vLmpvaW4oXCI8YnIvPlwiKVxyXG4gICAgICBjb25zdCBmaW5hbFN0cmluZyA9IGRpdi5pbm5lclRleHQuc3BsaXQoc3BsaXR0ZXIpO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaW5hbFN0cmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZpbmFsU3RyaW5nW2ldID0gZmluYWxTdHJpbmdbaV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBmaW5hbFN0cmluZ1tpXSA9IGZpbmFsU3RyaW5nW2ldWzBdLnRvVXBwZXJDYXNlKCkgKyBmaW5hbFN0cmluZ1tpXS5zdWJzdHJpbmcoMSwgMik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZpbmFsU3RyaW5nLmpvaW4oJzxici8+Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZUNsYXNzKHRpdGxlKSB7XHJcbiAgICBpZiAodGl0bGUpIHtcclxuICAgICAgcmV0dXJuIHRpdGxlLnNwbGl0KCcgJykuam9pbignJykudG9Mb3dlckNhc2UoKTtcclxuICAgIH1cclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGNoYW5nZVN0YXR1c0NvbG9yKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgPT09ICdDb21wbGV0ZWQnKSB7XHJcbiAgICAgIHJldHVybiAnY29tcGxldGVkJztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdEcmFmdCcpIHtcclxuICAgICAgcmV0dXJuICdkcmFmdCc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnT3BlbicpIHtcclxuICAgICAgcmV0dXJuICdvcGVuJztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdDbG9zZWQnKSB7XHJcbiAgICAgIHJldHVybiAnY2xvc2VkJztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdQZW5kaW5nJykge1xyXG4gICAgICByZXR1cm4gJ3BlbmRpbmcnO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1BlbmRpbmcgQXBwcm92YWwnIHx8IHZhbHVlID09PSAnSW4tUHJvZ3Jlc3MnKSB7XHJcbiAgICAgIHJldHVybiAncGVuZGluZy1hcHByb3ZhbCc7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnQXBwcm92ZWQnIHx8IHZhbHVlID09PSAnQWNjZXB0ZWQgLSBTY3JlZW4gSW4nKSB7XHJcbiAgICAgIHJldHVybiAnYXBwcm92ZWQnO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JldHVybiB0byBXb3JrZXInIHx8IHZhbHVlID09PSAnUmV0dXJuZWQnKSB7XHJcbiAgICAgIHJldHVybiAncmV0dXJuZWQnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICB0aXRsZUNhc2VUb29sVGlwKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWVbMF0udG9VcHBlckNhc2UoKSArIHZhbHVlLnNsaWNlKDEpO1xyXG4gIH1cclxuICBjbG9zZUZvcm0oKSB7XHJcbiAgICB0aGlzLml0ZW0gPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZG93bmxvYWRGaWxlSW50ZXJuYWxseShzM0J1Y2tldFVybE5hbWUsIGZpbGVuYW1lKSB7XHJcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgYS5ocmVmID0gczNCdWNrZXRVcmxOYW1lLnRyaW0oKTtcclxuICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZSB8fCAnZG93bmxvYWQnO1xyXG4gICAgYS5jbGljaygpO1xyXG4gICAgYS5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIC8qIGZvciBHcmlkIFNlbGVjdGlvbiBlbmFibGUvZGlzYWJsZSAqL1xyXG4gIGdldEdyaWRTZWxlY3Rpb24oaXRlbSkge1xyXG4gICAgaWYgKGl0ZW0gPT09IHRydWUpIHtcclxuICAgICAgcmV0dXJuICdtdWx0aXBsZSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgc3RhcnRTY2hlZHVsaW5nKGlkLCB1cmwgPSBudWxsKSB7XHJcbiAgICBpZiAodXJsKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc3RhcnRTY2hlZHVsaW5nKHt9LCB1cmwucmVwbGFjZSgne2lkfScsIGlkKSkuc3Vic2NyaWJlKFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JlcG9ydCBUcmlnZ2VyZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfZXJyb3IgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUmVwb3J0IFRyaWdnZXIgZmFpbGVkLiBUcnkgQWdhaW4hJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zdGFydFNjaGVkdWxpbmdOb1VybCh7fSwgaWQpLnN1YnNjcmliZShcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdSZXBvcnQgVHJpZ2dlcmVkIFN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX2Vycm9yID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JlcG9ydCBUcmlnZ2VyIGZhaWxlZC4gVHJ5IEFnYWluIScpO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGN1c3RvbVNhdmUgPSAoc3RhdGU6IGFueSkgPT4ge1xyXG4gICAgZm9yIChjb25zdCBpdGVtIGluIHN0YXRlKSB7XHJcbiAgICAgIGlmIChpdGVtICE9PSAnY29sdW1ucycpIGRlbGV0ZSBzdGF0ZVtpdGVtXTtcclxuICAgIH1cclxuICAgIHRoaXMuZ3JpZENvbmZpZy5wYWdlU2l6ZSA9IHRoaXMuZGF0YUdyaWQuaW5zdGFuY2UucGFnZVNpemUoKTtcclxuICAgIGNvbnN0IHByZXZXaWR0aCA9IHRoaXMuY29sdW1uV2lkdGg7XHJcbiAgICB0aGlzLmNvbHVtbldpZHRoID0gc3RhdGU7XHJcbiAgICBjb25zdCB2YWxpZGF0ZVBhZ2VJZCA9IHRoaXMuc2VxdWVuY2VJZCA9PT0gTnVtYmVyKHRoaXMucm91dGUuc25hcHNob3QucGFyYW1NYXAuZ2V0KCdwYWdlSWQnKSk7XHJcbiAgICBjb25zdCB2YWxpZGF0ZSA9IEpTT04uc3RyaW5naWZ5KHByZXZXaWR0aCkgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMuY29sdW1uV2lkdGgpO1xyXG4gICAgaWYgKHZhbGlkYXRlUGFnZUlkKSB7XHJcbiAgICAgIGlmIChzdGF0ZT8uY29sdW1ucyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzdGF0ZS5jb2x1bW5zLmZvckVhY2goKHN0YXRlQ29sdW1uKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjb25maWdJdGVtID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmluZChjID0+IGMuY29sdW1uRGVmID09PSBzdGF0ZUNvbHVtbi5kYXRhRmllbGQgJiYgIWMuaGlkZSk7XHJcbiAgICAgICAgICBpZiAoY29uZmlnSXRlbSkge1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLndpZHRoID0gc3RhdGVDb2x1bW4ud2lkdGg7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0uZmlsdGVyVmFsdWVzID0gc3RhdGVDb2x1bW4uZmlsdGVyVmFsdWVzO1xyXG4gICAgICAgICAgICBjb25maWdJdGVtLnNvcnRPcmRlciA9IHN0YXRlQ29sdW1uLnNvcnRPcmRlcjtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5zb3J0SW5kZXggPSBzdGF0ZUNvbHVtbi5zb3J0SW5kZXg7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0udmlzaWJsZSA9IHN0YXRlQ29sdW1uLnZpc2libGUgPz8gdHJ1ZTtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS52aXNpYmxlSW5kZXggPSBzdGF0ZUNvbHVtbi52aXNpYmxlSW5kZXg7XHJcbiAgICAgICAgICAgIGNvbmZpZ0l0ZW0uZmlsdGVyVmFsdWUgPSBzdGF0ZUNvbHVtbi5maWx0ZXJWYWx1ZTtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5maWx0ZXJUeXBlID0gc3RhdGVDb2x1bW4uZmlsdGVyVHlwZTtcclxuICAgICAgICAgICAgY29uZmlnSXRlbS5zZWxlY3RlZEZpbHRlck9wZXJhdGlvbiA9IHN0YXRlQ29sdW1uLnNlbGVjdGVkRmlsdGVyT3BlcmF0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnNjcmVlbldpZHRoID4gMTAyNSkge1xyXG4gICAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgICB0eXBlOiAnUEFHRScsXHJcbiAgICAgICAgICBtYXBwZWRpZDogdGhpcy5jdXJyZW50UGFnZUlkLFxyXG4gICAgICAgICAgY29uZmlnOiBKU09OLnN0cmluZ2lmeSh0aGlzLmdyaWRDb25maWcpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnNhdmVHcmlkVXNlclByZWZlcmVuY2UoYm9keSkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gY29uc3QgYm9keSA9IHtcclxuICAgICAgLy8gICB0eXBlOiAnUEFHRScsXHJcbiAgICAgIC8vICAgbWFwcGVkaWQ6IHRoaXMuY3VycmVudFBhZ2VJZCxcclxuICAgICAgLy8gICBjb25maWc6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ3JpZENvbmZpZylcclxuICAgICAgLy8gfTtcclxuICAgICAgLy8gdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zYXZlR3JpZFVzZXJQcmVmZXJlbmNlKGJvZHkpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIC8vICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAvLyB9KTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbHVtbkNob29zZXJDbGljaygpIHtcclxuICAgIHRoaXMuZGF0YUdyaWQuaW5zdGFuY2Uuc2hvd0NvbHVtbkNob29zZXIoKTtcclxuICB9XHJcbiAgY29udGVudFJlYWR5ID0gZSA9PiB7XHJcbiAgICBjb25zdCBjb21wb25lbnRJbnN0YW5jZSA9IGUuY29tcG9uZW50Lmluc3RhbmNlKCk7XHJcbiAgICBjb25zdCBjdXJyZW50Q29sdW1ucyA9IGNvbXBvbmVudEluc3RhbmNlLm9wdGlvbignY29sdW1ucycpO1xyXG4gICAgaWYgKHRoaXMuZ3JpZENvbmZpZyAmJiB0aGlzLmdyaWRDb25maWcudXNlclByZWZlcmVuY2VHcmlkQ29uZmlnKSB7XHJcbiAgICAgIGlmICh0aGlzLmdyaWRDb25maWcucGFnZVNpemUpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlU2l6ZSA9IHRoaXMuZ3JpZENvbmZpZy5wYWdlU2l6ZTtcclxuICAgICAgfVxyXG4gICAgICBsZXQgY2hhbmdlc01hZGUgPSBmYWxzZTtcclxuICAgICAgY3VycmVudENvbHVtbnMuZm9yRWFjaCgoY29sdW1uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ0l0ZW0gPSB0aGlzLmdyaWRDb25maWcudXNlclByZWZlcmVuY2VHcmlkQ29uZmlnLmZpbmQoYyA9PiBjLmNvbHVtbkRlZiA9PT0gY29sdW1uLmRhdGFGaWVsZCk7XHJcbiAgICAgICAgaWYgKGNvbmZpZ0l0ZW0pIHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldFZpc2liaWxpdHkgPSBjb25maWdJdGVtLmhpZGUgPyBmYWxzZSA6IChjb25maWdJdGVtLnZpc2libGUgPT09IFwiXCIgPyB0cnVlIDogY29uZmlnSXRlbS52aXNpYmxlKTtcclxuICAgICAgICAgIGlmIChjb2x1bW4udmlzaWJsZSAhPT0gdGFyZ2V0VmlzaWJpbGl0eSkge1xyXG4gICAgICAgICAgICBjaGFuZ2VzTWFkZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5zW2luZGV4XS52aXNpYmxlID0gdGFyZ2V0VmlzaWJpbGl0eTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIENoZWNrIGFuZCB1cGRhdGUgdGhlIHZpc2libGVJbmRleCBpZiBkaWZmZXJlbnRcclxuICAgICAgICAgIGlmIChjb2x1bW4udmlzaWJsZUluZGV4ICE9PSBjb25maWdJdGVtLnZpc2libGVJbmRleCkge1xyXG4gICAgICAgICAgICBjaGFuZ2VzTWFkZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5zW2luZGV4XS52aXNpYmxlSW5kZXggPSBjb25maWdJdGVtLnZpc2libGVJbmRleDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNoYW5nZXNNYWRlKSB7XHJcbiAgICAgICAgY29tcG9uZW50SW5zdGFuY2Uub3B0aW9uKCdjb2x1bW5zJywgY3VycmVudENvbHVtbnMpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaXNJbml0aWFsTG9hZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmlzUmVzaXplID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuaXNVc2VyUHJlZmVyZW5jZUNoYW5nZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgZ2V0VmlzYWJpbGl0eUJ5Q2hvb3NhYmxlUHJvcChjaG9vc2VyLCB2aXNpYmxlKSB7XHJcbiAgICBpZiAoY2hvb3Nlcikge1xyXG4gICAgICByZXR1cm4gdmlzaWJsZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U29ydE9yZGVyKGRlZmF1bHRTb3J0Q29sdW1uLCBkZWZhdWx0U29ydFR5cGUsIGNvbHVtbkRlZikge1xyXG4gICAgaWYgKGRlZmF1bHRTb3J0Q29sdW1uICYmIGRlZmF1bHRTb3J0VHlwZSkge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdFNvcnRDb2x1bW4gPT09IGNvbHVtbkRlZiA/IGRlZmF1bHRTb3J0VHlwZSA6ICcnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgZ29CYWNrKCk6IHZvaWQge1xyXG4gICAgdGhpcy5sb2NhdGlvbi5iYWNrKCk7XHJcbiAgfVxyXG4gIHNob3dHcmlkQWN0aW9ucyh1cGRhdGVHcmlkLCBzaG93QWN0aW9uQ29sdW1uLCBncmlkVHlwZSk6IGFueSB7XHJcbiAgICBjb25zdCBncmlkQWN0aW9ucyA9IHVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXlcclxuICAgICAgPyB1cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5LmZpbHRlcih4ID0+IHguYWN0aW9uPy50b0xvd2VyQ2FzZSgpICE9PSAnYWRkJylcclxuICAgICAgOiBbXTtcclxuICAgIGNvbnN0IGhpZGRlbkNvbHVtbnMgPSBncmlkQWN0aW9ucz8uZmlsdGVyKGEgPT4gYT8uaGlkZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBncmlkQWN0aW9ucy5sZW5ndGggPiAwICYmXHJcbiAgICAgIHNob3dBY3Rpb25Db2x1bW4gJiZcclxuICAgICAgZ3JpZFR5cGUgIT0gJ3ZpZXcnICYmXHJcbiAgICAgIGhpZGRlbkNvbHVtbnMubGVuZ3RoICE9PSBncmlkQWN0aW9ucy5sZW5ndGhcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VGaWx0ZXJPcHRpb25zKGUpIHtcclxuICAgIHRoaXMuZmlsdGVyT3B0aW9uc0Ryb3Bkb3duLmNsb3NlKGUub3JpZ2luYWxFdmVudCk7XHJcbiAgICB0aGlzLmlzVXNlclByZWZlcmVuY2VDaGFuZ2UgPSB0cnVlO1xyXG4gICAgdGhpcy5zZXRQZXJtaXNzaW9ucyhlLml0ZW1WYWx1ZSk7XHJcbiAgfVxyXG5cclxuICBzZXRQZXJtaXNzaW9ucyhtb2RhbCkge1xyXG4gICAgY29uc3QgW2NvZGUsIHZhbHVlXSA9IG1vZGFsLnNwbGl0KCctJyk7XHJcbiAgICBjb25zdCBpc0V4aXN0ID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKGMgPT4gYy5jb2x1bW5EZWYgPT09IGNvZGUgJiYgISFjW3ZhbHVlXSk7XHJcblxyXG4gICAgaWYgKGlzRXhpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5Lm1hcCgoYzogYW55KSA9PiB7XHJcbiAgICAgICAgY1t2YWx1ZV0gPSBjLmNvbHVtbkRlZiA9PT0gY29kZSA/IHRydWUgOiBjW3ZhbHVlXTtcclxuICAgICAgICBpZiAoYy5jb2x1bW5EZWYgPT09IGNvZGUpIHtcclxuICAgICAgICAgIGM/LnNlbGVjdGVkPy5wdXNoKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGM7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZEdyaWRGb3JtKGNvZGUsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgdGhpcy51cGRhdGVVc2VyR3JpZENvbmZpZygpO1xyXG4gIH1cclxuXHJcbiAgQEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScsIFsnJGV2ZW50J10pXHJcbiAgb25SZXNpemUoKSB7XHJcbiAgICBjb25zdCBwcmV2V2lkdGggPSB0aGlzLnNjcmVlbldpZHRoO1xyXG4gICAgdGhpcy5zY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXk7XHJcbiAgICBpZiAodGhpcy5zY3JlZW5XaWR0aCA8IDc2Nykge1xyXG4gICAgICBjb25zdCBtb2JpbGVDb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKGMgPT4gYy5tb2JpbGVWaWV3KTtcclxuICAgICAgdGhpcy5jaGVja09ucmVzaXplKG1vYmlsZUNvbHVtbnMpO1xyXG4gICAgICAvLyB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JlZW5XaWR0aCA+PSA3NjggJiYgdGhpcy5zY3JlZW5XaWR0aCA8IDk5MCkge1xyXG4gICAgICBjb25zdCB0YWJDb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKGMgPT4gYy50YWJWaWV3KTtcclxuICAgICAgaWYgKHRhYkNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKHggPT4geC50YWJWaWV3KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb25zdCBtYXhWaXNpYmxlQ291bnQgPSA1O1xyXG4gICAgICAgIC8vIGNvbnN0IHZpc2libGVDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkuZmlsdGVyKCh0LCBpKSA9PiBpIDwgMyk7XHJcblxyXG5cclxuICAgICAgfVxyXG4gICAgICAvLyB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgIH0gZWxzZSBpZiAocHJldldpZHRoICYmIHByZXZXaWR0aCAhPT0gdGhpcy5zY3JlZW5XaWR0aCkge1xyXG4gICAgICAvL3RvIGZpeCBsb2FkaW5nIGlzc3VlIHdoZW4gY2hhbmdpbmcgZnJvbSBtb2JpbGUgdG8gd2ViL3RhYiB2aWV3XHJcbiAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgICAvLyB0aGlzLmNvbHVtbnMgPSB0aGlzLmNoZWNrR3JpZENvbmZpZztcclxuICAgICAgdGhpcy5nZXRVc2VyR3JpZENvbmZpZygpO1xyXG4gICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNoZWNrT25yZXNpemUobW9iaWxlQ29sdW1ucykge1xyXG4gICAgaWYgKG1vYmlsZUNvbHVtbnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuZ3JpZENvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5LmZpbHRlcih4ID0+IHgubW9iaWxlVmlldyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBjb25zdCBtYXhWaXNpYmxlQ291bnQgPSAzO1xyXG4gICAgICAvLyBjb25zdCB2aXNpYmxlQ291bnQgPSAwO1xyXG4gICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmdyaWRDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5maWx0ZXIoKG0sIGkpID0+IGkgPCAzKTtcclxuXHJcblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0U2VsZWN0ZWRHcmlkRm9ybShjb2RlLCB2YWx1ZSkge1xyXG4gICAgdGhpcy5ncmlkQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkubWFwKGMgPT4ge1xyXG4gICAgICBjW3ZhbHVlXSA9IGMuY29sdW1uRGVmID09PSBjb2RlID8gJycgOiBjW3ZhbHVlXTtcclxuICAgICAgaWYgKGMuY29sdW1uRGVmID09PSBjb2RlICYmIGMuc2VsZWN0ZWQpIHtcclxuICAgICAgICBjLnNlbGVjdGVkID0gYy5zZWxlY3RlZC5maWx0ZXIocyA9PiBzICE9PSB2YWx1ZSk7XHJcbiAgICAgICAgLy8gYz8uc2VsZWN0ZWQ/Lm1hcCgobSwgaSkgPT4ge1xyXG4gICAgICAgIC8vICAgbSA9PT0gdmFsdWUgJiYgYy5zZWxlY3RlZC5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGM7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVVzZXJHcmlkQ29uZmlnKCkge1xyXG4gICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgdHlwZTogJ1BBR0UnLFxyXG4gICAgICBtYXBwZWRpZDogdGhpcy5jdXJyZW50UGFnZUlkLFxyXG4gICAgICBjb25maWc6IEpTT04uc3RyaW5naWZ5KHRoaXMuZ3JpZENvbmZpZylcclxuICAgIH07XHJcbiAgICBpZiAodGhpcy5zY3JlZW5XaWR0aCA+IDk5MCkge1xyXG4gICAgICB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLnNhdmVHcmlkVXNlclByZWZlcmVuY2UoYm9keSkuc3Vic2NyaWJlKF9yZXMgPT4ge1xyXG4gICAgICAgIHRoaXMuZ2V0VXNlckdyaWRDb25maWcoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRVc2VyR3JpZENvbmZpZygpIHtcclxuICAgIHRoaXMuZGF0YUdyaWQuaW5zdGFuY2UuY2xlYXJGaWx0ZXIoKTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuZ2V0R3JpZFVzZXJQcmVmZXJlbmNlKHRoaXMuY3VycmVudFBhZ2VJZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGE/LmNvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ0FycmF5ID0gdHlwZW9mIHJlcy5kYXRhLmNvbmZpZyA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2UocmVzLmRhdGEuY29uZmlnKSA6IHJlcy5kYXRhLmNvbmZpZztcclxuICAgICAgICBpZiAoY29uZmlnQXJyYXkgJiYgY29uZmlnQXJyYXkuZ3JpZENvbmZpZ0Zvcm1BcnJheSkge1xyXG4gICAgICAgICAgY29uc3QgdXNlclByZWZlcmVuY2VHcmlkQ29uZmlnID0gdGhpcy5hcHBseVVzZXJQcmVmZXJlbmNlKHRoaXMudGVtcGFDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheSwgY29uZmlnQXJyYXkuZ3JpZENvbmZpZ0Zvcm1BcnJheSk7XHJcbiAgICAgICAgICBjb25maWdBcnJheS51c2VyUHJlZmVyZW5jZUdyaWRDb25maWcgPSB1c2VyUHJlZmVyZW5jZUdyaWRDb25maWc7XHJcbiAgICAgICAgICBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5ID0gdXNlclByZWZlcmVuY2VHcmlkQ29uZmlnO1xyXG4gICAgICAgICAgdGhpcy5ncmlkQ29uZmlnID0gY29uZmlnQXJyYXk7XHJcbiAgICAgICAgICB0aGlzLmNvbHVtbkhlYWRlciA9IGNvbmZpZ0FycmF5LmdyaWRDb25maWdGb3JtQXJyYXkubWFwKGNvbHVtbiA9PiBjb2x1bW4/LmhlYWRlcik7XHJcbiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgICAgICAgLy8gdGhpcy5jaGVja0dyaWRDb25maWcgPSBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgICAgICAgdGhpcy5pc0RlbGV0ZVJlcXVpcmUgPSBjb25maWdBcnJheT8uaXNEZWxldGVSZXF1aXJlO1xyXG4gICAgICAgICAgdGhpcy5pc0VkaXRUaHJlc2hvbGRSZXF1aXJlID0gY29uZmlnQXJyYXk/LmlzRWRpdFRocmVzaG9sZFJlcXVpcmU7XHJcbiAgICAgICAgICB0aGlzLmlzRGVsZXRlVGltZSA9IGNvbmZpZ0FycmF5Py5pc0RlbGV0ZVRpbWU7XHJcbiAgICAgICAgICAvLyBjb25zdCBzdG9yZWRUYWJEYXRhID0gSlNPTi5wYXJzZShKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKCdkeW5hbWljLXRhYi1wYWdlcycpKSk7XHJcbiAgICAgICAgICBjb25zdCBzdG9yZWRUYWJEYXRhID0gSlNPTi5wYXJzZShKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZX0RZTkFNSUNfVEFCX1BBR0VTKSkpO1xyXG4gICAgICAgICAgc3RvcmVkVGFiRGF0YT8ubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMubWFwKGl0ZW0xID0+IHtcclxuICAgICAgICAgICAgICBpZiAoaXRlbS5wZmllbGQgPT0gaXRlbTEuY29sdW1uRGVmKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtMS5saW5rID0gaXRlbS5wZmllbGQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHRoaXMuY29sdW1ucy5tYXAoYyA9PiB7XHJcbiAgICAgICAgICAgIGM/LnNlbGVjdGVkPy5tYXAocyA9PiBPYmplY3QuYXNzaWduKHsgY29sX3JlZjogYCR7Yy5jb2x1bW5EZWZ9LSR7c31gIH0sIGMpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgY29uc3QgYXJyID0gW107XHJcbiAgICAgICAgICBjb25maWdBcnJheS5ncmlkQ29uZmlnRm9ybUFycmF5Lm1hcChhID0+IHtcclxuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICBjb2x1bW5OYW1lOiBhLmhlYWRlcixcclxuICAgICAgICAgICAgICBpdGVtczogdGhpcy5ncmlkT3B0aW9ucy5tYXAocCA9PiAoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IGAke2EuY29sdW1uRGVmfS0ke3AudmFsdWV9YCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBwLmxhYmVsLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHAudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiBhLmNvbHVtbkRlZixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogYVtwLnZhbHVlXSAhPT0gJycgPyB0cnVlIDogJydcclxuICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGE/LnNlbGVjdGVkPy5tYXAociA9PiBhcnIucHVzaChgJHthLmNvbHVtbkRlZn0tJHtyfWApKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy5jb2x1bW5zRmlsdGVyYXRpb24oKTtcclxuICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcclxuICAgICAgICAgIHRoaXMuZmlsdGVyT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICB0aGlzLmZpbHRlckZvcm0/LnBhdGNoVmFsdWUoeyBzZWxlY3RlZEZpbHRlcjogYXJyIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnBhdGNoTXVsdGlwbGVPcHRpb25zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGF0Y2hNdWx0aXBsZU9wdGlvbnMoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhcHBseVVzZXJQcmVmZXJlbmNlKGdyaWRDb25maWcsIHVzZXJQcmVmZXJlbmNlQ29uZmlnKSB7XHJcbiAgICBjb25zdCBvcHRpb25zID0gWyd3aWR0aCcsICdmaWx0ZXJWYWx1ZXMnLCAnc29ydE9yZGVyJywgJ3NvcnRJbmRleCcsICd2aXNpYmxlJywgJ3Zpc2libGVJbmRleCcsICdmaWx0ZXJWYWx1ZScsICdmaWx0ZXJUeXBlJywgJ3NlbGVjdGVkRmlsdGVyT3BlcmF0aW9uJ107XHJcbiAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBncmlkQ29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IGNvbHVtblByZWZlcmVuY2VzID0gdXNlclByZWZlcmVuY2VDb25maWcuZmluZChwcmVmZXJlbmNlQ29sdW1uID0+IHByZWZlcmVuY2VDb2x1bW4uY29sdW1uRGVmID09PSBjb2x1bW4uY29sdW1uRGVmKTtcclxuICAgICAgaWYgKGNvbHVtblByZWZlcmVuY2VzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xyXG4gICAgICAgICAgaWYgKG9wdGlvbiA9PT0gJ3Zpc2libGVJbmRleCcgJiYgY29sdW1uUHJlZmVyZW5jZXMuaGlkZSkge1xyXG4gICAgICAgICAgICBkZWxldGUgY29sdW1uW29wdGlvbl07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIGlmIChjb2x1bW5QcmVmZXJlbmNlcy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XHJcbiAgICAgICAgICAgIGNvbHVtbltvcHRpb25dID0gY29sdW1uUHJlZmVyZW5jZXNbb3B0aW9uXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmFzc2lnblZpc2libGVJbmRleGVzKGdyaWRDb25maWcpO1xyXG5cclxuICB9XHJcblxyXG4gIGFzc2lnblZpc2libGVJbmRleGVzKGdyaWRDb25maWcpIHtcclxuICAgIGNvbnN0IHZpc2libGVDb2x1bW5zID0gZ3JpZENvbmZpZz8ubGVuZ3RoICYmIGdyaWRDb25maWc/LmZpbHRlcihjb2wgPT4gIWNvbC5oaWRlKT8uc29ydCgoYSwgYikgPT4gYS52aXNpYmxlSW5kZXggLSBiLnZpc2libGVJbmRleCkgfHwgW107XHJcbiAgICBjb25zdCBub25WaXNpYmxlQ29sdW1ucyA9IGdyaWRDb25maWc/Lmxlbmd0aCAmJiBncmlkQ29uZmlnPy5maWx0ZXIoY29sID0+IGNvbC5oaWRlIHx8IGNvbD8udmlzaWJsZUluZGV4IDwgMCk/LnNvcnQoKGEsIGIpID0+IGEudmlzaWJsZUluZGV4IC0gYi52aXNpYmxlSW5kZXgpIHx8IFtdO1xyXG4gICAgaWYgKHZpc2libGVDb2x1bW5zICYmIHZpc2libGVDb2x1bW5zLmxlbmd0aCkge1xyXG4gICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY29sdW1uXSBvZiB2aXNpYmxlQ29sdW1ucy5lbnRyaWVzKCkpIHtcclxuICAgICAgICBjb2x1bW4udmlzaWJsZUluZGV4ID0gaW5kZXg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChub25WaXNpYmxlQ29sdW1ucyAmJiBub25WaXNpYmxlQ29sdW1ucy5sZW5ndGgpIHtcclxuICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNvbHVtbl0gb2Ygbm9uVmlzaWJsZUNvbHVtbnMuZW50cmllcygpKSB7XHJcbiAgICAgICAgY29sdW1uLnZpc2libGVJbmRleCA9IHZpc2libGVDb2x1bW5zPy5sZW5ndGggKyAoaW5kZXggKyAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFsuLi52aXNpYmxlQ29sdW1ucywgLi4ubm9uVmlzaWJsZUNvbHVtbnNdO1xyXG4gIH1cclxuXHJcbiAgcGF0Y2hNdWx0aXBsZU9wdGlvbnMoKSB7XHJcbiAgICBpZiAodGhpcy50ZW1wYUNvbmZpZyAmJiB0aGlzLnRlbXBhQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkpIHtcclxuICAgICAgdGhpcy5jb2x1bW5IZWFkZXIgPSB0aGlzLnRlbXBhQ29uZmlnLmdyaWRDb25maWdGb3JtQXJyYXkubWFwKGNvbHVtbiA9PiBjb2x1bW4uaGVhZGVyKTtcclxuICAgICAgdGhpcy5ncmlkQ29uZmlnID0gdGhpcy50ZW1wYUNvbmZpZztcclxuICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy50ZW1wYUNvbmZpZy5ncmlkQ29uZmlnRm9ybUFycmF5O1xyXG4gICAgICB0aGlzLmNvbHVtbnMubWFwKGMgPT4ge1xyXG4gICAgICAgIGM/LnNlbGVjdGVkPy5tYXAocyA9PiBPYmplY3QuYXNzaWduKHsgY29sX3JlZjogYCR7Yy5jb2x1bW5EZWZ9LSR7c31gIH0sIGMpKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTtcclxuICAgICAgY29uc3QgYXJyID0gW107XHJcbiAgICAgIHRoaXMudGVtcGFDb25maWcuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoZ3JpZCA9PiB7XHJcbiAgICAgICAgb3B0aW9ucy5wdXNoKHtcclxuICAgICAgICAgIGNvbHVtbk5hbWU6IGdyaWQuaGVhZGVyLFxyXG4gICAgICAgICAgaXRlbXM6IHRoaXMuZ3JpZE9wdGlvbnMubWFwKHAgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGAke2dyaWQuY29sdW1uRGVmfS0ke3AudmFsdWV9YCxcclxuICAgICAgICAgICAgbGFiZWw6IHAubGFiZWwsXHJcbiAgICAgICAgICAgIHZhbHVlOiBwLnZhbHVlLFxyXG4gICAgICAgICAgICBjb2RlOiBncmlkLmNvbHVtbkRlZixcclxuICAgICAgICAgICAgYWN0aXZlOiBncmlkW3AudmFsdWVdICE9PSAnJyA/IHRydWUgOiAnJ1xyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ3JpZD8uc2VsZWN0ZWQ/Lm1hcChyID0+IGFyci5wdXNoKGAke2dyaWQuY29sdW1uRGVmfS0ke3J9YCkpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5jb2x1bW5zRmlsdGVyYXRpb24oKTtcclxuICAgICAgdGhpcy5vblJlc2l6ZSgpO1xyXG4gICAgICB0aGlzLmZpbHRlck9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICB0aGlzLmZpbHRlckZvcm0ucGF0Y2hWYWx1ZSh7IHNlbGVjdGVkRmlsdGVyOiBhcnIgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbHVtbnNGaWx0ZXJhdGlvbigpIHtcclxuICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuY29sdW1ucy5tYXAoeCA9PiB7XHJcbiAgICAgIGlmICh4Wydjb25jYXRlbmF0ZSddKSB7XHJcbiAgICAgICAgY29uc3QgY29sdW1uTmFtZSA9IHguaGVhZGVyLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgY05hbWUgPSBjb2x1bW5OYW1lLnJlcGxhY2UoLyAvZywgJ18nKTtcclxuICAgICAgICB4LmNvbHVtbkRlZiA9IGBhbGlhcy4ke2NOYW1lfWA7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3VzdG9tRXZlbnQoZXZlbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1JTy5jdXN0b21FdmVudChldmVudCwgdGhpcy5mb3JtSU8pO1xyXG4gIH1cclxuXHJcbiAgb25FeHBvcnRpbmcoZSkge1xyXG4gICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLnN0b3JhZ2UuZ2V0T2JqKEZJTEVfRVhQT1JUX05BTUVfS0VZKTtcclxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcbiAgICBsZXQgZmlsZU5hbWU6IHN0cmluZztcclxuICAgIGlmIChwYWdlTmFtZSkge1xyXG4gICAgICBmaWxlTmFtZSA9IGAke3BhZ2VOYW1lfSAke2N1cnJlbnREYXRlfWA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWxlTmFtZSA9IGBEYXRhLUdyaWQgJHtjdXJyZW50RGF0ZX1gO1xyXG4gICAgfVxyXG4gICAgZS5jb21wb25lbnQuY29sdW1uT3B0aW9uKCdBY3Rpb24nLCAndmlzaWJsZScsIGZhbHNlKTtcclxuICAgIGlmIChlLmZvcm1hdCA9PT0gJ3BkZicpIHtcclxuICAgICAgY29uc3QgZG9jID0gbmV3IGpzUERGLmpzUERGKCk7XHJcbiAgICAgIGV4cG9ydERhdGFHcmlkVG9QZGYoe1xyXG4gICAgICAgIGpzUERGRG9jdW1lbnQ6IGRvYyxcclxuICAgICAgICBjb21wb25lbnQ6IGUuY29tcG9uZW50LFxyXG4gICAgICAgIGN1c3RvbWl6ZUNlbGw6IGdyaWQgPT4ge1xyXG4gICAgICAgICAgZ3JpZC5wZGZDZWxsLndvcmRXcmFwRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICBkb2Muc2F2ZShgJHtmaWxlTmFtZX0ucGRmYCk7XHJcbiAgICAgICAgZS5jb21wb25lbnQuY29sdW1uT3B0aW9uKCdBY3Rpb24nLCAndmlzaWJsZScsIHRydWUpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoZS5mb3JtYXQgPT09ICd4bHN4Jykge1xyXG4gICAgICBlLmZpbGVOYW1lID0gZmlsZU5hbWU7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGUuY29tcG9uZW50LmNvbHVtbk9wdGlvbignQWN0aW9uJywgJ3Zpc2libGUnLCB0cnVlKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oRklMRV9FWFBPUlRfTkFNRV9LRVkpO1xyXG4gICAgaWYgKHRoaXMuZXZlbnRTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXRUaXRsZShjKSB7XHJcbiAgICByZXR1cm4gYyA/IGMgOiBmYWxzZTtcclxuICB9XHJcbiAgb25DZWxsUHJlcGFyZWQoZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBlLnJvd1R5cGUgPT0gJ2RhdGEnICYmXHJcbiAgICAgIGUuZGF0YS5idXNpbmVzc1J1bGVzLmxlbmd0aCA+IDAgJiZcclxuICAgICAgZS5jb2x1bW4uZGF0YUZpZWxkID09PSBlLmRhdGEuYnVzaW5lc3NSdWxlc1swXS5uYW1lXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IGUuY2VsbEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IHJ1bGVzID0gJzxlbSBjbGFzcz1cIlJVTEVTXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9lbT4nLnJlcGxhY2UoXHJcbiAgICAgICAgJ1JVTEVTJyxcclxuICAgICAgICBlLmRhdGEuYnVzaW5lc3NSdWxlc1swXS5zdHlsZSA/IGUuZGF0YS5idXNpbmVzc1J1bGVzWzBdLnN0eWxlIDogJydcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgbGl2ZXRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdidXNpbmVzcy1ncm91cCcpO1xyXG4gICAgICBsaXZldGV4dC5jbGFzc0xpc3QuYWRkKCdidXNpbmVzcy1hbGVydCcpO1xyXG4gICAgICBsaXZldGV4dC5jbGFzc0xpc3QuYWRkKCdtbC0yJyk7XHJcbiAgICAgIGxpdmV0ZXh0LmlubmVySFRNTCA9IHJ1bGVzO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxpdmV0ZXh0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRvZ2dsZVNob3dNb3JlKHZhbHVlOiBzdHJpbmcsIGNvbHVtbkRlZjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0VG9nZ2xlS2V5KHZhbHVlLCBjb2x1bW5EZWYpO1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGxlbmd0aCBvZiB0aGUgdmFsdWUgZXhjZWVkcyA2MFxyXG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IHRoaXMudHJ1bmNhdGVUZXh0VmFsdWUpIHtcclxuICAgICAgLy8gSWYgXCJTaG93IE1vcmVcIiBpcyBhY3RpdmUsIHJldHVybiB0aGUgZnVsbCB2YWx1ZTsgb3RoZXJ3aXNlLCByZXR1cm4gdGhlIHRydW5jYXRlZCB2YWx1ZVxyXG4gICAgICBpZiAodGhpcy5zaG93TW9yZVRleHRba2V5XSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTsgLy8gU2hvdyBmdWxsIHZhbHVlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCB0aGlzLnRydW5jYXRlVGV4dFZhbHVlKS50cmltKCkgKyAnLi4uJzsgLy8gVHJ1bmNhdGUgYW5kIGFkZCBlbGxpcHNpc1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTaG93TW9yZVN0YXRlKHZhbHVlOiBzdHJpbmcsIGNvbHVtbkRlZjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBrZXkgPSB0aGlzLmdldFRvZ2dsZUtleSh2YWx1ZSwgY29sdW1uRGVmKTtcclxuICAgIHRoaXMuc2hvd01vcmVUZXh0W2tleV0gPSAhdGhpcy5zaG93TW9yZVRleHRba2V5XTtcclxuICB9XHJcblxyXG4gIGdldFRvZ2dsZUtleSh2YWx1ZTogc3RyaW5nLCBjb2x1bW5EZWY6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7dmFsdWV9XyR7Y29sdW1uRGVmfWA7XHJcbiAgfVxyXG5cclxuICBvblJvd1ByZXBhcmVkKGUpIHtcclxuICAgIGlmIChcclxuICAgICAgZS5yb3dUeXBlID09ICdkYXRhJyAmJlxyXG4gICAgICB0aGlzLnVwZGF0ZUdyaWQ/LmhpZ2hsaWdodFJvdz8uY29sdW1uTmFtZSAmJlxyXG4gICAgICB0aGlzLnVwZGF0ZUdyaWQ/LmhpZ2hsaWdodFJvdz8uY29sdW1uTmFtZT8uc3BsaXQoJy4nKS5sZW5ndGggJiZcclxuICAgICAgZS5kYXRhW3RoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2x1bW5OYW1lLnNwbGl0KCcuJylbMF1dW1xyXG4gICAgICB0aGlzLnVwZGF0ZUdyaWQ/LmhpZ2hsaWdodFJvdz8uY29sdW1uTmFtZS5zcGxpdCgnLicpWzFdXHJcbiAgICAgIF0gPT0gdGhpcy51cGRhdGVHcmlkPy5oaWdobGlnaHRSb3c/LmNvbHVtblZhbHVlXHJcbiAgICApIHtcclxuICAgICAgZS5yb3dFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMudXBkYXRlR3JpZD8uaGlnaGxpZ2h0Um93Py5jb2xvcjtcclxuICAgICAgZS5yb3dFbGVtZW50LmNsYXNzTmFtZSA9IGUucm93RWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSgnZHgtcm93LWFsdCcsICcnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ2VsbENsaWNrKGUpIHtcclxuICAgIGU/LmRhdGE/LnJvdXRlZGF0YS5tYXAobiA9PiB7XHJcbiAgICAgIGlmIChuPy5wZmllbGQgPT0gZT8uY29sdW1uPy5kYXRhRmllbGQpIHtcclxuICAgICAgICB0aGlzLnBhcmFtdmFsdWUgPSBlPy52YWx1ZTtcclxuICAgICAgICBjb25zdCBbdGFibGVOYW1lXSA9IG4/LnBmaWVsZC5zcGxpdCgnLicpO1xyXG4gICAgICAgIHRoaXMucGFyYW1maWVsZCA9IG4/LmZpZWxkO1xyXG4gICAgICAgIHRoaXMudGFibGVmaWVsZCA9IHRhYmxlTmFtZTtcclxuICAgICAgICB0aGlzLnRvVGFiSWQgPSBuPy5pZDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAodGhpcy50b1RhYklkKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY1RhYlBhZ2VTZXJ2aWNlLmdldER5bmFtaWNQYWdlKHRoaXMudG9UYWJJZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChyZXM/LmRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgcGFnZWlkID0gcmVzPy5kYXRhWzBdPy5hY3RpdmVWZXJzaW9uLmlkO1xyXG4gICAgICAgICAgY29uc3QgY3VycmVudFVSTCA9IHRoaXMucm91dGVyLnVybDtcclxuICAgICAgICAgIGNvbnN0IG5ld3VybCA9IGN1cnJlbnRVUkwucmVwbGFjZSgvW14vXSokLywgJy8nICsgcGFnZWlkKTtcclxuICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2FwdGlvbiA9PSAnYWN0aW9uJyB8fCB0aGlzLnNlbGVjdGVkQ2FwdGlvbiA9PSAnQWN0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbbmV3dXJsXSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBob3JpemFudGFsVGFiRmlsdGVyID0gdGhpcy5sb2NhbHN0b3JlLmdldEl0ZW0oRklMVEVSX0lEX0tFWSk7XHJcbiAgICAgICAgICAgIGlmIChob3JpemFudGFsVGFiRmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnJlbW92ZUl0ZW0oRklMVEVSX0lEX0tFWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldE9iaignSG9yaXphbnRhbFBhZ2VJZCcsIHBhZ2VpZCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRPYmooRklMVEVSX0lEX0tFWSwge1xyXG4gICAgICAgICAgICAgIGlkOiB0aGlzLnBhcmFtdmFsdWUsXHJcbiAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGVmaWVsZCxcclxuICAgICAgICAgICAgICBmaWVsZDogdGhpcy5wYXJhbWZpZWxkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5UYWIgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW12YWx1ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIH1cclxuXHJcbiAgYXN5bmMgdGFyZ2V0UGFnZSh2YWx1ZSwgdGFyZ2V0VmFsdWUpIHtcclxuICAgIGNvbnN0IHRhcmdldFVSTFZhbHVlID0gdGFyZ2V0VmFsdWU/Lmxpbms7XHJcbiAgICBpZiAodGhpcy5sb2NhbHN0b3JlLmdldE9iaihMT0NBTF9TVE9SQUdFX0tFWSkpIHtcclxuICAgICAgdGhpcy5sb2NhbHN0b3JlLnJlbW92ZUl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpO1xyXG4gICAgfVxyXG4gICAgYXdhaXQgdGhpcy5nZXRWZXJzaW9uTGlzdCh0YXJnZXRVUkxWYWx1ZSwgdmFsdWUsIHRhcmdldFZhbHVlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFZlcnNpb25MaXN0KHZhbHVlLCBudW1lcmljVmFsdWUsIGFjdGlvbikge1xyXG4gICAgdGhpcy5wYWdlQnVpbGRlclNlcnZpY2UuZ2V0VmVyc2lvbkxpc3QodmFsdWUpLnN1YnNjcmliZShyZXMgPT4ge1xyXG4gICAgICBpZiAocmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldE9iaihGSUxFX0VYUE9SVF9OQU1FX0tFWSwgcmVzLmRhdGFbMF0/LnBhZ2VuYW1lKTtcclxuICAgICAgICB0aGlzLnBhZ2VMaXN0ID0gcmVzLmRhdGE7XHJcbiAgICAgICAgdGhpcy50b3RhbGNvdW50ID0gdGhpcy5wYWdlTGlzdC5sZW5ndGggPyB0aGlzLnBhZ2VMaXN0Lmxlbmd0aCA6IDA7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyVGFncyA9IGFjdGlvbjtcclxuICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGZpbHRlclRhZ3M/LmZpbHRlckJ5Py5zcGxpdCgnLicpO1xyXG4gICAgICAgIGlmIChmaWx0ZXJWYWx1ZSAhPSAnJyAmJiBmaWx0ZXJWYWx1ZSkge1xyXG4gICAgICAgICAgY29uc3Qgcm93VmFsdWUgPSBudW1lcmljVmFsdWVbZmlsdGVyVmFsdWVbMV1dO1xyXG4gICAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldE9iaihMT0NBTF9TVE9SQUdFX0tFWSwgeyBpZDogcm93VmFsdWUsIHRhYmxlOiBmaWx0ZXJWYWx1ZVswXSwgZmllbGQ6IGZpbHRlclZhbHVlWzFdIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5wYWdlTGlzdFswXS50YWJjb25maWcpIHRoaXMubG9jYWxzdG9yZS5zZXRPYmooU1RPUkFHRV9LRVlfRFlOQU1JQ19UQUJfUEFHRVMsIHRoaXMucGFnZUxpc3RbMF0udGFiY29uZmlnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2NhbHN0b3JlLnNldE9iaigndGl0bGV0YWInLCBudW1lcmljVmFsdWUpO1xyXG4gICAgICAgIGlmIChmaWx0ZXJUYWdzPy5hY3Rpb24gPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0T2JqKCdlZGl0VmFsdWUnLCBudW1lcmljVmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUucmVtb3ZlSXRlbSgnZWRpdFZhbHVlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKHRoaXMucGFnZUxpc3RbMF0/LnBhZ2VEZXRhaWxzPy5wYWdldHlwZSA9PSAnQVRQQkRNJyB8fCB0aGlzLnBhZ2VMaXN0WzBdPy5wYWdlRGV0YWlscz8ucGFnZXR5cGUgPT0gJ0ZGUCcpIHtcclxuICAgICAgICAgICAgdGhpcy5hdXRoU2VydmljZS5zZXRTaGFyZWRNZXNzYWdlKHsgcGFnZUlkOiB0aGlzLnBhZ2VMaXN0WzBdLnBhZ2VpZCB9KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQgJiYgKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQubG9hZGVkRnJvbU1hc3RlclZpZXcgfHwgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5sb2FkZWRGcm9tQ29tcG9zaXRlUGFnZSkgJiYgdGhpcy5zZWxlY3RlZENvbXBvbmVudC5zZXR0aW5ncyAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MubWFwcGluZ0Zvcm1JZClcclxuICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHB1Ymxpc2hFdmVudCh7IGV2ZW50TmFtZTogYWN0aW9uLmFjdGlvbixcclxuICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7IG1hcHBpbmdGb3JtSWQ6IHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MubWFwcGluZ0Zvcm1JZCB9IH0pKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignbWFzdGVyLXZpZXcnKSA+IC0xIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2NvbXBvc2l0ZS1wYWdlJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdjb21wb3NpdGVUaXRsZScsIHRoaXMuc2VsZWN0ZWRDb21wb25lbnQuc2V0dGluZ3MudGl0bGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0aGlzLmxvY2Fsc3RvcmUuc2V0SXRlbSgnc2V0VGFiQWN0aW9uJywgYWN0aW9uLmFjdGlvbik7XHJcbiAgICAgICAgICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlLnNlbmRNZXNzYWdlKCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWydmb3JtLycsIHRoaXMucGFnZUxpc3RbMF0ucGFnZWlkXSwge1xyXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMubG9jYWxzdG9yZS5zZXRJdGVtKCdzZXRUYWJBY3Rpb24nLCBhY3Rpb24uYWN0aW9uKTtcclxuICAgICAgICAgICAgICB0aGlzLnNoYXJlZFNlcnZpY2Uuc2VuZE1lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICAvLyB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy9wYWdlcy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nLCB0aGlzLnBhZ2VMaXN0WzBdLnBhZ2VpZF0sIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnLi4vLi4vLi4vZHluYW1pY3BhZ2UvcGFnZS9tb2RpZnkvJywgdGhpcy5wYWdlTGlzdFswXS5wYWdlaWRdLCB7XHJcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnLi4vLi4vLi4vZHluYW1pY3BhZ2UvdGFiLycsIHRoaXMucGFnZUxpc3RbMF0uaWRdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICB0b2dnbGVJY29uQ2xhc3MoKSB7XHJcbiAgICB0aGlzLmljb25DbGFzcyA9ICdmYSBmYS1leWUtc2xhc2gnO1xyXG4gICAgLy8gfVxyXG4gIH1cclxuXHJcbiAgdXBsb2FkRG9jdW1lbnQoaXRlbSwgZmlsZXMpIHtcclxuICAgIHRoaXMudXBsb2FkZWRGaWxlID0gZmlsZXMudGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgY29uc3QgcGFnZUlEID0gdGhpcy5mb3JtSWQgPyB0aGlzLmZvcm1JZCA6IHRoaXMucGFnZUlkO1xyXG4gICAgdGhpcy5pbWFnZURhdGEgPSB7XHJcbiAgICAgIGNvbnRlbnRUeXBlOiB0aGlzLnVwbG9hZGVkRmlsZS50eXBlLFxyXG4gICAgICBmaWxlTmFtZTogYG9jci8ke3BhZ2VJRH0vJHt0aGlzLnVwbG9hZGVkRmlsZS5uYW1lfWBcclxuICAgIH07XHJcbiAgICB0aGlzLmF0dGFjaG1lbnRTZXJ2aWNlLnVwbG9hZEtleSh0aGlzLmltYWdlRGF0YSkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICBpZiAocmVzLmRhdGEpIHtcclxuICAgICAgICBjb25zdCB1cGxvYWRBdHRhY2htZW50OiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZScpO1xyXG4gICAgICAgIGNvbnN0IHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzID0gdXBsb2FkQXR0YWNobWVudC5maWxlc1swXTtcclxuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlLnB1dHVwbG9hZDIocmVzLmRhdGEsIHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzLCB1cGxvYWRBdHRhY2htZW50RGV0YWlscy50eXBlKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAocmVzcDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwICYmIHJlc3Auc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IG9iamVjdCA9IHtcclxuICAgICAgICAgICAgICAgIHBhdGg6IGBvY3IvJHtwYWdlSUR9LyR7dGhpcy51cGxvYWRlZEZpbGUubmFtZX1gLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHR5cGU6IHRoaXMudXBsb2FkZWRGaWxlLnR5cGVcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRPYmooJ09DUk9iaicsIEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZGF0YVN0b3JlU2VydmljZS5zZXREYXRhKCd1cGxvYWRGcm9tR3JpZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRlU3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBleHRlcm5hbExpbms6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS5hY3Rpb25bMF0udG9VcHBlckNhc2UoKSArIGl0ZW0uYWN0aW9uLnNsaWNlKDEpICsgJyAnICsgdGhpcy5mcm9tVGl0bGUsXHJcbiAgICAgICAgICAgICAgICBwZXJzb25JZDogbnVsbFxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgY29uc3QgdXJsID0gUEFHRV9NT0RJRllfUk9VVEUgKyBpdGVtLmxpbms7XHJcbiAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3VybF0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ1NvbWV0aGluZyBXZW50IFdyb25nIScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09IDApIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdTb21ldGhpbmcgV2VudCBXcm9uZyEnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZ2V0RGF0ZUZvcm1hdCh2YWx1ZTogYW55KSB7XHJcbiAgICBpZiAodGhpcy5yZWdpc3RyYXRpb25JbmZvKSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PT0gJ2RhdGUnICYmIHRoaXMucmVnaXN0cmF0aW9uSW5mbz8uZGF0ZXRpbWVmb3JtYXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RyYXRpb25JbmZvWydkYXRldGltZWZvcm1hdCddLnNwbGl0KCcgJylbMF07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uSW5mb1snZGF0ZXRpbWVmb3JtYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiAnTU0vZGQveXl5eSc7XHJcbiAgfVxyXG5cclxuICBidWlsZENyaXRlcmlhKHJlc3VsdCkge1xyXG4gICAgaWYgKCFyZXN1bHQpIHJldHVybjtcclxuICAgIGNvbnN0IHRhYmxlc2NoZW1hY29uZmlnID0gdHlwZW9mIHJlc3VsdC50YWJsZXNjaGVtYWNvbmZpZyA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHJlc3VsdC50YWJsZXNjaGVtYWNvbmZpZykgOiByZXN1bHQudGFibGVzY2hlbWFjb25maWc7XHJcbiAgICBpZiAoIXRhYmxlc2NoZW1hY29uZmlnKSByZXR1cm47XHJcbiAgICBjb25zdCBmaWVsZE1hcHBpbmcgPSB0YWJsZXNjaGVtYWNvbmZpZy5maWVsZG1hcHBpbmc7XHJcbiAgICBpZiAoIWZpZWxkTWFwcGluZykgcmV0dXJuO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoID0gZmllbGRNYXBwaW5nLmZpbHRlcihlID0+IGUuY3JpdGVyaWEpO1xyXG4gICAgaWYgKCF0aGlzLmR5bmFtaWNTZWFyY2ggJiYgIXRoaXMuZHluYW1pY1NlYXJjaC5sZW5ndGgpIHJldHVybjtcclxuICAgIHRoaXMudGFibGVEcm9wRG93biA9IFtcclxuICAgICAgLi4ubmV3IFNldChcclxuICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2gubWFwKGUgPT4gKHtcclxuICAgICAgICAgIG5hbWU6IGUudGFibGVuYW1lLFxyXG4gICAgICAgICAgdmFsdWU6IGUudGFibGVuYW1lXHJcbiAgICAgICAgfSkpXHJcbiAgICAgIClcclxuICAgIF07XHJcbiAgICB0aGlzLnRhYmxlRHJvcERvd24gPSB0aGlzLnJlbW92ZUR1cGxpYWN0ZUFycmF5SnNvbih0aGlzLnRhYmxlRHJvcERvd24pO1xyXG5cclxuICAgIHRoaXMuY29sdW1uRHJvcERvd24gPSB0aGlzLmR5bmFtaWNTZWFyY2gubWFwKGUgPT4ge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGAke2UudGFibGVuYW1lfS4ke2UuZmllbGR9YDtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lOiBlLmxhYmVsLFxyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIGRhdGFUeXBlOiBlLmRhdGF0eXBlLFxyXG4gICAgICAgIHRhYmxlTmFtZTogZS50YWJsZW5hbWVcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRHVwbGlhY3RlQXJyYXlKc29uKHZhbHVlcykge1xyXG4gICAgY29uc3QgY29uY2F0QXJyYXkgPSB2YWx1ZXMubWFwKGVhY2hWYWx1ZSA9PiBPYmplY3QudmFsdWVzKGVhY2hWYWx1ZSkuam9pbignJykpO1xyXG4gICAgcmV0dXJuIHZhbHVlcy5maWx0ZXIoKHZhbHVlLCBpbmRleCkgPT4gY29uY2F0QXJyYXkuaW5kZXhPZihjb25jYXRBcnJheVtpbmRleF0pID09PSBpbmRleCk7XHJcbiAgfVxyXG5cclxuICBpbml0RHluYW1pY1NlYXJjaCgpOiBVbnR5cGVkRm9ybUFycmF5IHtcclxuICAgIHJldHVybiB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5nZXQoJ2R5bmFtaWNTZWFyY2hBcnJheScpIGFzIFVudHlwZWRGb3JtQXJyYXk7XHJcbiAgfVxyXG5cclxuICBhZGRHcmlkRHluYW1pY1NlYXJjaCgpIHtcclxuICAgIHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5wdXNoKHRoaXMuY3JlYXRlRHluYW1pY1NlYXJjaCgpKTtcclxuICAgIGNvbnN0IGR5bmFtaWNTZWFyY2ggPSB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5jb250cm9sc1snZHluYW1pY1NlYXJjaEFycmF5J10udmFsdWU7XHJcbiAgICBpZiAoZHluYW1pY1NlYXJjaC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZUJ1dHRvbkRpc2FibGUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlRHluYW1pY1NlYXJjaCgpIHtcclxuICAgIHJldHVybiB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgdGFibGVOYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBjb2x1bW5OYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBjb25kaXRpb246IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGRhdGF0eXBlOiBbJyddLFxyXG4gICAgICB2YWx1ZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgdGFibGVEcm9wRG93bjogW3RoaXMudGFibGVEcm9wRG93bl0sXHJcbiAgICAgIGNvbHVtbkRyb3BEb3duOiBbdGhpcy5jb2x1bW5Ecm9wRG93bl0sXHJcbiAgICAgIGNvbmRpdGlvbkRyb3Bkb3duOiBbXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBidWlsZER5bmFtaWNTZWFyY2gocmVzOiBhbnkpOiBVbnR5cGVkRm9ybUdyb3VwIHtcclxuICAgIHJldHVybiB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgdGFibGVOYW1lOiByZXMudGFibGVOYW1lLFxyXG4gICAgICBjb2x1bW5OYW1lOiByZXMuY29sdW1uTmFtZSxcclxuICAgICAgY29uZGl0aW9uOiByZXMuY29uZGl0aW9uLFxyXG4gICAgICBkYXRhdHlwZTogcmVzLmRhdGF0eXBlLFxyXG4gICAgICB2YWx1ZTogcmVzLnZhbHVlLFxyXG4gICAgICB0YWJsZURyb3BEb3duOiBbcmVzLnRhYmxlRHJvcERvd25dLFxyXG4gICAgICBjb2x1bW5Ecm9wRG93bjogW3Jlcy5jb2x1bW5Ecm9wRG93bl0sXHJcbiAgICAgIGNvbmRpdGlvbkRyb3Bkb3duOiBbcmVzLmNvbmRpdGlvbkRyb3Bkb3duXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVEeW5hbWljU2VhcmNoKGluZGV4OiBudW1iZXIpIHtcclxuICAgIHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5yZW1vdmVBdChpbmRleCk7XHJcbiAgICBjb25zdCBkeW5hbWljU2VhcmNoID0gdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0uY29udHJvbHNbJ2R5bmFtaWNTZWFyY2hBcnJheSddLnZhbHVlO1xyXG4gICAgaWYgKGR5bmFtaWNTZWFyY2gubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLnNhdmVCdXR0b25EaXNhYmxlID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNhdmVCdXR0b25EaXNhYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkeW5hbWljU2VhcmNoID0gZHluYW1pY1NlYXJjaC5maWx0ZXIoZSA9PiBlLnZhbHVlICYmIGUudmFsdWUudHJpbSgpKTtcclxuICAgIC8vIGNvbnN0IHNhdmVEeW5hbWljU2VhcmNoID0ge1xyXG4gICAgLy8gICBwYWdlSWQ6ICt0aGlzLmZvcm1JZCxcclxuICAgIC8vICAgY3JpdGVyaWFJZDogK3RoaXMuY3JpdGVyaWFJZCxcclxuICAgIC8vICAgZHluYW1pY1NlYXJjaEFycmF5OiBkeW5hbWljU2VhcmNoXHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdGhpcy5keW5hbWljU2VhcmNoU2VydmljZS5zYXZlQ3JpdGVyaWFCeVBhZ2VJZChzYXZlRHluYW1pY1NlYXJjaCkuc3Vic2NyaWJlKHJlc3VsdCA9PiB7XHJcbiAgICAvLyAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAvLyAgIHRoaXMuY3JpdGVyaWFJZCA9IHJlc3BvbnNlLmNyaXRlcmlhSWQ7XHJcbiAgICAvLyAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0NyaXRlcmlhIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0RHluYW1pY1NlYXJjaCgpIHtcclxuICAgIHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5jbGVhcigpO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoUmVzdWx0ID0gW107XHJcbiAgICB0aGlzLnNhdmVCdXR0b25EaXNhYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMuZGF0YVNvdXJjZSA9IHtcclxuICAgICAgZGF0YTogW10sXHJcbiAgICAgIHRvdGFsQ291bnQ6IDBcclxuICAgIH07XHJcbiAgICB0aGlzLnNob3dHcmlkUGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy55b3V0aFNlYXJjaEpzb24gPSBbXTtcclxuICAgIC8vIHRoaXMuc2VhcmNoR3JpZCh0aGlzLmh0dHAsIHRoaXMuc3RvcmFnZSk7XHJcbiAgfVxyXG5cclxuICBnZXRDb2x1bW5MaXN0KGluZGV4OiBudW1iZXIsIHRhYmxlVmFsdWU6IHN0cmluZykge1xyXG4gICAgY29uc3QgZ2V0Q3VycmVudFJvdyA9IHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5hdChpbmRleCk7XHJcbiAgICBnZXRDdXJyZW50Um93LmdldCgnY29sdW1uRHJvcERvd24nKS5wYXRjaFZhbHVlKFtdKTtcclxuICAgIGNvbnN0IGNvbHVtbkFycmF5ID0gdGhpcy5keW5hbWljU2VhcmNoXHJcbiAgICAgIC5maWx0ZXIoZSA9PiBlLnRhYmxlbmFtZSA9PT0gdGFibGVWYWx1ZSlcclxuICAgICAgLm1hcChlID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGAke2UudGFibGVuYW1lfS4ke2UuZmllbGR9YDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgbmFtZTogZS5sYWJlbCxcclxuICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgZGF0YVR5cGU6IGUuZGF0YXR5cGVcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIGdldEN1cnJlbnRSb3cuZ2V0KCdjb2x1bW5Ecm9wRG93bicpLnBhdGNoVmFsdWUoY29sdW1uQXJyYXkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29uZGl0aW9uTGlzdChpbmRleDogbnVtYmVyLCBjb2x1bW5WYWx1ZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBnZXRDdXJyZW50Um93ID0gdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLmF0KGluZGV4KTtcclxuICAgIGNvbnN0IGNvbHVtbkRyb3BEb3duID0gZ2V0Q3VycmVudFJvdy5nZXQoJ2NvbHVtbkRyb3BEb3duJykudmFsdWU7XHJcbiAgICBjb25zdCBjb2x1bW5Ecm9wRG93bkpzb24gPSBjb2x1bW5Ecm9wRG93bi5maW5kKGUgPT4gZS52YWx1ZSA9PT0gY29sdW1uVmFsdWUpO1xyXG4gICAgY29uc3QgY29sdW1uRGF0YVR5cGUgPSBjb2x1bW5Ecm9wRG93bkpzb24uZGF0YVR5cGU7XHJcbiAgICBjb25zdCBjb2x1bW5UYWJsZU5hbWUgPSBjb2x1bW5Ecm9wRG93bkpzb24udGFibGVOYW1lO1xyXG4gICAgZ2V0Q3VycmVudFJvdy5nZXQoJ2NvbmRpdGlvbkRyb3Bkb3duJykucGF0Y2hWYWx1ZShbXSk7XHJcbiAgICBnZXRDdXJyZW50Um93LmdldCgnZGF0YXR5cGUnKS5wYXRjaFZhbHVlKGNvbHVtbkRhdGFUeXBlKTtcclxuICAgIGdldEN1cnJlbnRSb3cuZ2V0KCd0YWJsZU5hbWUnKS5wYXRjaFZhbHVlKGNvbHVtblRhYmxlTmFtZSk7XHJcbiAgICAvLyBnZXRDdXJyZW50Um93LmdldCgnY29uZGl0aW9uRHJvcGRvd24nKS5wYXRjaFZhbHVlKFtcclxuICAgIC8vICAge1xyXG4gICAgLy8gICAgIG5hbWU6ICdFcXVhbCBUbycsXHJcbiAgICAvLyAgICAgdmFsdWU6ICdFcXVhbF9UbydcclxuICAgIC8vICAgfSxcclxuICAgIC8vICAge1xyXG4gICAgLy8gICAgIG5hbWU6ICdMaWtlJyxcclxuICAgIC8vICAgICB2YWx1ZTogJ0xpa2UnXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIF0pO1xyXG4gICAgaWYgKGNvbHVtbkRhdGFUeXBlID09PSAndGV4dGZpZWxkJyB8fCBjb2x1bW5EYXRhVHlwZSA9PT0gJ3RleHRhcmVhJykge1xyXG4gICAgICBnZXRDdXJyZW50Um93LmdldCgnY29uZGl0aW9uRHJvcGRvd24nKS5wYXRjaFZhbHVlKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBuYW1lOiAnRXF1YWwgVG8nLFxyXG4gICAgICAgICAgdmFsdWU6ICdFcXVhbF9UbydcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIG5hbWU6ICdMaWtlJyxcclxuICAgICAgICAgIHZhbHVlOiAnTGlrZSdcclxuICAgICAgICB9XHJcbiAgICAgIF0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZ2V0Q3VycmVudFJvdy5nZXQoJ2NvbmRpdGlvbkRyb3Bkb3duJykucGF0Y2hWYWx1ZShbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbmFtZTogJ0VxdWFsIFRvJyxcclxuICAgICAgICAgIHZhbHVlOiAnRXF1YWxfVG8nXHJcbiAgICAgICAgfVxyXG4gICAgICBdKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2V0RHluYW1pY1NlYXJjaFZhbHVlKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGdldEN1cnJlbnRSb3cgPSB0aGlzLmluaXREeW5hbWljU2VhcmNoKCkuYXQoaW5kZXgpO1xyXG4gICAgZ2V0Q3VycmVudFJvdy5nZXQoJ3ZhbHVlJykucGF0Y2hWYWx1ZSgnJyk7XHJcbiAgfVxyXG5cclxuICB0cmltU3BhY2VzKGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGdldEVsZW1lbnQgPSBlbGVtZW50LmNvbnRyb2xzWyd2YWx1ZSddO1xyXG4gICAgY29uc3QgZ2V0VmFsdWUgPSBnZXRFbGVtZW50LnZhbHVlLnRyaW0oKTtcclxuICAgIGdldEVsZW1lbnQuc2V0VmFsdWUoZ2V0VmFsdWUpO1xyXG5cclxuICAgIGlmICghZ2V0VmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgIGdldEVsZW1lbnQudG91Y2hlZCA9IHRydWU7XHJcbiAgICAgIGdldEVsZW1lbnQuZXJyb3JzID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8qIFJlbW92ZSB0aGlzIHJlZHVuZGFudCBqdW1wICovXHJcbiAgICAgIC8vIHJldHVybjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN1Ym1pdER5bmFtaWNTZWFyY2goKSB7XHJcbiAgICBpZiAoIXRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLm1hcmtBbGxBc1RvdWNoZWQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHluYW1pY1NlYXJjaCA9IHRoaXMuZ3JpZER5bmFtaWNTZWFyY2hGb3JtLmNvbnRyb2xzWydkeW5hbWljU2VhcmNoQXJyYXknXS52YWx1ZTtcclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkeW5hbWljU2VhcmNoLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBkeW5hbWljU2VhcmNoRWxlbWVudCA9IGR5bmFtaWNTZWFyY2hbaW5kZXhdO1xyXG4gICAgICBpZiAoIWR5bmFtaWNTZWFyY2hFbGVtZW50IHx8ICFkeW5hbWljU2VhcmNoRWxlbWVudC52YWx1ZS50cmltKCkpIHtcclxuICAgICAgICB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5tYXJrQWxsQXNUb3VjaGVkKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnNob3dHcmlkUGFnZSA9IHRydWU7XHJcbiAgICB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgPSBkeW5hbWljU2VhcmNoO1xyXG4gICAgdGhpcy5zZWFyY2hHcmlkKHRoaXMuaHR0cCwgdGhpcy5zdG9yYWdlKTtcclxuICB9XHJcblxyXG4gIHNhdmVEeW5hbWljU2VhcmNoKCkge1xyXG4gICAgaWYgKCF0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS52YWxpZCkge1xyXG4gICAgICB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5tYXJrQWxsQXNUb3VjaGVkKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGR5bmFtaWNTZWFyY2ggPSB0aGlzLmdyaWREeW5hbWljU2VhcmNoRm9ybS5jb250cm9sc1snZHluYW1pY1NlYXJjaEFycmF5J10udmFsdWU7XHJcbiAgICBpZiAoIWR5bmFtaWNTZWFyY2gubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdDYW5ub3Qgc2F2ZSBlbXB0eSBjcml0ZXJpYScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZHluYW1pY1NlYXJjaC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgY29uc3QgZHluYW1pY1NlYXJjaEVsZW1lbnQgPSBkeW5hbWljU2VhcmNoW2luZGV4XTtcclxuICAgICAgaWYgKCFkeW5hbWljU2VhcmNoRWxlbWVudCB8fCAhZHluYW1pY1NlYXJjaEVsZW1lbnQudmFsdWUudHJpbSgpKSB7XHJcbiAgICAgICAgdGhpcy5ncmlkRHluYW1pY1NlYXJjaEZvcm0ubWFya0FsbEFzVG91Y2hlZCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNhdmVEeW5hbWljU2VhcmNoID0ge1xyXG4gICAgICBwYWdlSWQ6ICt0aGlzLmZvcm1JZCxcclxuICAgICAgY3JpdGVyaWFJZDogK3RoaXMuY3JpdGVyaWFJZCxcclxuICAgICAgZHluYW1pY1NlYXJjaEFycmF5OiBkeW5hbWljU2VhcmNoXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2Uuc2F2ZUNyaXRlcmlhQnlQYWdlSWQoc2F2ZUR5bmFtaWNTZWFyY2gpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICB0aGlzLmNyaXRlcmlhSWQgPSByZXNwb25zZS5jcml0ZXJpYUlkO1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdDcml0ZXJpYSBzYXZlIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZ2V0Q3JpdGVyaWFCeVBhZ2VJZCgpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdHMpID0+IHtcclxuICAgICAgY29uc3QgcGFnZUlkID0gdGhpcy5mb3JtSWQ7XHJcbiAgICAgIHRoaXMuZHluYW1pY1NlYXJjaFNlcnZpY2UuZ2V0Q3JpdGVyaWFCeVBhZ2VJZChwYWdlSWQpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHJlc3BvbnNlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICBjb25zdCBsYXN0UmVzcG9uc2UgPSByZXNwb25zZVtsYXN0SW5kZXhdO1xyXG4gICAgICAgICAgdGhpcy5jcml0ZXJpYUlkID0gbGFzdFJlc3BvbnNlLmlkO1xyXG4gICAgICAgICAgbGV0IGxhc3REeW5hbWljU2VhcmNoQXJyYXkgPSBbXTtcclxuICAgICAgICAgIGlmIChsYXN0UmVzcG9uc2UuZHluYW1pY1NlYXJjaEFycmF5Py5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlQnV0dG9uRGlzYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsYXN0RHluYW1pY1NlYXJjaEFycmF5ID0gbGFzdFJlc3BvbnNlLmR5bmFtaWNTZWFyY2hBcnJheTtcclxuICAgICAgICAgICAgbGFzdER5bmFtaWNTZWFyY2hBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5pdER5bmFtaWNTZWFyY2goKS5wdXNoKHRoaXMuYnVpbGREeW5hbWljU2VhcmNoKGVsZW1lbnQpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmR5bmFtaWNTZWFyY2hSZXN1bHQgPSBsYXN0RHluYW1pY1NlYXJjaEFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzb2x2ZSh7fSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVBbGxEeW5hbWljU2VhcmNoQ29uZHRpb24oKSB7XHJcbiAgICB0aGlzLmNyaXRlcmlhSWQgPSAwO1xyXG4gICAgdGhpcy5pbml0RHluYW1pY1NlYXJjaCgpLmNsZWFyKCk7XHJcbiAgICB0aGlzLnNhdmVCdXR0b25EaXNhYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMuZHluYW1pY1NlYXJjaFJlc3VsdCA9IFtdO1xyXG4gICAgdGhpcy5keW5hbWljU2VhcmNoID0gW107XHJcbiAgICB0aGlzLnlvdXRoU2VhcmNoSnNvbiA9IFtdO1xyXG4gICAgdGhpcy55b3V0aFNlYXJjaEJvb2xlYW4gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNoZWNrUnVsZXNCZWZvcmVBY3Rpb25zKGRhdGE6IGFueSwgaXRlbTogYW55KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XHJcbiAgICBjb25zdCBwYWdlRGF0YSA9IHtcclxuICAgICAgcGFnZWlkOiB0aGlzLnBhZ2VJZCxcclxuICAgICAgYWN0aW9uOiBpdGVtLmFjdGlvbixcclxuICAgICAgcGFnZURhdGE6IGRhdGE/LnBhZ2VEYXRhLFxyXG4gICAgICBjdXJyZW50VXNlcjogdGhpcy51c2VyLFxyXG4gICAgICBwcmltYXJ5OiBkYXRhPy5kYXRhPy5wcmltYXJ5Q29sdW1uLFxyXG4gICAgICByb3dEYXRhOiBkYXRhPy5kYXRhLFxyXG4gICAgICBncmlkYWN0aW9uOiBpdGVtXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aGlzLmR5bmFtaWNTZWFyY2hTZXJ2aWNlLmNoZWNrUnVsZXNJbldvcmtmbG93KHBhZ2VEYXRhKS5waXBlKFxyXG4gICAgICBtYXAoKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgICBpZiAocmVzdWx0LmRhdGEudHlwZSA9PT0gJ1ZBTElEQVRJT04nKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5wZXJtaXNzaW9uID09PSAnQUxMT1dFRCcpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuZGF0YS5wZXJtaXNzaW9uID09PSAnQ09ORklSTUFUSU9OJykge1xyXG4gICAgICAgICAgICAgIHRoaXMuYnVzaW5lc3NSdWxlTWVzc2FnZSA9IHJlc3VsdC5kYXRhPy5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgIHRoaXMuZ3JpZEFjdGlvblBhcmFtcyA9IHtkYXRhLCBpdGVtfTtcclxuICAgICAgICAgICAgICAkKCcjY29uZmlybUdyaWRBY3Rpb24nKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5kYXRhLnBlcm1pc3Npb24gPT09ICdERU5JRUQnKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IocmVzdWx0LmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5kYXRhLnR5cGUgPT09ICdSRURJUkVDVElPTicpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybChyZXN1bHQuZGF0YS5yb3V0ZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbmZpcm1HcmlkQWN0aW9uKCl7XHJcbiAgICB0aGlzLmdldEFjdGlvblJvdXRlcyh0aGlzLmdyaWRBY3Rpb25QYXJhbXMuZGF0YSx0aGlzLmdyaWRBY3Rpb25QYXJhbXMuaXRlbSk7XHJcbiAgfVxyXG59XHJcbiIsIjxhcHAtYWxlcnQ+PC9hcHAtYWxlcnQ+XHJcbjxkaXYgW2NsYXNzXT1cInVzZXJBY3Rpb24gPT09ICd2aWV3JyA/ICdyZWFkT25seUNhcmQnIDogJydcIj5cclxuICA8ZGl2ICpuZ0lmPVwiaGVhZGVyXCI+XHJcbiAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiIGFyaWEtZGVzY3JpYmVkYnk9XCJib3JkZXJcIj5cclxuICAgICAgPHRoZWFkPlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgIDx0aCAqbmdGb3I9XCJsZXQgaXRlbSBvZiB0aXRsZXRhYiB8IGtleXZhbHVlXCI+e3sgaXRlbS5rZXkgfX08L3RoPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgIDwvdGhlYWQ+XHJcbiAgICAgIDx0Ym9keT5cclxuICAgICAgICA8dHI+XHJcbiAgICAgICAgICA8dGQgKm5nRm9yPVwibGV0IGl0ZW0gb2YgdGl0bGV0YWIgfCBrZXl2YWx1ZVwiPnt7IGl0ZW0udmFsdWUgfX08L3RkPlxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgIDwvdGJvZHk+XHJcbiAgICA8L3RhYmxlPlxyXG4gIDwvZGl2PlxyXG5cclxuXHJcbiAgPHAtYWNjb3JkaW9uIGNsYXNzPVwidy1mdWxsIGR5bmFtaWMtc2VhcmNoXCIgW2FjdGl2ZUluZGV4XT1cIjFcIiBpY29uUG9zPVwiZW5kVmFsXCJcclxuICAgICpuZ0lmPVwiZHluYW1pY1NlYXJjaCAmJiBkeW5hbWljU2VhcmNoLmxlbmd0aCA+IDBcIj5cclxuICAgIDxwLWFjY29yZGlvblRhYj5cclxuICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImhlYWRlclwiPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgaGVhZC10ZXh0IGdhcC0yIHctZnVsbFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj5RdWljayBTZWFyY2g8L3NwYW4+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG15LTIgcm93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMiB0ZXh0LW1kLXJpZ2h0XCI+XHJcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiB0aXRsZT1cIkFkZCBOZXdcIiBwcmlwcGxlIGNsYXNzPVwicC1yaXBwbGUgcC1lbGVtZW50IGJ0biBidG4tcHJpbWFyeSBidG4taWNvblwiXHJcbiAgICAgICAgICAgIChjbGljayk9XCJhZGRHcmlkRHluYW1pY1NlYXJjaCgpXCI+XHJcbiAgICAgICAgICAgIDxlbSBjbGFzcz1cInBpIHBpLXBsdXMgZm9udC13ZWlnaHQtYm9sZFwiPjwvZW0+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxmb3JtIFtmb3JtR3JvdXBdPVwiZ3JpZER5bmFtaWNTZWFyY2hGb3JtXCI+XHJcbiAgICAgICAgPG5nLWNvbnRhaW5lciBmb3JtQXJyYXlOYW1lPVwiZHluYW1pY1NlYXJjaEFycmF5XCI+XHJcbiAgICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBkeW5hbWljU2VhcmNoSXRlbSBvZiBpbml0RHluYW1pY1NlYXJjaCgpLmNvbnRyb2xzOyBsZXQgZHluYW1pY1NlYXJjaEluZGV4ID0gaW5kZXhcIlxyXG4gICAgICAgICAgICBbZm9ybUdyb3VwTmFtZV09XCJkeW5hbWljU2VhcmNoSW5kZXhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyByYmFjLWNhcmRcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTExIGNvbC0xMiBwci0wXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC02IGNvbC0xMiBtYi0zXCI+IC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgPGxhYmVsIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIiBmb3I9XCJ0YWJsZUxpc3RcIj5UYWJsZTwvbGFiZWw+IC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgPHAtZHJvcGRvd24gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIFtvcHRpb25zXT1cImR5bmFtaWNTZWFyY2hJdGVtLmdldCgndGFibGVEcm9wRG93bicpPy52YWx1ZVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBvcHRpb25MYWJlbD1cIm5hbWVcIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgb3B0aW9uVmFsdWU9XCJ2YWx1ZVwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBpZD1cInRhYmxlTGlzdF97eyBkeW5hbWljU2VhcmNoSW5kZXggfX1cIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgVGFibGVcIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgZm9ybUNvbnRyb2xOYW1lPVwidGFibGVOYW1lXCIgLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIHRhYmluZGV4PVwiMFwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBzdHlsZUNsYXNzPVwidy0xMDBcIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgKG9uQ2hhbmdlKT1cImdldENvbHVtbkxpc3QoZHluYW1pY1NlYXJjaEluZGV4LCBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ3RhYmxlTmFtZScpPy52YWx1ZSlcIj4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICA8L3AtZHJvcGRvd24+IC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgPHNwYW4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gICAgIGNsYXNzPVwidGV4dC1kYW5nZXIgZXJyb3ItdGV4dFwiIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICAqbmdJZj1cIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ3RhYmxlTmFtZScpPy5oYXNFcnJvcigncmVxdWlyZWQnKSAmJiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ3RhYmxlTmFtZScpPy50b3VjaGVkIC0tPlxyXG4gICAgICAgICAgICAgICAgICA8IS0tICAgICBcIiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgICAgPlBsZWFzZSBTZWxlY3QgVGFibGUgTmFtZTwvc3BhbiAtLT5cclxuICAgICAgICAgICAgICAgICAgPCEtLSAgID4gLS0+XHJcbiAgICAgICAgICAgICAgICAgIDwhLS0gPC9kaXY+IC0tPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiIGZvcj1cImNvbHVtbkxpc3RcIj5Db2x1bW4gPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29sdW1uRHJvcERvd24nKT8udmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJjb2x1bW5MaXN0X3t7IGR5bmFtaWNTZWFyY2hJbmRleCB9fVwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwidmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgQ29sdW1uXCIgZm9ybUNvbnRyb2xOYW1lPVwiY29sdW1uTmFtZVwiIHRhYmluZGV4PVwiMFwiIHN0eWxlQ2xhc3M9XCJ3LTEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DaGFuZ2UpPVwiZ2V0Q29uZGl0aW9uTGlzdChkeW5hbWljU2VhcmNoSW5kZXgsIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29sdW1uTmFtZScpPy52YWx1ZSlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlciBlcnJvci10ZXh0XCIgKm5nSWY9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1NlYXJjaEl0ZW0uZ2V0KCdjb2x1bW5OYW1lJyk/Lmhhc0Vycm9yKCdyZXF1aXJlZCcpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgnY29sdW1uTmFtZScpPy50b3VjaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICBcIj5QbGVhc2UgU2VsZWN0IENvbHVtbiBOYW1lPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0zIGNvbC1tZC02IGNvbC0xMiBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIiBmb3I9XCJjb25kaXRpb25MaXN0XCI+Q29uZGl0aW9uIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ2NvbmRpdGlvbkRyb3Bkb3duJyk/LnZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiY29uZGl0aW9uTGlzdF97eyBkeW5hbWljU2VhcmNoSW5kZXggfX1cIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cInZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IENvbmRpdGlvblwiIGZvcm1Db250cm9sTmFtZT1cImNvbmRpdGlvblwiIHRhYmluZGV4PVwiMFwiIHN0eWxlQ2xhc3M9XCJ3LTEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAob25DaGFuZ2UpPVwicmVzZXREeW5hbWljU2VhcmNoVmFsdWUoZHluYW1pY1NlYXJjaEluZGV4KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyIGVycm9yLXRleHRcIiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ2NvbmRpdGlvbicpPy5oYXNFcnJvcigncmVxdWlyZWQnKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ2NvbmRpdGlvbicpPy50b3VjaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICBcIj5QbGVhc2UgU2VsZWN0IENvbmRpdGlvbjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctMyBjb2wtbWQtNiBjb2wtMTIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCIgZm9yPVwidmFsdWVMaXN0XCI+VmFsdWUgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwicC1pbnB1dHRleHQgdy0xMDBcIiBpZD1cInZhbHVlTGlzdFwiIGZvcm1Db250cm9sTmFtZT1cInZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyIGVycm9yLXRleHRcIiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljU2VhcmNoSXRlbS5nZXQoJ3ZhbHVlJyk/Lmhhc0Vycm9yKCdyZXF1aXJlZCcpICYmIGR5bmFtaWNTZWFyY2hJdGVtLmdldCgndmFsdWUnKT8udG91Y2hlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCI+UGxlYXNlIEZpbGwgVmFsdWU8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLTMgY29sLW1kLTYgY29sLTEyIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVscyBkLW1kLWJsb2NrIGQtbm9uZVwiIGZvcj1cImRlbGV0ZUR5bmFtaWNTZWFyY2hcIj4mIzE2MDs8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCB0ZXh0LWRhbmdlciBkZWxldGUtaWNvblwiIHJvbGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJkZWxldGVEeW5hbWljU2VhcmNoXCIgKGNsaWNrKT1cInJlbW92ZUR5bmFtaWNTZWFyY2goZHluYW1pY1NlYXJjaEluZGV4KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZVwiPmRlbGV0ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8IS0tIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sLW1kLTEgY29sLTEyIG1iLTMgdGV4dC1tZC1jZW50ZXIgZC1tZC1mbGV4IGFsaWduLWl0ZW1zLW1kLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtbWQtY2VudGVyIGZsZXgtY29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVscyBkLW1kLWJsb2NrIGQtbm9uZVwiIGZvcj1cImRlbGV0ZUR5bmFtaWNTZWFyY2hcIj4mIzE2MDs8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIHRleHQtZGFuZ2VyXCIgcm9sZT1cImJ1dHRvblwiIGlkPVwiZGVsZXRlRHluYW1pY1NlYXJjaFwiXHJcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XCJyZW1vdmVEeW5hbWljU2VhcmNoKGR5bmFtaWNTZWFyY2hJbmRleClcIiB0aXRsZT1cIkRlbGV0ZVwiPmRlbGV0ZTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIiAoY2xpY2spPVwicmVtb3ZlRHluYW1pY1NlYXJjaCgpXCI+RGVsZXRlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+IC0tPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24tc2VsZi1lbmRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMiB0ZXh0LW1kLXJpZ2h0IG10LTJcIj5cclxuICAgICAgICAgICAgICA8IS0tIDxidXR0b25cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cInNhdmVEeW5hbWljU2VhcmNoKClcIlxyXG4gICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cInNhdmVCdXR0b25EaXNhYmxlXCI+XHJcbiAgICAgICAgICAgICAgICBTYXZlXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+IC0tPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1jYW5jZWxcIiAoY2xpY2spPVwicmVzZXREeW5hbWljU2VhcmNoKClcIj5DbGVhcjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgKGNsaWNrKT1cInN1Ym1pdER5bmFtaWNTZWFyY2goKVwiXHJcbiAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwic2F2ZUJ1dHRvbkRpc2FibGVcIj5TZWFyY2g8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgPC9mb3JtPlxyXG4gICAgPC9wLWFjY29yZGlvblRhYj5cclxuICA8L3AtYWNjb3JkaW9uPlxyXG4gIDxkaXYgY2xhc3M9XCJwYWdlLXdycCBtdC0zXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtMTJcIj5cclxuICAgICAgICA8IS0tIDxkaXYgKm5nSWY9XCJ0cnVlXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4XCIgW2Zvcm1Hcm91cF09XCJmaWx0ZXJGb3JtXCIgKm5nSWY9XCJncmlkVHlwZSAhPT0gJ3ZpZXcnXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cclxuICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCBbb3B0aW9uc109XCJmaWx0ZXJPcHRpb25zXCIgc3R5bGVDbGFzcz1cImZpbHRlck9wdGlvbnNcIiBbZ3JvdXBdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zTGFiZWw9XCJ7MH0gaXRlbXMgc2VsZWN0ZWRcIiBkZWZhdWx0TGFiZWw9XCJTZWxlY3RcIiBvcHRpb25MYWJlbD1cImxhYmVsXCIgb3B0aW9uVmFsdWU9XCJpZFwiXHJcbiAgICAgICAgICAgICAgICBpZD1cImZpbHRlcm9wdGlvbnNcIiBhcmlhRmlsdGVyTGFiZWw9XCJzZWFyY2hib3hcIiBmb3JtQ29udHJvbE5hbWU9XCJzZWxlY3RlZEZpbHRlclwiXHJcbiAgICAgICAgICAgICAgICAob25DaGFuZ2UpPVwiY2hhbmdlRmlsdGVyT3B0aW9ucygkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWdyb3VwIHBUZW1wbGF0ZT1cImdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7IGdyb3VwLmNvbHVtbk5hbWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICA8L3AtbXVsdGlTZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+IC0tPlxyXG4gICAgICAgIDxidXR0b24gKm5nSWY9XCJncmlkVHlwZSA9PT0gJ3ZpZXcnXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1jYW5jZWwgbWItM1wiIChjbGljayk9XCJnb0JhY2soKVwiPkJhY2s8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC0xMiB0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXIgY29sLTEyXCIgKm5nSWY9XCJnZXRUaXRsZSh1cGRhdGVHcmlkPy5ncmlkVGl0bGUpXCI+XHJcbiAgICAgICAgICA8aDYgY2xhc3M9XCJmb250LXdlaWdodC1ib2xkIG1iLTBcIj48L2g2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggaW5tYXRlLWJ0bi1hbGlnblwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXByaW50IG15LTJcIiBbbWF0TWVudVRyaWdnZXJGb3JdPVwibWVudVwiIGFyaWEtbGFiZWw9XCJFeGFtcGxlIGljb24tYnV0dG9uIHdpdGggYSBtZW51XCJcclxuICAgICAgICAgICAgICAqbmdJZj1cInNob3dFeHBvcnRcIj5cclxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiZXhwb3J0XCIgc3JjPVwiLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9zdmcvRXhwb3J0X0ljb24uc3ZnXCIgYWx0PVwiZXhwb3J0XCIgLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxtYXQtbWVudSBjbGFzcz1cImQtaW5saW5lLWJsb2NrIG15LTJcIiAjbWVudT1cIm1hdE1lbnVcIiAqbmdJZj1cInNob3dFeHBvcnRcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKGNsaWNrKT1cIm9uQ2xvc2UoKVwiICpuZ0lmPVwicGFnZVR5cGUgPT09ICdEU1AnIHx8IHBhZ2VUeXBlID09PSAnQlVTUCdcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj57eyBpY29uIH19PC9tYXQtaWNvbj57eyBvcGVuY2xvc2UgfX0gU2xpZGViYXJcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKGNsaWNrKT1cInJlc2V0KCdleGNlbCcpXCI+PG1hdC1pY29uPmdyaWRfb248L21hdC1pY29uPiBFeHBvcnQgdG8gRXhjZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKGNsaWNrKT1cInJlc2V0KCdwZGYnKVwiPjxtYXQtaWNvbj5waWN0dXJlX2FzX3BkZjwvbWF0LWljb24+IEV4cG9ydCB0byBQREY8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKGNsaWNrKT1cInJlc2V0KCdwcmludCcpXCI+PG1hdC1pY29uPnByaW50PC9tYXQtaWNvbj4gUHJpbnQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKGNsaWNrKT1cInJlc2V0KHBhZ2VUeXBlKVwiICpuZ0lmPVwicGFnZVR5cGUgPT09ICdEU1AnIHx8IHBhZ2VUeXBlID09PSAnQlVTUCdcIj5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5yZXNldF90djwvbWF0LWljb24+IFJlc2V0IFNlYXJjaCBDcml0ZXJpYVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJwYWdlVHlwZSA9PT0gJ0RTUCcgfHwgcGFnZVR5cGUgPT09ICdCVVNQJ1wiIG1hdC1tZW51LWl0ZW1cclxuICAgICAgICAgICAgICAgIFttYXRNZW51VHJpZ2dlckZvcl09XCJzZWFyY2hDcml0ZXJpYUxpc3RcIiAjc2VhcmNoY3JpdGVyaWFtZW51dHJpZ2dlcj1cIm1hdE1lbnVUcmlnZ2VyXCI+XHJcbiAgICAgICAgICAgICAgICA8bWF0LWljb24+YWRkX2NpcmNsZV9vdXRsaW5lPC9tYXQtaWNvbj4gU2F2ZSBTZWFyY2ggQ3JpdGVyaWFcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9tYXQtbWVudT5cclxuICAgICAgICAgICAgPGRpdiBbbmdDbGFzc109XCJ1cGRhdGVHcmlkICYmIHVwZGF0ZUdyaWQ/LmNob29zZXIgPyAnZC1pbmxpbmUtYmxvY2sgYWRkLWJ0bi1yaWdodCcgOiAnZC1pbmxpbmUtYmxvY2snXCI+XHJcbiAgICAgICAgICAgICAgPCEtLUFkZCBCdXR0b24sIENvbHVtbiBjaG9vc2VyIGJ1dHRvbiBhcmUgcmVwbGFjaW5nIGVhY2hvdGhlciB3aGVuIGl0cyBzZWxlY3RlZC0tPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4taWNvbi1iZyBkLWlubGluZS1ibG9jayBwdWxsLXJpZ2h0IHRleHQtcmlnaHQgbWwtMSBteS0yXCJcclxuICAgICAgICAgICAgICAgICpuZ0lmPVwic2hvd0dyaWRQYWdlICYmIGl0ZW0gJiYgdXBkYXRlR3JpZD8uaXNJbml0aWFsRm9ybUxvYWRcIiAoY2xpY2spPVwiY2xvc2VGb3JtKClcIj5cclxuICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLXRpbWVzXCI+PC9lbT5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkgIT09IG51bGwgJiZcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXkgJiZcclxuICAgICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZ3JpZEFjdGlvbkZvcm1BcnJheT8ubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICBcIiBjbGFzcz1cInVwZGF0ZS1ncmlkLWFjdGlvbi1idXR0b24tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIHVwZGF0ZUdyaWQ/LmdyaWRBY3Rpb25Gb3JtQXJyYXk7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiEodXBkYXRlR3JpZD8uaXNTaG93T25Ub3AgJiYgaXRlbT8uYWN0aW9uPy50b0xvd2VyQ2FzZSgpID09PSAnYWRkJylcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwiaXRlbT8uaWNvbiAmJiBpdGVtLmlzT3V0c2lkZUdyaWQgJiYgIWl0ZW0uaGlkZVwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IG10LTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImdldE91dHNpZGVHcmlkQWN0aW9uKGl0ZW0pXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZW0gW2NsYXNzXT1cIml0ZW0uaWNvblwiPjwvZW0+PHNwYW4gY2xhc3M9XCJtbC0yXCIgKm5nSWY9XCIhIWl0ZW0ubmFtZVwiPnt7IGl0ZW0ubmFtZSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXRlbT8uaWNvbiAmJiBpdGVtLmlzT3V0c2lkZUdyaWQgJiYgaXRlbS50eXBlID09PSAnT2NyIFNjYW4nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZmlsZVwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IG10LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGVtIFtjbGFzc109XCJpdGVtLmljb25cIj48L2VtPjxzcGFuIGNsYXNzPVwibWwtMlwiICpuZ0lmPVwiISFpdGVtLm5hbWVcIj57eyBpdGVtLm5hbWUgfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgKGNoYW5nZSk9XCJ1cGxvYWREb2N1bWVudChpdGVtLCAkZXZlbnQpXCIgaWQ9XCJmaWxlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ2aXNpYmlsaXR5OiBoaWRkZW47IGRpc3BsYXk6IG5vbmVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInVwZGF0ZUdyaWQgJiYgdXBkYXRlR3JpZD8uY2hvb3NlclwiIGNsYXNzPVwiY29sLWN1c3RvbSBteS0yXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4taWNvbiBtbC0xXCIgKGNsaWNrKT1cImNvbHVtbkNob29zZXJDbGljaygpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1jb2x1bW5zXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9lbT5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gKm5nSWY9XCJpc0FkZEJ1dHRvblwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBteS0yXCIgKGNsaWNrKT1cInJlZGlyZWN0KClcIj5BZGQ8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxtYXQtbWVudSAjc2VhcmNoQ3JpdGVyaWFMaXN0PVwibWF0TWVudVwiIGNsYXNzPVwic2VhcmNobGlzdFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwicm93IGNvbC1zbS0xMiBtdC00XCIgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxyXG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgICA8aW5wdXQgbWF0SW5wdXQgWyhuZ01vZGVsKV09XCJzZWFyY2hDcml0ZXJpYVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIENyaXRlcmlhXCIgLz5cclxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yIG10LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaVwiIFtkaXNhYmxlZF09XCIhc2VhcmNoQ3JpdGVyaWFcIiAoY2xpY2spPVwic2F2ZVNlYXJjaENyaXRlcmlhKClcIj5TYXZlPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwicm93IGNvbC1zbS0xMlwiPlxyXG4gICAgICAgIDx0YWJsZSBhcmlhLWRlc2NyaWJlZGJ5PVwiU2VhcmNoX0NyaXRlcmlhXCI+XHJcbiAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5TZWFyY2ggQ3JpdGVyaWE8L3RoPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keSAqbmdJZj1cInRvdGFsY291bnRcIj5cclxuICAgICAgICAgICAgPHRyICpuZ0Zvcj1cImxldCBzYyBvZiBzZWFyY2hDcml0ZXJpYUFyclwiPlxyXG4gICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5zZWFyY2g8L21hdC1pY29uPlxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIChjbGljayk9XCJzZXRTZWFyY2goc2MuZGF0YSlcIj57eyBzYy5kYXRhLnNlYXJjaENyaXRlcmlhIH19PC9hPlxyXG4gICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9tYXQtbWVudT5cclxuICAgIDxkaXYgY2xhc3M9XCJzcGxpdC1wYWdlXCI+XHJcbiAgICAgIDxhcy1zcGxpdCB1bml0PVwicGVyY2VudFwiIHVzZVRyYW5zaXRpb249XCJ0cnVlXCIgZGlyZWN0aW9uPVwie3sgbGF5b3V0dHlwZSB9fVwiPlxyXG4gICAgICAgIDxhcy1zcGxpdC1hcmVhIHNpemU9XCJ7eyBzcGxpdGVyU2l6ZSB9fVwiPlxyXG4gICAgICAgICAgPGRpdiAqbmdJZj1cInBhZ2VUeXBlID09PSAnRFNQJyB8fCBwYWdlVHlwZSA9PT0gJ0JVU1AnXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgICA8Zm9ybWlvICNmb3JtSU8gW2Zvcm1dPVwianNvbkZvcm1cIiBbc3VibWlzc2lvbl09XCJzdWJtaXR0ZWREYXRhXCIgKHN1Ym1pdCk9XCJvblN1Ym1pdCgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgKGN1c3RvbUV2ZW50KT1cImN1c3RvbUV2ZW50KCRldmVudClcIj48L2Zvcm1pbz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2FzLXNwbGl0LWFyZWE+XHJcbiAgICAgICAgPGFzLXNwbGl0LWFyZWEgc2l6ZT1cInt7IGdyaWRzcGxpdGVyU2l6ZSB9fVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgKCh1cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5pc0luaXRpYWxGb3JtTG9hZCAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uaXNJbml0aWFsRm9ybUxvYWQpIHx8XHJcbiAgICAgICAgICAgICAgICAodXBkYXRlR3JpZD8uaXNTaG93T25Ub3AgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5pc1Nob3dPblRvcCAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5pc1Nob3dPblRvcCkpICYmXHJcbiAgICAgICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC0xMlwiPlxyXG4gICAgICAgICAgICAgIDxuZGMtZHluYW1pYyBjbGFzcz1cIm5vLWRyYWdcIiBbbmRjRHluYW1pY0NvbXBvbmVudF09XCJpdGVtLmNvbXBvbmVudFwiIFtuZGNEeW5hbWljSW5wdXRzXT1cIml0ZW1cIlxyXG4gICAgICAgICAgICAgICAgW25kY0R5bmFtaWNPdXRwdXRzXT1cIml0ZW0/Lm91dHB1dHNcIj48L25kYy1keW5hbWljPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiICpuZ0lmPVwic2hvd0dyaWRQYWdlXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMiBncmlkdmlld1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5IHt7IGdldFRpdGxlQ2xhc3MoZnJvbVRpdGxlKSB9fVwiPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIFtyZW1vdGVPcGVyYXRpb25zXT1cInsgZmlsdGVyaW5nOiB0cnVlLCBzb3J0aW5nOiB0cnVlLCBwYWdpbmc6IHRydWUgfVwiICBSZW1vdmVkIHNlcnZlciBmaWx0ZXJpbmctLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZHgtZGF0YS1ncmlkIFtkYXRhU291cmNlXT1cImRhdGFTb3VyY2VcIiBbY29sdW1uTWluV2lkdGhdPVwiMTAwXCIgW3dpZHRoXT1cIicxMDAlJ1wiIFtmaWx0ZXJTeW5jRW5hYmxlZF09XCJ0cnVlXCIgI2RhdGFHcmlkXHJcbiAgICAgICAgICAgICAgICAgICAgICBbY29sdW1uUmVzaXppbmdNb2RlXT1cIid3aWRnZXQnXCIgW2FsbG93Q29sdW1uUmVvcmRlcmluZ109XCJ0cnVlXCIgW2FsbG93Q29sdW1uUmVzaXppbmddPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBbY29sdW1uQXV0b1dpZHRoXT1cInRydWVcIiAob25Db250ZW50UmVhZHkpPVwiY29udGVudFJlYWR5KCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKG9uQ2VsbFByZXBhcmVkKT1cIm9uQ2VsbFByZXBhcmVkKCRldmVudClcIiAob25Sb3dQcmVwYXJlZCk9XCJvblJvd1ByZXBhcmVkKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKG9uQ2VsbENsaWNrKT1cIm9uQ2VsbENsaWNrKCRldmVudClcIiAob25FeHBvcnRpbmcpPVwib25FeHBvcnRpbmcoJGV2ZW50KVwiIFtzaG93Qm9yZGVyc109XCJ0cnVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtyb3dBbHRlcm5hdGlvbkVuYWJsZWRdPVwidHJ1ZVwiIFtzaG93Q29sdW1uTGluZXNdPVwidHJ1ZVwiIFtzaG93Um93TGluZXNdPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1zZWxlY3Rpb24gW3NlbGVjdEFsbE1vZGVdPVwiYWxsTW9kZVwiIFtzaG93Q2hlY2tCb3hlc01vZGVdPVwiY2hlY2tCb3hlc01vZGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbbW9kZV09XCJnZXRHcmlkU2VsZWN0aW9uKHVwZGF0ZUdyaWQ/LmdyaWRTZWxlY3Rpb24pXCI+PC9keG8tc2VsZWN0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1sb2FkLXBhbmVsIFtlbmFibGVkXT1cImZhbHNlXCI+PC9keG8tbG9hZC1wYW5lbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8tZXhwb3J0IFtlbmFibGVkXT1cInRydWVcIiBbZm9ybWF0c109XCJbJ3BkZicsICd4bHN4J11cIj48L2R4by1leHBvcnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWZpbHRlci1yb3cgW3Zpc2libGVdPVwic2hvd0ZpbHRlclJvd1BhbmVsXCI+PC9keG8tZmlsdGVyLXJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8tc3RhdGUtc3RvcmluZyBbZW5hYmxlZF09XCJ0cnVlXCIgdHlwZT1cImN1c3RvbVwiIFtjdXN0b21TYXZlXT1cImN1c3RvbVNhdmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbY3VzdG9tTG9hZF09XCJjdXN0b21Mb2FkXCI+PC9keG8tc3RhdGUtc3RvcmluZz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZHhvLWNvbHVtbi1jaG9vc2VyIFtlbmFibGVkXT1cInRydWVcIiBtb2RlPVwic2VsZWN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkeG8tcG9zaXRpb24gbXk9XCJyaWdodCB0b3BcIiBhdD1cInJpZ2h0IHRvcFwiIG9mPVwiLmR4LWRhdGFncmlkLWNvbHVtbi1jaG9vc2VyLWJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2R4by1wb3NpdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZHhvLWNvbHVtbi1jaG9vc2VyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDwhLS1HcmlkIC0gRm9vdGVyIGZpbHRlciByZW1vdmVkIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1wYWdpbmcgW3BhZ2VTaXplXT1jdXJyZW50UGFnZVNpemU+PC9keG8tcGFnaW5nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1wYWdlciBbdmlzaWJsZV09XCJ0cnVlXCIgW3Nob3dQYWdlU2l6ZVNlbGVjdG9yXT1cInRydWVcIiBbYWxsb3dlZFBhZ2VTaXplc109XCJbNSwgMTAsIDE1LCAyMF1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbZGlzcGxheU1vZGVdPVwiZGlzcGxheU1vZGVcIiBbc2hvd0luZm9dPVwidHJ1ZVwiIFtzaG93TmF2aWdhdGlvbkJ1dHRvbnNdPVwidHJ1ZVwiPjwvZHhvLXBhZ2VyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGR4by1maWx0ZXItYnVpbGRlci1wb3B1cCBbcG9zaXRpb25dPVwicG9wdXBQb3NpdGlvblwiPiA8L2R4by1maWx0ZXItYnVpbGRlci1wb3B1cD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkeG8taGVhZGVyLWZpbHRlciBbdmlzaWJsZV09XCJ0cnVlXCI+PC9keG8taGVhZGVyLWZpbHRlcj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/LmhpZGUgIT09IHRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uPy5saW5rOyBlbHNlIG5vTGlua1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW3Zpc2libGVdPVwiZ2V0VmlzYWJpbGl0eUJ5Q2hvb3NhYmxlUHJvcCh1cGRhdGVHcmlkPy5jaG9vc2VyLCBjb2x1bW4/LnZpc2libGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93SGlkaW5nXT1cIiFjb2x1bW4/LkNob29zYWJsZVwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCIgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCIgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgY2VsbFRlbXBsYXRlPVwiY2VsbFRlbXBsYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93U29ydGluZ109XCJjb2x1bW4/LnNvcnRcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmaWx0ZXJWYWx1ZXNdPVwiY29sdW1uPy5maWx0ZXJWYWx1ZXNcIiBbZmlsdGVyVmFsdWVdPVwiY29sdW1uPy5maWx0ZXJWYWx1ZVwiIFtzb3J0T3JkZXJdPVwiY29sdW1uPy5zb3J0T3JkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uPy5pY29uOyBlbHNlIG5vU2hvd21vcmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW3Zpc2libGVdPVwiZ2V0VmlzYWJpbGl0eUJ5Q2hvb3NhYmxlUHJvcCh1cGRhdGVHcmlkPy5jaG9vc2VyLCBjb2x1bW4/LnZpc2libGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW3dpZHRoXT1cImNvbHVtbj8ud2lkdGhcIiBbZml4ZWRdPVwiY29sdW1uPy5maXhlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFGaWVsZF09XCJjb2x1bW4/LmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbj8uaGVhZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uPy5maWx0ZXJcIiBjZWxsVGVtcGxhdGU9XCJpY29uVGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd1NvcnRpbmddPVwiY29sdW1uPy5zb3J0XCIgW2ZpbHRlclZhbHVlc109XCJjb2x1bW4/LmZpbHRlclZhbHVlc1wiIFtmaWx0ZXJWYWx1ZV09XCJjb2x1bW4/LmZpbHRlclZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydE9yZGVyXT1cImNvbHVtbj8uc29ydE9yZGVyXCIgW3NvcnRJbmRleF09XCJjb2x1bW4/LnNvcnRJbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9TaG93bW9yZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4/LnNob3dtb3JlOyBlbHNlIG5vSWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0hpZGluZ109XCIhY29sdW1uPy5DaG9vc2FibGVcIiBbd2lkdGhdPVwiY29sdW1uPy53aWR0aFwiIFtmaXhlZF09XCJjb2x1bW4/LmZpeGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGF0YUZpZWxkXT1cImNvbHVtbj8uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uPy5oZWFkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4/LmZpbHRlclwiIGNlbGxUZW1wbGF0ZT1cInNob3dtb3JlVGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd1NvcnRpbmddPVwiY29sdW1uPy5zb3J0XCIgW2ZpbHRlclZhbHVlc109XCJjb2x1bW4/LmZpbHRlclZhbHVlc1wiIFtmaWx0ZXJWYWx1ZV09XCJjb2x1bW4/LmZpbHRlclZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydE9yZGVyXT1cImNvbHVtbj8uc29ydE9yZGVyXCIgW3NvcnRJbmRleF09XCJjb2x1bW4/LnNvcnRJbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9JY29uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbj8uZGF0ZUZvcm1hdDsgZWxzZSBub0RhdGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW3Zpc2libGVdPVwiZ2V0VmlzYWJpbGl0eUJ5Q2hvb3NhYmxlUHJvcCh1cGRhdGVHcmlkPy5jaG9vc2VyLCBjb2x1bW4/LnZpc2libGUpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW3dpZHRoXT1cImNvbHVtbj8ud2lkdGhcIiBbZml4ZWRdPVwiY29sdW1uPy5maXhlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJjb2x1bW4/LmRhdGVGb3JtYXQgPT09ICdkYXRlJyB8fCBjb2x1bW4/LmRhdGVGb3JtYXQgPT09ICdkYXRldGltZSdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhRmllbGRdPVwiY29sdW1uPy5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4/LmhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgZGF0YVR5cGU9XCJkYXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZm9ybWF0XT1cImdldERhdGVGb3JtYXQoY29sdW1uPy5kYXRlRm9ybWF0KVwiIFthbGxvd1NvcnRpbmddPVwiY29sdW1uPy5zb3J0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZmlsdGVyVmFsdWVzXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVzXCIgW2ZpbHRlclZhbHVlXT1cImNvbHVtbj8uZmlsdGVyVmFsdWVcIiBbc29ydE9yZGVyXT1cImNvbHVtbj8uc29ydE9yZGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydEluZGV4XT1cImNvbHVtbj8uc29ydEluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0RhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uPy5oZWFkZXIudG9Mb3dlckNhc2UoKS50cmltKCkgPT09ICdzdGF0dXMnOyBlbHNlIG5vU3RhdHVzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uIFt2aXNpYmxlXT1cImdldFZpc2FiaWxpdHlCeUNob29zYWJsZVByb3AodXBkYXRlR3JpZD8uY2hvb3NlciwgY29sdW1uPy52aXNpYmxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93SGlkaW5nXT1cIiFjb2x1bW4/LkNob29zYWJsZVwiIFt3aWR0aF09XCJjb2x1bW4/LndpZHRoXCIgW2ZpeGVkXT1cImNvbHVtbj8uZml4ZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhRmllbGRdPVwiY29sdW1uPy5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4/LmhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbj8uZmlsdGVyXCIgY2VsbFRlbXBsYXRlPVwic3RhdHVzVGVtcGxhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd1NvcnRpbmddPVwiY29sdW1uPy5zb3J0XCIgW2ZpbHRlclZhbHVlc109XCJjb2x1bW4/LmZpbHRlclZhbHVlc1wiIFtmaWx0ZXJWYWx1ZV09XCJjb2x1bW4/LmZpbHRlclZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc29ydE9yZGVyXT1cImNvbHVtbj8uc29ydE9yZGVyXCIgW3NvcnRJbmRleF09XCJjb2x1bW4/LnNvcnRJbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9TdGF0dXM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiBbdmlzaWJsZV09XCJnZXRWaXNhYmlsaXR5QnlDaG9vc2FibGVQcm9wKHVwZGF0ZUdyaWQ/LmNob29zZXIsIGNvbHVtbj8udmlzaWJsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dIaWRpbmddPVwiIWNvbHVtbj8uQ2hvb3NhYmxlXCIgW3dpZHRoXT1cImNvbHVtbj8ud2lkdGhcIiBbZml4ZWRdPVwiY29sdW1uPy5maXhlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhRmllbGRdPVwiY29sdW1uPy5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4/LmhlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4/LmZpbHRlclwiIGNlbGxUZW1wbGF0ZT1cImRhdGFUZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthbGxvd1NvcnRpbmddPVwiY29sdW1uPy5zb3J0XCIgW2ZpbHRlclZhbHVlc109XCJjb2x1bW4/LmZpbHRlclZhbHVlc1wiIFtmaWx0ZXJWYWx1ZV09XCJjb2x1bW4/LmZpbHRlclZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NvcnRPcmRlcl09XCJjb2x1bW4/LnNvcnRPcmRlclwiIFtzb3J0SW5kZXhdPVwiY29sdW1uPy5zb3J0SW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInNob3dHcmlkQWN0aW9ucyh1cGRhdGVHcmlkLCBzaG93QWN0aW9uQ29sdW1uLCBncmlkVHlwZSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGR4aS1jb2x1bW4gW3dpZHRoXT1cIjEyMFwiIFthbGxvd0ZpbHRlcmluZ109XCJmYWxzZVwiIFtzaG93SW5Db2x1bW5DaG9vc2VyXT1cImZhbHNlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBbYWxsb3dTb3J0aW5nXT1cImZhbHNlXCIgY2FwdGlvbj1cIkFjdGlvblwiIGNlbGxUZW1wbGF0ZT1cImVkaXRDZWxsVGVtcGxhdGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2NlbGxUZW1wbGF0ZSdcIiBjbGFzcz1cImRhc2hib2FyZC1ob3ZlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSAqbmdJZj1cImQudmFsdWUgJiYgZC52YWx1ZSAhPT0gJ251bGwnXCIgKGNsaWNrKT1cImdldFJvdXRlcihkLCBpdGVtKVwiPnt7IGQudmFsdWUgIT09ICdudWxsJyA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZC52YWx1ZSA6ICcnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJzaG93SWNvbihkKVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2ljb25UZW1wbGF0ZSdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nRm9yPVwibGV0IGl0ZW0gb2YgZC5kYXRhLnJiYWNDb25kaXRpb25zOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtICpuZ0lmPVwiaXRlbS5hY3Rpb24gIT09ICdhZGQnXCIgW2NsYXNzXT1cIml0ZW0uaWNvblwiIChjbGljayk9XCJwb3B1cChkPy5rZXksIGl0ZW0pXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ3Nob3dtb3JlVGVtcGxhdGUnXCIgY2xhc3M9XCJkZXNjcmlwdGlvbi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyB0b2dnbGVTaG93TW9yZShkLnZhbHVlLCBkLmNvbHVtbj8uZGF0YUZpZWxkKSB9fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInRvZ2dsZS1saW5rXCIgKm5nSWY9XCJkLnZhbHVlLmxlbmd0aCA+IHRydW5jYXRlVGV4dFZhbHVlXCIgKGNsaWNrKT1cInRvZ2dsZVNob3dNb3JlU3RhdGUoZC52YWx1ZSwgZC5jb2x1bW4/LmRhdGFGaWVsZClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IHNob3dNb3JlVGV4dFtnZXRUb2dnbGVLZXkoZC52YWx1ZSwgZC5jb2x1bW4/LmRhdGFGaWVsZCldID8gJ1Nob3cgTGVzcycgOiAnU2hvdyBNb3JlJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiAqZHhUZW1wbGF0ZT1cImxldCBkIG9mICdlZGl0Q2VsbFRlbXBsYXRlJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBkLmRhdGEucmJhY0NvbmRpdGlvbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFRvb2x0aXAgZm9yIGRlbGV0ZWQgcm93IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT8uYWN0aW9uID09PSAnaW5mbydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJuby1iZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcF09XCInRGVsZXRlIFN0YXR1czogUGVuZGluZ1xcbicgKyBpdGVtPy5tZXNzYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwUG9zaXRpb25dPVwiJ2xlZnQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwU2hvd0RlbGF5XT1cIjEwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcEhpZGVEZWxheV09XCIxMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBDbGFzc109XCInY3VzdG9tLXRvb2x0aXAtY2xhc3MnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gW2NsYXNzXT1cIml0ZW0uaWNvblwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbT8uaWNvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0/LmFjdGlvbiAhPT0gJ2luZm8nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWl0ZW0uaXNPdXRzaWRlR3JpZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ/LmRhdGE/LnN0YXR1cyAhPT0gJ0Nsb3NlZCcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFjdGlvbiAhPT0gJ2NoYW5nZXBhdGh3YXknICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWl0ZW0/LmhpZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgY2hhbmdlcGF0aHdheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgY2xhc3M9XCJuby1iZ1wiIG1hdFRvb2x0aXA9XCJ7eyB0aXRsZUNhc2VUb29sVGlwKGl0ZW0/LmFjdGlvbikgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImdldEluc2lkZUdyaWRBY3Rpb24oZCwgaXRlbSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBbY2xhc3NdPVwiaXRlbS5pY29uXCIgc3R5bGU9XCJwYWRkaW5nLXJpZ2h0OiAxMHB4XCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjY2hhbmdlcGF0aHdheT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwiaXRlbS5hY3Rpb24gPT09ICdjaGFuZ2VwYXRod2F5JyAmJiBkPy5yb3dJbmRleCA9PT0gMFwiIGNsYXNzPVwibm8tYmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwie3sgaXRlbT8uYWN0aW9uIH19XCIgKGNsaWNrKT1cImdldEluc2lkZUdyaWRBY3Rpb24oZCwgaXRlbSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVtIFtjbGFzc109XCJpdGVtLmljb25cIiBzdHlsZT1cInBhZGRpbmctcmlnaHQ6IDEwcHhcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJ1cGRhdGVHcmlkPy5ncmlkQWN0aW9uRm9ybUFycmF5Py5pY29uXCIgY2xhc3M9XCJuby1iZ1wiIG1hdFRvb2x0aXA9XCJPcGVuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib3BlbkxpbmsoZClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1leHRlcm5hbC1saW5rXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmVkaXRcIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cIkVkaXRcIiAoY2xpY2spPVwiZWRpdERhdGEoZClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1wZW5jaWxcIiB0aXRsZT1cIkVkaXRcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhICpuZ0lmPVwidXBkYXRlR3JpZD8udmlld1wiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiVmlld1wiIChjbGljayk9XCJ2aWV3RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWV5ZVwiIHRpdGxlPVwiVmlld1wiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgKm5nSWY9XCJ1cGRhdGVHcmlkPy5kZWxldGVcIiBjbGFzcz1cIm5vLWJnIHRleHQtZGFuZ2VyXCIgbWF0VG9vbHRpcD1cIkRlbGV0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImRlbGV0ZURhdGEoZClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS10cmFzaFwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmVcIiBjbGFzcz1cIm5vLWJnXCIgKGNsaWNrKT1cImRlbGV0ZURhdGEoZClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gKm5nSWY9XCJ1cGRhdGVHcmlkPy5hY3RpdmVvcmRlYWN0aXZlICYmIGQuZGF0YS5hY3RpdmVmbGFnID09PSAxXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmEgZmEtdG9nZ2xlLW9uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gKm5nSWY9XCJ1cGRhdGVHcmlkPy5hY3RpdmVvcmRlYWN0aXZlICYmIGQuZGF0YS5hY3RpdmVmbGFnID09PSAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmEgZmEtdG9nZ2xlLW9mZlwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ3N0YXR1c1RlbXBsYXRlJ1wiIFtjbGFzc109XCJjaGFuZ2VTdGF0dXNDb2xvcihkLnZhbHVlKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyBkLnZhbHVlIH19PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2RhdGFUZW1wbGF0ZSdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7ICdkYXNoYm9hcmQtaG92ZXItY29udGFjdCc6IGQuY29sdW1uPy5kYXRhRmllbGQgPT09ICdzZXJ2aWNlbmFtZScgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1pbmxpbmUtYmxvY2tcIiAqbmdJZj1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5jb2x1bW4/LmRhdGFGaWVsZCA9PT0gJ2NsaWVudGFjY291bnRubycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuZGF0YS5hY2NvdW50c3RhdHVzICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLmRhdGEuYWNjb3VudHN0YXR1cyA9PT0gJ0lOQSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS13YXJuaW5nIHJlZC1jb2xvclwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZC5jb2x1bW4/LmRhdGFGaWVsZCA9PT0gJ3NlcnZpY2VuYW1lJ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhcnJvdy1yaWdodFwiICpuZ0lmPVwiZC5kYXRhLm5hcnJhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBlcnNvbi1kZXRhaWxzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxzcGFuPk5hcnJhdGl2ZTwvc3Bhbj48c3BhbiBbaW5uZXJIdG1sXT1cInNwbGl0aW5nRGF0YShkLCAnLicpXCI+PC9zcGFuPjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImQuY29sdW1uPy5kYXRhRmllbGQgPT09ICduYXJyYXRpdmUnOyBlbHNlIGRhdGFWYWx1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGQudmFsdWUgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZGF0YVZhbHVlPnt7IGQudmFsdWUgfX08L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9keC1kYXRhLWdyaWQ+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9hcy1zcGxpdC1hcmVhPlxyXG4gICAgICA8L2FzLXNwbGl0PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG48bmctdGVtcGxhdGUgI2NhbGxEaWFsb2dQb3B1cD5cclxuICA8aDIgbWF0RGlhbG9nVGl0bGU+TmFycmF0aXZlPC9oMj5cclxuICA8ZGl2IFtpbm5lckhUTUxdPVwicG9wdXBEYXRhXCI+PC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHRcIj5cclxuICAgIDxidXR0b24gbWF0LWJ1dHRvbiAoY2xpY2spPVwiY2xvc2VEaWFsb2dQb3B1cCgpXCIgY2xhc3M9XCJidG4gYnRuLWNhbmNlbCBtci0yXCI+Q2xvc2U8L2J1dHRvbj5cclxuICA8L2Rpdj5cclxuPC9uZy10ZW1wbGF0ZT5cclxuXHJcbjxhcHAtZHluYW1pYy1kZXRhaWxzICpuZ0lmPVwib3BlblRhYlwiIFtrZXldPVwic2VsZWN0ZWRSb3dEYXRhXCI+PC9hcHAtZHluYW1pYy1kZXRhaWxzPlxyXG5cclxuPG5nLXRlbXBsYXRlICNEZWxldGVHcmlkTGlzdD5cclxuICA8ZGl2IGNsYXNzPVwicC0zXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggbWItMlwiPnt7IERlZmF1bHREZWxldGVQb3B1cFRleHRBZnRUaHJlc2hvbGRUaW1lIH19PC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwibWItMlwiPlxyXG4gICAgICA8bGFiZWwgZm9yPVwicmVhc29uZm9yZGVsZXRlXCIgY2xhc3M9XCJpbnRha2UtZm9ybS1sYWJlbHMgY2xlYXJmaXggbWItMlwiPlJlYXNvbiBmb3IgcmVjb3JkIGRlbGV0aW9uIDxzcGFuXHJcbiAgICAgICAgICBjbGFzcz1cInRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj48L2xhYmVsPlxyXG4gICAgICA8dGV4dGFyZWEgcm93cz1cIjNcIiBpZD1cInJlYXNvbmZvcmRlbGV0ZVwiIGNvbHM9XCIzMFwiIHBJbnB1dFRleHRhcmVhXHJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJSZWFzb24gZm9yIGRlbGV0aW9uICg0MDAwIGNoYXJhY3RlciBsaW1pdClcIiBtYXhsZW5ndGg9XCI0MDAwXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgbm8tcmVzaXplXCJcclxuICAgICAgICBbKG5nTW9kZWwpXT1cImVudGVyZWRSZWFzb25cIiAoaW5wdXQpPVwiY2hlY2tJc0Rpc2FibGVkKCRldmVudC50YXJnZXQudmFsdWUpXCI+PC90ZXh0YXJlYT5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IHByLTNcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IGJ0biBidG4tcHJpbWFyeSBkZWxldGUgbWItM1wiIChjbGljayk9XCJkZWxldGVSZWNvcmRXaXRoUmVhc29uKClcIlxyXG4gICAgICBbZGlzYWJsZWRdPVwiaXNEaXNhYmxlZFwiPlllczwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbXItMiBtYi0zIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgKGNsaWNrKT1cImNhbmNlbFBvcHVwKClcIj5ObzwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG5cclxuPG5nLXRlbXBsYXRlICNEZWxldGVHcmlkTGlzdFdpdGhvdXRSZWFzb24+XHJcbiAgPGRpdiBjbGFzcz1cInAtM1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNsZWFyZml4IG1iLTJcIj57eyBkZWxldGVQb3B1cFRleHQgfX08L2Rpdj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCBwci0zXCI+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBidG4gYnRuLXByaW1hcnkgZGVsZXRlIG1iLTNcIiAoY2xpY2spPVwiZGVsZXRlUmVjb3JkV2l0aG91dFJlYXNvbigpXCI+WWVzPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtci0yIG1iLTMgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiAoY2xpY2spPVwiY2FuY2VsUG9wdXAoKVwiPk5vPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcbjwvbmctdGVtcGxhdGU+XHJcblxyXG48bmctdGVtcGxhdGUgI0FwcHJvdmVEZWxldGVHcmlkTGlzdD5cclxuICA8ZGl2IGNsYXNzPVwicC0zXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggbWItNFwiPnt7dGhpcy5kZWxldGVkUmVhc29ufX08L2Rpdj5cclxuICAgIDwhLS0gPGRpdiBjbGFzcz1cImNsZWFyZml4IG1iLTRcIj5EbyB5b3UgYXBwcm92ZSB0aGlzIGRlbGV0aW9uPzwvZGl2PiAtLT5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCBwci0zXCI+XHJcbiAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBkZWxldGVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXHJcbiAgICAgIChjbGljayk9XCJkZWxldGVSZWNvcmRXaXRob3V0UmVhc29uKClcIj5ZZXM8L2J1dHRvbj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcclxuICAgICAgKGNsaWNrKT1cImNhbmNlbFBvcHVwKClcIj5ObzwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG48L25nLXRlbXBsYXRlPlxyXG5cclxuXHJcbjxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiY29uZmlybUdyaWRBY3Rpb25cIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPlxyXG4gIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XHJcbiAgICAgICAgPHA+e3sgYnVzaW5lc3NSdWxlTWVzc2FnZSB9fTwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgKGNsaWNrKT1cImNvbmZpcm1HcmlkQWN0aW9uKClcIj5cclxuICAgICAgICAgICAgWWVzXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Tm88L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==