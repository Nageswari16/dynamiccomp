import { Component, EventEmitter, Input, Output, ViewChild, ViewChildren } from '@angular/core';
import { DxDataGridComponent } from 'devextreme-angular';
import CustomStore from 'devextreme/data/custom_store';
import { exportDataGrid as exportDataGridToPdf } from 'devextreme/pdf_exporter';
import * as jsPDF from 'jspdf';
import moment from 'moment/moment';
import { GridListService } from '../grid-list/grid-list.service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../@core/service/auth.service";
import * as i3 from "../../@core/service/local.service";
import * as i4 from "../../@core/local-storage/local-storage.service";
import * as i5 from "../../@core/service/app.service";
import * as i6 from "../../@core/service/data-store.service";
import * as i7 from "../../@core/service/alert.service";
import * as i8 from "@angular/common";
import * as i9 from "@angular/material/button";
import * as i10 from "@angular/material/form-field";
import * as i11 from "@angular/material/select";
import * as i12 from "@angular/material/core";
import * as i13 from "@angular/material/tooltip";
import * as i14 from "@angular/material/dialog";
import * as i15 from "devextreme-angular";
import * as i16 from "devextreme-angular/ui/nested";
import * as i17 from "devextreme-angular/core";
import * as i18 from "@angular/forms";
import * as i19 from "../../@core/directives/permission.directive";
import * as i20 from "../../@core/directives/show-field.directives";
import * as i21 from "../alert/alert.component";
import * as i22 from "../../@core/pipe/safe-html.pipe";
const SELECT_ALL = 'Select-ALL';
export class GridListComponent {
    router;
    auth;
    localstorage;
    storageService;
    appService;
    _storeservice;
    renderer;
    alertService;
    dataGrid;
    contentWrappers;
    dataList;
    dataSource;
    columns;
    updateGrid;
    totalCount;
    page;
    isShow;
    exportPageName;
    remoteOperations;
    currentPage = new EventEmitter();
    editTableRow = new EventEmitter();
    viewTableRow = new EventEmitter();
    deleteTableRow = new EventEmitter();
    openExternalLink = new EventEmitter();
    openpopupLink = new EventEmitter();
    routeTo = new EventEmitter();
    openPopup = new EventEmitter();
    sortOrder = new EventEmitter();
    filterSearchValue = new EventEmitter();
    filterBuilderPopup = new EventEmitter();
    filterPanel = new EventEmitter();
    multipleFilterValues = new EventEmitter();
    downloadTableRow = new EventEmitter();
    rowSelection = new EventEmitter();
    toggleRow = new EventEmitter();
    duplicateRow = new EventEmitter();
    viewVersions = new EventEmitter();
    activateVersion = new EventEmitter();
    activatePage = new EventEmitter();
    deactivatePage = new EventEmitter();
    duplicatePageVersion = new EventEmitter();
    selectedRowsData = new EventEmitter();
    orgList;
    dataField;
    columnHeader;
    popupPosition;
    filterValue;
    customOperations;
    fields;
    customStore;
    tempColumns;
    Organization;
    dUrl;
    rdUrl;
    rUrl;
    user;
    userId;
    tempList;
    showVersions;
    displayMode;
    registrationInfo;
    activepagename;
    url;
    oldUrl;
    httpService;
    mainNotificationService;
    sharedService;
    constructor(
    // private dialog: MatDialog,
    router, auth, localstorage, storageService, appService, _storeservice, renderer, alertService) {
        this.router = router;
        this.auth = auth;
        this.localstorage = localstorage;
        this.storageService = storageService;
        this.appService = appService;
        this._storeservice = _storeservice;
        this.renderer = renderer;
        this.alertService = alertService;
        this._storeservice.currentStore.subscribe((res) => {
            if (res) {
                this.httpService = res['HTTPSERVICE'];
                this.mainNotificationService = res['NOTIFICATIONSERVICE'];
                this.sharedService = res['SHAREDSERVICE'];
            }
        });
        this.showVersions = false;
        this.loadGWithParam();
        this.user = this.localstorage.getObj('user');
        this.userId = this.localstorage.getItem('id');
        this.rUrl = this.router.url.split('/');
        if (this.rUrl.includes('versions')) {
            this.showVersions = true;
        }
        this.displayMode = 'compact';
    }
    ngOnInit() {
        if (this.isShow === false) {
            this.isShow = false;
        }
        else {
            this.isShow = true;
        }
        this.tempColumns = this.columns;
        if (this.columns && this.columns.gridConfigFormArray) {
            this.columnHeader = this.columns.gridConfigFormArray.map(column => column.header);
            this.columns = this.columns.gridConfigFormArray;
        }
        else {
            this.columnHeader = this.columns.map(column => column.header);
        }
        this.popupPosition = { of: window, at: 'top', my: 'top', offset: { y: 10 } };
        this.filterValue = [];
        this.customOperations = [];
    }
    ngOnChanges() {
        this.loadGWithParam();
    }
    loadGWithParam() {
        this.tempList = this.dataList;
        if (this.tempList) {
            const name = this.tempList.filter((item) => item.isactive == true);
            if (name.length > 0) {
                this.activepagename = name[0].pagename;
            }
        }
        if (!this.auth.isAdmin()) {
            this.loadGrid({ value: !this.Organization ? this.auth.getOrgID() : this.Organization }, false);
        }
        else {
            this.loadGrid({ value: this.Organization ? this.Organization : SELECT_ALL }, false);
        }
    }
    ngAfterViewInit() {
        this.dataGrid.onOptionChanged.subscribe(e => {
            if (e.name === 'columns' && e.fullName.endsWith('filterValues')) {
                const colIndex = Number(e.fullName
                    .match(/\[\d+\]/)[0]
                    .replace('[', '')
                    .replace(']', ''));
                const values = e.component.columnOption(colIndex, 'filterValues');
                console.log(values);
                this.multipleFilterValues.emit(e);
            }
            // Search
            if (e.name === 'columns' && e.fullName.endsWith('filterValue')) {
                console.log(e);
                this.filterSearchValue.emit(e);
            }
            // filter Builder Popup
            if (e.name === 'filterBuilderPopup') {
                console.log('filterBuilderPopup');
                console.log(e);
                this.filterBuilderPopup.emit(e);
            }
            // filter Panel - enable or disable
            if (e.name === 'filterPanel') {
                console.log(e.value);
                this.filterPanel.emit(e);
            }
            // Sorting
            if (e.name === 'columns' && e.fullName.endsWith('sortOrder')) {
                this.sortOrder.emit(e);
            }
            // Paging
            if (e.name === 'paging') {
                this.currentPage.emit(e.value);
            }
        });
        const REGISTRATION = this.storageService.getItem('REGISTRATION');
        if (REGISTRATION) {
            this.registrationInfo = JSON.parse(REGISTRATION);
        }
        this.contentWrappers.changes.subscribe((comps) => {
            comps.forEach(wrapper => {
                this.applyLinkStyles(wrapper);
            });
        });
    }
    applyLinkStyles(wrapper) {
        const anchors = wrapper.nativeElement.querySelectorAll('a');
        anchors.forEach(anchor => {
            this.renderer.setStyle(anchor, 'color', '#0049E5');
            this.renderer.listen(anchor, 'mouseenter', () => {
                this.renderer.setStyle(anchor, 'opacity', '0.5');
            });
            this.renderer.listen(anchor, 'mouseleave', () => {
                this.renderer.setStyle(anchor, 'opacity', '1');
            });
        });
    }
    loadGrid(orgID, load = true) {
        this.Organization = orgID.value;
        if (load) {
            this.currentPage.emit(orgID.value === SELECT_ALL ? 'all' : orgID.value);
        }
        if (this.tempList && this.tempList.length) {
            this.tempGridList(orgID);
        }
        else {
            this.customStore = this.dataSource;
        }
    }
    tempGridList(orgID) {
        if (orgID && orgID.value) {
            this.splitGridList(orgID);
        }
        if (this.dataList.length === 1 && this.rUrl && this.rUrl[2] === 'view-dashboard') {
            this.dUrl = 'view-dashboard/dashboard';
            this.router.navigateByUrl(`pages/${this.dUrl}/${this.dataList[0]['id']}`);
        }
        // Quick change
        this.customStore = new CustomStore({
            load: _opts => Promise.resolve(this.dataList),
            totalCount: _opts => Promise.resolve(this.totalCount)
        });
    }
    splitGridList(orgID) {
        this.dataList = this.tempList.filter(data => data.organizationid);
        this.dataList = this.tempList.filter(data => data.organizationid === orgID.value);
        if (this.tempList && this.tempList.length && this.tempList[0].displayname && this.tempList[0].userworkinfo) {
            this.dataList = this.tempList.filter(data => data.userworkinfo && data.userworkinfo[0] && data.userworkinfo[0].organizationid);
            this.dataList = this.tempList.filter(data => data.userworkinfo && data.userworkinfo[0] && data.userworkinfo[0].organizationid === orgID.value);
        }
        if (SELECT_ALL === orgID.value) {
            this.dataList = this.tempList;
        }
    }
    getRouter(data) {
        this.routeTo.emit(data);
    }
    navigateLink(event, rowData) {
        // const modal = {
        //   selectedRowsData: [rowData.data]
        // };
        // this.onSelectionChanged(modal);
        const target = event.target;
        if (target.tagName === 'A' && target.href) {
            this.updateNotificationView(rowData);
            this.url = this.extractUrl(target.outerHTML);
            this.oldUrl = this.extractUrl(target.outerHTML);
            const activeId = this.extractID(this.url.split('?')[0]);
            const isNumberCheck = Number(activeId);
            const urlParams = new URLSearchParams(this.url.split('?')[1]);
            const pageID = urlParams.get('pageID');
            event.preventDefault();
            if (pageID) {
                this.mainNotificationService.checkPageAccessForUser(pageID).subscribe((res) => {
                    if (res['data']) {
                        this.checkPageId(isNumberCheck, activeId, event);
                    }
                    else {
                        event.preventDefault();
                        this.alertService.error("Page Not Available: You don't have the necessary permissions to view this page.");
                    }
                }, (error) => {
                    event.preventDefault();
                    this.alertService.error("An error occurred while checking page access.");
                });
            }
            else {
                event.preventDefault();
                this.alertService.error("Page Not Available");
            }
        }
    }
    async checkPageId(isNumberCheck, activeId, event) {
        if (isNumberCheck) {
            const menus = this.localstorage.getObj('MENU');
            const findMenu = menus.find(item => item.name === 'Pages');
            let isExists;
            if (findMenu && findMenu.length > 0) {
                isExists = findMenu.submenu.find(item => item.id == isNumberCheck);
            }
            if (isExists) {
                this.url = this.url.replace(activeId, isExists?.activeVersion?.pageid);
                this.url = this.url.split('?')[0];
                this.routeFunction(isNumberCheck, activeId, event, 'mainMenuWithId');
            }
            else {
                this.routeFunction(isNumberCheck, activeId, event, 'Pages');
            }
        }
        else {
            this.routeFunction(isNumberCheck, activeId, event, 'mainMenuWithURL');
        }
    }
    routeFunction(isNumberCheck, activeId, event, menuType) {
        const menus = this.localstorage.getObj('MENU');
        const mainMenu = menus.find(item => item.route === this.url);
        const mainMenuWithUrl = menus.forEach(element => {
            if (this.url.endsWith(element.route)) {
                return element;
            }
        });
        // const mainMenuWithUrl = menus.find(item => this.url.endsWith(item.route) ? item : [])
        // const mainMenus = menus.filter(item => item.submenu.length == 0);
        const submenus = menus.filter(item => item.submenu.length > 0);
        if (mainMenuWithUrl) {
            this.appService.addValue('CurrentPages', mainMenuWithUrl);
            this.auth.getCurrentMenu(menus);
        }
        else if (mainMenu) {
            menus.forEach(element => {
                if (element.name === mainMenu.name) {
                    element.active = true;
                }
                else {
                    element.active = false;
                }
            });
            if (isNumberCheck) {
                this.appService.addValue('dynamicPages', mainMenu);
                this.auth.getCurrentMenu(menus);
            }
            else {
                this.appService.addValue('currentPages', mainMenu);
                this.auth.getCurrentMenu(menus);
            }
        }
        else {
            menus.forEach((element, index) => {
                if (element.submenu.length > 0) {
                    element.submenu.forEach((element1, index1) => {
                        if (element1?.route == this.url) {
                            this.setActive(menus, index, index1, isNumberCheck);
                        }
                        else if (element1?.activeVersion?.pageid == activeId) {
                            this.setActive(menus, index, index1, isNumberCheck);
                        }
                        else if (element1?.activeVersion?.id == activeId) {
                            this.setActive(menus, index, index1, isNumberCheck);
                        }
                    });
                }
                //  else if(element.submenu.length > 0 && element.name == 'Pages'){
                //   element.submenu.forEach((element1, index1) => {
                //     if(element1?.activeVersion?.pageid == activeId){
                //       this.setActive(menus, index, index1, isNumberCheck);
                //     }
                //   });
                // }
            });
        }
        this.router.navigateByUrl(this.oldUrl);
        event.preventDefault();
    }
    setActive(menus, menuIndex, submenuIndex, isNumberCheck) {
        menus.map(item => item.active = false);
        menus.forEach(element => {
            element.submenu.map(item => item.active = false);
        });
        if (menuIndex) {
            menus[menuIndex].active = true;
            if (submenuIndex >= 0) {
                menus[menuIndex].submenu[submenuIndex].active = true;
            }
            else {
                menus[menuIndex].active = true;
            }
        }
        else {
            menus[0].active = true;
        }
        if (isNumberCheck) {
            this.appService.addValue('dynamicPages', menus[menuIndex]);
            this.auth.getCurrentMenu(menus);
        }
        else {
            this.appService.addValue('currentPages', menus[menuIndex]);
            this.auth.getCurrentMenu(menus);
        }
    }
    extractID(url) {
        const parts = url.split("/");
        const lastIndex = parts.length - 1;
        return parts[lastIndex];
    }
    extractUrl(html) {
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const link = doc.querySelector('a');
        return link ? link.getAttribute('href') : '';
    }
    popup(data) {
        this.openPopup.emit(data);
    }
    downloadData(evt) {
        this.downloadTableRow.emit(evt);
    }
    onSelectionChanged(evt) {
        this.rowSelection.emit(evt);
    }
    editData(evt) {
        this.editTableRow.emit(evt);
    }
    viewData(evt) {
        this.viewTableRow.emit(evt);
    }
    viewVersion(evt) {
        this.viewVersions.emit(evt);
    }
    activatePageVersion(evt) {
        this.activateVersion.emit(evt);
    }
    activatePages(evt) {
        this.activatePage.emit(evt);
    }
    deactivatePages(evt) {
        this.deactivatePage.emit(evt);
    }
    deleteData(evt) {
        this.deleteTableRow.emit(evt);
    }
    openLink(evt) {
        this.openExternalLink.emit(evt);
    }
    openPopupLink(evt) {
        this.openpopupLink.emit(evt);
    }
    activeUser(evt) {
        this.toggleRow.emit(evt);
    }
    duplicateDate(evt) {
        this.duplicateRow.emit(evt);
    }
    duplicateVersion(evt) {
        this.duplicatePageVersion.emit(evt);
    }
    getOrgList() {
        this.httpService.get('/platform/page-designer/page/organization/all').subscribe((data) => {
            if (data.data && data.data.length) {
                this.orgList = data.data.sort((a, b) => a.organizationname?.localeCompare(b.organizationname));
            }
            else {
                this.orgList = [];
            }
        });
    }
    onRowPrepared(e) {
        if (e.rowType === 'data') {
            e.columns.forEach((column, index) => {
                if (column.caption === 'Date') {
                    e.rowElement.cells[index].classList.add('message-new');
                }
            });
            if (e.data.isnew) {
                const element = e.rowElement;
                element.classList.add('isnew');
                e.columns.forEach((column, index) => {
                    if (column.caption === 'Date') {
                        e.rowElement.cells[index].classList.add('new-icon');
                    }
                });
            }
        }
    }
    onCellPrepared(e) {
        if (e.rowType == 'data' && e.data.isactive) {
            if (e.column.dataField === 'version') {
                const element = e.cellElement;
                const livetext = document.createElement('div');
                element.classList.add('live-td');
                livetext.classList.add('live-group');
                livetext.innerHTML = '<div class="live-text">Live</div>';
                element.appendChild(livetext);
            }
            else if (e.column.dataField === 'templatename') {
                this.exportPageName = e.value.includes('_') ? e.value.split('_')[0] : e.value;
            }
        }
        const maxLength = 60;
        if (e.rowType === 'data') {
            if (e.column.dataField === 'message') {
                const element = e.cellElement;
                element.classList.add('truncateWrapper');
                const cell = document.querySelector('.truncateWrapper');
                let cellWidth;
                if (cell) {
                    cellWidth = cell.offsetWidth;
                }
                // Create a div element for truncation
                const textContent = document.createElement('div');
                textContent.classList.add('text-content');
                textContent.style.maxWidth = `${cellWidth + 15}px`;
                textContent.style.overflow = 'hidden';
                textContent.style.whiteSpace = 'normal';
                // Function to truncate HTML content
                const truncateHtml = (html, length) => {
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = html;
                    let truncatedHtml = '';
                    let currentLength = 0;
                    const traverse = (node) => {
                        if (node.nodeType === Node.TEXT_NODE) {
                            const text = node.textContent || '';
                            if (currentLength + text.length > length) {
                                truncatedHtml += text.substring(0, length - currentLength) + '...';
                                currentLength = length;
                                return;
                            }
                            else {
                                truncatedHtml += text;
                                currentLength += text.length;
                            }
                        }
                        else if (node.nodeType === Node.ELEMENT_NODE) {
                            const element = node;
                            truncatedHtml += `<${element.tagName.toLowerCase()}`;
                            Array.from(element.attributes).forEach(attr => {
                                truncatedHtml += ` ${attr.name}="${attr.value}"`;
                            });
                            truncatedHtml += '>';
                            Array.from(element.childNodes).forEach(child => traverse(child));
                            truncatedHtml += `</${element.tagName.toLowerCase()}>`;
                        }
                    };
                    Array.from(tempDiv.childNodes).forEach(node => traverse(node));
                    return truncatedHtml;
                };
                // Set initial truncated HTML
                textContent.innerHTML = truncateHtml(e.text, maxLength);
                // Create the 'Show More' link
                const showMoreLink = document.createElement('a');
                showMoreLink.href = 'javascript:;';
                showMoreLink.classList.add('showtext');
                showMoreLink.innerText = 'Show More';
                // Create a container div for text and link
                const truncateContainer = document.createElement('div');
                truncateContainer.classList.add('text-truncate');
                truncateContainer.appendChild(textContent);
                truncateContainer.appendChild(showMoreLink);
                // Function to extract plain text from HTML
                const extractPlainTextFromHtml = (html) => {
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = html;
                    return tempDiv.textContent || '';
                };
                // Append the container to the cell element
                element.appendChild(truncateContainer);
                // Check if plain text length exceeds the maximum length
                const plainText = extractPlainTextFromHtml(e.text);
                if (plainText.length > maxLength) {
                    // Display the 'Show More' link
                    showMoreLink.style.display = 'inline';
                }
                else {
                    // Hide the 'Show More' link if not needed
                    showMoreLink.style.display = 'none';
                }
                // Handle the 'Show More' link click event
                showMoreLink.addEventListener('click', function () {
                    if (textContent.style.maxHeight === 'none') {
                        // Collapse text
                        textContent.style.maxHeight = '50px';
                        textContent.innerHTML = truncateHtml(e.text, maxLength);
                        showMoreLink.innerText = 'Show More';
                    }
                    else {
                        // Expand text
                        textContent.style.maxHeight = 'none';
                        textContent.innerHTML = e.text;
                        showMoreLink.innerText = 'Show Less';
                    }
                });
                // Check if the text contains an <a> tag
                textContent.addEventListener('click', (event) => {
                    const target = event.target;
                    if (target.tagName.toLowerCase() === 'a') {
                        event.preventDefault();
                        this.navigateLink(event, e);
                    }
                });
            }
        }
    }
    onExporting(e) {
        const pageName = this.localstorage.getObj('FILE EXPORT NAME');
        const currentDate = moment().format('YYYY-MM-DD');
        let fileName;
        if (pageName) {
            fileName = `${pageName} Versions ${currentDate}`;
        }
        else if (this.exportPageName) {
            fileName = `${this.exportPageName}-${currentDate}`;
            if (this.exportPageName === 'version')
                fileName = `${this.exportPageName}-${currentDate}`;
        }
        else {
            fileName = `Dynamic-Pages ${currentDate}`;
        }
        e.component.columnOption('Action', 'visible', false);
        if (e.format === 'pdf') {
            const doc = new jsPDF.jsPDF();
            exportDataGridToPdf({
                jsPDFDocument: doc,
                component: e.component,
                customizeCell: grid => {
                    grid.pdfCell.wordWrapEnabled = true;
                }
            }).then(() => {
                doc.save(`${fileName}.pdf`);
                e.component.columnOption('Action', 'visible', true);
            });
        }
        else if (e.format === 'xlsx') {
            e.fileName = fileName;
            setTimeout(() => {
                e.component.columnOption('Action', 'visible', true);
            }, 500);
        }
    }
    islocked(grid, user) {
        if (grid.lock && user.locked) {
            if (Number(user.lockedby) === Number(this.userId)) {
                return true;
            }
            else {
                return false;
            }
        }
        else {
            return true;
        }
    }
    getDateFormat(value) {
        if (this.registrationInfo) {
            if (value === 'date') {
                return this.registrationInfo['datetimeformat'].split(' ')[0];
            }
            return this.registrationInfo['datetimeformat'];
        }
        return 'MM/dd/yyyy';
    }
    isEnable(grid, record) {
        if (grid.version && record.isEnable) {
            return true;
        }
        else {
            return false;
        }
    }
    updateNotificationView(rowData) {
        const inputRequest = {
            isnew: false
        };
        const model = rowData?.data;
        this.mainNotificationService.updateNotification(model?.id, inputRequest).subscribe((_res) => {
            this.sharedService.sendMessage();
        });
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: GridListComponent, deps: [{ token: i1.Router }, { token: i2.AuthService }, { token: i3.LocalService }, { token: i4.LocalStorageService }, { token: i5.AppService }, { token: i6.DataStoreService }, { token: i0.Renderer2 }, { token: i7.AlertService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: GridListComponent, selector: "app-grid-list", inputs: { dataList: "dataList", dataSource: "dataSource", columns: "columns", updateGrid: "updateGrid", totalCount: "totalCount", page: "page", isShow: "isShow", exportPageName: "exportPageName", remoteOperations: "remoteOperations" }, outputs: { currentPage: "currentPage", editTableRow: "editTableRow", viewTableRow: "viewTableRow", deleteTableRow: "deleteTableRow", openExternalLink: "openExternalLink", openpopupLink: "openpopupLink", routeTo: "routeTo", openPopup: "openPopup", sortOrder: "sortOrder", filterSearchValue: "filterSearchValue", filterBuilderPopup: "filterBuilderPopup", filterPanel: "filterPanel", multipleFilterValues: "multipleFilterValues", downloadTableRow: "downloadTableRow", rowSelection: "rowSelection", toggleRow: "toggleRow", duplicateRow: "duplicateRow", viewVersions: "viewVersions", activateVersion: "activateVersion", activatePage: "activatePage", deactivatePage: "deactivatePage", duplicatePageVersion: "duplicatePageVersion", selectedRowsData: "selectedRowsData" }, providers: [GridListService], viewQueries: [{ propertyName: "dataGrid", first: true, predicate: DxDataGridComponent, descendants: true }, { propertyName: "contentWrappers", predicate: ["contentWrapper"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"row\">\r\n  <div class=\"col-12\">\r\n    <p class=\"org-title\" *ngIf=\"user && user.role && auth.isAdmin() && this.isShow\">Organization Name</p>\r\n    <mat-form-field class=\"w-100\" *ngIf=\"auth.isAdmin() && this.isShow\" appearance=\"outline\">\r\n      <mat-select placeholder=\"Organization\" [(ngModel)]=\"Organization\" (selectionChange)=\"loadGrid($event)\">\r\n        <mat-option value=\"Select-ALL\"> Select-ALL</mat-option>\r\n        <mat-option *ngFor=\"let org of orgList\" value=\"{{ org.id }}\"> {{ org.organizationname }}</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-lg-12 px-0\">\r\n    <h4 class=\"landing-title\">{{activepagename}}</h4>\r\n    <div class=\"main-card card\">\r\n      <div class=\"card-body\">\r\n        <dx-data-grid\r\n          id=\"gridContainer\"\r\n          [dataSource]=\"customStore\"\r\n          [allowColumnReordering]=\"true\"\r\n          [allowColumnResizing]=\"true\"\r\n          [columnAutoWidth]=\"true\"\r\n          [columnMinWidth]=\"100\"\r\n          [width]=\"'100%'\"\r\n          [columnResizingMode]=\"'widget'\"\r\n          [showBorders]=\"true\"\r\n          [rowAlternationEnabled]=\"true\"\r\n          [showColumnLines]=\"true\"\r\n          [showRowLines]=\"false\"\r\n          [filterValue]=\"filterValue\"\r\n          (onSelectionChanged)=\"onSelectionChanged($event)\"\r\n          (onRowPrepared)=\"onRowPrepared($event)\"\r\n          (onCellPrepared)=\"onCellPrepared($event)\"\r\n          (onExporting)=\"onExporting($event)\"\r\n          [remoteOperations]=\"remoteOperations == false ? remoteOperations : {filtering: true, sorting: true, paging: true}\"\r\n          #dataGrid>\r\n          <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n          <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n          <dxo-filter-panel [visible]=\"false\"></dxo-filter-panel>\r\n          <dxo-column-chooser *ngIf=\"updateGrid?.chooser\" [enabled]=\"true\" mode=\"select\">\r\n            <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n            </dxo-position>\r\n          </dxo-column-chooser>\r\n          <dxo-paging [pageSize]=\"10\"></dxo-paging>\r\n          <dxo-pager\r\n            [visible]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n            [displayMode]=\"displayMode\"\r\n            [showPageSizeSelector]=\"true\"\r\n            [showInfo]=\"true\"\r\n            [showNavigationButtons]=\"true\"></dxo-pager>\r\n          <!--end pagination-->\r\n          <dxo-filter-builder [customOperations]=\"customOperations\"> </dxo-filter-builder>\r\n          <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n          <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n          <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n          <dxo-selection mode=\"single\" *ngIf=\"updateGrid?.rowSelection\"></dxo-selection>\r\n          <ng-container *ngFor=\"let column of columns; let i = index\">\r\n            <ng-container *ngIf=\"column.hide !== true\">\r\n              <ng-container *ngIf=\"column.link; else noLink\">\r\n                <dxi-column  [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                  cellTemplate=\"cellTemplate\"></dxi-column>\r\n              </ng-container>\r\n              <ng-template #noLink>\r\n                <ng-container *ngIf=\"column.icon; else noIcon\">\r\n                  <dxi-column   [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    cellTemplate=\"iconTemplate\"></dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noIcon>\r\n                <ng-container *ngIf=\"column.dateFormat; else noDate\">\r\n                  <dxi-column *ngIf=\"column.dateFormat === 'date' || column.dateFormat === 'datetime'\"\r\n                    [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    [dataType]=\"column.dateFormat\" [format]=\"getDateFormat(column.dateFormat)\"  >\r\n                  </dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noDate>\r\n                <dxi-column   [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\">\r\n                </dxi-column>\r\n              </ng-template>\r\n            </ng-container>\r\n          </ng-container>\r\n          <ng-container *ngIf=\"\r\n              updateGrid &&\r\n              (updateGrid?.externalLink ||\r\n                updateGrid?.openPopup ||\r\n                updateGrid?.edit ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.download ||\r\n                updateGrid?.activatePage ||\r\n                updateGrid?.deactivatePage)\">\r\n            <dxi-column   [width]=\"120\" [allowFiltering]=\"false\" [allowSorting]=\"false\" caption=\"Action\"\r\n              cellTemplate=\"editCellTemplate\"></dxi-column>\r\n            <div class=\"action-icons\" *dxTemplate=\"let d of 'editCellTemplate'\">\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.externalLink\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openLink(d)\">\r\n                <em class=\"fa fa-external-link\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.openPopup\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openPopupLink(d)\">\r\n                <em class=\"fa fa-newspaper-o\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.download\" class=\"no-bg\" matTooltip=\"Download\"\r\n                (click)=\"downloadData(d)\">\r\n                <em class=\"fa fa-download\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.edit && showVersions && !d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.editRecord\" class=\"no-bg mr-2\" matTooltip=\"Edit\"\r\n                (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && !showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy\" (click)=\"duplicateDate(d)\">\r\n                <em class=\"fa fa-copy\" aria-hidden=\"true\" fieldKey=\"PAG_DES_GRID_LIST_COPY\">\r\n                  <span class=\"sr-only\">Copy</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy Version\" (click)=\"duplicateVersion(d)\">\r\n                <em class=\"fa fa-copy\" *showField=\"'PAG_DES_GRID_LIST_VERSION'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Copy Version</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"!d.data.ribbonconfig && updateGrid?.view && showVersions\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                fieldKey=\"PAG_DES_GRID_LIST_VERSION\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.viewRecord\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.emailview && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Preview\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" title=\"view\"\r\n                *ngIf=\"updateGrid?.version && !showVersions && islocked(updateGrid, d.data) && isEnable(updateGrid, d.data)\" class=\"no-bg\"\r\n                matTooltip=\"Versions\" (click)=\"viewVersion(d)\">\r\n                <em class=\"fa fa-code-fork\" title=\"View\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"!d.data.isEnable && updateGrid?.activatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Activate\" (click)=\"activatePages(d)\">\r\n                <span class=\"material-symbols-outlined activate\">check</span>\r\n              </a>\r\n\r\n              <a href=\"javascript:void(0)\" *ngIf=\"d.data.isEnable && updateGrid?.deactivatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Deactivate\" (click)=\"deactivatePages(d)\">\r\n                <span class=\"material-symbols-outlined deactivate\">close</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"showVersions && !d.data.isactive && d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Activate\" (click)=\"activatePageVersion(d)\">\r\n                <em class=\"fa fa-check-circle-o\" *showField=\"'PAG_DES_GRID_LIST_ACTIVATE'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Activate</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <span *ngIf=\"showVersions && !d.data.isactive && !d.data.published\" class=\"no-bg mr-2\"\r\n                matTooltip=\"This version is not published\">\r\n                <em class=\"fa fa-exclamation-triangle text-warning\" aria-hidden=\"true\">\r\n                  <span class=\"sr-only\">This version is not published</span>\r\n                </em>\r\n                <span class=\"sr-only\">View</span>\r\n              </span>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.lock && d.data.locked\" (click)=\"check(updateGrid, d)\"\r\n                class=\"no-bg ml-2\" matTooltip=\"Locked By - {{ d?.data?.lockedbyUser?.firstname }}\">\r\n                <em *ngIf=\"updateGrid?.lock && d.data.locked\" class=\"fa fa-lock\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.delete\" class=\"no-bg\" matTooltip=\"Delete\"\r\n                (click)=\"deleteData(d)\">\r\n                <em class=\"fa fa-trash\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.toggle\" class=\"no-bg\"\r\n                [matTooltip]=\"d.data.isactive === true ? 'Deactivate' : 'Activate'\" (click)=\"activeUser(d)\">\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === true\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === false\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n            </div>\r\n          </ng-container>\r\n\r\n          <div *dxTemplate=\"let d of 'cellTemplate'\">\r\n            <span href=\"javascript:void(0)\" *ngIf=\"d.value && d.value !== 'null'\" class=\"link-data\" (click)=\"getRouter(d)\">{{\r\n              d.value !== 'null' ? d.value : ''\r\n              }}</span>\r\n          </div>\r\n          <ng-container *ngIf=\"updateGrid.linkVisible\">\r\n            <div *dxTemplate=\"let d of 'cellTemplate'\"(click)=\"navigateLink($event, d)\">\r\n              <span *ngIf=\"d.value && d.value !== 'null'\" #contentWrapper [innerHTML]=\"d.value | safeHtml\">{{\r\n                d.value !== 'null' ? d.value : ''\r\n              }}</span>\r\n            </div>\r\n          </ng-container>\r\n          <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n            <em class=\"fa fa-book\" (click)=\"popup(d.value)\"></em>\r\n          </div>\r\n        </dx-data-grid>\r\n\r\n        <ng-template #callNarrativePopup>\r\n          <h2 matDialogTitle>Narrative</h2>\r\n          <div [innerHTML]=\"narrativeData\"></div>\r\n          <div class=\"text-right\">\r\n            <button mat-button (click)=\"closeNarrativePopup()\" role=\"button\" class=\"btn btn-cancel mr-2\">Close</button>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>", styles: [".split-page{outline:3px;margin:5px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.dx-datagrid .dx-data-row>td.bullet{padding-top:0;padding-bottom:0}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding:1px 5px!important;vertical-align:middle!important;text-align:center!important}.org-title{margin:0;font-size:12px!important;color:var(--primary)}:host ::ng-deep .card .card-body{padding:0 15px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;color:var(--hover-text);background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}.action-icons .activate,.action-icons .deactivate{font-size:20px;line-height:normal;position:relative;top:5px;border-radius:30px;width:12px;display:inline-flex;align-items:center;justify-content:center;height:12px;font-weight:400}.landing-title{color:var(--header-color);font-weight:700;font-size:var(--font-14);position:absolute;left:15px;z-index:99;top:12px;margin:0}:host ::ng-deep .dx-data-row.isnew td{font-size:15px!important;font-weight:600!important;position:relative}:host ::ng-deep .dx-data-row td.message-new{position:relative;padding-left:20px}:host ::ng-deep .dx-data-row td.new-icon{position:relative}:host ::ng-deep .dx-data-row td.new-icon:before{content:\"\\f111\";font-family:FontAwesome,sans-serif;font-size:16px;color:#c92c1f;position:absolute;top:50%;left:5px;transform:translateY(-50%);line-height:normal}.link-data{color:var(--interactive-color);cursor:pointer}\n"], dependencies: [{ kind: "directive", type: i8.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i9.MatButton, selector: "    button[mat-button], button[mat-raised-button], button[mat-flat-button],    button[mat-stroked-button]  ", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { kind: "component", type: i10.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "component", type: i11.MatSelect, selector: "mat-select", inputs: ["disabled", "disableRipple", "tabIndex", "panelWidth", "hideSingleSelectionIndicator"], exportAs: ["matSelect"] }, { kind: "component", type: i12.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { kind: "directive", type: i13.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "directive", type: i14.MatDialogTitle, selector: "[mat-dialog-title], [matDialogTitle]", inputs: ["id"], exportAs: ["matDialogTitle"] }, { kind: "component", type: i15.DxDataGridComponent, selector: "dx-data-grid", inputs: ["accessKey", "activeStateEnabled", "allowColumnReordering", "allowColumnResizing", "autoNavigateToFocusedRow", "cacheEnabled", "cellHintEnabled", "columnAutoWidth", "columnChooser", "columnFixing", "columnHidingEnabled", "columnMinWidth", "columnResizingMode", "columns", "columnWidth", "customizeColumns", "dataRowTemplate", "dataSource", "dateSerializationFormat", "disabled", "editing", "elementAttr", "errorRowEnabled", "export", "filterBuilder", "filterBuilderPopup", "filterPanel", "filterRow", "filterSyncEnabled", "filterValue", "focusedColumnIndex", "focusedRowEnabled", "focusedRowIndex", "focusedRowKey", "grouping", "groupPanel", "headerFilter", "height", "highlightChanges", "hint", "hoverStateEnabled", "keyboardNavigation", "keyExpr", "loadPanel", "masterDetail", "noDataText", "pager", "paging", "remoteOperations", "renderAsync", "repaintChangesOnly", "rowAlternationEnabled", "rowDragging", "rowTemplate", "rtlEnabled", "scrolling", "searchPanel", "selectedRowKeys", "selection", "selectionFilter", "showBorders", "showColumnHeaders", "showColumnLines", "showRowLines", "sortByGroupSummaryInfo", "sorting", "stateStoring", "summary", "syncLookupFilterValues", "tabIndex", "toolbar", "twoWayBindingEnabled", "visible", "width", "wordWrapEnabled"], outputs: ["onAdaptiveDetailRowPreparing", "onCellClick", "onCellDblClick", "onCellHoverChanged", "onCellPrepared", "onContentReady", "onContextMenuPreparing", "onDataErrorOccurred", "onDisposing", "onEditCanceled", "onEditCanceling", "onEditingStart", "onEditorPrepared", "onEditorPreparing", "onExporting", "onFocusedCellChanged", "onFocusedCellChanging", "onFocusedRowChanged", "onFocusedRowChanging", "onInitialized", "onInitNewRow", "onKeyDown", "onOptionChanged", "onRowClick", "onRowCollapsed", "onRowCollapsing", "onRowDblClick", "onRowExpanded", "onRowExpanding", "onRowInserted", "onRowInserting", "onRowPrepared", "onRowRemoved", "onRowRemoving", "onRowUpdated", "onRowUpdating", "onRowValidating", "onSaved", "onSaving", "onSelectionChanged", "onToolbarPreparing", "accessKeyChange", "activeStateEnabledChange", "allowColumnReorderingChange", "allowColumnResizingChange", "autoNavigateToFocusedRowChange", "cacheEnabledChange", "cellHintEnabledChange", "columnAutoWidthChange", "columnChooserChange", "columnFixingChange", "columnHidingEnabledChange", "columnMinWidthChange", "columnResizingModeChange", "columnsChange", "columnWidthChange", "customizeColumnsChange", "dataRowTemplateChange", "dataSourceChange", "dateSerializationFormatChange", "disabledChange", "editingChange", "elementAttrChange", "errorRowEnabledChange", "exportChange", "filterBuilderChange", "filterBuilderPopupChange", "filterPanelChange", "filterRowChange", "filterSyncEnabledChange", "filterValueChange", "focusedColumnIndexChange", "focusedRowEnabledChange", "focusedRowIndexChange", "focusedRowKeyChange", "groupingChange", "groupPanelChange", "headerFilterChange", "heightChange", "highlightChangesChange", "hintChange", "hoverStateEnabledChange", "keyboardNavigationChange", "keyExprChange", "loadPanelChange", "masterDetailChange", "noDataTextChange", "pagerChange", "pagingChange", "remoteOperationsChange", "renderAsyncChange", "repaintChangesOnlyChange", "rowAlternationEnabledChange", "rowDraggingChange", "rowTemplateChange", "rtlEnabledChange", "scrollingChange", "searchPanelChange", "selectedRowKeysChange", "selectionChange", "selectionFilterChange", "showBordersChange", "showColumnHeadersChange", "showColumnLinesChange", "showRowLinesChange", "sortByGroupSummaryInfoChange", "sortingChange", "stateStoringChange", "summaryChange", "syncLookupFilterValuesChange", "tabIndexChange", "toolbarChange", "twoWayBindingEnabledChange", "visibleChange", "widthChange", "wordWrapEnabledChange"] }, { kind: "component", type: i16.DxoColumnChooserComponent, selector: "dxo-column-chooser", inputs: ["allowSearch", "container", "emptyPanelText", "enabled", "height", "mode", "position", "search", "searchTimeout", "selection", "sortOrder", "title", "width"] }, { kind: "component", type: i16.DxoPositionComponent, selector: "dxo-position", inputs: ["at", "boundary", "boundaryOffset", "collision", "my", "of", "offset"] }, { kind: "component", type: i16.DxoSelectionComponent, selector: "dxo-selection", inputs: ["allowSelectAll", "recursive", "selectByClick", "deferred", "mode", "selectAllMode", "showCheckBoxesMode"] }, { kind: "component", type: i16.DxiColumnComponent, selector: "dxi-column", inputs: ["alignment", "allowEditing", "allowExporting", "allowFiltering", "allowFixing", "allowGrouping", "allowHeaderFiltering", "allowHiding", "allowReordering", "allowResizing", "allowSearch", "allowSorting", "autoExpandGroup", "buttons", "calculateCellValue", "calculateDisplayValue", "calculateFilterExpression", "calculateGroupValue", "calculateSortValue", "caption", "cellTemplate", "columns", "cssClass", "customizeText", "dataField", "dataType", "editCellTemplate", "editorOptions", "encodeHtml", "falseText", "filterOperations", "filterType", "filterValue", "filterValues", "fixed", "fixedPosition", "format", "formItem", "groupCellTemplate", "groupIndex", "headerCellTemplate", "headerFilter", "hidingPriority", "isBand", "lookup", "minWidth", "name", "ownerBand", "renderAsync", "selectedFilterOperation", "setCellValue", "showEditorAlways", "showInColumnChooser", "showWhenGrouped", "sortIndex", "sortingMethod", "sortOrder", "trueText", "type", "validationRules", "visible", "visibleIndex", "width"], outputs: ["filterValueChange", "filterValuesChange", "groupIndexChange", "selectedFilterOperationChange", "sortIndexChange", "sortOrderChange", "visibleChange", "visibleIndexChange"] }, { kind: "component", type: i16.DxoHeaderFilterComponent, selector: "dxo-header-filter", inputs: ["allowSearch", "allowSelectAll", "dataSource", "groupInterval", "height", "search", "searchMode", "width", "searchTimeout", "texts", "visible", "showRelevantValues"] }, { kind: "component", type: i16.DxoExportComponent, selector: "dxo-export", inputs: ["backgroundColor", "enabled", "fileName", "formats", "margin", "printingEnabled", "svgToCanvas", "allowExportSelectedData", "texts"] }, { kind: "component", type: i16.DxoFilterBuilderComponent, selector: "dxo-filter-builder", inputs: ["accessKey", "activeStateEnabled", "allowHierarchicalFields", "customOperations", "disabled", "elementAttr", "fields", "filterOperationDescriptions", "focusStateEnabled", "groupOperationDescriptions", "groupOperations", "height", "hint", "hoverStateEnabled", "maxGroupLevel", "onContentReady", "onDisposing", "onEditorPrepared", "onEditorPreparing", "onInitialized", "onOptionChanged", "onValueChanged", "rtlEnabled", "tabIndex", "value", "visible", "width"], outputs: ["valueChange"] }, { kind: "component", type: i16.DxoFilterBuilderPopupComponent, selector: "dxo-filter-builder-popup", inputs: ["accessKey", "animation", "closeOnOutsideClick", "container", "contentTemplate", "copyRootClassesToWrapper", "deferRendering", "disabled", "dragAndResizeArea", "dragEnabled", "dragOutsideBoundary", "elementAttr", "enableBodyScroll", "focusStateEnabled", "fullScreen", "height", "hideOnOutsideClick", "hideOnParentScroll", "hint", "hoverStateEnabled", "maxHeight", "maxWidth", "minHeight", "minWidth", "onContentReady", "onDisposing", "onHidden", "onHiding", "onInitialized", "onOptionChanged", "onResize", "onResizeEnd", "onResizeStart", "onShowing", "onShown", "onTitleRendered", "position", "resizeEnabled", "restorePosition", "rtlEnabled", "shading", "shadingColor", "showCloseButton", "showTitle", "tabIndex", "title", "titleTemplate", "toolbarItems", "visible", "width", "wrapperAttr"], outputs: ["heightChange", "positionChange", "visibleChange", "widthChange"] }, { kind: "component", type: i16.DxoFilterPanelComponent, selector: "dxo-filter-panel", inputs: ["customizeText", "filterEnabled", "texts", "visible"], outputs: ["filterEnabledChange"] }, { kind: "component", type: i16.DxoFilterRowComponent, selector: "dxo-filter-row", inputs: ["applyFilter", "applyFilterText", "betweenEndText", "betweenStartText", "operationDescriptions", "resetOperationText", "showAllText", "showOperationChooser", "visible"] }, { kind: "component", type: i16.DxoLoadPanelComponent, selector: "dxo-load-panel", inputs: ["enabled", "height", "indicatorSrc", "shading", "shadingColor", "showIndicator", "showPane", "text", "width"] }, { kind: "component", type: i16.DxoPagerComponent, selector: "dxo-pager", inputs: ["allowedPageSizes", "displayMode", "infoText", "label", "showInfo", "showNavigationButtons", "showPageSizeSelector", "visible"] }, { kind: "component", type: i16.DxoPagingComponent, selector: "dxo-paging", inputs: ["enabled", "pageIndex", "pageSize"], outputs: ["pageIndexChange", "pageSizeChange"] }, { kind: "directive", type: i17.DxTemplateDirective, selector: "[dxTemplate]", inputs: ["dxTemplateOf"] }, { kind: "directive", type: i18.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i18.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i19.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { kind: "directive", type: i20.ShowFieldDirective, selector: "[showField]", inputs: ["showField"] }, { kind: "component", type: i21.AlertComponent, selector: "app-alert" }, { kind: "pipe", type: i22.SafeHtmlPipe, name: "safeHtml" }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: GridListComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-grid-list', providers: [GridListService], template: "<app-alert></app-alert>\r\n<div class=\"row\">\r\n  <div class=\"col-12\">\r\n    <p class=\"org-title\" *ngIf=\"user && user.role && auth.isAdmin() && this.isShow\">Organization Name</p>\r\n    <mat-form-field class=\"w-100\" *ngIf=\"auth.isAdmin() && this.isShow\" appearance=\"outline\">\r\n      <mat-select placeholder=\"Organization\" [(ngModel)]=\"Organization\" (selectionChange)=\"loadGrid($event)\">\r\n        <mat-option value=\"Select-ALL\"> Select-ALL</mat-option>\r\n        <mat-option *ngFor=\"let org of orgList\" value=\"{{ org.id }}\"> {{ org.organizationname }}</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-lg-12 px-0\">\r\n    <h4 class=\"landing-title\">{{activepagename}}</h4>\r\n    <div class=\"main-card card\">\r\n      <div class=\"card-body\">\r\n        <dx-data-grid\r\n          id=\"gridContainer\"\r\n          [dataSource]=\"customStore\"\r\n          [allowColumnReordering]=\"true\"\r\n          [allowColumnResizing]=\"true\"\r\n          [columnAutoWidth]=\"true\"\r\n          [columnMinWidth]=\"100\"\r\n          [width]=\"'100%'\"\r\n          [columnResizingMode]=\"'widget'\"\r\n          [showBorders]=\"true\"\r\n          [rowAlternationEnabled]=\"true\"\r\n          [showColumnLines]=\"true\"\r\n          [showRowLines]=\"false\"\r\n          [filterValue]=\"filterValue\"\r\n          (onSelectionChanged)=\"onSelectionChanged($event)\"\r\n          (onRowPrepared)=\"onRowPrepared($event)\"\r\n          (onCellPrepared)=\"onCellPrepared($event)\"\r\n          (onExporting)=\"onExporting($event)\"\r\n          [remoteOperations]=\"remoteOperations == false ? remoteOperations : {filtering: true, sorting: true, paging: true}\"\r\n          #dataGrid>\r\n          <dxo-load-panel [enabled]=\"false\"></dxo-load-panel>\r\n          <dxo-export [enabled]=\"true\" [formats]=\"['pdf', 'xlsx']\"></dxo-export>\r\n          <dxo-filter-panel [visible]=\"false\"></dxo-filter-panel>\r\n          <dxo-column-chooser *ngIf=\"updateGrid?.chooser\" [enabled]=\"true\" mode=\"select\">\r\n            <dxo-position my=\"right top\" at=\"right top\" of=\".dx-datagrid-column-chooser-button\">\r\n            </dxo-position>\r\n          </dxo-column-chooser>\r\n          <dxo-paging [pageSize]=\"10\"></dxo-paging>\r\n          <dxo-pager\r\n            [visible]=\"true\"\r\n            [allowedPageSizes]=\"[5, 10, 15, 20]\"\r\n            [displayMode]=\"displayMode\"\r\n            [showPageSizeSelector]=\"true\"\r\n            [showInfo]=\"true\"\r\n            [showNavigationButtons]=\"true\"></dxo-pager>\r\n          <!--end pagination-->\r\n          <dxo-filter-builder [customOperations]=\"customOperations\"> </dxo-filter-builder>\r\n          <dxo-filter-builder-popup [position]=\"popupPosition\"> </dxo-filter-builder-popup>\r\n          <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n          <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n          <dxo-selection mode=\"single\" *ngIf=\"updateGrid?.rowSelection\"></dxo-selection>\r\n          <ng-container *ngFor=\"let column of columns; let i = index\">\r\n            <ng-container *ngIf=\"column.hide !== true\">\r\n              <ng-container *ngIf=\"column.link; else noLink\">\r\n                <dxi-column  [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                  cellTemplate=\"cellTemplate\"></dxi-column>\r\n              </ng-container>\r\n              <ng-template #noLink>\r\n                <ng-container *ngIf=\"column.icon; else noIcon\">\r\n                  <dxi-column   [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    cellTemplate=\"iconTemplate\"></dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noIcon>\r\n                <ng-container *ngIf=\"column.dateFormat; else noDate\">\r\n                  <dxi-column *ngIf=\"column.dateFormat === 'date' || column.dateFormat === 'datetime'\"\r\n                    [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\"\r\n                    [dataType]=\"column.dateFormat\" [format]=\"getDateFormat(column.dateFormat)\"  >\r\n                  </dxi-column>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #noDate>\r\n                <dxi-column   [dataField]=\"column.columnDef\" [caption]=\"column.header\" [allowFiltering]=\"column.filter\">\r\n                </dxi-column>\r\n              </ng-template>\r\n            </ng-container>\r\n          </ng-container>\r\n          <ng-container *ngIf=\"\r\n              updateGrid &&\r\n              (updateGrid?.externalLink ||\r\n                updateGrid?.openPopup ||\r\n                updateGrid?.edit ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.delete ||\r\n                updateGrid?.download ||\r\n                updateGrid?.activatePage ||\r\n                updateGrid?.deactivatePage)\">\r\n            <dxi-column   [width]=\"120\" [allowFiltering]=\"false\" [allowSorting]=\"false\" caption=\"Action\"\r\n              cellTemplate=\"editCellTemplate\"></dxi-column>\r\n            <div class=\"action-icons\" *dxTemplate=\"let d of 'editCellTemplate'\">\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.externalLink\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openLink(d)\">\r\n                <em class=\"fa fa-external-link\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.openPopup\" class=\"no-bg\" matTooltip=\"Open\"\r\n                (click)=\"openPopupLink(d)\">\r\n                <em class=\"fa fa-newspaper-o\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.download\" class=\"no-bg\" matTooltip=\"Download\"\r\n                (click)=\"downloadData(d)\">\r\n                <em class=\"fa fa-download\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.edit && showVersions && !d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Edit\" (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.editRecord\" class=\"no-bg mr-2\" matTooltip=\"Edit\"\r\n                (click)=\"editData(d)\">\r\n                <em class=\"fa fa-pencil\" aria-hidden=\"true\"><span class=\"sr-only\">Edit</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && !showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy\" (click)=\"duplicateDate(d)\">\r\n                <em class=\"fa fa-copy\" aria-hidden=\"true\" fieldKey=\"PAG_DES_GRID_LIST_COPY\">\r\n                  <span class=\"sr-only\">Copy</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.duplicate && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Copy Version\" (click)=\"duplicateVersion(d)\">\r\n                <em class=\"fa fa-copy\" *showField=\"'PAG_DES_GRID_LIST_VERSION'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Copy Version</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"!d.data.ribbonconfig && updateGrid?.view && showVersions\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                fieldKey=\"PAG_DES_GRID_LIST_VERSION\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.viewRecord\" class=\"no-bg mr-2\" matTooltip=\"View\"\r\n                (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.emailview && showVersions\" class=\"no-bg mr-2\"\r\n                matTooltip=\"Preview\" (click)=\"viewData(d)\">\r\n                <em class=\"fa fa-eye\" aria-hidden=\"true\"><span class=\"sr-only\">View</span></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" title=\"view\"\r\n                *ngIf=\"updateGrid?.version && !showVersions && islocked(updateGrid, d.data) && isEnable(updateGrid, d.data)\" class=\"no-bg\"\r\n                matTooltip=\"Versions\" (click)=\"viewVersion(d)\">\r\n                <em class=\"fa fa-code-fork\" title=\"View\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"!d.data.isEnable && updateGrid?.activatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Activate\" (click)=\"activatePages(d)\">\r\n                <span class=\"material-symbols-outlined activate\">check</span>\r\n              </a>\r\n\r\n              <a href=\"javascript:void(0)\" *ngIf=\"d.data.isEnable && updateGrid?.deactivatePage\" class=\"no-bg ml-2\"\r\n                matTooltip=\"Deactivate\" (click)=\"deactivatePages(d)\">\r\n                <span class=\"material-symbols-outlined deactivate\">close</span>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"showVersions && !d.data.isactive && d.data.published\"\r\n                class=\"no-bg mr-2\" matTooltip=\"Activate\" (click)=\"activatePageVersion(d)\">\r\n                <em class=\"fa fa-check-circle-o\" *showField=\"'PAG_DES_GRID_LIST_ACTIVATE'\" aria-hidden=\"true\"><span\r\n                    class=\"sr-only\">Activate</span></em>\r\n                <span class=\"sr-only\">View</span>\r\n              </a>\r\n              <span *ngIf=\"showVersions && !d.data.isactive && !d.data.published\" class=\"no-bg mr-2\"\r\n                matTooltip=\"This version is not published\">\r\n                <em class=\"fa fa-exclamation-triangle text-warning\" aria-hidden=\"true\">\r\n                  <span class=\"sr-only\">This version is not published</span>\r\n                </em>\r\n                <span class=\"sr-only\">View</span>\r\n              </span>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.lock && d.data.locked\" (click)=\"check(updateGrid, d)\"\r\n                class=\"no-bg ml-2\" matTooltip=\"Locked By - {{ d?.data?.lockedbyUser?.firstname }}\">\r\n                <em *ngIf=\"updateGrid?.lock && d.data.locked\" class=\"fa fa-lock\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.delete\" class=\"no-bg\" matTooltip=\"Delete\"\r\n                (click)=\"deleteData(d)\">\r\n                <em class=\"fa fa-trash\" aria-hidden=\"true\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.toggle\" class=\"no-bg\"\r\n                [matTooltip]=\"d.data.isactive === true ? 'Deactivate' : 'Activate'\" (click)=\"activeUser(d)\">\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === true\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.toggle && d.data.isactive === false\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n              <a href=\"javascript:void(0)\" *ngIf=\"updateGrid?.activeordeactive\" class=\"no-bg\" (click)=\"deleteData(d)\">\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 1\" class=\"fa fa-toggle-on\"></em>\r\n                <em *ngIf=\"updateGrid?.activeordeactive && d.data.activeflag === 0\" class=\"fa fa-toggle-off\"></em>\r\n              </a>\r\n            </div>\r\n          </ng-container>\r\n\r\n          <div *dxTemplate=\"let d of 'cellTemplate'\">\r\n            <span href=\"javascript:void(0)\" *ngIf=\"d.value && d.value !== 'null'\" class=\"link-data\" (click)=\"getRouter(d)\">{{\r\n              d.value !== 'null' ? d.value : ''\r\n              }}</span>\r\n          </div>\r\n          <ng-container *ngIf=\"updateGrid.linkVisible\">\r\n            <div *dxTemplate=\"let d of 'cellTemplate'\"(click)=\"navigateLink($event, d)\">\r\n              <span *ngIf=\"d.value && d.value !== 'null'\" #contentWrapper [innerHTML]=\"d.value | safeHtml\">{{\r\n                d.value !== 'null' ? d.value : ''\r\n              }}</span>\r\n            </div>\r\n          </ng-container>\r\n          <div *dxTemplate=\"let d of 'iconTemplate'\">\r\n            <em class=\"fa fa-book\" (click)=\"popup(d.value)\"></em>\r\n          </div>\r\n        </dx-data-grid>\r\n\r\n        <ng-template #callNarrativePopup>\r\n          <h2 matDialogTitle>Narrative</h2>\r\n          <div [innerHTML]=\"narrativeData\"></div>\r\n          <div class=\"text-right\">\r\n            <button mat-button (click)=\"closeNarrativePopup()\" role=\"button\" class=\"btn btn-cancel mr-2\">Close</button>\r\n          </div>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>", styles: [".split-page{outline:3px;margin:5px}.searchlist{min-width:620px!important;height:280px!important}.searchlist table,.searchlist table tr th,.searchlist table tr td{padding:0}.dx-datagrid .dx-data-row>td.bullet{padding-top:0;padding-bottom:0}.dx-datagrid .dx-row>tr>td{padding:0!important}.dx-datagrid .dx-row>td{padding:1px 5px!important;vertical-align:middle!important;text-align:center!important}.org-title{margin:0;font-size:12px!important;color:var(--primary)}:host ::ng-deep .card .card-body{padding:0 15px}:host ::ng-deep .dx-datagrid .dx-toolbar-after{margin-right:5px;margin-top:5px}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content{padding:5px 6px;border-radius:3px;color:var(--hover-text);background-color:var(--btn)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-export{color:var(--hover-text)}:host ::ng-deep .dx-datagrid .dx-toolbar-after .dx-button-content .dx-icon-spindown{color:var(--hover-text)}.action-icons .activate,.action-icons .deactivate{font-size:20px;line-height:normal;position:relative;top:5px;border-radius:30px;width:12px;display:inline-flex;align-items:center;justify-content:center;height:12px;font-weight:400}.landing-title{color:var(--header-color);font-weight:700;font-size:var(--font-14);position:absolute;left:15px;z-index:99;top:12px;margin:0}:host ::ng-deep .dx-data-row.isnew td{font-size:15px!important;font-weight:600!important;position:relative}:host ::ng-deep .dx-data-row td.message-new{position:relative;padding-left:20px}:host ::ng-deep .dx-data-row td.new-icon{position:relative}:host ::ng-deep .dx-data-row td.new-icon:before{content:\"\\f111\";font-family:FontAwesome,sans-serif;font-size:16px;color:#c92c1f;position:absolute;top:50%;left:5px;transform:translateY(-50%);line-height:normal}.link-data{color:var(--interactive-color);cursor:pointer}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.AuthService }, { type: i3.LocalService }, { type: i4.LocalStorageService }, { type: i5.AppService }, { type: i6.DataStoreService }, { type: i0.Renderer2 }, { type: i7.AlertService }]; }, propDecorators: { dataGrid: [{
                type: ViewChild,
                args: [DxDataGridComponent, { static: false }]
            }], contentWrappers: [{
                type: ViewChildren,
                args: ['contentWrapper']
            }], dataList: [{
                type: Input
            }], dataSource: [{
                type: Input
            }], columns: [{
                type: Input
            }], updateGrid: [{
                type: Input
            }], totalCount: [{
                type: Input
            }], page: [{
                type: Input
            }], isShow: [{
                type: Input
            }], exportPageName: [{
                type: Input
            }], remoteOperations: [{
                type: Input
            }], currentPage: [{
                type: Output
            }], editTableRow: [{
                type: Output
            }], viewTableRow: [{
                type: Output
            }], deleteTableRow: [{
                type: Output
            }], openExternalLink: [{
                type: Output
            }], openpopupLink: [{
                type: Output
            }], routeTo: [{
                type: Output
            }], openPopup: [{
                type: Output
            }], sortOrder: [{
                type: Output
            }], filterSearchValue: [{
                type: Output
            }], filterBuilderPopup: [{
                type: Output
            }], filterPanel: [{
                type: Output
            }], multipleFilterValues: [{
                type: Output
            }], downloadTableRow: [{
                type: Output
            }], rowSelection: [{
                type: Output
            }], toggleRow: [{
                type: Output
            }], duplicateRow: [{
                type: Output
            }], viewVersions: [{
                type: Output
            }], activateVersion: [{
                type: Output
            }], activatePage: [{
                type: Output
            }], deactivatePage: [{
                type: Output
            }], duplicatePageVersion: [{
                type: Output
            }], selectedRowsData: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC1saXN0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BpY3MtY29yZS9keW5hbWljL3NyYy9saWIvcGljcy1keW5hbWljL0BzaGFyZWQvZ3JpZC1saXN0L2dyaWQtbGlzdC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvZHluYW1pYy9zcmMvbGliL3BpY3MtZHluYW1pYy9Ac2hhcmVkL2dyaWQtbGlzdC9ncmlkLWxpc3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFpQixTQUFTLEVBQWMsWUFBWSxFQUFFLEtBQUssRUFBcUIsTUFBTSxFQUF3QixTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXBLLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sV0FBVyxNQUFNLDhCQUE4QixDQUFDO0FBRXZELE9BQU8sRUFBRSxjQUFjLElBQUksbUJBQW1CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUNoRixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLE1BQU0sTUFBTSxlQUFlLENBQUM7QUFPbkMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDakUsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDO0FBT2hDLE1BQU0sT0FBTyxpQkFBaUI7SUE4RGxCO0lBQ0Q7SUFDQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFwRXlDLFFBQVEsQ0FBdUI7SUFDbEQsZUFBZSxDQUF3QjtJQUM5RCxRQUFRLENBQVE7SUFDaEIsVUFBVSxDQUFhO0lBQ3ZCLE9BQU8sQ0FBTTtJQUNiLFVBQVUsQ0FBTTtJQUNoQixVQUFVLENBQVM7SUFD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IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25DaGFuZ2VzLCBPbkluaXQsIE91dHB1dCwgUXVlcnlMaXN0LCBSZW5kZXJlcjIsIFZpZXdDaGlsZCwgVmlld0NoaWxkcmVuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IER4RGF0YUdyaWRDb21wb25lbnQgfSBmcm9tICdkZXZleHRyZW1lLWFuZ3VsYXInO1xyXG5pbXBvcnQgQ3VzdG9tU3RvcmUgZnJvbSAnZGV2ZXh0cmVtZS9kYXRhL2N1c3RvbV9zdG9yZSc7XHJcbmltcG9ydCBEYXRhU291cmNlIGZyb20gJ2RldmV4dHJlbWUvZGF0YS9kYXRhX3NvdXJjZSc7XHJcbmltcG9ydCB7IGV4cG9ydERhdGFHcmlkIGFzIGV4cG9ydERhdGFHcmlkVG9QZGYgfSBmcm9tICdkZXZleHRyZW1lL3BkZl9leHBvcnRlcic7XHJcbmltcG9ydCAqIGFzIGpzUERGIGZyb20gJ2pzcGRmJztcclxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQvbW9tZW50JzsgXHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9AY29yZS9sb2NhbC1zdG9yYWdlL2xvY2FsLXN0b3JhZ2Uuc2VydmljZSc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uLy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XHJcbmltcG9ydCB7IEFwcFNlcnZpY2UgfSBmcm9tICcuLi8uLi9AY29yZS9zZXJ2aWNlL2FwcC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICcuLi8uLi9AY29yZS9zZXJ2aWNlL2F1dGguc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IExvY2FsU2VydmljZSB9IGZyb20gJy4uLy4uL0Bjb3JlL3NlcnZpY2UvbG9jYWwuc2VydmljZSc7XHJcbmltcG9ydCB7IEdyaWRMaXN0U2VydmljZSB9IGZyb20gJy4uL2dyaWQtbGlzdC9ncmlkLWxpc3Quc2VydmljZSc7XHJcbmNvbnN0IFNFTEVDVF9BTEwgPSAnU2VsZWN0LUFMTCc7XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWdyaWQtbGlzdCcsXHJcbiAgcHJvdmlkZXJzOiBbR3JpZExpc3RTZXJ2aWNlXSxcclxuICB0ZW1wbGF0ZVVybDogJy4vZ3JpZC1saXN0LmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9ncmlkLWxpc3QuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgR3JpZExpc3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgQWZ0ZXJWaWV3SW5pdCB7XHJcbiAgQFZpZXdDaGlsZChEeERhdGFHcmlkQ29tcG9uZW50LCB7IHN0YXRpYzogZmFsc2UgfSkgZGF0YUdyaWQhOiBEeERhdGFHcmlkQ29tcG9uZW50O1xyXG4gIEBWaWV3Q2hpbGRyZW4oJ2NvbnRlbnRXcmFwcGVyJykgY29udGVudFdyYXBwZXJzOiBRdWVyeUxpc3Q8RWxlbWVudFJlZj47XHJcbiAgQElucHV0KCkgZGF0YUxpc3Q6IGFueVtdO1xyXG4gIEBJbnB1dCgpIGRhdGFTb3VyY2U6IERhdGFTb3VyY2U7XHJcbiAgQElucHV0KCkgY29sdW1uczogYW55O1xyXG4gIEBJbnB1dCgpIHVwZGF0ZUdyaWQ6IGFueTtcclxuICBASW5wdXQoKSB0b3RhbENvdW50OiBudW1iZXI7XHJcbiAgQElucHV0KCkgcGFnZTogbnVtYmVyO1xyXG4gIEBJbnB1dCgpIGlzU2hvdzogYW55O1xyXG4gIEBJbnB1dCgpIGV4cG9ydFBhZ2VOYW1lOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgcmVtb3RlT3BlcmF0aW9uczogYm9vbGVhbjtcclxuICBAT3V0cHV0KCkgY3VycmVudFBhZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuICBAT3V0cHV0KCkgZWRpdFRhYmxlUm93ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHZpZXdUYWJsZVJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBkZWxldGVUYWJsZVJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBvcGVuRXh0ZXJuYWxMaW5rID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIG9wZW5wb3B1cExpbmsgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgcm91dGVUbyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBvcGVuUG9wdXAgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgc29ydE9yZGVyID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGZpbHRlclNlYXJjaFZhbHVlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGZpbHRlckJ1aWxkZXJQb3B1cCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBmaWx0ZXJQYW5lbCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBtdWx0aXBsZUZpbHRlclZhbHVlcyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBkb3dubG9hZFRhYmxlUm93ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHJvd1NlbGVjdGlvbiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSB0b2dnbGVSb3cgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgZHVwbGljYXRlUm93ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHZpZXdWZXJzaW9ucyA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xyXG4gIEBPdXRwdXQoKSBhY3RpdmF0ZVZlcnNpb24gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBAT3V0cHV0KCkgYWN0aXZhdGVQYWdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGRlYWN0aXZhdGVQYWdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIGR1cGxpY2F0ZVBhZ2VWZXJzaW9uID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcbiAgQE91dHB1dCgpIHNlbGVjdGVkUm93c0RhdGEgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcclxuICBvcmdMaXN0OiBhbnk7XHJcbiAgZGF0YUZpZWxkOiBzdHJpbmdbXTtcclxuICBjb2x1bW5IZWFkZXI6IGFueVtdO1xyXG4gIHBvcHVwUG9zaXRpb246IGFueTtcclxuICBmaWx0ZXJWYWx1ZTogKHN0cmluZyB8IHN0cmluZ1tdKVtdO1xyXG4gIGN1c3RvbU9wZXJhdGlvbnM6IEFycmF5PGFueT47XHJcbiAgZmllbGRzOiBhbnk7XHJcbiAgY3VzdG9tU3RvcmU6IGFueTtcclxuICB0ZW1wQ29sdW1uczogYW55W107XHJcbiAgT3JnYW5pemF0aW9uOiBhbnk7XHJcbiAgZFVybDogc3RyaW5nO1xyXG4gIHJkVXJsOiBzdHJpbmc7XHJcbiAgclVybDogYW55O1xyXG4gIHVzZXI6IGFueTtcclxuICB1c2VySWQ6IG51bWJlcjtcclxuICB0ZW1wTGlzdDogYW55W107XHJcbiAgc2hvd1ZlcnNpb25zOiBib29sZWFuO1xyXG4gIGRpc3BsYXlNb2RlOiBhbnk7XHJcbiAgcmVnaXN0cmF0aW9uSW5mbzogYW55O1xyXG4gIGFjdGl2ZXBhZ2VuYW1lOiBhbnk7XHJcbiAgdXJsOiBhbnk7XHJcbiAgb2xkVXJsOiBhbnk7XHJcbiAgaHR0cFNlcnZpY2U6YW55O1xyXG4gIG1haW5Ob3RpZmljYXRpb25TZXJ2aWNlOmFueTtcclxuICBzaGFyZWRTZXJ2aWNlOmFueTtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIC8vIHByaXZhdGUgZGlhbG9nOiBNYXREaWFsb2csXHJcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxyXG4gICAgcHVibGljIGF1dGg6IEF1dGhTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBsb2NhbHN0b3JhZ2U6IExvY2FsU2VydmljZSxcclxuICAgIHByaXZhdGUgc3RvcmFnZVNlcnZpY2U6IExvY2FsU3RvcmFnZVNlcnZpY2UsICAgIFxyXG4gICAgcHJpdmF0ZSBhcHBTZXJ2aWNlOiBBcHBTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBfc3RvcmVzZXJ2aWNlOiBEYXRhU3RvcmVTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxyXG4gICAgcHJpdmF0ZSBhbGVydFNlcnZpY2U6QWxlcnRTZXJ2aWNlXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UgPSByZXNbJ0hUVFBTRVJWSUNFJ11cclxuICAgICAgICB0aGlzLm1haW5Ob3RpZmljYXRpb25TZXJ2aWNlID0gcmVzWydOT1RJRklDQVRJT05TRVJWSUNFJ107XHJcbiAgICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlID0gcmVzWydTSEFSRURTRVJWSUNFJ11cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHRoaXMuc2hvd1ZlcnNpb25zID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvYWRHV2l0aFBhcmFtKCk7XHJcbiAgICB0aGlzLnVzZXIgPSB0aGlzLmxvY2Fsc3RvcmFnZS5nZXRPYmooJ3VzZXInKTtcclxuICAgIHRoaXMudXNlcklkID0gdGhpcy5sb2NhbHN0b3JhZ2UuZ2V0SXRlbSgnaWQnKTtcclxuICAgIHRoaXMuclVybCA9IHRoaXMucm91dGVyLnVybC5zcGxpdCgnLycpO1xyXG4gICAgaWYgKHRoaXMuclVybC5pbmNsdWRlcygndmVyc2lvbnMnKSkge1xyXG4gICAgICB0aGlzLnNob3dWZXJzaW9ucyA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRpc3BsYXlNb2RlID0gJ2NvbXBhY3QnO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBpZiAodGhpcy5pc1Nob3cgPT09IGZhbHNlKSB7XHJcbiAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlzU2hvdyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50ZW1wQ29sdW1ucyA9IHRoaXMuY29sdW1ucztcclxuICAgIGlmICh0aGlzLmNvbHVtbnMgJiYgdGhpcy5jb2x1bW5zLmdyaWRDb25maWdGb3JtQXJyYXkpIHtcclxuICAgICAgdGhpcy5jb2x1bW5IZWFkZXIgPSB0aGlzLmNvbHVtbnMuZ3JpZENvbmZpZ0Zvcm1BcnJheS5tYXAoY29sdW1uID0+IGNvbHVtbi5oZWFkZXIpO1xyXG4gICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLmNvbHVtbnMuZ3JpZENvbmZpZ0Zvcm1BcnJheTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29sdW1uSGVhZGVyID0gdGhpcy5jb2x1bW5zLm1hcChjb2x1bW4gPT4gY29sdW1uLmhlYWRlcik7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBvcHVwUG9zaXRpb24gPSB7IG9mOiB3aW5kb3csIGF0OiAndG9wJywgbXk6ICd0b3AnLCBvZmZzZXQ6IHsgeTogMTAgfSB9O1xyXG4gICAgdGhpcy5maWx0ZXJWYWx1ZSA9IFtdO1xyXG4gICAgdGhpcy5jdXN0b21PcGVyYXRpb25zID0gW107XHJcbiAgfVxyXG5cclxuICBuZ09uQ2hhbmdlcygpIHtcclxuICAgIHRoaXMubG9hZEdXaXRoUGFyYW0oKTtcclxuICB9XHJcblxyXG4gIGxvYWRHV2l0aFBhcmFtKCkge1xyXG4gICAgdGhpcy50ZW1wTGlzdCA9IHRoaXMuZGF0YUxpc3Q7XHJcbiAgICBpZiAodGhpcy50ZW1wTGlzdCkge1xyXG4gICAgICBjb25zdCBuYW1lID0gdGhpcy50ZW1wTGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaXNhY3RpdmUgPT0gdHJ1ZSk7XHJcbiAgICAgIGlmIChuYW1lLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZXBhZ2VuYW1lID0gbmFtZVswXS5wYWdlbmFtZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMuYXV0aC5pc0FkbWluKCkpIHtcclxuICAgICAgdGhpcy5sb2FkR3JpZCh7IHZhbHVlOiAhdGhpcy5Pcmdhbml6YXRpb24gPyB0aGlzLmF1dGguZ2V0T3JnSUQoKSA6IHRoaXMuT3JnYW5pemF0aW9uIH0sIGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubG9hZEdyaWQoeyB2YWx1ZTogdGhpcy5Pcmdhbml6YXRpb24gPyB0aGlzLk9yZ2FuaXphdGlvbiA6IFNFTEVDVF9BTEwgfSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgdGhpcy5kYXRhR3JpZC5vbk9wdGlvbkNoYW5nZWQuc3Vic2NyaWJlKGUgPT4ge1xyXG4gICAgICBpZiAoZS5uYW1lID09PSAnY29sdW1ucycgJiYgZS5mdWxsTmFtZS5lbmRzV2l0aCgnZmlsdGVyVmFsdWVzJykpIHtcclxuICAgICAgICBjb25zdCBjb2xJbmRleCA9IE51bWJlcihcclxuICAgICAgICAgIGUuZnVsbE5hbWVcclxuICAgICAgICAgICAgLm1hdGNoKC9cXFtcXGQrXFxdLylbMF1cclxuICAgICAgICAgICAgLnJlcGxhY2UoJ1snLCAnJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoJ10nLCAnJylcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGUuY29tcG9uZW50LmNvbHVtbk9wdGlvbihjb2xJbmRleCwgJ2ZpbHRlclZhbHVlcycpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUZpbHRlclZhbHVlcy5lbWl0KGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZWFyY2hcclxuICAgICAgaWYgKGUubmFtZSA9PT0gJ2NvbHVtbnMnICYmIGUuZnVsbE5hbWUuZW5kc1dpdGgoJ2ZpbHRlclZhbHVlJykpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB0aGlzLmZpbHRlclNlYXJjaFZhbHVlLmVtaXQoZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGZpbHRlciBCdWlsZGVyIFBvcHVwXHJcblxyXG4gICAgICBpZiAoZS5uYW1lID09PSAnZmlsdGVyQnVpbGRlclBvcHVwJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdmaWx0ZXJCdWlsZGVyUG9wdXAnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB0aGlzLmZpbHRlckJ1aWxkZXJQb3B1cC5lbWl0KGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBmaWx0ZXIgUGFuZWwgLSBlbmFibGUgb3IgZGlzYWJsZVxyXG4gICAgICBpZiAoZS5uYW1lID09PSAnZmlsdGVyUGFuZWwnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZS52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJQYW5lbC5lbWl0KGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTb3J0aW5nXHJcbiAgICAgIGlmIChlLm5hbWUgPT09ICdjb2x1bW5zJyAmJiBlLmZ1bGxOYW1lLmVuZHNXaXRoKCdzb3J0T3JkZXInKSkge1xyXG4gICAgICAgIHRoaXMuc29ydE9yZGVyLmVtaXQoZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhZ2luZ1xyXG4gICAgICBpZiAoZS5uYW1lID09PSAncGFnaW5nJykge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBhZ2UuZW1pdChlLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBSRUdJU1RSQVRJT04gPSB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmdldEl0ZW0oJ1JFR0lTVFJBVElPTicpO1xyXG4gICAgaWYgKFJFR0lTVFJBVElPTikge1xyXG4gICAgICB0aGlzLnJlZ2lzdHJhdGlvbkluZm8gPSBKU09OLnBhcnNlKFJFR0lTVFJBVElPTik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb250ZW50V3JhcHBlcnMuY2hhbmdlcy5zdWJzY3JpYmUoKGNvbXBzOiBRdWVyeUxpc3Q8RWxlbWVudFJlZj4pID0+IHtcclxuICAgICAgY29tcHMuZm9yRWFjaCh3cmFwcGVyID0+IHtcclxuICAgICAgICB0aGlzLmFwcGx5TGlua1N0eWxlcyh3cmFwcGVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFwcGx5TGlua1N0eWxlcyh3cmFwcGVyOiBFbGVtZW50UmVmKSB7XHJcbiAgICBjb25zdCBhbmNob3JzID0gd3JhcHBlci5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcclxuICAgIGFuY2hvcnMuZm9yRWFjaChhbmNob3IgPT4ge1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKGFuY2hvciwgJ2NvbG9yJywgJyMwMDQ5RTUnKTtcclxuICAgICAgdGhpcy5yZW5kZXJlci5saXN0ZW4oYW5jaG9yLCAnbW91c2VlbnRlcicsICgpID0+IHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKGFuY2hvciwgJ29wYWNpdHknLCAnMC41Jyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLmxpc3RlbihhbmNob3IsICdtb3VzZWxlYXZlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoYW5jaG9yLCAnb3BhY2l0eScsICcxJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2FkR3JpZChvcmdJRCwgbG9hZCA9IHRydWUpIHtcclxuICAgIHRoaXMuT3JnYW5pemF0aW9uID0gb3JnSUQudmFsdWU7XHJcbiAgICBpZiAobG9hZCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRQYWdlLmVtaXQob3JnSUQudmFsdWUgPT09IFNFTEVDVF9BTEwgPyAnYWxsJyA6IG9yZ0lELnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy50ZW1wTGlzdCAmJiB0aGlzLnRlbXBMaXN0Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnRlbXBHcmlkTGlzdChvcmdJRCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmN1c3RvbVN0b3JlID0gdGhpcy5kYXRhU291cmNlO1xyXG4gICAgfVxyXG4gIH1cclxuICB0ZW1wR3JpZExpc3Qob3JnSUQpIHtcclxuICAgIGlmIChvcmdJRCAmJiBvcmdJRC52YWx1ZSkge1xyXG4gICAgICB0aGlzLnNwbGl0R3JpZExpc3Qob3JnSUQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZGF0YUxpc3QubGVuZ3RoID09PSAxICYmIHRoaXMuclVybCAmJiB0aGlzLnJVcmxbMl0gPT09ICd2aWV3LWRhc2hib2FyZCcpIHtcclxuICAgICAgdGhpcy5kVXJsID0gJ3ZpZXctZGFzaGJvYXJkL2Rhc2hib2FyZCc7XHJcbiAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwoYHBhZ2VzLyR7dGhpcy5kVXJsfS8ke3RoaXMuZGF0YUxpc3RbMF1bJ2lkJ119YCk7XHJcbiAgICB9XHJcbiAgICAvLyBRdWljayBjaGFuZ2VcclxuICAgIHRoaXMuY3VzdG9tU3RvcmUgPSBuZXcgQ3VzdG9tU3RvcmUoe1xyXG4gICAgICBsb2FkOiBfb3B0cyA9PiBQcm9taXNlLnJlc29sdmUodGhpcy5kYXRhTGlzdCksXHJcbiAgICAgIHRvdGFsQ291bnQ6IF9vcHRzID0+IFByb21pc2UucmVzb2x2ZSh0aGlzLnRvdGFsQ291bnQpXHJcbiAgICB9KTtcclxuICB9XHJcbiAgc3BsaXRHcmlkTGlzdChvcmdJRCkge1xyXG4gICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMudGVtcExpc3QuZmlsdGVyKGRhdGEgPT4gZGF0YS5vcmdhbml6YXRpb25pZCk7XHJcbiAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy50ZW1wTGlzdC5maWx0ZXIoZGF0YSA9PiBkYXRhLm9yZ2FuaXphdGlvbmlkID09PSBvcmdJRC52YWx1ZSk7XHJcbiAgICBpZiAodGhpcy50ZW1wTGlzdCAmJiB0aGlzLnRlbXBMaXN0Lmxlbmd0aCAmJiB0aGlzLnRlbXBMaXN0WzBdLmRpc3BsYXluYW1lICYmIHRoaXMudGVtcExpc3RbMF0udXNlcndvcmtpbmZvKSB7XHJcbiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLnRlbXBMaXN0LmZpbHRlcihcclxuICAgICAgICBkYXRhID0+IGRhdGEudXNlcndvcmtpbmZvICYmIGRhdGEudXNlcndvcmtpbmZvWzBdICYmIGRhdGEudXNlcndvcmtpbmZvWzBdLm9yZ2FuaXphdGlvbmlkXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLnRlbXBMaXN0LmZpbHRlcihcclxuICAgICAgICBkYXRhID0+IGRhdGEudXNlcndvcmtpbmZvICYmIGRhdGEudXNlcndvcmtpbmZvWzBdICYmIGRhdGEudXNlcndvcmtpbmZvWzBdLm9yZ2FuaXphdGlvbmlkID09PSBvcmdJRC52YWx1ZVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKFNFTEVDVF9BTEwgPT09IG9yZ0lELnZhbHVlKSB7XHJcbiAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLnRlbXBMaXN0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Um91dGVyKGRhdGEpIHtcclxuICAgIHRoaXMucm91dGVUby5lbWl0KGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgbmF2aWdhdGVMaW5rKGV2ZW50OiBNb3VzZUV2ZW50LCByb3dEYXRhOiBhbnkpIHtcclxuICAgIC8vIGNvbnN0IG1vZGFsID0ge1xyXG4gICAgLy8gICBzZWxlY3RlZFJvd3NEYXRhOiBbcm93RGF0YS5kYXRhXVxyXG4gICAgLy8gfTtcclxuICAgIC8vIHRoaXMub25TZWxlY3Rpb25DaGFuZ2VkKG1vZGFsKTtcclxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudDtcclxuICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0EnICYmIHRhcmdldC5ocmVmKSB7XHJcbiAgICAgIHRoaXMudXBkYXRlTm90aWZpY2F0aW9uVmlldyhyb3dEYXRhKTtcclxuICAgICAgdGhpcy51cmwgPSB0aGlzLmV4dHJhY3RVcmwodGFyZ2V0Lm91dGVySFRNTCk7XHJcbiAgICAgIHRoaXMub2xkVXJsID0gdGhpcy5leHRyYWN0VXJsKHRhcmdldC5vdXRlckhUTUwpO1xyXG4gICAgICBjb25zdCBhY3RpdmVJZCA9IHRoaXMuZXh0cmFjdElEKHRoaXMudXJsLnNwbGl0KCc/JylbMF0pO1xyXG4gICAgICBjb25zdCBpc051bWJlckNoZWNrID0gTnVtYmVyKGFjdGl2ZUlkKTtcclxuICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh0aGlzLnVybC5zcGxpdCgnPycpWzFdKTtcclxuICAgICAgY29uc3QgcGFnZUlEID0gdXJsUGFyYW1zLmdldCgncGFnZUlEJyk7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlmKHBhZ2VJRCl7XHJcbiAgICAgICAgdGhpcy5tYWluTm90aWZpY2F0aW9uU2VydmljZS5jaGVja1BhZ2VBY2Nlc3NGb3JVc2VyKHBhZ2VJRCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgaWYocmVzWydkYXRhJ10pe1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrUGFnZUlkKGlzTnVtYmVyQ2hlY2ssIGFjdGl2ZUlkLCBldmVudCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihcIlBhZ2UgTm90IEF2YWlsYWJsZTogWW91IGRvbid0IGhhdmUgdGhlIG5lY2Vzc2FyeSBwZXJtaXNzaW9ucyB0byB2aWV3IHRoaXMgcGFnZS5cIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjaGVja2luZyBwYWdlIGFjY2Vzcy5cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihcIlBhZ2UgTm90IEF2YWlsYWJsZVwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgY2hlY2tQYWdlSWQoaXNOdW1iZXJDaGVjaywgYWN0aXZlSWQsIGV2ZW50KSB7XHJcbiAgICBpZiAoaXNOdW1iZXJDaGVjaykge1xyXG4gICAgICBjb25zdCBtZW51cyA9IHRoaXMubG9jYWxzdG9yYWdlLmdldE9iaignTUVOVScpO1xyXG4gICAgICBjb25zdCBmaW5kTWVudSA9IG1lbnVzLmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgPT09ICdQYWdlcycpO1xyXG4gICAgICBsZXQgaXNFeGlzdHM7XHJcbiAgICAgIGlmKGZpbmRNZW51ICYmIGZpbmRNZW51Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgIGlzRXhpc3RzID0gZmluZE1lbnUuc3VibWVudS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PSBpc051bWJlckNoZWNrKTtcclxuICAgICAgfVxyXG4gICAgICBpZihpc0V4aXN0cyl7XHJcbiAgICAgICAgdGhpcy51cmwgPSB0aGlzLnVybC5yZXBsYWNlKGFjdGl2ZUlkLCBpc0V4aXN0cz8uYWN0aXZlVmVyc2lvbj8ucGFnZWlkKTtcclxuICAgICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnNwbGl0KCc/JylbMF07XHJcbiAgICAgICAgdGhpcy5yb3V0ZUZ1bmN0aW9uKGlzTnVtYmVyQ2hlY2ssIGFjdGl2ZUlkLCBldmVudCwgJ21haW5NZW51V2l0aElkJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yb3V0ZUZ1bmN0aW9uKGlzTnVtYmVyQ2hlY2ssIGFjdGl2ZUlkLCBldmVudCwgJ1BhZ2VzJyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucm91dGVGdW5jdGlvbihpc051bWJlckNoZWNrLCBhY3RpdmVJZCwgZXZlbnQsICdtYWluTWVudVdpdGhVUkwnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJvdXRlRnVuY3Rpb24oaXNOdW1iZXJDaGVjaywgYWN0aXZlSWQsIGV2ZW50LCBtZW51VHlwZSl7XHJcbiAgICBjb25zdCBtZW51cyA9IHRoaXMubG9jYWxzdG9yYWdlLmdldE9iaignTUVOVScpO1xyXG4gICAgY29uc3QgbWFpbk1lbnUgPSBtZW51cy5maW5kKGl0ZW0gPT4gaXRlbS5yb3V0ZSA9PT0gdGhpcy51cmwpO1xyXG4gICAgY29uc3QgbWFpbk1lbnVXaXRoVXJsID0gbWVudXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgaWYodGhpcy51cmwuZW5kc1dpdGgoZWxlbWVudC5yb3V0ZSkpe1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gY29uc3QgbWFpbk1lbnVXaXRoVXJsID0gbWVudXMuZmluZChpdGVtID0+IHRoaXMudXJsLmVuZHNXaXRoKGl0ZW0ucm91dGUpID8gaXRlbSA6IFtdKVxyXG4gICAgLy8gY29uc3QgbWFpbk1lbnVzID0gbWVudXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdWJtZW51Lmxlbmd0aCA9PSAwKTtcclxuICAgIGNvbnN0IHN1Ym1lbnVzID0gbWVudXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5zdWJtZW51Lmxlbmd0aCA+IDApO1xyXG4gICAgaWYobWFpbk1lbnVXaXRoVXJsKSB7XHJcbiAgICAgIHRoaXMuYXBwU2VydmljZS5hZGRWYWx1ZSgnQ3VycmVudFBhZ2VzJywgbWFpbk1lbnVXaXRoVXJsKTtcclxuICAgICAgdGhpcy5hdXRoLmdldEN1cnJlbnRNZW51KG1lbnVzKTtcclxuICAgIH0gZWxzZSBpZihtYWluTWVudSl7XHJcbiAgICAgIG1lbnVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgaWYoZWxlbWVudC5uYW1lID09PSBtYWluTWVudS5uYW1lKXtcclxuICAgICAgICAgIGVsZW1lbnQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWxlbWVudC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZihpc051bWJlckNoZWNrKXtcclxuICAgICAgICB0aGlzLmFwcFNlcnZpY2UuYWRkVmFsdWUoJ2R5bmFtaWNQYWdlcycsIG1haW5NZW51KTtcclxuICAgICAgICB0aGlzLmF1dGguZ2V0Q3VycmVudE1lbnUobWVudXMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYXBwU2VydmljZS5hZGRWYWx1ZSgnY3VycmVudFBhZ2VzJywgbWFpbk1lbnUpO1xyXG4gICAgICAgIHRoaXMuYXV0aC5nZXRDdXJyZW50TWVudShtZW51cyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1lbnVzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYoZWxlbWVudC5zdWJtZW51Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgZWxlbWVudC5zdWJtZW51LmZvckVhY2goKGVsZW1lbnQxLCBpbmRleDEpID0+IHtcclxuICAgICAgICAgICAgaWYoZWxlbWVudDE/LnJvdXRlID09IHRoaXMudXJsKXtcclxuICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZShtZW51cywgaW5kZXgsIGluZGV4MSwgaXNOdW1iZXJDaGVjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihlbGVtZW50MT8uYWN0aXZlVmVyc2lvbj8ucGFnZWlkID09IGFjdGl2ZUlkKXtcclxuICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZShtZW51cywgaW5kZXgsIGluZGV4MSwgaXNOdW1iZXJDaGVjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihlbGVtZW50MT8uYWN0aXZlVmVyc2lvbj8uaWQgPT0gYWN0aXZlSWQpe1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlKG1lbnVzLCBpbmRleCwgaW5kZXgxLCBpc051bWJlckNoZWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICBlbHNlIGlmKGVsZW1lbnQuc3VibWVudS5sZW5ndGggPiAwICYmIGVsZW1lbnQubmFtZSA9PSAnUGFnZXMnKXtcclxuICAgICAgICAvLyAgIGVsZW1lbnQuc3VibWVudS5mb3JFYWNoKChlbGVtZW50MSwgaW5kZXgxKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmKGVsZW1lbnQxPy5hY3RpdmVWZXJzaW9uPy5wYWdlaWQgPT0gYWN0aXZlSWQpe1xyXG4gICAgICAgIC8vICAgICAgIHRoaXMuc2V0QWN0aXZlKG1lbnVzLCBpbmRleCwgaW5kZXgxLCBpc051bWJlckNoZWNrKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodGhpcy5vbGRVcmwpO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZShtZW51czogYW55LCBtZW51SW5kZXgsIHN1Ym1lbnVJbmRleCwgaXNOdW1iZXJDaGVjayl7XHJcbiAgICBtZW51cy5tYXAoaXRlbSA9PiBpdGVtLmFjdGl2ZSA9IGZhbHNlKTtcclxuICAgIG1lbnVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIGVsZW1lbnQuc3VibWVudS5tYXAoaXRlbSA9PiBpdGVtLmFjdGl2ZSA9IGZhbHNlKTtcclxuICAgIH0pO1xyXG4gICAgaWYobWVudUluZGV4KXtcclxuICAgICAgbWVudXNbbWVudUluZGV4XS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICBpZihzdWJtZW51SW5kZXggPj0gMCkge1xyXG4gICAgICAgIG1lbnVzW21lbnVJbmRleF0uc3VibWVudVtzdWJtZW51SW5kZXhdLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWVudXNbbWVudUluZGV4XS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtZW51c1swXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYoaXNOdW1iZXJDaGVjayl7XHJcbiAgICAgIHRoaXMuYXBwU2VydmljZS5hZGRWYWx1ZSgnZHluYW1pY1BhZ2VzJywgbWVudXNbbWVudUluZGV4XSk7XHJcbiAgICAgIHRoaXMuYXV0aC5nZXRDdXJyZW50TWVudShtZW51cyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmFwcFNlcnZpY2UuYWRkVmFsdWUoJ2N1cnJlbnRQYWdlcycsIG1lbnVzW21lbnVJbmRleF0pO1xyXG4gICAgICB0aGlzLmF1dGguZ2V0Q3VycmVudE1lbnUobWVudXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXh0cmFjdElEKHVybDogc3RyaW5nKXtcclxuICAgIGNvbnN0IHBhcnRzID0gdXJsLnNwbGl0KFwiL1wiKTtcclxuICAgIGNvbnN0IGxhc3RJbmRleCA9IHBhcnRzLmxlbmd0aCAtIDE7XHJcbiAgICByZXR1cm4gcGFydHNbbGFzdEluZGV4XTtcclxuICB9XHJcblxyXG4gIGV4dHJhY3RVcmwoaHRtbDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpO1xyXG4gICAgY29uc3QgbGluayA9IGRvYy5xdWVyeVNlbGVjdG9yKCdhJyk7XHJcbiAgICByZXR1cm4gbGluayA/IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykgOiAnJztcclxuICB9XHJcblxyXG4gIHBvcHVwKGRhdGEpIHtcclxuICAgIHRoaXMub3BlblBvcHVwLmVtaXQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBkb3dubG9hZERhdGEoZXZ0KSB7XHJcbiAgICB0aGlzLmRvd25sb2FkVGFibGVSb3cuZW1pdChldnQpO1xyXG4gIH1cclxuXHJcbiAgb25TZWxlY3Rpb25DaGFuZ2VkKGV2dCkge1xyXG4gICAgdGhpcy5yb3dTZWxlY3Rpb24uZW1pdChldnQpO1xyXG4gIH1cclxuXHJcbiAgZWRpdERhdGEoZXZ0KSB7XHJcbiAgICB0aGlzLmVkaXRUYWJsZVJvdy5lbWl0KGV2dCk7XHJcbiAgfVxyXG4gIHZpZXdEYXRhKGV2dCkge1xyXG4gICAgdGhpcy52aWV3VGFibGVSb3cuZW1pdChldnQpO1xyXG4gIH1cclxuICB2aWV3VmVyc2lvbihldnQpIHtcclxuICAgIHRoaXMudmlld1ZlcnNpb25zLmVtaXQoZXZ0KTtcclxuICB9XHJcblxyXG4gIGFjdGl2YXRlUGFnZVZlcnNpb24oZXZ0KSB7XHJcbiAgICB0aGlzLmFjdGl2YXRlVmVyc2lvbi5lbWl0KGV2dCk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZVBhZ2VzKGV2dCkge1xyXG4gICAgdGhpcy5hY3RpdmF0ZVBhZ2UuZW1pdChldnQpO1xyXG4gIH1cclxuICBkZWFjdGl2YXRlUGFnZXMoZXZ0KSB7XHJcbiAgICB0aGlzLmRlYWN0aXZhdGVQYWdlLmVtaXQoZXZ0KTtcclxuICB9XHJcbiAgZGVsZXRlRGF0YShldnQpIHtcclxuICAgIHRoaXMuZGVsZXRlVGFibGVSb3cuZW1pdChldnQpO1xyXG4gIH1cclxuICBvcGVuTGluayhldnQpIHtcclxuICAgIHRoaXMub3BlbkV4dGVybmFsTGluay5lbWl0KGV2dCk7XHJcbiAgfVxyXG4gIG9wZW5Qb3B1cExpbmsoZXZ0KSB7XHJcbiAgICB0aGlzLm9wZW5wb3B1cExpbmsuZW1pdChldnQpO1xyXG4gIH1cclxuICBhY3RpdmVVc2VyKGV2dCkge1xyXG4gICAgdGhpcy50b2dnbGVSb3cuZW1pdChldnQpO1xyXG4gIH1cclxuICBkdXBsaWNhdGVEYXRlKGV2dCkge1xyXG4gICAgdGhpcy5kdXBsaWNhdGVSb3cuZW1pdChldnQpO1xyXG4gIH1cclxuICBkdXBsaWNhdGVWZXJzaW9uKGV2dCkge1xyXG4gICAgdGhpcy5kdXBsaWNhdGVQYWdlVmVyc2lvbi5lbWl0KGV2dCk7XHJcbiAgfVxyXG5cclxuICBnZXRPcmdMaXN0KCkge1xyXG4gICAgdGhpcy5odHRwU2VydmljZS5nZXQoJy9wbGF0Zm9ybS9wYWdlLWRlc2lnbmVyL3BhZ2Uvb3JnYW5pemF0aW9uL2FsbCcpLnN1YnNjcmliZSgoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMub3JnTGlzdCA9IGRhdGEuZGF0YS5zb3J0KChhLCBiKSA9PiBhLm9yZ2FuaXphdGlvbm5hbWU/LmxvY2FsZUNvbXBhcmUoYi5vcmdhbml6YXRpb25uYW1lKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5vcmdMaXN0ID0gW107XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIG9uUm93UHJlcGFyZWQoZSkge1xyXG4gICAgaWYgKGUucm93VHlwZSA9PT0gJ2RhdGEnKSB7XHJcbiAgICAgIGUuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYgKGNvbHVtbi5jYXB0aW9uID09PSAnRGF0ZScpIHtcclxuICAgICAgICAgIGUucm93RWxlbWVudC5jZWxsc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnbWVzc2FnZS1uZXcnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGUuZGF0YS5pc25ldykge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlLnJvd0VsZW1lbnQ7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpc25ldycpO1xyXG4gICAgICAgIGUuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBpZiAoY29sdW1uLmNhcHRpb24gPT09ICdEYXRlJykge1xyXG4gICAgICAgICAgICBlLnJvd0VsZW1lbnQuY2VsbHNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoJ25ldy1pY29uJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ2VsbFByZXBhcmVkKGUpIHtcclxuICAgIGlmIChlLnJvd1R5cGUgPT0gJ2RhdGEnICYmIGUuZGF0YS5pc2FjdGl2ZSkge1xyXG4gICAgICBpZiAoZS5jb2x1bW4uZGF0YUZpZWxkID09PSAndmVyc2lvbicpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZS5jZWxsRWxlbWVudDtcclxuICAgICAgICBjb25zdCBsaXZldGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbGl2ZS10ZCcpO1xyXG4gICAgICAgIGxpdmV0ZXh0LmNsYXNzTGlzdC5hZGQoJ2xpdmUtZ3JvdXAnKTtcclxuICAgICAgICBsaXZldGV4dC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImxpdmUtdGV4dFwiPkxpdmU8L2Rpdj4nO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGl2ZXRleHQpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUuY29sdW1uLmRhdGFGaWVsZCA9PT0gJ3RlbXBsYXRlbmFtZScpIHtcclxuICAgICAgICB0aGlzLmV4cG9ydFBhZ2VOYW1lID0gZS52YWx1ZS5pbmNsdWRlcygnXycpID8gZS52YWx1ZS5zcGxpdCgnXycpWzBdIDogZS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgbWF4TGVuZ3RoID0gNjA7XHJcbiAgICBpZiAoZS5yb3dUeXBlID09PSAnZGF0YScpIHtcclxuICAgICAgaWYgKGUuY29sdW1uLmRhdGFGaWVsZCA9PT0gJ21lc3NhZ2UnKSB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGUuY2VsbEVsZW1lbnQ7XHJcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0cnVuY2F0ZVdyYXBwZXInKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cnVuY2F0ZVdyYXBwZXInKTtcclxuICAgICAgICBsZXQgY2VsbFdpZHRoO1xyXG4gICAgICAgIGlmIChjZWxsKSB7XHJcbiAgICAgICAgICBjZWxsV2lkdGggPSAoY2VsbCBhcyBIVE1MRWxlbWVudCkub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENyZWF0ZSBhIGRpdiBlbGVtZW50IGZvciB0cnVuY2F0aW9uXHJcbiAgICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0ZXh0Q29udGVudC5jbGFzc0xpc3QuYWRkKCd0ZXh0LWNvbnRlbnQnKTtcclxuICAgICAgICB0ZXh0Q29udGVudC5zdHlsZS5tYXhXaWR0aCA9IGAke2NlbGxXaWR0aCArIDE1fXB4YDtcclxuICAgICAgICB0ZXh0Q29udGVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgIHRleHRDb250ZW50LnN0eWxlLndoaXRlU3BhY2UgPSAnbm9ybWFsJztcclxuXHJcbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gdHJ1bmNhdGUgSFRNTCBjb250ZW50XHJcbiAgICAgICAgY29uc3QgdHJ1bmNhdGVIdG1sID0gKGh0bWw6IHN0cmluZywgbGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgICAgICAgbGV0IHRydW5jYXRlZEh0bWwgPSAnJztcclxuICAgICAgICAgIGxldCBjdXJyZW50TGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICBjb25zdCB0cmF2ZXJzZSA9IChub2RlOiBOb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50IHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoY3VycmVudExlbmd0aCArIHRleHQubGVuZ3RoID4gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0cnVuY2F0ZWRIdG1sICs9IHRleHQuc3Vic3RyaW5nKDAsIGxlbmd0aCAtIGN1cnJlbnRMZW5ndGgpICsgJy4uLic7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGVkSHRtbCArPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudExlbmd0aCArPSB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgIHRydW5jYXRlZEh0bWwgKz0gYDwke2VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfWA7XHJcbiAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20oZWxlbWVudC5hdHRyaWJ1dGVzKS5mb3JFYWNoKGF0dHIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdHJ1bmNhdGVkSHRtbCArPSBgICR7YXR0ci5uYW1lfT1cIiR7YXR0ci52YWx1ZX1cImA7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB0cnVuY2F0ZWRIdG1sICs9ICc+JztcclxuICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpLmZvckVhY2goY2hpbGQgPT4gdHJhdmVyc2UoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgdHJ1bmNhdGVkSHRtbCArPSBgPC8ke2VsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfT5gO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBBcnJheS5mcm9tKHRlbXBEaXYuY2hpbGROb2RlcykuZm9yRWFjaChub2RlID0+IHRyYXZlcnNlKG5vZGUpKTtcclxuICAgICAgICAgIHJldHVybiB0cnVuY2F0ZWRIdG1sO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCBpbml0aWFsIHRydW5jYXRlZCBIVE1MXHJcbiAgICAgICAgdGV4dENvbnRlbnQuaW5uZXJIVE1MID0gdHJ1bmNhdGVIdG1sKGUudGV4dCwgbWF4TGVuZ3RoKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSAnU2hvdyBNb3JlJyBsaW5rXHJcbiAgICAgICAgY29uc3Qgc2hvd01vcmVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIHNob3dNb3JlTGluay5ocmVmID0gJ2phdmFzY3JpcHQ6Oyc7XHJcbiAgICAgICAgc2hvd01vcmVMaW5rLmNsYXNzTGlzdC5hZGQoJ3Nob3d0ZXh0Jyk7XHJcbiAgICAgICAgc2hvd01vcmVMaW5rLmlubmVyVGV4dCA9ICdTaG93IE1vcmUnO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSBjb250YWluZXIgZGl2IGZvciB0ZXh0IGFuZCBsaW5rXHJcbiAgICAgICAgY29uc3QgdHJ1bmNhdGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0cnVuY2F0ZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0ZXh0LXRydW5jYXRlJyk7XHJcbiAgICAgICAgdHJ1bmNhdGVDb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dENvbnRlbnQpO1xyXG4gICAgICAgIHRydW5jYXRlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNob3dNb3JlTGluayk7XHJcblxyXG4gICAgICAgIC8vIEZ1bmN0aW9uIHRvIGV4dHJhY3QgcGxhaW4gdGV4dCBmcm9tIEhUTUxcclxuICAgICAgICBjb25zdCBleHRyYWN0UGxhaW5UZXh0RnJvbUh0bWwgPSAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgIHRlbXBEaXYuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgICAgICAgIHJldHVybiB0ZW1wRGl2LnRleHRDb250ZW50IHx8ICcnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB0aGUgY29udGFpbmVyIHRvIHRoZSBjZWxsIGVsZW1lbnRcclxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRydW5jYXRlQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgcGxhaW4gdGV4dCBsZW5ndGggZXhjZWVkcyB0aGUgbWF4aW11bSBsZW5ndGhcclxuICAgICAgICBjb25zdCBwbGFpblRleHQgPSBleHRyYWN0UGxhaW5UZXh0RnJvbUh0bWwoZS50ZXh0KTtcclxuICAgICAgICBpZiAocGxhaW5UZXh0Lmxlbmd0aCA+IG1heExlbmd0aCkge1xyXG4gICAgICAgICAgLy8gRGlzcGxheSB0aGUgJ1Nob3cgTW9yZScgbGlua1xyXG4gICAgICAgICAgc2hvd01vcmVMaW5rLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gSGlkZSB0aGUgJ1Nob3cgTW9yZScgbGluayBpZiBub3QgbmVlZGVkXHJcbiAgICAgICAgICBzaG93TW9yZUxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSB0aGUgJ1Nob3cgTW9yZScgbGluayBjbGljayBldmVudFxyXG4gICAgICAgIHNob3dNb3JlTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICh0ZXh0Q29udGVudC5zdHlsZS5tYXhIZWlnaHQgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAvLyBDb2xsYXBzZSB0ZXh0XHJcbiAgICAgICAgICAgIHRleHRDb250ZW50LnN0eWxlLm1heEhlaWdodCA9ICc1MHB4JztcclxuICAgICAgICAgICAgdGV4dENvbnRlbnQuaW5uZXJIVE1MID0gdHJ1bmNhdGVIdG1sKGUudGV4dCwgbWF4TGVuZ3RoKTtcclxuICAgICAgICAgICAgc2hvd01vcmVMaW5rLmlubmVyVGV4dCA9ICdTaG93IE1vcmUnO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRXhwYW5kIHRleHRcclxuICAgICAgICAgICAgdGV4dENvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB0ZXh0Q29udGVudC5pbm5lckhUTUwgPSBlLnRleHQ7XHJcbiAgICAgICAgICAgIHNob3dNb3JlTGluay5pbm5lclRleHQgPSAnU2hvdyBMZXNzJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRleHQgY29udGFpbnMgYW4gPGE+IHRhZ1xyXG4gICAgICAgIHRleHRDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVMaW5rKGV2ZW50LCBlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBvbkV4cG9ydGluZyhlKSB7XHJcbiAgICBjb25zdCBwYWdlTmFtZSA9IHRoaXMubG9jYWxzdG9yYWdlLmdldE9iaignRklMRSBFWFBPUlQgTkFNRScpO1xyXG4gICAgY29uc3QgY3VycmVudERhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgIGxldCBmaWxlTmFtZTogc3RyaW5nO1xyXG4gICAgaWYgKHBhZ2VOYW1lKSB7XHJcbiAgICAgIGZpbGVOYW1lID0gYCR7cGFnZU5hbWV9IFZlcnNpb25zICR7Y3VycmVudERhdGV9YDtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5leHBvcnRQYWdlTmFtZSkge1xyXG4gICAgICBmaWxlTmFtZSA9IGAke3RoaXMuZXhwb3J0UGFnZU5hbWV9LSR7Y3VycmVudERhdGV9YDtcclxuICAgICAgaWYgKHRoaXMuZXhwb3J0UGFnZU5hbWUgPT09ICd2ZXJzaW9uJykgZmlsZU5hbWUgPSBgJHt0aGlzLmV4cG9ydFBhZ2VOYW1lfS0ke2N1cnJlbnREYXRlfWA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWxlTmFtZSA9IGBEeW5hbWljLVBhZ2VzICR7Y3VycmVudERhdGV9YDtcclxuICAgIH1cclxuICAgIGUuY29tcG9uZW50LmNvbHVtbk9wdGlvbignQWN0aW9uJywgJ3Zpc2libGUnLCBmYWxzZSk7XHJcbiAgICBpZiAoZS5mb3JtYXQgPT09ICdwZGYnKSB7XHJcbiAgICAgIGNvbnN0IGRvYyA9IG5ldyBqc1BERi5qc1BERigpO1xyXG4gICAgICBleHBvcnREYXRhR3JpZFRvUGRmKHtcclxuICAgICAgICBqc1BERkRvY3VtZW50OiBkb2MsXHJcbiAgICAgICAgY29tcG9uZW50OiBlLmNvbXBvbmVudCxcclxuICAgICAgICBjdXN0b21pemVDZWxsOiBncmlkID0+IHtcclxuICAgICAgICAgIGdyaWQucGRmQ2VsbC53b3JkV3JhcEVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZG9jLnNhdmUoYCR7ZmlsZU5hbWV9LnBkZmApO1xyXG4gICAgICAgIGUuY29tcG9uZW50LmNvbHVtbk9wdGlvbignQWN0aW9uJywgJ3Zpc2libGUnLCB0cnVlKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGUuZm9ybWF0ID09PSAneGxzeCcpIHtcclxuICAgICAgZS5maWxlTmFtZSA9IGZpbGVOYW1lO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBlLmNvbXBvbmVudC5jb2x1bW5PcHRpb24oJ0FjdGlvbicsICd2aXNpYmxlJywgdHJ1ZSk7XHJcbiAgICAgIH0sIDUwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc2xvY2tlZChncmlkLCB1c2VyKSB7XHJcbiAgICBpZiAoZ3JpZC5sb2NrICYmIHVzZXIubG9ja2VkKSB7XHJcbiAgICAgIGlmIChOdW1iZXIodXNlci5sb2NrZWRieSkgPT09IE51bWJlcih0aGlzLnVzZXJJZCkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXREYXRlRm9ybWF0KHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvbkluZm8pIHtcclxuICAgICAgaWYgKHZhbHVlID09PSAnZGF0ZScpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RyYXRpb25JbmZvWydkYXRldGltZWZvcm1hdCddLnNwbGl0KCcgJylbMF07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uSW5mb1snZGF0ZXRpbWVmb3JtYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiAnTU0vZGQveXl5eSc7XHJcbiAgfVxyXG5cclxuICBpc0VuYWJsZShncmlkLCByZWNvcmQpIHtcclxuICAgIGlmIChncmlkLnZlcnNpb24gJiYgcmVjb3JkLmlzRW5hYmxlKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlTm90aWZpY2F0aW9uVmlldyhyb3dEYXRhKXtcclxuICAgIGNvbnN0IGlucHV0UmVxdWVzdCA9IHtcclxuICAgICAgaXNuZXc6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgY29uc3QgbW9kZWwgPSByb3dEYXRhPy5kYXRhO1xyXG4gICAgdGhpcy5tYWluTm90aWZpY2F0aW9uU2VydmljZS51cGRhdGVOb3RpZmljYXRpb24obW9kZWw/LmlkLCBpbnB1dFJlcXVlc3QpLnN1YnNjcmliZSgoX3JlczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMuc2hhcmVkU2VydmljZS5zZW5kTWVzc2FnZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIjxhcHAtYWxlcnQ+PC9hcHAtYWxlcnQ+XHJcbjxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICA8ZGl2IGNsYXNzPVwiY29sLTEyXCI+XHJcbiAgICA8cCBjbGFzcz1cIm9yZy10aXRsZVwiICpuZ0lmPVwidXNlciAmJiB1c2VyLnJvbGUgJiYgYXV0aC5pc0FkbWluKCkgJiYgdGhpcy5pc1Nob3dcIj5Pcmdhbml6YXRpb24gTmFtZTwvcD5cclxuICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz1cInctMTAwXCIgKm5nSWY9XCJhdXRoLmlzQWRtaW4oKSAmJiB0aGlzLmlzU2hvd1wiIGFwcGVhcmFuY2U9XCJvdXRsaW5lXCI+XHJcbiAgICAgIDxtYXQtc2VsZWN0IHBsYWNlaG9sZGVyPVwiT3JnYW5pemF0aW9uXCIgWyhuZ01vZGVsKV09XCJPcmdhbml6YXRpb25cIiAoc2VsZWN0aW9uQ2hhbmdlKT1cImxvYWRHcmlkKCRldmVudClcIj5cclxuICAgICAgICA8bWF0LW9wdGlvbiB2YWx1ZT1cIlNlbGVjdC1BTExcIj4gU2VsZWN0LUFMTDwvbWF0LW9wdGlvbj5cclxuICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgb3JnIG9mIG9yZ0xpc3RcIiB2YWx1ZT1cInt7IG9yZy5pZCB9fVwiPiB7eyBvcmcub3JnYW5pemF0aW9ubmFtZSB9fTwvbWF0LW9wdGlvbj5cclxuICAgICAgPC9tYXQtc2VsZWN0PlxyXG4gICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcblxyXG48ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgPGRpdiBjbGFzcz1cImNvbC1sZy0xMiBweC0wXCI+XHJcbiAgICA8aDQgY2xhc3M9XCJsYW5kaW5nLXRpdGxlXCI+e3thY3RpdmVwYWdlbmFtZX19PC9oND5cclxuICAgIDxkaXYgY2xhc3M9XCJtYWluLWNhcmQgY2FyZFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcbiAgICAgICAgPGR4LWRhdGEtZ3JpZFxyXG4gICAgICAgICAgaWQ9XCJncmlkQ29udGFpbmVyXCJcclxuICAgICAgICAgIFtkYXRhU291cmNlXT1cImN1c3RvbVN0b3JlXCJcclxuICAgICAgICAgIFthbGxvd0NvbHVtblJlb3JkZXJpbmddPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbYWxsb3dDb2x1bW5SZXNpemluZ109XCJ0cnVlXCJcclxuICAgICAgICAgIFtjb2x1bW5BdXRvV2lkdGhdPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbY29sdW1uTWluV2lkdGhdPVwiMTAwXCJcclxuICAgICAgICAgIFt3aWR0aF09XCInMTAwJSdcIlxyXG4gICAgICAgICAgW2NvbHVtblJlc2l6aW5nTW9kZV09XCInd2lkZ2V0J1wiXHJcbiAgICAgICAgICBbc2hvd0JvcmRlcnNdPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbcm93QWx0ZXJuYXRpb25FbmFibGVkXT1cInRydWVcIlxyXG4gICAgICAgICAgW3Nob3dDb2x1bW5MaW5lc109XCJ0cnVlXCJcclxuICAgICAgICAgIFtzaG93Um93TGluZXNdPVwiZmFsc2VcIlxyXG4gICAgICAgICAgW2ZpbHRlclZhbHVlXT1cImZpbHRlclZhbHVlXCJcclxuICAgICAgICAgIChvblNlbGVjdGlvbkNoYW5nZWQpPVwib25TZWxlY3Rpb25DaGFuZ2VkKCRldmVudClcIlxyXG4gICAgICAgICAgKG9uUm93UHJlcGFyZWQpPVwib25Sb3dQcmVwYXJlZCgkZXZlbnQpXCJcclxuICAgICAgICAgIChvbkNlbGxQcmVwYXJlZCk9XCJvbkNlbGxQcmVwYXJlZCgkZXZlbnQpXCJcclxuICAgICAgICAgIChvbkV4cG9ydGluZyk9XCJvbkV4cG9ydGluZygkZXZlbnQpXCJcclxuICAgICAgICAgIFtyZW1vdGVPcGVyYXRpb25zXT1cInJlbW90ZU9wZXJhdGlvbnMgPT0gZmFsc2UgPyByZW1vdGVPcGVyYXRpb25zIDoge2ZpbHRlcmluZzogdHJ1ZSwgc29ydGluZzogdHJ1ZSwgcGFnaW5nOiB0cnVlfVwiXHJcbiAgICAgICAgICAjZGF0YUdyaWQ+XHJcbiAgICAgICAgICA8ZHhvLWxvYWQtcGFuZWwgW2VuYWJsZWRdPVwiZmFsc2VcIj48L2R4by1sb2FkLXBhbmVsPlxyXG4gICAgICAgICAgPGR4by1leHBvcnQgW2VuYWJsZWRdPVwidHJ1ZVwiIFtmb3JtYXRzXT1cIlsncGRmJywgJ3hsc3gnXVwiPjwvZHhvLWV4cG9ydD5cclxuICAgICAgICAgIDxkeG8tZmlsdGVyLXBhbmVsIFt2aXNpYmxlXT1cImZhbHNlXCI+PC9keG8tZmlsdGVyLXBhbmVsPlxyXG4gICAgICAgICAgPGR4by1jb2x1bW4tY2hvb3NlciAqbmdJZj1cInVwZGF0ZUdyaWQ/LmNob29zZXJcIiBbZW5hYmxlZF09XCJ0cnVlXCIgbW9kZT1cInNlbGVjdFwiPlxyXG4gICAgICAgICAgICA8ZHhvLXBvc2l0aW9uIG15PVwicmlnaHQgdG9wXCIgYXQ9XCJyaWdodCB0b3BcIiBvZj1cIi5keC1kYXRhZ3JpZC1jb2x1bW4tY2hvb3Nlci1idXR0b25cIj5cclxuICAgICAgICAgICAgPC9keG8tcG9zaXRpb24+XHJcbiAgICAgICAgICA8L2R4by1jb2x1bW4tY2hvb3Nlcj5cclxuICAgICAgICAgIDxkeG8tcGFnaW5nIFtwYWdlU2l6ZV09XCIxMFwiPjwvZHhvLXBhZ2luZz5cclxuICAgICAgICAgIDxkeG8tcGFnZXJcclxuICAgICAgICAgICAgW3Zpc2libGVdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgIFthbGxvd2VkUGFnZVNpemVzXT1cIls1LCAxMCwgMTUsIDIwXVwiXHJcbiAgICAgICAgICAgIFtkaXNwbGF5TW9kZV09XCJkaXNwbGF5TW9kZVwiXHJcbiAgICAgICAgICAgIFtzaG93UGFnZVNpemVTZWxlY3Rvcl09XCJ0cnVlXCJcclxuICAgICAgICAgICAgW3Nob3dJbmZvXT1cInRydWVcIlxyXG4gICAgICAgICAgICBbc2hvd05hdmlnYXRpb25CdXR0b25zXT1cInRydWVcIj48L2R4by1wYWdlcj5cclxuICAgICAgICAgIDwhLS1lbmQgcGFnaW5hdGlvbi0tPlxyXG4gICAgICAgICAgPGR4by1maWx0ZXItYnVpbGRlciBbY3VzdG9tT3BlcmF0aW9uc109XCJjdXN0b21PcGVyYXRpb25zXCI+IDwvZHhvLWZpbHRlci1idWlsZGVyPlxyXG4gICAgICAgICAgPGR4by1maWx0ZXItYnVpbGRlci1wb3B1cCBbcG9zaXRpb25dPVwicG9wdXBQb3NpdGlvblwiPiA8L2R4by1maWx0ZXItYnVpbGRlci1wb3B1cD5cclxuICAgICAgICAgIDxkeG8tZmlsdGVyLXJvdyBbdmlzaWJsZV09XCJ0cnVlXCI+PC9keG8tZmlsdGVyLXJvdz5cclxuICAgICAgICAgIDxkeG8taGVhZGVyLWZpbHRlciBbdmlzaWJsZV09XCJ0cnVlXCI+PC9keG8taGVhZGVyLWZpbHRlcj5cclxuICAgICAgICAgIDxkeG8tc2VsZWN0aW9uIG1vZGU9XCJzaW5nbGVcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/LnJvd1NlbGVjdGlvblwiPjwvZHhvLXNlbGVjdGlvbj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4uaGlkZSAhPT0gdHJ1ZVwiPlxyXG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb2x1bW4ubGluazsgZWxzZSBub0xpbmtcIj5cclxuICAgICAgICAgICAgICAgIDxkeGktY29sdW1uICBbZGF0YUZpZWxkXT1cImNvbHVtbi5jb2x1bW5EZWZcIiBbY2FwdGlvbl09XCJjb2x1bW4uaGVhZGVyXCIgW2FsbG93RmlsdGVyaW5nXT1cImNvbHVtbi5maWx0ZXJcIlxyXG4gICAgICAgICAgICAgICAgICBjZWxsVGVtcGxhdGU9XCJjZWxsVGVtcGxhdGVcIj48L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0xpbms+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sdW1uLmljb247IGVsc2Ugbm9JY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkeGktY29sdW1uICAgW2RhdGFGaWVsZF09XCJjb2x1bW4uY29sdW1uRGVmXCIgW2NhcHRpb25dPVwiY29sdW1uLmhlYWRlclwiIFthbGxvd0ZpbHRlcmluZ109XCJjb2x1bW4uZmlsdGVyXCJcclxuICAgICAgICAgICAgICAgICAgICBjZWxsVGVtcGxhdGU9XCJpY29uVGVtcGxhdGVcIj48L2R4aS1jb2x1bW4+XHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9JY29uPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbHVtbi5kYXRlRm9ybWF0OyBlbHNlIG5vRGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiAqbmdJZj1cImNvbHVtbi5kYXRlRm9ybWF0ID09PSAnZGF0ZScgfHwgY29sdW1uLmRhdGVGb3JtYXQgPT09ICdkYXRldGltZSdcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtkYXRhRmllbGRdPVwiY29sdW1uLmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbi5oZWFkZXJcIiBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uLmZpbHRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2RhdGFUeXBlXT1cImNvbHVtbi5kYXRlRm9ybWF0XCIgW2Zvcm1hdF09XCJnZXREYXRlRm9ybWF0KGNvbHVtbi5kYXRlRm9ybWF0KVwiICA+XHJcbiAgICAgICAgICAgICAgICAgIDwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNub0RhdGU+XHJcbiAgICAgICAgICAgICAgICA8ZHhpLWNvbHVtbiAgIFtkYXRhRmllbGRdPVwiY29sdW1uLmNvbHVtbkRlZlwiIFtjYXB0aW9uXT1cImNvbHVtbi5oZWFkZXJcIiBbYWxsb3dGaWx0ZXJpbmddPVwiY29sdW1uLmZpbHRlclwiPlxyXG4gICAgICAgICAgICAgICAgPC9keGktY29sdW1uPlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgdXBkYXRlR3JpZCAmJlxyXG4gICAgICAgICAgICAgICh1cGRhdGVHcmlkPy5leHRlcm5hbExpbmsgfHxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/Lm9wZW5Qb3B1cCB8fFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZWRpdCB8fFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlR3JpZD8uZGVsZXRlIHx8XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5kZWxldGUgfHxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmRvd25sb2FkIHx8XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVHcmlkPy5hY3RpdmF0ZVBhZ2UgfHxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUdyaWQ/LmRlYWN0aXZhdGVQYWdlKVwiPlxyXG4gICAgICAgICAgICA8ZHhpLWNvbHVtbiAgIFt3aWR0aF09XCIxMjBcIiBbYWxsb3dGaWx0ZXJpbmddPVwiZmFsc2VcIiBbYWxsb3dTb3J0aW5nXT1cImZhbHNlXCIgY2FwdGlvbj1cIkFjdGlvblwiXHJcbiAgICAgICAgICAgICAgY2VsbFRlbXBsYXRlPVwiZWRpdENlbGxUZW1wbGF0ZVwiPjwvZHhpLWNvbHVtbj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbi1pY29uc1wiICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2VkaXRDZWxsVGVtcGxhdGUnXCI+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZXh0ZXJuYWxMaW5rXCIgY2xhc3M9XCJuby1iZ1wiIG1hdFRvb2x0aXA9XCJPcGVuXCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJvcGVuTGluayhkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZXh0ZXJuYWwtbGlua1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/Lm9wZW5Qb3B1cFwiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiT3BlblwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib3BlblBvcHVwTGluayhkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtbmV3c3BhcGVyLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5kb3dubG9hZFwiIGNsYXNzPVwibm8tYmdcIiBtYXRUb29sdGlwPVwiRG93bmxvYWRcIlxyXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cImRvd25sb2FkRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZG93bmxvYWRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5lZGl0ICYmIHNob3dWZXJzaW9ucyAmJiAhZC5kYXRhLnB1Ymxpc2hlZFwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cIm5vLWJnIG1yLTJcIiBtYXRUb29sdGlwPVwiRWRpdFwiIChjbGljayk9XCJlZGl0RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+RWRpdDwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZWRpdFJlY29yZFwiIGNsYXNzPVwibm8tYmcgbXItMlwiIG1hdFRvb2x0aXA9XCJFZGl0XCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJlZGl0RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+RWRpdDwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZHVwbGljYXRlICYmICFzaG93VmVyc2lvbnNcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIkNvcHlcIiAoY2xpY2spPVwiZHVwbGljYXRlRGF0ZShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtY29weVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGZpZWxkS2V5PVwiUEFHX0RFU19HUklEX0xJU1RfQ09QWVwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5Db3B5PC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/LmR1cGxpY2F0ZSAmJiBzaG93VmVyc2lvbnNcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIkNvcHkgVmVyc2lvblwiIChjbGljayk9XCJkdXBsaWNhdGVWZXJzaW9uKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1jb3B5XCIgKnNob3dGaWVsZD1cIidQQUdfREVTX0dSSURfTElTVF9WRVJTSU9OJ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzci1vbmx5XCI+Q29weSBWZXJzaW9uPC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cIiFkLmRhdGEucmliYm9uY29uZmlnICYmIHVwZGF0ZUdyaWQ/LnZpZXcgJiYgc2hvd1ZlcnNpb25zXCIgY2xhc3M9XCJuby1iZyBtci0yXCIgbWF0VG9vbHRpcD1cIlZpZXdcIlxyXG4gICAgICAgICAgICAgICAgZmllbGRLZXk9XCJQQUdfREVTX0dSSURfTElTVF9WRVJTSU9OXCIgKGNsaWNrKT1cInZpZXdEYXRhKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1leWVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5WaWV3PC9zcGFuPjwvZW0+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAqbmdJZj1cInVwZGF0ZUdyaWQ/LnZpZXdSZWNvcmRcIiBjbGFzcz1cIm5vLWJnIG1yLTJcIiBtYXRUb29sdGlwPVwiVmlld1wiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwidmlld0RhdGEoZClcIj5cclxuICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWV5ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPlZpZXc8L3NwYW4+PC9lbT5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uZW1haWx2aWV3ICYmIHNob3dWZXJzaW9uc1wiIGNsYXNzPVwibm8tYmcgbXItMlwiXHJcbiAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwiUHJldmlld1wiIChjbGljayk9XCJ2aWV3RGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtZXllXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGU9XCJ2aWV3XCJcclxuICAgICAgICAgICAgICAgICpuZ0lmPVwidXBkYXRlR3JpZD8udmVyc2lvbiAmJiAhc2hvd1ZlcnNpb25zICYmIGlzbG9ja2VkKHVwZGF0ZUdyaWQsIGQuZGF0YSkgJiYgaXNFbmFibGUodXBkYXRlR3JpZCwgZC5kYXRhKVwiIGNsYXNzPVwibm8tYmdcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIlZlcnNpb25zXCIgKGNsaWNrKT1cInZpZXdWZXJzaW9uKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1jb2RlLWZvcmtcIiB0aXRsZT1cIlZpZXdcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCIhZC5kYXRhLmlzRW5hYmxlICYmIHVwZGF0ZUdyaWQ/LmFjdGl2YXRlUGFnZVwiIGNsYXNzPVwibm8tYmcgbWwtMlwiXHJcbiAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwiQWN0aXZhdGVcIiAoY2xpY2spPVwiYWN0aXZhdGVQYWdlcyhkKVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGFjdGl2YXRlXCI+Y2hlY2s8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJkLmRhdGEuaXNFbmFibGUgJiYgdXBkYXRlR3JpZD8uZGVhY3RpdmF0ZVBhZ2VcIiBjbGFzcz1cIm5vLWJnIG1sLTJcIlxyXG4gICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cIkRlYWN0aXZhdGVcIiAoY2xpY2spPVwiZGVhY3RpdmF0ZVBhZ2VzKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgZGVhY3RpdmF0ZVwiPmNsb3NlPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJzaG93VmVyc2lvbnMgJiYgIWQuZGF0YS5pc2FjdGl2ZSAmJiBkLmRhdGEucHVibGlzaGVkXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwibm8tYmcgbXItMlwiIG1hdFRvb2x0aXA9XCJBY3RpdmF0ZVwiIChjbGljayk9XCJhY3RpdmF0ZVBhZ2VWZXJzaW9uKGQpXCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS1jaGVjay1jaXJjbGUtb1wiICpzaG93RmllbGQ9XCInUEFHX0RFU19HUklEX0xJU1RfQUNUSVZBVEUnXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PHNwYW5cclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInNyLW9ubHlcIj5BY3RpdmF0ZTwvc3Bhbj48L2VtPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+Vmlldzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJzaG93VmVyc2lvbnMgJiYgIWQuZGF0YS5pc2FjdGl2ZSAmJiAhZC5kYXRhLnB1Ymxpc2hlZFwiIGNsYXNzPVwibm8tYmcgbXItMlwiXHJcbiAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwiVGhpcyB2ZXJzaW9uIGlzIG5vdCBwdWJsaXNoZWRcIj5cclxuICAgICAgICAgICAgICAgIDxlbSBjbGFzcz1cImZhIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIHRleHQtd2FybmluZ1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5UaGlzIHZlcnNpb24gaXMgbm90IHB1Ymxpc2hlZDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZW0+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNyLW9ubHlcIj5WaWV3PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5sb2NrICYmIGQuZGF0YS5sb2NrZWRcIiAoY2xpY2spPVwiY2hlY2sodXBkYXRlR3JpZCwgZClcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJuby1iZyBtbC0yXCIgbWF0VG9vbHRpcD1cIkxvY2tlZCBCeSAtIHt7IGQ/LmRhdGE/LmxvY2tlZGJ5VXNlcj8uZmlyc3RuYW1lIH19XCI+XHJcbiAgICAgICAgICAgICAgICA8ZW0gKm5nSWY9XCJ1cGRhdGVHcmlkPy5sb2NrICYmIGQuZGF0YS5sb2NrZWRcIiBjbGFzcz1cImZhIGZhLWxvY2tcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy5kZWxldGVcIiBjbGFzcz1cIm5vLWJnXCIgbWF0VG9vbHRpcD1cIkRlbGV0ZVwiXHJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKm5nSWY9XCJ1cGRhdGVHcmlkPy50b2dnbGVcIiBjbGFzcz1cIm5vLWJnXCJcclxuICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cImQuZGF0YS5pc2FjdGl2ZSA9PT0gdHJ1ZSA/ICdEZWFjdGl2YXRlJyA6ICdBY3RpdmF0ZSdcIiAoY2xpY2spPVwiYWN0aXZlVXNlcihkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtICpuZ0lmPVwidXBkYXRlR3JpZD8udG9nZ2xlICYmIGQuZGF0YS5pc2FjdGl2ZSA9PT0gdHJ1ZVwiIGNsYXNzPVwiZmEgZmEtdG9nZ2xlLW9uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LnRvZ2dsZSAmJiBkLmRhdGEuaXNhY3RpdmUgPT09IGZhbHNlXCIgY2xhc3M9XCJmYSBmYS10b2dnbGUtb2ZmXCI+PC9lbT5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwidXBkYXRlR3JpZD8uYWN0aXZlb3JkZWFjdGl2ZVwiIGNsYXNzPVwibm8tYmdcIiAoY2xpY2spPVwiZGVsZXRlRGF0YShkKVwiPlxyXG4gICAgICAgICAgICAgICAgPGVtICpuZ0lmPVwidXBkYXRlR3JpZD8uYWN0aXZlb3JkZWFjdGl2ZSAmJiBkLmRhdGEuYWN0aXZlZmxhZyA9PT0gMVwiIGNsYXNzPVwiZmEgZmEtdG9nZ2xlLW9uXCI+PC9lbT5cclxuICAgICAgICAgICAgICAgIDxlbSAqbmdJZj1cInVwZGF0ZUdyaWQ/LmFjdGl2ZW9yZGVhY3RpdmUgJiYgZC5kYXRhLmFjdGl2ZWZsYWcgPT09IDBcIiBjbGFzcz1cImZhIGZhLXRvZ2dsZS1vZmZcIj48L2VtPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuXHJcbiAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2NlbGxUZW1wbGF0ZSdcIj5cclxuICAgICAgICAgICAgPHNwYW4gaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiICpuZ0lmPVwiZC52YWx1ZSAmJiBkLnZhbHVlICE9PSAnbnVsbCdcIiBjbGFzcz1cImxpbmstZGF0YVwiIChjbGljayk9XCJnZXRSb3V0ZXIoZClcIj57e1xyXG4gICAgICAgICAgICAgIGQudmFsdWUgIT09ICdudWxsJyA/IGQudmFsdWUgOiAnJ1xyXG4gICAgICAgICAgICAgIH19PC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwidXBkYXRlR3JpZC5saW5rVmlzaWJsZVwiPlxyXG4gICAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2NlbGxUZW1wbGF0ZSdcIihjbGljayk9XCJuYXZpZ2F0ZUxpbmsoJGV2ZW50LCBkKVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiZC52YWx1ZSAmJiBkLnZhbHVlICE9PSAnbnVsbCdcIiAjY29udGVudFdyYXBwZXIgW2lubmVySFRNTF09XCJkLnZhbHVlIHwgc2FmZUh0bWxcIj57e1xyXG4gICAgICAgICAgICAgICAgZC52YWx1ZSAhPT0gJ251bGwnID8gZC52YWx1ZSA6ICcnXHJcbiAgICAgICAgICAgICAgfX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8ZGl2ICpkeFRlbXBsYXRlPVwibGV0IGQgb2YgJ2ljb25UZW1wbGF0ZSdcIj5cclxuICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtYm9va1wiIChjbGljayk9XCJwb3B1cChkLnZhbHVlKVwiPjwvZW0+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2R4LWRhdGEtZ3JpZD5cclxuXHJcbiAgICAgICAgPG5nLXRlbXBsYXRlICNjYWxsTmFycmF0aXZlUG9wdXA+XHJcbiAgICAgICAgICA8aDIgbWF0RGlhbG9nVGl0bGU+TmFycmF0aXZlPC9oMj5cclxuICAgICAgICAgIDxkaXYgW2lubmVySFRNTF09XCJuYXJyYXRpdmVEYXRhXCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG1hdC1idXR0b24gKGNsaWNrKT1cImNsb3NlTmFycmF0aXZlUG9wdXAoKVwiIHJvbGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tY2FuY2VsIG1yLTJcIj5DbG9zZTwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+Il19