import { Component, Input } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "../../@core/service/dynamic-tab-page-service";
import * as i2 from "@angular/router";
import * as i3 from "../../@core/service/dynamic-ribbon-data.service";
import * as i4 from "../../@core/service/app.service";
import * as i5 from "@angular/common";
export class DynamicRibbonPageComponent {
    dynamicTabPageService;
    router;
    route;
    data;
    appService;
    tabOrientation;
    dynamicRibbonData;
    ribbonData;
    selectedTabName;
    selectedSubTabIndex;
    settingInfo;
    ribbonConfig;
    headerValues;
    contentValues;
    customValues;
    youthId;
    alertCount = 0;
    riskValue;
    status;
    age;
    youth_pic;
    showJcp;
    oyaWorker;
    constructor(dynamicTabPageService, injector, router, route, data, appService) {
        this.dynamicTabPageService = dynamicTabPageService;
        this.router = router;
        this.route = route;
        this.data = data;
        this.appService = appService;
        this.appService.getValue.subscribe((res) => {
            this.youth_pic = '';
            if (res.key === 'youth_pic') {
                this.youth_pic = res.value;
            }
        });
    }
    ngOnChanges() {
        this.headerValues = [];
        const contentValues = [];
        if (this.ribbonConfig && this.ribbonConfig.length) {
            this.ribbonConfig?.forEach(rb => {
                if (rb.place.indexOf('Header') !== -1) {
                    this.headerValues.push(rb);
                }
                else {
                    if (rb.columnDef.indexOf('_pic') !== -1) {
                        this.headerValues.push(rb);
                    }
                    else {
                        contentValues.push(rb);
                    }
                }
            });
        }
        this.contentValues = [...contentValues];
        const dateOfBirth = this.getRibbonData(this.dynamicRibbonData, { columnDef: 'youth.date_of_birth' });
        if (Array.isArray(this.dynamicRibbonData)) {
            this.dynamicRibbonData?.push({ name: 'age', value: this.calculateAge(dateOfBirth) }, { name: 'active_warrent', value: this.getActiveWarrent(this.dynamicRibbonData['active_warrent']) }, { name: 'alert', value: '' }, { name: 'age', value: '' }, { name: 'status', value: '' });
        }
        else {
            this.dynamicRibbonData = [{ name: 'age', value: this.calculateAge(dateOfBirth) },
                { name: 'active_warrent', value: this.getActiveWarrent(this.dynamicRibbonData['active_warrent']) },
                { name: 'alert', value: '' },
                { name: 'age', value: '' },
                { name: 'status', value: '' }
            ];
        }
    }
    ngOnInit() {
        this.youthId = +window.location.pathname.split('/')[7];
        this.initilizeValue();
    }
    initilizeValue() {
        const youthSummaryJson = {
            "sourcevalue": this.youthId,
            "sourcekey": "youth.youth_id",
            "customMappingFields": [
                "disposition",
                "primary_worker",
                "location",
                "active_victim_indicator",
                "temporary_location",
                "active_warrant_indicator",
                "age",
                "alert",
                "jcp_rna",
                "youth_pic",
                "rna_summary"
            ]
        };
        this.dynamicTabPageService.getYouthSummaryDetails(youthSummaryJson).subscribe((result) => {
            const userRoles = JSON.parse(sessionStorage.getItem('user')).userroles;
            if (result) {
                this.customValues = result?.data;
                const riskLabel = `${result['data']['JCP/RNA_label']}`;
                const riskScore = result['data']['JCP/RNA_score'] ? result['data']['JCP/RNA_score'] : 0;
                this.alertCount = result['data'].alertCount ? result['data'].alertCount : 0;
                this.age = result['data'].age ? result['data'].age : null;
                this.status = result['data'].status ? this.capitalizeFirstLetter(result['data'].status) : null;
                this.youth_pic = result['data'].youth_pic ? result['data'].youth_pic : '';
                this.riskValue = `${riskLabel} Score: ${riskScore}`;
                this.showJcp = result['data'].jcpRolesList.includes(userRoles[0].name);
                this.oyaWorker = result['data'].oyaworker;
                console.log('this.status', this.status);
            }
        });
        // this.dynamicTabPageService.getAlertCount(this.youthId).subscribe(result => {
        //   if (result) {
        //     this.alertCount = result['data'][0].count ? result['data'][0].count : 0;
        //   }
        // });
        // this.dynamicTabPageService.getRiskValue(this.youthId).subscribe(result => {
        //   if (result) {
        //     const riskLabel = `${ result['data'].riskLabel}`;
        //     const riskScore =result['data'].riskScore ? result['data'].riskScore : 0;
        //     this.riskValue = `${riskLabel} Score: ${riskScore}`;
        //   }
        // });
    }
    calculateAge(dateOfBirth) {
        if (!dateOfBirth)
            return '';
        const ageDifMs = Date.now() - new Date(dateOfBirth).getTime();
        const ageDate = new Date(ageDifMs);
        return Math.abs(ageDate.getUTCFullYear() - 1970);
    }
    getActiveWarrent(activeWarrent) {
        if (!activeWarrent)
            return false;
        return true;
    }
    getDateFormat(value, data) {
        if (this.settingInfo) {
            if (value === 'date') {
                return this.settingInfo['datetimeformat'].split(' ')[0];
            }
            else if (data.header.trim().toLowerCase().includes('dob') || data.header.trim().toLowerCase().includes('birth')) {
                return this.settingInfo['datetimeformat'].split(' ')[0];
            }
            return this.settingInfo['datetimeformat'];
        }
        return 'MM/dd/yyyy';
    }
    routePages(data) {
        if (data.link) {
            this.dynamicTabPageService.getDynamicPage(data.link).subscribe(result => {
                if (result) {
                    const pageid = result['data'][0].activeversionid;
                    this.dynamicTabPageService.getActivePage(pageid).subscribe((resu) => {
                        if (resu && resu.data) {
                            const navigateState = {
                                externalLink: true,
                                title: resu.data.pagename
                            };
                            // if (resu.data.pageDetails.pagetype === 'ATPBDM') {
                            //   const dynamicTab = '/pages/dynamicpage/page/modify/' + data.link + '/' + _youthId;
                            //   this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigateState });
                            // }
                            if (resu.data.pageDetails.pagetype === 'ATPBDM') {
                                // const dynamicTab = 'dynamicpage/page/modify/' + data.link + '/' + _youthId;
                                const dynamicTab = 'page/' + data.link;
                                this.data.changePageId(dynamicTab);
                                this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigateState });
                            }
                            // else if (resu.data.pageDetails.pagetype === 'BGP') {
                            //   const dynamicTab = 'dynamic-search/search/' + data.link;
                            //   this.router.navigate([dynamicTab], { relativeTo: this.route, state: navigateState });
                            // }
                        }
                    });
                }
            });
        }
    }
    viewImage(event) {
        event.stopPropagation();
        $('#Deleteuser').modal('show');
    }
    getRibbonData(dynamicRibbonData, column) {
        if (Array.isArray(dynamicRibbonData)) {
            for (const field of dynamicRibbonData) {
                if (column?.businessrules && column.businessrules.colDef === field.name || column.columnDef === field.name) {
                    if (field?.value?.toLowerCase() === 'clsd')
                        return 'Closed';
                    if (field?.value?.toLowerCase() === 'op')
                        return 'Open';
                    if (field?.value?.toLowerCase() === 'open')
                        return 'Open';
                    return field.value;
                }
            }
        }
    }
    capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicRibbonPageComponent, deps: [{ token: i1.DynamicTabPageService }, { token: i0.Injector }, { token: i2.Router }, { token: i2.ActivatedRoute }, { token: i3.DataService }, { token: i4.AppService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: DynamicRibbonPageComponent, selector: "app-dynamic-ribbon-page", inputs: { tabOrientation: "tabOrientation", dynamicRibbonData: "dynamicRibbonData", ribbonData: "ribbonData", selectedTabName: "selectedTabName", selectedSubTabIndex: "selectedSubTabIndex", settingInfo: "settingInfo", ribbonConfig: "ribbonConfig" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"accordion youth-summary-header\" id=\"accordionExample\" *ngIf=\"tabOrientation === 'V'\">\r\n    <div class=\"card\">\r\n        <div class=\"card-header px-0 pb-0\">\r\n            <div class=\"youth-summary-header-group d-flex justify-content-between align-items-end\">\r\n                <div class=\"d-flex align-items-end\">\r\n                    <!-- <ng-container *ngFor=\"let field of ribbonData?.fieldmapping\"> -->\r\n                    <!-- <span class=\"youth-image\" *ngIf=\"field.field.indexOf('_pic') !== -1\">\r\n                            <img [src]=\"getRibbonData( dynamicRibbonData , field) || 'assets/images/user-empty.png'\"\r\n                                alt=\"youth\" id=\"youthImage\" />\r\n                            <em role=\"button\" class=\"fa fa-search-plus\" aria-hidden=\"true\" title=\"Zoom Image\"\r\n                                id=\"zoomImage\" (click)=\"viewImage($event)\"></em>\r\n                        </span> -->\r\n                    <!-- <span class=\"youthImageZoomed\" *ngIf=\"field.field.indexOf('_pic') !== -1\">\r\n                            <img [src]=\"dynamicRibbonData && dynamicRibbonData[field.field] || 'assets/images/user-empty.png'\"\r\n                                alt=\"youth\" />\r\n                        </span> -->\r\n                    <!-- </ng-container> -->\r\n                    <ng-container *ngFor=\"let field of ribbonConfig\">\r\n                        <span class=\"youth-name ml-4 mb-2 font-weight-bold\"\r\n                            *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_name') !== -1\">\r\n                            <!-- {{ dynamicRibbonData && dynamicRibbonData[field.columnDef] }} dd -->\r\n                            {{ getRibbonData( dynamicRibbonData , field)}}\r\n                        </span>\r\n                        <span class=\"youth-image\" *ngIf=\"field.columnDef.indexOf('_pic') !== -1\">\r\n                            <img [src]=\"youth_pic || 'assets/images/no-photo.png'\"\r\n                                alt=\"youth\" id=\"youthImage\" style=\"height: 55px;\" />\r\n                            <em role=\"button\" class=\"fa fa-search-plus\" aria-hidden=\"true\" title=\"Zoom Image\"\r\n                                id=\"zoomImage\" (click)=\"viewImage($event)\"></em>\r\n                            <div class=\"modal imageZoom\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n                                <div class=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\">Youth Image</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <img  [src]=\"youth_pic || 'assets/images/user-empty.png'\" alt=\"youth\"\r\n                                                id=\"youthImage\" />\r\n                                            <div class=\"clearfix\"></div>\r\n                                            <div class=\"mt-2\">\r\n                                                <button class=\"pull-right btn bg-white text-primary btncancel\"\r\n                                                    data-dismiss=\"modal\">\r\n                                                    Close\r\n                                                </button>\r\n                                            </div>\r\n\r\n                                            <div class=\"clearfix\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </span>\r\n                    </ng-container>\r\n                </div>\r\n                <div>\r\n                    <ul class=\"pl-0 d-flex mb-0\">\r\n                        <li class=\"mr-4 mb-2 youthSummaryInfo\" *ngFor=\"let field of headerValues\">\r\n                            <ng-container\r\n                                *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_pic') === -1 && field.columnDef.indexOf('_name') === -1\">\r\n                                <label class=\"mr-1 mb-md-0 font-weight-normal\"\r\n                                    *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_pic') === -1 && field.columnDef.indexOf('_name') === -1\">{{\r\n                                    field.header }}</label>\r\n                                <span\r\n                                    *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('alert') === -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{ getRibbonData(\r\n                                        dynamicRibbonData , field) }}</a>\r\n                                </span>\r\n                                <span\r\n                                    *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_pic') === -1 && field.columnDef.indexOf('_name') === -1 && (field.datatype === 'date' || field.datatype === 'datetime')\">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{ getRibbonData(\r\n                                        dynamicRibbonData , field) | date : getDateFormat(field.datatype, field) }}</a>\r\n                                </span>\r\n                                <span class=\"youth-alert\"\r\n                                    *ngIf=\"field.columnDef.indexOf('alert') !== -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') && customValues\">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{customValues['alert']}}</a>\r\n                                </span>\r\n                                <span\r\n                                    *ngIf=\"field.columnDef.indexOf('age') !== -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{age}}</a>\r\n                                </span>\r\n                                <span class=\"text-transform\"\r\n                                    *ngIf=\"field.columnDef.indexOf('status') !== -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{status}}</a>\r\n                                </span>\r\n                            </ng-container>\r\n                        </li>\r\n\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <span class=\"accicon\" role=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\"\r\n                aria-expanded=\"false\"><i class=\"fas fa-angle-down rotate-icon\"></i></span>\r\n        </div>\r\n        <div id=\"collapseOne\" class=\"collapse\" data-parent=\"#accordionExample\">\r\n            <div class=\"card-body p-2\">\r\n                <div class=\"row mb-0\">\r\n                    <ng-container *ngFor=\"let field of contentValues\">\r\n                        <div class=\"mb-1 cell-data youthSummaryInfo\"  [ngClass]=\"field?.styleclass ? field.styleclass : 'col-md-3'\" \r\n                        *ngIf=\"field.place !== 'Hide' \r\n                        && (field.header !== 'JCP Risk Level' && field.header !== 'RNA Summary Document' || ((field.header === 'JCP Risk Level' && !oyaWorker) \r\n                        || (field.header === 'RNA Summary Document' && oyaWorker)))\r\n                        && (field.header !== 'OYA Requested Rights' && field.header !== 'County Requested Rights' || ((field.header === 'OYA Requested Rights' && oyaWorker) \r\n                        || (field.header === 'County Requested Rights' && !oyaWorker)))\">\r\n                            <div class=\"group-values py-2 pl-2\" *ngIf=\"field.columnDef.indexOf('_pic') === -1 \">\r\n                                <label class=\"mr-1 mb-md-0 d-block text-transform\"\r\n                                    *ngIf=\"field.columnDef.indexOf('_pic') === -1\">{{ field.header }}</label>\r\n                                <span role=\"button\"\r\n                                    *ngIf=\"field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') && !field.isCustom \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{ getRibbonData(\r\n                                        dynamicRibbonData , field) }}</a>\r\n                                </span>\r\n                                <span role=\"button\"\r\n                                    *ngIf=\"field.columnDef.indexOf('_pic') === -1 && (field.datatype === 'date' || field.datatype === 'datetime') && !field.isCustom\">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{getRibbonData(\r\n                                        dynamicRibbonData , field) | date : getDateFormat('date', field) }}</a>\r\n                                </span>\r\n                                <span class=\"yn-infor-details text-transform\"  title=\"{{ customValues[field?.columnDef]}}\" data-original-title=\"{{customValues[field?.columnDef]}}\" role=\"button\" *ngIf=\"field.columnDef.indexOf('_pic') === -1 && field.isCustom && customValues\">\r\n                                    {{customValues[field?.columnDef]}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n", styles: [".nav-item button{width:100%}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{background:var(--primary)}.left-menu-card ul{background:var(--bg-light)}.youth-submenu{border-radius:3px}.youth-submenu li:first-child button{border-top-left-radius:3px;border-top-right-radius:3px}.youth-submenu li:last-child button{border-bottom-left-radius:3px;border-bottom-right-radius:3px}.youth-submenu li button{border-radius:0}.youth-submenu li button span.material-icons{width:0;padding-right:30px}.ribbon{background-color:var(--btn);display:inline-block;margin-bottom:5px;margin-top:0;padding:.5rem 15px;position:relative;right:15px;text-align:center;min-width:200px;color:#fff;box-shadow:4px 4px 15px #1a237e33;height:36px}.ribbon:before{background-color:var(--btn);content:\"\";display:block;height:100%;position:absolute;top:7.5px;width:15px}.ribbon:before{left:0;transform:skewy(45deg)}.ribbon:after{content:\"\";position:absolute;top:5px;width:35px;clip-path:polygon(0 0,100% 12px,100% 100%,50% calc(100% - 6px),0 calc(100% - 12px));right:-18px;background-color:#0084d1;height:25px;transform:rotate(-90deg);box-shadow:4px 4px 15px #1a237e33}:host ::ng-deep .p-tabmenu-nav li a .material-icons{padding-right:10px}:host ::ng-deep .p-tabmenu-nav li a .lable-name{font-size:var(--font-14)}.ribbon-img{display:flex;align-items:center;justify-content:center;height:100%}.bg-white{background-color:#fff}.ribbon-info{padding:12px}.ribbon-info table{width:100%}.ribbon-info table th{font-weight:400!important}.ribbon-info table td{padding:5px 0 0}#sidebar{background-color:var(--bg-light);z-index:3}#sidebar .sidebar-search input{padding-right:40px}#sidebar .sidebar-search .close-btn{position:absolute;top:6px;right:5px;opacity:.5;font-size:21px}#sidebar .list-group .list-group-item[aria-expanded=false]:after{font-family:Material Icons,monospace;content:\"\\e5cf\";display:block;position:absolute;left:auto;right:15px;width:17px;height:24px;top:50%;transform:translateY(-50%);font-size:var(--font-17)}#sidebar .list-group .list-group-item[aria-expanded=true]:after{font-family:Material Icons,monospace;content:\"\\e5ce\";display:block;position:absolute;left:auto;right:15px;width:17px;height:24px;top:50%;transform:translateY(-50%);font-size:var(--font-17)}#sidebar .list-group .list-group-item.level1{font-weight:600}#sidebar .list-group .list-group-item.level1.active{background:transparent;color:#0d3178}#sidebar .list-group .list-group-item .menu-name,#sidebar .list-group .list-group-item .submenu-name{width:calc(100% - 15px)}#sidebar .list-group .list-group-item .youth-icon{width:24px}#sidebar .list-group .list-group-item.active{background:var(--menu-highlight);border-radius:0}#sidebar .list-group .collapse{transition:transform .2s ease-out;padding-left:20px}#sidebar .list-group .collapse .list-group-item{padding-left:20px}#sidebar .list-group .collapse .list-group-item.active{font-weight:600;color:#0d3178}#sidebar .list-group .collapse .collapse{transition:transform .2s ease-out;padding-left:20px}#sidebar .list-group .collapse .collapse .list-group-item{padding-left:20px}#sidebar .list-group .collapse .collapse .list-group-item.active{font-weight:600;color:#0d3178}#sidebar .list-group .collapse.show{transition:transform .2s ease-out}#sidebar .list-group .collapse.show .list-group-item:before{content:\"\";display:inline-block;border-left:2px solid #e3e3e3;border-radius:5px;position:absolute;width:2px;height:100%;left:0;top:0}#sidebar .list-group .collapse.show .list-group-item.active:before,#sidebar .list-group .collapse.show .list-group-item:hover:before{border-left:3.5px solid var(--menu-highlight);border-radius:5px}#sidebar .list-group .collapse.show .list-group-item.active{background:transparent;color:#0d3178}@media screen and (min-width: 991px){#sidebar{overflow:hidden;height:calc(100vh - 120px)}#sidebar .sidebar-menu{overflow:auto;max-height:calc(100% - 50px)}}@media screen and (min-width: 768px) and (max-width: 990px){#sidebar{overflow:hidden;height:calc(100vh - 145px)}#sidebar .sidebar-menu{overflow:auto;max-height:100%}}@media screen and (max-width: 767px){#sidebar .sidebar-menu{overflow:auto;max-height:425px}}.youth-summary-header{margin-bottom:15px}.youth-summary-header .card{border:none;overflow:visible}.youth-summary-header .card-header{position:relative;background:#fff;border-bottom:4px solid #54bae0;margin-bottom:0}.youth-summary-header .card-header .accicon{cursor:pointer;position:absolute;bottom:-12px;right:32px;background:#fff;padding:0 5px;border:1px solid;border-radius:100%;line-height:normal}.accicon[aria-expanded=true]{transform:rotate(180deg)}.youth-summary-header .card-header .youth-summary-header-group{width:calc(100% - 40px)}@media screen and (max-width: 860px){.youth-summary-header .card-header .youth-summary-header-group{width:100%;display:block!important}}.youth-summary-header .card-header .youth-summary-header-group .youth-image{width:55px;height:55px;position:relative}.youth-summary-header .card-header .youth-summary-header-group .youthImageZoomed{display:none}.youth-summary-header .card-header .youth-summary-header-group .youthImageZoomed.show{display:block;position:absolute;left:0;top:0}.youth-summary-header .card-header .youth-summary-header-group .youth-image img{max-width:100%}.youth-summary-header .card-header .youth-summary-header-group .youth-image em{position:absolute;bottom:0;left:40px;color:var(--primary)}.youth-summary-header .card .card-header .youth-summary-header-group .youth-name{font-size:15px}.youth-summary-header .collapse .card-body .cell-data .group-values{border-left:3px solid #54bae0;background:#f7fcff;border-radius:3px;min-height:50px}@media screen and (max-width: 520px){ul{display:block!important}}ul li{list-style:none}ul li:empty{display:none}@media screen and (max-width: 520px){ul li{padding:5px;margin:0!important}}.youth-alert{display:inline-flex}.youth-alert a{background-color:#c64b07;color:#fff;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:20px;font-weight:400}.youthSummaryInfo{padding-left:10px;padding-right:5px}.youthSummaryInfo label{font-weight:400!important;color:#1e2126;font-size:14px;line-height:normal}@media screen and (max-width: 520px){.youthSummaryInfo label{margin-bottom:0}}.youthSummaryInfo span a{color:var(--text-dark);font-weight:600;font-size:14px}.yn-infor-details{font-weight:600;font-size:14px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:94%;display:block;color:var(--text-dark)}.text-transform{text-transform:capitalize}@media (min-width: 768px) and (max-width: 860px){.youthSummaryInfo.col-md-2{flex:0 0 50%;max-width:50%}}@media (min-width: 768px) and (max-width: 1024px){.dynamic-page .col-md-3,.dynamic-page .col-md-4{flex:0 0 50%;max-width:50%}}\n"], dependencies: [{ kind: "directive", type: i5.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i5.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i5.DatePipe, name: "date" }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DynamicRibbonPageComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-dynamic-ribbon-page', template: "<div class=\"accordion youth-summary-header\" id=\"accordionExample\" *ngIf=\"tabOrientation === 'V'\">\r\n    <div class=\"card\">\r\n        <div class=\"card-header px-0 pb-0\">\r\n            <div class=\"youth-summary-header-group d-flex justify-content-between align-items-end\">\r\n                <div class=\"d-flex align-items-end\">\r\n                    <!-- <ng-container *ngFor=\"let field of ribbonData?.fieldmapping\"> -->\r\n                    <!-- <span class=\"youth-image\" *ngIf=\"field.field.indexOf('_pic') !== -1\">\r\n                            <img [src]=\"getRibbonData( dynamicRibbonData , field) || 'assets/images/user-empty.png'\"\r\n                                alt=\"youth\" id=\"youthImage\" />\r\n                            <em role=\"button\" class=\"fa fa-search-plus\" aria-hidden=\"true\" title=\"Zoom Image\"\r\n                                id=\"zoomImage\" (click)=\"viewImage($event)\"></em>\r\n                        </span> -->\r\n                    <!-- <span class=\"youthImageZoomed\" *ngIf=\"field.field.indexOf('_pic') !== -1\">\r\n                            <img [src]=\"dynamicRibbonData && dynamicRibbonData[field.field] || 'assets/images/user-empty.png'\"\r\n                                alt=\"youth\" />\r\n                        </span> -->\r\n                    <!-- </ng-container> -->\r\n                    <ng-container *ngFor=\"let field of ribbonConfig\">\r\n                        <span class=\"youth-name ml-4 mb-2 font-weight-bold\"\r\n                            *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_name') !== -1\">\r\n                            <!-- {{ dynamicRibbonData && dynamicRibbonData[field.columnDef] }} dd -->\r\n                            {{ getRibbonData( dynamicRibbonData , field)}}\r\n                        </span>\r\n                        <span class=\"youth-image\" *ngIf=\"field.columnDef.indexOf('_pic') !== -1\">\r\n                            <img [src]=\"youth_pic || 'assets/images/no-photo.png'\"\r\n                                alt=\"youth\" id=\"youthImage\" style=\"height: 55px;\" />\r\n                            <em role=\"button\" class=\"fa fa-search-plus\" aria-hidden=\"true\" title=\"Zoom Image\"\r\n                                id=\"zoomImage\" (click)=\"viewImage($event)\"></em>\r\n                            <div class=\"modal imageZoom\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n                                <div class=\"modal-dialog\" role=\"document\">\r\n                                    <div class=\"modal-content\">\r\n                                        <div class=\"modal-header\">\r\n                                            <h5 class=\"modal-title\">Youth Image</h5>\r\n                                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div class=\"modal-body\">\r\n                                            <img  [src]=\"youth_pic || 'assets/images/user-empty.png'\" alt=\"youth\"\r\n                                                id=\"youthImage\" />\r\n                                            <div class=\"clearfix\"></div>\r\n                                            <div class=\"mt-2\">\r\n                                                <button class=\"pull-right btn bg-white text-primary btncancel\"\r\n                                                    data-dismiss=\"modal\">\r\n                                                    Close\r\n                                                </button>\r\n                                            </div>\r\n\r\n                                            <div class=\"clearfix\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </span>\r\n                    </ng-container>\r\n                </div>\r\n                <div>\r\n                    <ul class=\"pl-0 d-flex mb-0\">\r\n                        <li class=\"mr-4 mb-2 youthSummaryInfo\" *ngFor=\"let field of headerValues\">\r\n                            <ng-container\r\n                                *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_pic') === -1 && field.columnDef.indexOf('_name') === -1\">\r\n                                <label class=\"mr-1 mb-md-0 font-weight-normal\"\r\n                                    *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_pic') === -1 && field.columnDef.indexOf('_name') === -1\">{{\r\n                                    field.header }}</label>\r\n                                <span\r\n                                    *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('alert') === -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{ getRibbonData(\r\n                                        dynamicRibbonData , field) }}</a>\r\n                                </span>\r\n                                <span\r\n                                    *ngIf=\"field.place !== 'Hide' && field.columnDef.indexOf('_pic') === -1 && field.columnDef.indexOf('_name') === -1 && (field.datatype === 'date' || field.datatype === 'datetime')\">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{ getRibbonData(\r\n                                        dynamicRibbonData , field) | date : getDateFormat(field.datatype, field) }}</a>\r\n                                </span>\r\n                                <span class=\"youth-alert\"\r\n                                    *ngIf=\"field.columnDef.indexOf('alert') !== -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') && customValues\">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{customValues['alert']}}</a>\r\n                                </span>\r\n                                <span\r\n                                    *ngIf=\"field.columnDef.indexOf('age') !== -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{age}}</a>\r\n                                </span>\r\n                                <span class=\"text-transform\"\r\n                                    *ngIf=\"field.columnDef.indexOf('status') !== -1 && field.columnDef.indexOf('_name') === -1 && field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{status}}</a>\r\n                                </span>\r\n                            </ng-container>\r\n                        </li>\r\n\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <span class=\"accicon\" role=\"button\" data-toggle=\"collapse\" data-target=\"#collapseOne\"\r\n                aria-expanded=\"false\"><i class=\"fas fa-angle-down rotate-icon\"></i></span>\r\n        </div>\r\n        <div id=\"collapseOne\" class=\"collapse\" data-parent=\"#accordionExample\">\r\n            <div class=\"card-body p-2\">\r\n                <div class=\"row mb-0\">\r\n                    <ng-container *ngFor=\"let field of contentValues\">\r\n                        <div class=\"mb-1 cell-data youthSummaryInfo\"  [ngClass]=\"field?.styleclass ? field.styleclass : 'col-md-3'\" \r\n                        *ngIf=\"field.place !== 'Hide' \r\n                        && (field.header !== 'JCP Risk Level' && field.header !== 'RNA Summary Document' || ((field.header === 'JCP Risk Level' && !oyaWorker) \r\n                        || (field.header === 'RNA Summary Document' && oyaWorker)))\r\n                        && (field.header !== 'OYA Requested Rights' && field.header !== 'County Requested Rights' || ((field.header === 'OYA Requested Rights' && oyaWorker) \r\n                        || (field.header === 'County Requested Rights' && !oyaWorker)))\">\r\n                            <div class=\"group-values py-2 pl-2\" *ngIf=\"field.columnDef.indexOf('_pic') === -1 \">\r\n                                <label class=\"mr-1 mb-md-0 d-block text-transform\"\r\n                                    *ngIf=\"field.columnDef.indexOf('_pic') === -1\">{{ field.header }}</label>\r\n                                <span role=\"button\"\r\n                                    *ngIf=\"field.columnDef.indexOf('_pic') === -1 && (field.datatype !== 'date' && field.datatype !== 'datetime') && !field.isCustom \">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{ getRibbonData(\r\n                                        dynamicRibbonData , field) }}</a>\r\n                                </span>\r\n                                <span role=\"button\"\r\n                                    *ngIf=\"field.columnDef.indexOf('_pic') === -1 && (field.datatype === 'date' || field.datatype === 'datetime') && !field.isCustom\">\r\n                                    <a href=\"javascript:void(0)\" (click)=\"routePages(field)\">{{getRibbonData(\r\n                                        dynamicRibbonData , field) | date : getDateFormat('date', field) }}</a>\r\n                                </span>\r\n                                <span class=\"yn-infor-details text-transform\"  title=\"{{ customValues[field?.columnDef]}}\" data-original-title=\"{{customValues[field?.columnDef]}}\" role=\"button\" *ngIf=\"field.columnDef.indexOf('_pic') === -1 && field.isCustom && customValues\">\r\n                                    {{customValues[field?.columnDef]}}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n", styles: [".nav-item button{width:100%}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{background:var(--primary)}.left-menu-card ul{background:var(--bg-light)}.youth-submenu{border-radius:3px}.youth-submenu li:first-child button{border-top-left-radius:3px;border-top-right-radius:3px}.youth-submenu li:last-child button{border-bottom-left-radius:3px;border-bottom-right-radius:3px}.youth-submenu li button{border-radius:0}.youth-submenu li button span.material-icons{width:0;padding-right:30px}.ribbon{background-color:var(--btn);display:inline-block;margin-bottom:5px;margin-top:0;padding:.5rem 15px;position:relative;right:15px;text-align:center;min-width:200px;color:#fff;box-shadow:4px 4px 15px #1a237e33;height:36px}.ribbon:before{background-color:var(--btn);content:\"\";display:block;height:100%;position:absolute;top:7.5px;width:15px}.ribbon:before{left:0;transform:skewy(45deg)}.ribbon:after{content:\"\";position:absolute;top:5px;width:35px;clip-path:polygon(0 0,100% 12px,100% 100%,50% calc(100% - 6px),0 calc(100% - 12px));right:-18px;background-color:#0084d1;height:25px;transform:rotate(-90deg);box-shadow:4px 4px 15px #1a237e33}:host ::ng-deep .p-tabmenu-nav li a .material-icons{padding-right:10px}:host ::ng-deep .p-tabmenu-nav li a .lable-name{font-size:var(--font-14)}.ribbon-img{display:flex;align-items:center;justify-content:center;height:100%}.bg-white{background-color:#fff}.ribbon-info{padding:12px}.ribbon-info table{width:100%}.ribbon-info table th{font-weight:400!important}.ribbon-info table td{padding:5px 0 0}#sidebar{background-color:var(--bg-light);z-index:3}#sidebar .sidebar-search input{padding-right:40px}#sidebar .sidebar-search .close-btn{position:absolute;top:6px;right:5px;opacity:.5;font-size:21px}#sidebar .list-group .list-group-item[aria-expanded=false]:after{font-family:Material Icons,monospace;content:\"\\e5cf\";display:block;position:absolute;left:auto;right:15px;width:17px;height:24px;top:50%;transform:translateY(-50%);font-size:var(--font-17)}#sidebar .list-group .list-group-item[aria-expanded=true]:after{font-family:Material Icons,monospace;content:\"\\e5ce\";display:block;position:absolute;left:auto;right:15px;width:17px;height:24px;top:50%;transform:translateY(-50%);font-size:var(--font-17)}#sidebar .list-group .list-group-item.level1{font-weight:600}#sidebar .list-group .list-group-item.level1.active{background:transparent;color:#0d3178}#sidebar .list-group .list-group-item .menu-name,#sidebar .list-group .list-group-item .submenu-name{width:calc(100% - 15px)}#sidebar .list-group .list-group-item .youth-icon{width:24px}#sidebar .list-group .list-group-item.active{background:var(--menu-highlight);border-radius:0}#sidebar .list-group .collapse{transition:transform .2s ease-out;padding-left:20px}#sidebar .list-group .collapse .list-group-item{padding-left:20px}#sidebar .list-group .collapse .list-group-item.active{font-weight:600;color:#0d3178}#sidebar .list-group .collapse .collapse{transition:transform .2s ease-out;padding-left:20px}#sidebar .list-group .collapse .collapse .list-group-item{padding-left:20px}#sidebar .list-group .collapse .collapse .list-group-item.active{font-weight:600;color:#0d3178}#sidebar .list-group .collapse.show{transition:transform .2s ease-out}#sidebar .list-group .collapse.show .list-group-item:before{content:\"\";display:inline-block;border-left:2px solid #e3e3e3;border-radius:5px;position:absolute;width:2px;height:100%;left:0;top:0}#sidebar .list-group .collapse.show .list-group-item.active:before,#sidebar .list-group .collapse.show .list-group-item:hover:before{border-left:3.5px solid var(--menu-highlight);border-radius:5px}#sidebar .list-group .collapse.show .list-group-item.active{background:transparent;color:#0d3178}@media screen and (min-width: 991px){#sidebar{overflow:hidden;height:calc(100vh - 120px)}#sidebar .sidebar-menu{overflow:auto;max-height:calc(100% - 50px)}}@media screen and (min-width: 768px) and (max-width: 990px){#sidebar{overflow:hidden;height:calc(100vh - 145px)}#sidebar .sidebar-menu{overflow:auto;max-height:100%}}@media screen and (max-width: 767px){#sidebar .sidebar-menu{overflow:auto;max-height:425px}}.youth-summary-header{margin-bottom:15px}.youth-summary-header .card{border:none;overflow:visible}.youth-summary-header .card-header{position:relative;background:#fff;border-bottom:4px solid #54bae0;margin-bottom:0}.youth-summary-header .card-header .accicon{cursor:pointer;position:absolute;bottom:-12px;right:32px;background:#fff;padding:0 5px;border:1px solid;border-radius:100%;line-height:normal}.accicon[aria-expanded=true]{transform:rotate(180deg)}.youth-summary-header .card-header .youth-summary-header-group{width:calc(100% - 40px)}@media screen and (max-width: 860px){.youth-summary-header .card-header .youth-summary-header-group{width:100%;display:block!important}}.youth-summary-header .card-header .youth-summary-header-group .youth-image{width:55px;height:55px;position:relative}.youth-summary-header .card-header .youth-summary-header-group .youthImageZoomed{display:none}.youth-summary-header .card-header .youth-summary-header-group .youthImageZoomed.show{display:block;position:absolute;left:0;top:0}.youth-summary-header .card-header .youth-summary-header-group .youth-image img{max-width:100%}.youth-summary-header .card-header .youth-summary-header-group .youth-image em{position:absolute;bottom:0;left:40px;color:var(--primary)}.youth-summary-header .card .card-header .youth-summary-header-group .youth-name{font-size:15px}.youth-summary-header .collapse .card-body .cell-data .group-values{border-left:3px solid #54bae0;background:#f7fcff;border-radius:3px;min-height:50px}@media screen and (max-width: 520px){ul{display:block!important}}ul li{list-style:none}ul li:empty{display:none}@media screen and (max-width: 520px){ul li{padding:5px;margin:0!important}}.youth-alert{display:inline-flex}.youth-alert a{background-color:#c64b07;color:#fff;width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:20px;font-weight:400}.youthSummaryInfo{padding-left:10px;padding-right:5px}.youthSummaryInfo label{font-weight:400!important;color:#1e2126;font-size:14px;line-height:normal}@media screen and (max-width: 520px){.youthSummaryInfo label{margin-bottom:0}}.youthSummaryInfo span a{color:var(--text-dark);font-weight:600;font-size:14px}.yn-infor-details{font-weight:600;font-size:14px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:94%;display:block;color:var(--text-dark)}.text-transform{text-transform:capitalize}@media (min-width: 768px) and (max-width: 860px){.youthSummaryInfo.col-md-2{flex:0 0 50%;max-width:50%}}@media (min-width: 768px) and (max-width: 1024px){.dynamic-page .col-md-3,.dynamic-page .col-md-4{flex:0 0 50%;max-width:50%}}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.DynamicTabPageService }, { type: i0.Injector }, { type: i2.Router }, { type: i2.ActivatedRoute }, { type: i3.DataService }, { type: i4.AppService }]; }, propDecorators: { tabOrientation: [{
                type: Input
            }], dynamicRibbonData: [{
                type: Input
            }], ribbonData: [{
                type: Input
            }], selectedTabName: [{
                type: Input
            }], selectedSubTabIndex: [{
                type: Input
            }], settingInfo: [{
                type: Input
            }], ribbonConfig: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy1yaWJib24tcGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9waWNzLWNvcmUvZHluYW1pYy9zcmMvbGliL3BpY3MtZHluYW1pYy9keW5hbWljLXJpYmJvbi9keW5hbWljLXJpYmJvbi1wYWdlL2R5bmFtaWMtcmliYm9uLXBhZ2UuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL2R5bmFtaWMvc3JjL2xpYi9waWNzLWR5bmFtaWMvZHluYW1pYy1yaWJib24vZHluYW1pYy1yaWJib24tcGFnZS9keW5hbWljLXJpYmJvbi1wYWdlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVksS0FBSyxFQUFxQixNQUFNLGVBQWUsQ0FBQzs7Ozs7OztBQVk5RSxNQUFNLE9BQU8sMEJBQTBCO0lBb0JqQjtJQUNWO0lBQ0E7SUFBK0I7SUFBMkI7SUFyQjNELGNBQWMsQ0FBTTtJQUNwQixpQkFBaUIsQ0FBTTtJQUN2QixVQUFVLENBQU07SUFDaEIsZUFBZSxDQUFNO0lBQ3JCLG1CQUFtQixDQUFNO0lBQ3pCLFdBQVcsQ0FBTTtJQUNqQixZQUFZLENBQU07SUFDM0IsWUFBWSxDQUFNO0lBQ2xCLGFBQWEsQ0FBUTtJQUNyQixZQUFZLENBQU07SUFDbEIsT0FBTyxDQUFTO0lBQ2hCLFVBQVUsR0FBVyxDQUFDLENBQUM7SUFDdkIsU0FBUyxDQUFTO0lBQ2xCLE1BQU0sQ0FBTTtJQUNaLEdBQUcsQ0FBTTtJQUNULFNBQVMsQ0FBTTtJQUNmLE9BQU8sQ0FBVTtJQUNqQixTQUFTLENBQVU7SUFFbkIsWUFBb0IscUJBQTRDLEVBQUUsUUFBa0IsRUFDMUUsTUFBYyxFQUNkLEtBQXFCLEVBQVUsSUFBaUIsRUFBVSxVQUFzQjtRQUZ0RSwwQkFBcUIsR0FBckIscUJBQXFC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QUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDMUUsQ0FBQzt3R0F4TVksMEJBQTBCOzRGQUExQiwwQkFBMEIsOFVDWnZDLG03VUFpSUE7OzRGRHJIYSwwQkFBMEI7a0JBTHRDLFNBQVM7K0JBQ0UseUJBQXlCO3dPQUsxQixjQUFjO3NCQUF0QixLQUFLO2dCQUNHLGlCQUFpQjtzQkFBekIsS0FBSztnQkFDRyxVQUFVO3NCQUFsQixLQUFLO2dCQUNHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBQ0csbUJBQW1CO3NCQUEzQixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csWUFBWTtzQkFBcEIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0b3IsIElucHV0LCBPbkNoYW5nZXMsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcclxuaW1wb3J0IHsgRHluYW1pY1RhYlBhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vQGNvcmUvc2VydmljZS9keW5hbWljLXRhYi1wYWdlLXNlcnZpY2UnO1xyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuLi8uLi9AY29yZS9zZXJ2aWNlL2R5bmFtaWMtcmliYm9uLWRhdGEuc2VydmljZSc7XHJcbmltcG9ydCB7IEFwcFNlcnZpY2UgfSBmcm9tICcuLi8uLi9AY29yZS9zZXJ2aWNlL2FwcC5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnYXBwLWR5bmFtaWMtcmliYm9uLXBhZ2UnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9keW5hbWljLXJpYmJvbi1wYWdlLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9keW5hbWljLXJpYmJvbi1wYWdlLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIER5bmFtaWNSaWJib25QYWdlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xyXG4gIEBJbnB1dCgpIHRhYk9yaWVudGF0aW9uOiBhbnk7XHJcbiAgQElucHV0KCkgZHluYW1pY1JpYmJvbkRhdGE6IGFueTtcclxuICBASW5wdXQoKSByaWJib25EYXRhOiBhbnk7XHJcbiAgQElucHV0KCkgc2VsZWN0ZWRUYWJOYW1lOiBhbnk7XHJcbiAgQElucHV0KCkgc2VsZWN0ZWRTdWJUYWJJbmRleDogYW55O1xyXG4gIEBJbnB1dCgpIHNldHRpbmdJbmZvOiBhbnk7XHJcbiAgQElucHV0KCkgcmliYm9uQ29uZmlnOiBhbnk7XHJcbiAgaGVhZGVyVmFsdWVzOiBhbnk7XHJcbiAgY29udGVudFZhbHVlczogYW55W107XHJcbiAgY3VzdG9tVmFsdWVzOiBhbnk7XHJcbiAgeW91dGhJZDogbnVtYmVyO1xyXG4gIGFsZXJ0Q291bnQ6IG51bWJlciA9IDA7XHJcbiAgcmlza1ZhbHVlOiBzdHJpbmc7XHJcbiAgc3RhdHVzOiBhbnk7XHJcbiAgYWdlOiBhbnk7XHJcbiAgeW91dGhfcGljOiBhbnk7XHJcbiAgc2hvd0pjcDogYm9vbGVhbjtcclxuICBveWFXb3JrZXI6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZHluYW1pY1RhYlBhZ2VTZXJ2aWNlOiBEeW5hbWljVGFiUGFnZVNlcnZpY2UsIGluamVjdG9yOiBJbmplY3RvcixcclxuICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXHJcbiAgICBwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSwgcHJpdmF0ZSBkYXRhOiBEYXRhU2VydmljZSwgcHJpdmF0ZSBhcHBTZXJ2aWNlOiBBcHBTZXJ2aWNlKSB7IFxyXG4gICAgICB0aGlzLmFwcFNlcnZpY2UuZ2V0VmFsdWUuc3Vic2NyaWJlKChyZXMpID0+IHtcclxuICAgICAgICB0aGlzLnlvdXRoX3BpYyA9ICcnO1xyXG4gICAgICAgIGlmIChyZXMua2V5ID09PSAneW91dGhfcGljJykge1xyXG4gICAgICAgICAgdGhpcy55b3V0aF9waWMgPSAgcmVzLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgfSlcclxuICAgICB9XHJcbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XHJcblxyXG5cclxuICAgIHRoaXMuaGVhZGVyVmFsdWVzID0gW107XHJcbiAgICBjb25zdCBjb250ZW50VmFsdWVzID0gW107XHJcbiAgICBpZiAodGhpcy5yaWJib25Db25maWcgJiYgdGhpcy5yaWJib25Db25maWcubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMucmliYm9uQ29uZmlnPy5mb3JFYWNoKHJiID0+IHtcclxuICAgICAgICBpZiAocmIucGxhY2UuaW5kZXhPZignSGVhZGVyJykgIT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLmhlYWRlclZhbHVlcy5wdXNoKHJiKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAocmIuY29sdW1uRGVmLmluZGV4T2YoJ19waWMnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkZXJWYWx1ZXMucHVzaChyYilcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRWYWx1ZXMucHVzaChyYik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnRlbnRWYWx1ZXMgPSBbLi4uY29udGVudFZhbHVlc107XHJcblxyXG4gICAgY29uc3QgZGF0ZU9mQmlydGggPSB0aGlzLmdldFJpYmJvbkRhdGEodGhpcy5keW5hbWljUmliYm9uRGF0YSwgeyBjb2x1bW5EZWY6ICd5b3V0aC5kYXRlX29mX2JpcnRoJyB9KTtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZHluYW1pY1JpYmJvbkRhdGEpKSB7XHJcbiAgICAgIHRoaXMuZHluYW1pY1JpYmJvbkRhdGE/LnB1c2goeyBuYW1lOiAnYWdlJywgdmFsdWU6IHRoaXMuY2FsY3VsYXRlQWdlKGRhdGVPZkJpcnRoKSB9LFxyXG4gICAgICB7IG5hbWU6ICdhY3RpdmVfd2FycmVudCcsIHZhbHVlOiB0aGlzLmdldEFjdGl2ZVdhcnJlbnQodGhpcy5keW5hbWljUmliYm9uRGF0YVsnYWN0aXZlX3dhcnJlbnQnXSkgfSxcclxuICAgICAgeyBuYW1lOiAnYWxlcnQnLCB2YWx1ZTogJycgfSxcclxuICAgICAgeyBuYW1lOiAnYWdlJywgdmFsdWU6ICcnIH0sXHJcbiAgICAgIHsgbmFtZTogJ3N0YXR1cycsIHZhbHVlOiAnJyB9KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgdGhpcy5keW5hbWljUmliYm9uRGF0YSA9IFt7IG5hbWU6ICdhZ2UnLCB2YWx1ZTogdGhpcy5jYWxjdWxhdGVBZ2UoZGF0ZU9mQmlydGgpIH0sXHJcbiAgICAgIHsgbmFtZTogJ2FjdGl2ZV93YXJyZW50JywgdmFsdWU6IHRoaXMuZ2V0QWN0aXZlV2FycmVudCh0aGlzLmR5bmFtaWNSaWJib25EYXRhWydhY3RpdmVfd2FycmVudCddKSB9LFxyXG4gICAgICB7IG5hbWU6ICdhbGVydCcsIHZhbHVlOiAnJyB9LFxyXG4gICAgICB7IG5hbWU6ICdhZ2UnLCB2YWx1ZTogJycgfSxcclxuICAgICAgeyBuYW1lOiAnc3RhdHVzJywgdmFsdWU6ICcnIH1cclxuICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy55b3V0aElkID0gK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpWzddXHJcbiAgICB0aGlzLmluaXRpbGl6ZVZhbHVlKCk7XHJcblxyXG4gIH1cclxuXHJcbiAgaW5pdGlsaXplVmFsdWUoKSB7XHJcbiAgICBjb25zdCB5b3V0aFN1bW1hcnlKc29uID0ge1xyXG4gICAgICBcInNvdXJjZXZhbHVlXCI6IHRoaXMueW91dGhJZCxcclxuICAgICAgXCJzb3VyY2VrZXlcIjogXCJ5b3V0aC55b3V0aF9pZFwiLFxyXG4gICAgICBcImN1c3RvbU1hcHBpbmdGaWVsZHNcIjogW1xyXG4gICAgICAgIFwiZGlzcG9zaXRpb25cIixcclxuICAgICAgICBcInByaW1hcnlfd29ya2VyXCIsXHJcbiAgICAgICAgXCJsb2NhdGlvblwiLFxyXG4gICAgICAgIFwiYWN0aXZlX3ZpY3RpbV9pbmRpY2F0b3JcIixcclxuICAgICAgICBcInRlbXBvcmFyeV9sb2NhdGlvblwiLFxyXG4gICAgICAgIFwiYWN0aXZlX3dhcnJhbnRfaW5kaWNhdG9yXCIsXHJcbiAgICAgICAgXCJhZ2VcIixcclxuICAgICAgICBcImFsZXJ0XCIsXHJcbiAgICAgICAgXCJqY3Bfcm5hXCIsXHJcbiAgICAgICAgXCJ5b3V0aF9waWNcIixcclxuICAgICAgICBcInJuYV9zdW1tYXJ5XCJcclxuICAgICAgXVxyXG4gICAgfVxyXG4gICAgdGhpcy5keW5hbWljVGFiUGFnZVNlcnZpY2UuZ2V0WW91dGhTdW1tYXJ5RGV0YWlscyh5b3V0aFN1bW1hcnlKc29uKS5zdWJzY3JpYmUoKHJlc3VsdDphbnkpID0+IHtcclxuICAgICAgY29uc3QgdXNlclJvbGVzID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpLnVzZXJyb2xlcztcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tVmFsdWVzID0gcmVzdWx0Py5kYXRhO1xyXG4gICAgICAgIGNvbnN0IHJpc2tMYWJlbCA9IGAke3Jlc3VsdFsnZGF0YSddWydKQ1AvUk5BX2xhYmVsJ119YDtcclxuICAgICAgICBjb25zdCByaXNrU2NvcmUgPSByZXN1bHRbJ2RhdGEnXVsnSkNQL1JOQV9zY29yZSddID8gcmVzdWx0WydkYXRhJ11bJ0pDUC9STkFfc2NvcmUnXSA6IDA7XHJcbiAgICAgICAgdGhpcy5hbGVydENvdW50ID0gcmVzdWx0WydkYXRhJ10uYWxlcnRDb3VudCA/IHJlc3VsdFsnZGF0YSddLmFsZXJ0Q291bnQgOiAwO1xyXG4gICAgICAgIHRoaXMuYWdlID0gcmVzdWx0WydkYXRhJ10uYWdlID8gcmVzdWx0WydkYXRhJ10uYWdlIDogbnVsbDtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IHJlc3VsdFsnZGF0YSddLnN0YXR1cyA/IHRoaXMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHJlc3VsdFsnZGF0YSddLnN0YXR1cykgOiBudWxsO1xyXG4gICAgICAgIHRoaXMueW91dGhfcGljID0gcmVzdWx0WydkYXRhJ10ueW91dGhfcGljID8gcmVzdWx0WydkYXRhJ10ueW91dGhfcGljIDogJyc7XHJcbiAgICAgICAgdGhpcy5yaXNrVmFsdWUgPSBgJHtyaXNrTGFiZWx9IFNjb3JlOiAke3Jpc2tTY29yZX1gO1xyXG4gICAgICAgIHRoaXMuc2hvd0pjcCA9IHJlc3VsdFsnZGF0YSddLmpjcFJvbGVzTGlzdC5pbmNsdWRlcyh1c2VyUm9sZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgdGhpcy5veWFXb3JrZXIgPSByZXN1bHRbJ2RhdGEnXS5veWF3b3JrZXI7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuc3RhdHVzJyx0aGlzLnN0YXR1cylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIHRoaXMuZHluYW1pY1RhYlBhZ2VTZXJ2aWNlLmdldEFsZXJ0Q291bnQodGhpcy55b3V0aElkKS5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgIC8vICAgaWYgKHJlc3VsdCkge1xyXG4gICAgLy8gICAgIHRoaXMuYWxlcnRDb3VudCA9IHJlc3VsdFsnZGF0YSddWzBdLmNvdW50ID8gcmVzdWx0WydkYXRhJ11bMF0uY291bnQgOiAwO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KTtcclxuICAgIC8vIHRoaXMuZHluYW1pY1RhYlBhZ2VTZXJ2aWNlLmdldFJpc2tWYWx1ZSh0aGlzLnlvdXRoSWQpLnN1YnNjcmliZShyZXN1bHQgPT4ge1xyXG4gICAgLy8gICBpZiAocmVzdWx0KSB7XHJcbiAgICAvLyAgICAgY29uc3Qgcmlza0xhYmVsID0gYCR7IHJlc3VsdFsnZGF0YSddLnJpc2tMYWJlbH1gO1xyXG4gICAgLy8gICAgIGNvbnN0IHJpc2tTY29yZSA9cmVzdWx0WydkYXRhJ10ucmlza1Njb3JlID8gcmVzdWx0WydkYXRhJ10ucmlza1Njb3JlIDogMDtcclxuICAgIC8vICAgICB0aGlzLnJpc2tWYWx1ZSA9IGAke3Jpc2tMYWJlbH0gU2NvcmU6ICR7cmlza1Njb3JlfWA7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgY2FsY3VsYXRlQWdlKGRhdGVPZkJpcnRoKSB7XHJcbiAgICBpZiAoIWRhdGVPZkJpcnRoKSByZXR1cm4gJyc7XHJcbiAgICBjb25zdCBhZ2VEaWZNcyA9IERhdGUubm93KCkgLSBuZXcgRGF0ZShkYXRlT2ZCaXJ0aCkuZ2V0VGltZSgpO1xyXG4gICAgY29uc3QgYWdlRGF0ZSA9IG5ldyBEYXRlKGFnZURpZk1zKTtcclxuICAgIHJldHVybiBNYXRoLmFicyhhZ2VEYXRlLmdldFVUQ0Z1bGxZZWFyKCkgLSAxOTcwKTtcclxuICB9XHJcblxyXG4gIGdldEFjdGl2ZVdhcnJlbnQoYWN0aXZlV2FycmVudCkge1xyXG4gICAgaWYgKCFhY3RpdmVXYXJyZW50KSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgZ2V0RGF0ZUZvcm1hdCh2YWx1ZTogYW55LCBkYXRhKSB7XHJcbiAgICBpZiAodGhpcy5zZXR0aW5nSW5mbykge1xyXG4gICAgICBpZiAodmFsdWUgPT09ICdkYXRlJykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdJbmZvWydkYXRldGltZWZvcm1hdCddLnNwbGl0KCcgJylbMF07XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5oZWFkZXIudHJpbSgpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2RvYicpIHx8IGRhdGEuaGVhZGVyLnRyaW0oKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdiaXJ0aCcpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ0luZm9bJ2RhdGV0aW1lZm9ybWF0J10uc3BsaXQoJyAnKVswXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5zZXR0aW5nSW5mb1snZGF0ZXRpbWVmb3JtYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiAnTU0vZGQveXl5eSc7XHJcbiAgfVxyXG5cclxuICByb3V0ZVBhZ2VzKGRhdGEpIHtcclxuICAgIGlmIChkYXRhLmxpbmspIHtcclxuICAgICAgdGhpcy5keW5hbWljVGFiUGFnZVNlcnZpY2UuZ2V0RHluYW1pY1BhZ2UoZGF0YS5saW5rKS5zdWJzY3JpYmUocmVzdWx0ID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICBjb25zdCBwYWdlaWQgPSByZXN1bHRbJ2RhdGEnXVswXS5hY3RpdmV2ZXJzaW9uaWQ7XHJcbiAgICAgICAgICB0aGlzLmR5bmFtaWNUYWJQYWdlU2VydmljZS5nZXRBY3RpdmVQYWdlKHBhZ2VpZCkuc3Vic2NyaWJlKChyZXN1OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3UgJiYgcmVzdS5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGVTdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgIGV4dGVybmFsTGluazogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiByZXN1LmRhdGEucGFnZW5hbWVcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIC8vIGlmIChyZXN1LmRhdGEucGFnZURldGFpbHMucGFnZXR5cGUgPT09ICdBVFBCRE0nKSB7XHJcbiAgICAgICAgICAgICAgLy8gICBjb25zdCBkeW5hbWljVGFiID0gJy9wYWdlcy9keW5hbWljcGFnZS9wYWdlL21vZGlmeS8nICsgZGF0YS5saW5rICsgJy8nICsgX3lvdXRoSWQ7XHJcbiAgICAgICAgICAgICAgLy8gICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbZHluYW1pY1RhYl0sIHsgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSwgc3RhdGU6IG5hdmlnYXRlU3RhdGUgfSk7XHJcbiAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgIGlmIChyZXN1LmRhdGEucGFnZURldGFpbHMucGFnZXR5cGUgPT09ICdBVFBCRE0nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBkeW5hbWljVGFiID0gJ2R5bmFtaWNwYWdlL3BhZ2UvbW9kaWZ5LycgKyBkYXRhLmxpbmsgKyAnLycgKyBfeW91dGhJZDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNUYWIgPSAncGFnZS8nICsgZGF0YS5saW5rO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNoYW5nZVBhZ2VJZChkeW5hbWljVGFiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2R5bmFtaWNUYWJdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAvLyBlbHNlIGlmIChyZXN1LmRhdGEucGFnZURldGFpbHMucGFnZXR5cGUgPT09ICdCR1AnKSB7XHJcbiAgICAgICAgICAgICAgLy8gICBjb25zdCBkeW5hbWljVGFiID0gJ2R5bmFtaWMtc2VhcmNoL3NlYXJjaC8nICsgZGF0YS5saW5rO1xyXG4gICAgICAgICAgICAgIC8vICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW2R5bmFtaWNUYWJdLCB7IHJlbGF0aXZlVG86IHRoaXMucm91dGUsIHN0YXRlOiBuYXZpZ2F0ZVN0YXRlIH0pO1xyXG4gICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB2aWV3SW1hZ2UoZXZlbnQpIHtcclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UmliYm9uRGF0YShkeW5hbWljUmliYm9uRGF0YTogYW55LCBjb2x1bW46IGFueSkge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZHluYW1pY1JpYmJvbkRhdGEpKSB7XHJcbiAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZHluYW1pY1JpYmJvbkRhdGEpIHtcclxuICAgICAgICBpZiAoY29sdW1uPy5idXNpbmVzc3J1bGVzICYmIGNvbHVtbi5idXNpbmVzc3J1bGVzLmNvbERlZiA9PT0gZmllbGQubmFtZSB8fCBjb2x1bW4uY29sdW1uRGVmID09PSBmaWVsZC5uYW1lKSB7XHJcbiAgICAgICAgICBpZihmaWVsZD8udmFsdWU/LnRvTG93ZXJDYXNlKCkgPT09ICdjbHNkJykgcmV0dXJuICdDbG9zZWQnO1xyXG4gICAgICAgICAgaWYoZmllbGQ/LnZhbHVlPy50b0xvd2VyQ2FzZSgpID09PSAnb3AnKSAgcmV0dXJuICdPcGVuJztcclxuICAgICAgICAgIGlmKGZpZWxkPy52YWx1ZT8udG9Mb3dlckNhc2UoKSA9PT0gJ29wZW4nKSAgcmV0dXJuICdPcGVuJztcclxuICAgICAgICAgIHJldHVybiBmaWVsZC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNhcGl0YWxpemVGaXJzdExldHRlcihzdHJpbmcpIHtcclxuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxufSIsIjxkaXYgY2xhc3M9XCJhY2NvcmRpb24geW91dGgtc3VtbWFyeS1oZWFkZXJcIiBpZD1cImFjY29yZGlvbkV4YW1wbGVcIiAqbmdJZj1cInRhYk9yaWVudGF0aW9uID09PSAnVidcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaGVhZGVyIHB4LTAgcGItMFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwieW91dGgtc3VtbWFyeS1oZWFkZXItZ3JvdXAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1lbmRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGZpZWxkIG9mIHJpYmJvbkRhdGE/LmZpZWxkbWFwcGluZ1wiPiAtLT5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tIDxzcGFuIGNsYXNzPVwieW91dGgtaW1hZ2VcIiAqbmdJZj1cImZpZWxkLmZpZWxkLmluZGV4T2YoJ19waWMnKSAhPT0gLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgW3NyY109XCJnZXRSaWJib25EYXRhKCBkeW5hbWljUmliYm9uRGF0YSAsIGZpZWxkKSB8fCAnYXNzZXRzL2ltYWdlcy91c2VyLWVtcHR5LnBuZydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cInlvdXRoXCIgaWQ9XCJ5b3V0aEltYWdlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSByb2xlPVwiYnV0dG9uXCIgY2xhc3M9XCJmYSBmYS1zZWFyY2gtcGx1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiWm9vbSBJbWFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ6b29tSW1hZ2VcIiAoY2xpY2spPVwidmlld0ltYWdlKCRldmVudClcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gPHNwYW4gY2xhc3M9XCJ5b3V0aEltYWdlWm9vbWVkXCIgKm5nSWY9XCJmaWVsZC5maWVsZC5pbmRleE9mKCdfcGljJykgIT09IC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIFtzcmNdPVwiZHluYW1pY1JpYmJvbkRhdGEgJiYgZHluYW1pY1JpYmJvbkRhdGFbZmllbGQuZmllbGRdIHx8ICdhc3NldHMvaW1hZ2VzL3VzZXItZW1wdHkucG5nJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwieW91dGhcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS0gPC9uZy1jb250YWluZXI+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGZpZWxkIG9mIHJpYmJvbkNvbmZpZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInlvdXRoLW5hbWUgbWwtNCBtYi0yIGZvbnQtd2VpZ2h0LWJvbGRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJmaWVsZC5wbGFjZSAhPT0gJ0hpZGUnICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfbmFtZScpICE9PSAtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSB7eyBkeW5hbWljUmliYm9uRGF0YSAmJiBkeW5hbWljUmliYm9uRGF0YVtmaWVsZC5jb2x1bW5EZWZdIH19IGRkIC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZ2V0UmliYm9uRGF0YSggZHluYW1pY1JpYmJvbkRhdGEgLCBmaWVsZCl9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwieW91dGgtaW1hZ2VcIiAqbmdJZj1cImZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfcGljJykgIT09IC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIFtzcmNdPVwieW91dGhfcGljIHx8ICdhc3NldHMvaW1hZ2VzL25vLXBob3RvLnBuZydcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cInlvdXRoXCIgaWQ9XCJ5b3V0aEltYWdlXCIgc3R5bGU9XCJoZWlnaHQ6IDU1cHg7XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbSByb2xlPVwiYnV0dG9uXCIgY2xhc3M9XCJmYSBmYS1zZWFyY2gtcGx1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiWm9vbSBJbWFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ6b29tSW1hZ2VcIiAoY2xpY2spPVwidmlld0ltYWdlKCRldmVudClcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsIGltYWdlWm9vbVwiIGlkPVwiRGVsZXRldXNlclwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+WW91dGggSW1hZ2U8L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgIFtzcmNdPVwieW91dGhfcGljIHx8ICdhc3NldHMvaW1hZ2VzL3VzZXItZW1wdHkucG5nJ1wiIGFsdD1cInlvdXRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ5b3V0aEltYWdlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xvc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJwbC0wIGQtZmxleCBtYi0wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm1yLTQgbWItMiB5b3V0aFN1bW1hcnlJbmZvXCIgKm5nRm9yPVwibGV0IGZpZWxkIG9mIGhlYWRlclZhbHVlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZmllbGQucGxhY2UgIT09ICdIaWRlJyAmJiBmaWVsZC5jb2x1bW5EZWYuaW5kZXhPZignX3BpYycpID09PSAtMSAmJiBmaWVsZC5jb2x1bW5EZWYuaW5kZXhPZignX25hbWUnKSA9PT0gLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJtci0xIG1iLW1kLTAgZm9udC13ZWlnaHQtbm9ybWFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJmaWVsZC5wbGFjZSAhPT0gJ0hpZGUnICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfcGljJykgPT09IC0xICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfbmFtZScpID09PSAtMVwiPnt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmhlYWRlciB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJmaWVsZC5wbGFjZSAhPT0gJ0hpZGUnICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdhbGVydCcpID09PSAtMSAmJiBmaWVsZC5jb2x1bW5EZWYuaW5kZXhPZignX25hbWUnKSA9PT0gLTEgJiYgZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ19waWMnKSA9PT0gLTEgJiYgKGZpZWxkLmRhdGF0eXBlICE9PSAnZGF0ZScgJiYgZmllbGQuZGF0YXR5cGUgIT09ICdkYXRldGltZScpIFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKGNsaWNrKT1cInJvdXRlUGFnZXMoZmllbGQpXCI+e3sgZ2V0UmliYm9uRGF0YShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNSaWJib25EYXRhICwgZmllbGQpIH19PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZpZWxkLnBsYWNlICE9PSAnSGlkZScgJiYgZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ19waWMnKSA9PT0gLTEgJiYgZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ19uYW1lJykgPT09IC0xICYmIChmaWVsZC5kYXRhdHlwZSA9PT0gJ2RhdGUnIHx8IGZpZWxkLmRhdGF0eXBlID09PSAnZGF0ZXRpbWUnKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgKGNsaWNrKT1cInJvdXRlUGFnZXMoZmllbGQpXCI+e3sgZ2V0UmliYm9uRGF0YShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNSaWJib25EYXRhICwgZmllbGQpIHwgZGF0ZSA6IGdldERhdGVGb3JtYXQoZmllbGQuZGF0YXR5cGUsIGZpZWxkKSB9fTwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ5b3V0aC1hbGVydFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ2FsZXJ0JykgIT09IC0xICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfbmFtZScpID09PSAtMSAmJiBmaWVsZC5jb2x1bW5EZWYuaW5kZXhPZignX3BpYycpID09PSAtMSAmJiAoZmllbGQuZGF0YXR5cGUgIT09ICdkYXRlJyAmJiBmaWVsZC5kYXRhdHlwZSAhPT0gJ2RhdGV0aW1lJykgJiYgY3VzdG9tVmFsdWVzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAoY2xpY2spPVwicm91dGVQYWdlcyhmaWVsZClcIj57e2N1c3RvbVZhbHVlc1snYWxlcnQnXX19PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdhZ2UnKSAhPT0gLTEgJiYgZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ19uYW1lJykgPT09IC0xICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfcGljJykgPT09IC0xICYmIChmaWVsZC5kYXRhdHlwZSAhPT0gJ2RhdGUnICYmIGZpZWxkLmRhdGF0eXBlICE9PSAnZGF0ZXRpbWUnKSBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIChjbGljayk9XCJyb3V0ZVBhZ2VzKGZpZWxkKVwiPnt7YWdlfX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC10cmFuc2Zvcm1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdzdGF0dXMnKSAhPT0gLTEgJiYgZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ19uYW1lJykgPT09IC0xICYmIGZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfcGljJykgPT09IC0xICYmIChmaWVsZC5kYXRhdHlwZSAhPT0gJ2RhdGUnICYmIGZpZWxkLmRhdGF0eXBlICE9PSAnZGF0ZXRpbWUnKSBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIChjbGljayk9XCJyb3V0ZVBhZ2VzKGZpZWxkKVwiPnt7c3RhdHVzfX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWNjaWNvblwiIHJvbGU9XCJidXR0b25cIiBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS10YXJnZXQ9XCIjY29sbGFwc2VPbmVcIlxyXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+PGkgY2xhc3M9XCJmYXMgZmEtYW5nbGUtZG93biByb3RhdGUtaWNvblwiPjwvaT48L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cImNvbGxhcHNlT25lXCIgY2xhc3M9XCJjb2xsYXBzZVwiIGRhdGEtcGFyZW50PVwiI2FjY29yZGlvbkV4YW1wbGVcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keSBwLTJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbWItMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGZpZWxkIG9mIGNvbnRlbnRWYWx1ZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTEgY2VsbC1kYXRhIHlvdXRoU3VtbWFyeUluZm9cIiAgW25nQ2xhc3NdPVwiZmllbGQ/LnN0eWxlY2xhc3MgPyBmaWVsZC5zdHlsZWNsYXNzIDogJ2NvbC1tZC0zJ1wiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZpZWxkLnBsYWNlICE9PSAnSGlkZScgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIChmaWVsZC5oZWFkZXIgIT09ICdKQ1AgUmlzayBMZXZlbCcgJiYgZmllbGQuaGVhZGVyICE9PSAnUk5BIFN1bW1hcnkgRG9jdW1lbnQnIHx8ICgoZmllbGQuaGVhZGVyID09PSAnSkNQIFJpc2sgTGV2ZWwnICYmICFveWFXb3JrZXIpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoZmllbGQuaGVhZGVyID09PSAnUk5BIFN1bW1hcnkgRG9jdW1lbnQnICYmIG95YVdvcmtlcikpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAoZmllbGQuaGVhZGVyICE9PSAnT1lBIFJlcXVlc3RlZCBSaWdodHMnICYmIGZpZWxkLmhlYWRlciAhPT0gJ0NvdW50eSBSZXF1ZXN0ZWQgUmlnaHRzJyB8fCAoKGZpZWxkLmhlYWRlciA9PT0gJ09ZQSBSZXF1ZXN0ZWQgUmlnaHRzJyAmJiBveWFXb3JrZXIpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoZmllbGQuaGVhZGVyID09PSAnQ291bnR5IFJlcXVlc3RlZCBSaWdodHMnICYmICFveWFXb3JrZXIpKSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cC12YWx1ZXMgcHktMiBwbC0yXCIgKm5nSWY9XCJmaWVsZC5jb2x1bW5EZWYuaW5kZXhPZignX3BpYycpID09PSAtMSBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJtci0xIG1iLW1kLTAgZC1ibG9jayB0ZXh0LXRyYW5zZm9ybVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiZmllbGQuY29sdW1uRGVmLmluZGV4T2YoJ19waWMnKSA9PT0gLTFcIj57eyBmaWVsZC5oZWFkZXIgfX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHJvbGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfcGljJykgPT09IC0xICYmIChmaWVsZC5kYXRhdHlwZSAhPT0gJ2RhdGUnICYmIGZpZWxkLmRhdGF0eXBlICE9PSAnZGF0ZXRpbWUnKSAmJiAhZmllbGQuaXNDdXN0b20gXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMClcIiAoY2xpY2spPVwicm91dGVQYWdlcyhmaWVsZClcIj57eyBnZXRSaWJib25EYXRhKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHluYW1pY1JpYmJvbkRhdGEgLCBmaWVsZCkgfX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHJvbGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cImZpZWxkLmNvbHVtbkRlZi5pbmRleE9mKCdfcGljJykgPT09IC0xICYmIChmaWVsZC5kYXRhdHlwZSA9PT0gJ2RhdGUnIHx8IGZpZWxkLmRhdGF0eXBlID09PSAnZGF0ZXRpbWUnKSAmJiAhZmllbGQuaXNDdXN0b21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIChjbGljayk9XCJyb3V0ZVBhZ2VzKGZpZWxkKVwiPnt7Z2V0UmliYm9uRGF0YShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNSaWJib25EYXRhICwgZmllbGQpIHwgZGF0ZSA6IGdldERhdGVGb3JtYXQoJ2RhdGUnLCBmaWVsZCkgfX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwieW4taW5mb3ItZGV0YWlscyB0ZXh0LXRyYW5zZm9ybVwiICB0aXRsZT1cInt7IGN1c3RvbVZhbHVlc1tmaWVsZD8uY29sdW1uRGVmXX19XCIgZGF0YS1vcmlnaW5hbC10aXRsZT1cInt7Y3VzdG9tVmFsdWVzW2ZpZWxkPy5jb2x1bW5EZWZdfX1cIiByb2xlPVwiYnV0dG9uXCIgKm5nSWY9XCJmaWVsZC5jb2x1bW5EZWYuaW5kZXhPZignX3BpYycpID09PSAtMSAmJiBmaWVsZC5pc0N1c3RvbSAmJiBjdXN0b21WYWx1ZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3tjdXN0b21WYWx1ZXNbZmllbGQ/LmNvbHVtbkRlZl19fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19